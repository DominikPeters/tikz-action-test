<!DOCTYPE html>
<html lang="en-US"><!--TikZ/PGF documentation:
Copyright 2019 by Till Tantau

This file may be distributed and/or modified

1. under the LaTeX Project Public License and/or
2. under the GNU Free Documentation License.

See https://tikz.dev/license for more details.

Translated to HTML using the lwarp package:
Copyright 2016-2024 Brian Dunn - BD Tech Concepts LLC

tikz.dev:
Copyright 2021-2024 Dominik Peters
This file may be distributed and/or modified under the LaTeX Project Public License.--><head>
<meta charset="utf-8">
<meta content="LaTeX Lwarp package" name="generator">
<meta content="width=device-width, initial-scale=1.0" name="viewport">
<title>Hierarchical Structures: Package, Environments, Scopes, and Text - PGF/TikZ Manual</title>
<link href="style.css?v=20240317" rel="stylesheet" type="text/css">



<script async id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"></script>

<script src="pgfmanual.js?v=20240317">
</script>

<script type="application/ld+json">{
    "@context": "https://schema.org",
    "@type": "BreadcrumbList",
    "itemListElement": [
        {
            "@type": "ListItem",
            "position": 1,
            "name": "The Basic Layer",
            "item": "https://tikz.dev/base"
        },
        {
            "@type": "ListItem",
            "position": 2,
            "name": "Hierarchical Structures: Package, Environments, Scopes, and Text",
            "item": "https://tikz.dev/base-scopes"
        }
    ]
}</script><script async src="lwarp-mathjax-emulation.js"></script><link href="https://cdn.jsdelivr.net/npm/@docsearch/css@3" rel="stylesheet"><link href="/favicon-16x16.png" rel="icon" sizes="16x16" type="image/png"><link href="/favicon-32x32.png" rel="icon" sizes="32x32" type="image/png"><link href="/apple-touch-icon.png" rel="apple-touch-icon" sizes="180x180" type="image/png"><link href="/site.webmanifest" rel="manifest"><link href="https://tikz.dev/base-scopes" rel="canonical"><meta content="https://tikz.dev/base-scopes" property="og:url"><meta content="article" property="og:type"><meta content="Hierarchical Structures: Package, Environments, Scopes, and Text - PGF/TikZ Manual" property="og:title"><meta content="summary" name="twitter:card"></head>
<body>


<a id="pgfmanual-autopage-7853"></a>




<div class="bodyandsidetoc grid-container"><header><div id="hamburger-button">â˜°</div><strong><a href="/">PGF/<span class="tikzname">TikZ</span> Manual</a></strong><div id="search"></div></header><div class="sidetoccontainer" id="local-toc-container"><nav class="sidetoc"><div class="sidetoctitle"><p>On this page</p></div><div class="sidetoccontents"><p><a class="tocsubsection" href="#sec-100.1">Overview</a></p><p><a class="tocsubsubsection" href="#sec-100.1.1">The Hierarchical Structure of the Package</a></p><p><a class="tocsubsubsection" href="#sec-100.1.2">The Hierarchical Structure of Graphics</a></p><p><a class="tocsubsection" href="#sec-100.2">The Hierarchical Structure of the Package</a></p><p><a class="tocsubsubsection" href="#sec-100.2.1">The Core Package</a></p><p><a class="tocsubsubsection" href="#sec-100.2.2">The Modules</a></p><p><a class="tocsubsubsection" href="#sec-100.2.3">The Library Packages</a></p><p><a class="tocsubsection" href="#sec-100.3">The Hierarchical Structure of the Graphics</a></p><p><a class="tocsubsubsection" href="#sec-100.3.1">The Main Environment</a></p><p><a class="tocsubsubsection" href="#sec-100.3.2">Graphic Scope Environments</a></p><p><a class="tocsubsubsection" href="#sec-100.3.3">Inserting Text and Images</a></p><p><a class="tocsubsection" href="#sec-100.4">Object Identifiers</a></p><p><a class="tocsubsubsection" href="#sec-100.4.1">Commands for Creating Graphic Objects</a></p><p><a class="tocsubsubsection" href="#sec-100.4.2">Settings and Querying Identifiers</a></p><p><a class="tocsubsection" href="#sec-100.5">Resource Description Framework Annotations (RDFa)</a></p><p><a class="tocsubsection" href="#sec-100.6">Error Messages and Warnings</a></p></div></nav></div>
<div class="sidetoccontainer" id="chapter-toc-container">



<nav class="sidetoc">



<div class="sidetoctitle">

<p>
<span class="sidetocthetitle">The <span class="tikzname">TikZ</span> and PGF Packages<br>
Manual for version 3.1.10</span>
</p>

<p>
Contents
</p>
</div>



<div class="sidetoccontents">

<p>

</p>

<p>
<a class="linkintro" href="/">Introduction</a>
</p>


<p>
<a class="tocpart" href="tutorials-guidelines">Tutorials and Guidelines</a>
</p>




















<p>
<a class="tocpart" href="install">Installation and Configuration</a>
</p>











<p>
<a class="tocpart" href="tikz">Ti<em>k</em>Z</a>
</p>


















































<p>
<a class="tocpart" href="gd">Graph Drawing</a>
</p>









































<p>
<a class="tocpart" href="libraries">Libraries</a>
</p>























































































































<p>
<a class="tocpart" href="dv">Data Visualization</a>
</p>


























<p>
<a class="tocpart" href="utilities">Utilities</a>
</p>




















<p>
<a class="tocpart" href="math">Mathematical and Object-Oriented Engines</a>
</p>




















<p class="current-part">
<a class="tocpart" href="base">The Basic Layer</a>
</p>


<p class="current-part">
<a class="tocsection" href="base-design">Design Principles</a>
</p>


<p class="current current-part">
<a class="tocsection" href="base-scopes">Hierarchical Structures: Package, Environments, Scopes, and Text</a>
</p>


<p class="current-part">
<a class="tocsection" href="base-points">Specifying Coordinates</a>
</p>


<p class="current-part">
<a class="tocsection" href="base-paths">Constructing Paths</a>
</p>


<p class="current-part">
<a class="tocsection" href="base-decorations">Decorations</a>
</p>


<p class="current-part">
<a class="tocsection" href="base-actions">Using Paths</a>
</p>


<p class="current-part">
<a class="tocsection" href="base-arrows">Defining New Arrow Tip Kinds</a>
</p>


<p class="current-part">
<a class="tocsection" href="base-nodes">Nodes and Shapes</a>
</p>


<p class="current-part">
<a class="tocsection" href="base-matrices">Matrices</a>
</p>


<p class="current-part">
<a class="tocsection" href="base-transformations">Coordinate, Canvas, and Nonlinear Transformations</a>
</p>


<p class="current-part">
<a class="tocsection" href="base-patterns">Patterns</a>
</p>


<p class="current-part">
<a class="tocsection" href="base-images">Declaring and Using Images</a>
</p>


<p class="current-part">
<a class="tocsection" href="base-external">Externalizing Graphics</a>
</p>


<p class="current-part">
<a class="tocsection" href="base-plots">Creating Plots</a>
</p>


<p class="current-part">
<a class="tocsection" href="base-layers">Layered Graphics</a>
</p>


<p class="current-part">
<a class="tocsection" href="base-shadings">Shadings</a>
</p>


<p class="current-part">
<a class="tocsection" href="base-transparency">Transparency</a>
</p>


<p class="current-part">
<a class="tocsection" href="base-animations">Animations</a>
</p>


<p class="current-part">
<a class="tocsection" href="base-internalregisters">Adding libraries to <span class="textsc">pgf</span>: temporary registers</a>
</p>


<p class="current-part">
<a class="tocsection" href="base-quick">Quick Commands</a>
</p>


<p>
<a class="tocpart" href="pgfsys">The System Layer</a>
</p>

















</div>

</nav>

</div>



<main class="bodycontainer">



<section class="textbody">

<h1>The <span class="tikzname">TikZ</span> and PGF Packages<br>
Manual for version 3.1.10</h1><h2 class="inserted">The Basic Layer</h2>

<!--MathJax customizations:-->


<p>
</p><h4 id="autosec-7854"><span><span class="sectionnumber" id="sec-100">100</span> Hierarchical Structures: Package, Environments, Scopes, and Text</span><a class="anchor-link" data-pdf-destination="section.100" data-pdf-page="1074" href="#sec-100">&para;</a></h4>
<a id="pgfmanual-autopage-7854"></a>
<a id="pgfmanual-autofile-109"></a>
<h5 id="autosec-7855"><span><span class="sectionnumber" id="sec-100.1">100.1</span> Overview</span><a class="anchor-link" data-html-link="sec-100.1" data-pdf-destination="subsection.100.1" data-pdf-page="1074" href="#sec-100.1">&para;</a></h5>
<a id="pgfmanual-autopage-7855"></a>


<p>
<span class="textsc">pgf</span> uses two kinds of hierarchical structuring: First, the package itself is structured hierarchically, consisting of different packages that are built on top of each other. Second, <span class="textsc">pgf</span>
allows you to structure your graphics hierarchically using environments and scopes.
</p>
<h6 id="autosec-7856"><span><span class="sectionnumber" id="sec-100.1.1">100.1.1</span> The Hierarchical Structure of the Package</span><a class="anchor-link" data-html-link="sec-100.1.1" data-pdf-destination="subsubsection.100.1.1" data-pdf-page="1074" href="#sec-100.1.1">&para;</a></h6>
<a id="pgfmanual-autopage-7856"></a>


<p>
The <span class="textsc">pgf</span> system consists of several layers:
</p>
<dl class="description">


<dt><span class="listmarker">System layer.</span></dt>
<dd>
<p>
The lowest layer is called the <em>system layer</em>, though it might also be called &ldquo;driver layer&rdquo; or perhaps &ldquo;backend layer&rdquo;. Its job is to provide an abstraction of the details of which driver is used to transform the <span class="verb">.dvi</span> file. The system layer is implemented by the package <span class="verb">pgfsys</span>, which will load appropriate driver files as needed.
</p>
<p>
The system layer is documented in Part&nbsp;<a href="pgfsys#part-system">X</a>.
</p>


</dd>
<dt><span class="listmarker">Basic layer.</span></dt>
<dd>
<p>
The basic layer is loaded by the package <span class="verb">pgfcore</span> and subsequent use of the command <span class="verb">\usepgfmodule</span> to load additional modules of the basic layer.
</p>
<p>
The basic layer is documented in the present part.
</p>


</dd>
<dt><span class="listmarker">Frontend layer.</span></dt>
<dd>
<p>
The frontend layer is not loaded by a single package. Rather, different packages, like <span class="tikzname">TikZ</span> or <span class="textsc">pgfpict2e</span>, are different frontends to the basic layer.
</p>
<p>
The <span class="tikzname">TikZ</span> frontend is documented in Part&nbsp;<a href="tikz#part-tikz">III</a>.
</p>
</dd>
</dl>

<p>
Each layer will automatically load the necessary files of the layers below it.
</p>

<p>
In addition to the packages of these layers, there are also some library packages. These packages provide additional definitions of things like new arrow tips or new plot handlers.
</p>

<p>
The library packages are documented in Part&nbsp;<a href="libraries#part-libraries">V</a>.
</p>
<h6 id="autosec-7857"><span><span class="sectionnumber" id="sec-100.1.2">100.1.2</span> The Hierarchical Structure of Graphics</span><a class="anchor-link" data-html-link="sec-100.1.2" data-pdf-destination="subsubsection.100.1.2" data-pdf-page="1074" href="#sec-100.1.2">&para;</a></h6>
<a id="pgfmanual-autopage-7857"></a>


<p>
Graphics in <span class="textsc">pgf</span> are typically structured hierarchically. Hierarchical structuring can be used to identify groups of graphical elements that are to be treated &ldquo;in the same way&rdquo;. For example, you might group
together a number of paths, all of which are to be drawn in red. Then, when you decide later on that you like them to be drawn in, say, blue, all you have to do is to change the color once.
</p>

<p>
The general mechanism underlying hierarchical structuring is known as <em>scoping</em> in computer science. The idea is that all changes to the general &ldquo;state&rdquo; of the graphic that are done inside a scope are local to that scope. So, if
you change the color inside a scope, this does not affect the color used outside the scope. Likewise, when you change the line width in a scope, the line width outside is not changed, and so on.
</p>

<p>
There are different ways of starting and ending scopes of graphic parameters. Unfortunately, these scopes are sometimes &ldquo;in conflict&rdquo; with each other and it is sometimes not immediately clear which scopes apply. In essence, the
following scoping mechanisms are available:
</p>
<ul class="enumerate" style="list-style-type:none">


<li>
<p>
<span class="listmarker">1.</span> The &ldquo;outermost&rdquo; scope supported by <span class="textsc">pgf</span> is the <span class="verb">{pgfpicture}</span> environment. All changes to the graphic state done inside a <span class="verb">{pgfpicture}</span> are local to that picture.
</p>
<p>
In general, it is <em>not</em> possible to set graphic parameters globally outside any <span class="verb">{pgfpicture}</span> environments. Thus, you can <em>not</em> say <span class="verb">\pgfsetlinewidth{1pt}</span> at the beginning of
your document to have a default line width of one point. Rather, you have to (re)set all graphic parameters inside each <span class="verb">{pgfpicture}</span>. (If this is too bothersome, try defining some macro that does the job for you.)
</p>


</li>
<li>


<p>
<span class="listmarker">2.</span> Inside a <span class="verb">{pgfpicture}</span> you can use a <span class="verb">{pgfscope}</span> environment to keep changes of the graphic state local to that environment.
</p>
<p>
The effect of commands that change the graphic state are local to the current <span class="verb">{pgfscope}</span>, but not always to the current <span class="latexlogofont"><span class="latexlogo">T<span class="latexlogosub">e</span>X</span></span> group. Thus, if you open a <span class="latexlogofont"><span class="latexlogo">T<span class="latexlogosub">e</span>X</span></span> group (some text in curly braces) inside a <span class="verb">{pgfscope}</span>, and if you change, for example, the dash pattern, the effect of this changed dash pattern will persist till the end of the <span class="verb">{pgfscope}</span>.
</p>
<p>
Unfortunately, this is not always the case. <em>Some</em> graphic parameters only persist till the end of the current <span class="latexlogofont"><span class="latexlogo">T<span class="latexlogosub">e</span>X</span></span> group. For
example, when you use <span class="verb">\pgfsetarrows</span> to set the arrow tip inside a <span class="latexlogofont"><span class="latexlogo">T<span class="latexlogosub">e</span>X</span></span> group, the effect lasts only till the end
of the current <span class="latexlogofont"><span class="latexlogo">T<span class="latexlogosub">e</span>X</span></span> group.
</p>


</li>
<li>


<p>
<span class="listmarker">3.</span> Some graphic parameters are not scoped by <span class="verb">{pgfscope}</span> but &ldquo;already&rdquo; by <span class="latexlogofont"><span class="latexlogo">T<span class="latexlogosub">e</span>X</span></span>
groups. For example, the effect of coordinate transformation commands is always local to the current <span class="latexlogofont"><span class="latexlogo">T<span class="latexlogosub">e</span>X</span></span> group.
</p>
<p>
Since every <span class="verb">{pgfscope}</span> automatically creates a <span class="latexlogofont"><span class="latexlogo">T<span class="latexlogosub">e</span>X</span></span> group, all graphic parameters that are local to the current
<span class="latexlogofont"><span class="latexlogo">T<span class="latexlogosub">e</span>X</span></span> group are also local to the current <span class="verb">{pgfscope}</span>.
</p>


</li>
<li>


<p>
<span class="listmarker">4.</span> Some graphic parameters can only be scoped using <span class="latexlogofont"><span class="latexlogo">T<span class="latexlogosub">e</span>X</span></span> groups, since in some situations it is not
possible to introduce a <span class="verb">{pgfscope}</span>. For example, a path always has to be completely constructed and used in the same <span class="verb">{pgfscope}</span>. However, we might wish to have different coordinate
transformations apply to different points on the path. In this case, we can use <span class="latexlogofont"><span class="latexlogo">T<span class="latexlogosub">e</span>X</span></span> groups to keep the effect local, but we could not use
<span class="verb">{pgfscope}</span>.
</p>


</li>
<li>


<p>
<span class="listmarker">5.</span> The <span class="verb">\pgftext</span> command can be used to create a scope in which <span class="latexlogofont"><span class="latexlogo">T<span class="latexlogosub">e</span>X</span></span> &ldquo;escapes
back&rdquo; to normal <span class="latexlogofont"><span class="latexlogo">T<span class="latexlogosub">e</span>X</span></span> mode. The text passed to the <span class="verb">\pgftext</span> is &ldquo;heavily guarded&rdquo; against having any effect on
the scope in which it is used. For example, it is possible to use another <span class="verb">{pgfpicture}</span> environment inside the argument of <span class="verb">\pgftext</span>.
</p>
</li>
</ul>

<p>
Most of the complications can be avoided if you stick to the following rules:
</p>
<ul class="itemize" style="list-style-type:none">


<li>
<p>
<span class="listmarker">&bull;</span> Give graphic commands only inside <span class="verb">{pgfpicture}</span> environments.
</p>


</li>
<li>


<p>
<span class="listmarker">&bull;</span> Use <span class="verb">{pgfscope}</span> to structure graphics.
</p>


</li>
<li>


<p>
<span class="listmarker">&bull;</span> Do not use <span class="latexlogofont"><span class="latexlogo">T<span class="latexlogosub">e</span>X</span></span> groups inside graphics, <em>except</em> for keeping the effect of coordinate
transformations local.
</p>
</li>
</ul>
<h5 id="autosec-7858"><span><span class="sectionnumber" id="sec-100.2">100.2</span> The Hierarchical Structure of the Package</span><a class="anchor-link" data-html-link="sec-100.2" data-pdf-destination="subsection.100.2" data-pdf-page="1075" href="#sec-100.2">&para;</a></h5>
<a id="pgfmanual-autopage-7858"></a>


<p>
Before we come to the structuring commands provided by <span class="textsc">pgf</span> to structure your graphics, let us first have a look at the structure of the package itself.
</p>
<h6 id="autosec-7859"><span><span class="sectionnumber" id="sec-100.2.1">100.2.1</span> The Core Package</span><a class="anchor-link" data-html-link="sec-100.2.1" data-pdf-destination="subsubsection.100.2.1" data-pdf-page="1075" href="#sec-100.2.1">&para;</a></h6>
<a id="pgfmanual-autopage-7859"></a>


<p>
To use <span class="textsc">pgf</span>, include the following package:
</p>



<div class="manualentry">

<ul class="list" style="list-style-type:none">



<div class="entryheadline"> <li>
<p>
<a id="pgf.pgfcore"></a>
                        <span class="hl-def"><kbd>\usepackage{<span class="textcolor" style="color:#BF0000">pgfcore</span>} % <span class="latexlogofont"><span class="latexlogo">L<span class="latexlogosup">a</span>T<span class="latexlogosub">e</span>X</span></span></kbd></span>
<a class="anchor-link" data-html-link="pgf.pgfcore" href="#pgf.pgfcore" id="pgf.pgfcore">&para;</a></p>
</li></div>


<div class="entryheadline">

<li>


<p>
<span class="hl-def"><kbd>\input <span class="textcolor" style="color:#BF0000">pgfcore</span>.tex % plain <span class="latexlogofont"><span class="latexlogo">T<span class="latexlogosub">e</span>X</span></span></kbd></span>
</p>
</li></div>


<div class="entryheadline">

<li>


<p>
<span class="hl-def"><kbd>\usemodule[<span class="textcolor" style="color:#BF0000">pgfcore</span>] % Con<span class="latexlogofont"><span class="latexlogo">T<span class="latexlogosub">e</span>X</span></span>t</kbd></span>
</p>
</li></div>
<p>
This package loads the complete core of the &ldquo;basic layer&rdquo; of <span class="textsc">pgf</span>, but not any modules. That is, it will load all of the commands described in the current part of this manual, but it will not load frontends like
<span class="tikzname">TikZ</span>. It will also load the system layer. To load additional modules, use the <span class="verb">\usepgfmodule</span> command explained below.
</p>

</ul>
</div>

<p>
The following package is just a convenience.
</p>



<div class="manualentry">

<ul class="list" style="list-style-type:none">



<div class="entryheadline"> <li>
<p>
<a id="pgf.pgf"></a>
                       <span class="hl-def"><kbd>\usepackage{<span class="textcolor" style="color:#BF0000">pgf</span>} % <span class="latexlogofont"><span class="latexlogo">L<span class="latexlogosup">a</span>T<span class="latexlogosub">e</span>X</span></span></kbd></span>
<a class="anchor-link" data-html-link="pgf.pgf" href="#pgf.pgf" id="pgf.pgf">&para;</a></p>
</li></div>


<div class="entryheadline">

<li>


<p>
<span class="hl-def"><kbd>\input <span class="textcolor" style="color:#BF0000">pgf</span>.tex % plain <span class="latexlogofont"><span class="latexlogo">T<span class="latexlogosub">e</span>X</span></span></kbd></span>
</p>
</li></div>


<div class="entryheadline">

<li>


<p>
<span class="hl-def"><kbd>\usemodule[<span class="textcolor" style="color:#BF0000">pgf</span>] % Con<span class="latexlogofont"><span class="latexlogo">T<span class="latexlogosub">e</span>X</span></span>t</kbd></span>
</p>
</li></div>
<p>
This package loads the <span class="verb">pgfcore</span> and the two modules <span class="verb">shapes</span> and <span class="verb">plot</span>.
</p>
<p>
In <span class="latexlogofont"><span class="latexlogo">L<span class="latexlogosup">a</span>T<span class="latexlogosub">e</span>X</span></span>, the package takes two options:
</p>


<div class="manualentry">
<ul class="list" style="list-style-type:none">



<div class="entryheadline"> <li>
<p>
<span class="hl-def"><kbd>\usepackage[<span class="textcolor" style="color:#BF0000">draft</span>]{pgf}</kbd></span>
</p>
</li></div>
<p>
When this option is set, all images will be replaced by empty rectangles. This can speedup compilation.
</p>

</ul>
</div>


<div class="manualentry">
<ul class="list" style="list-style-type:none">



<div class="entryheadline"> <li>
<p>
<span class="hl-def"><kbd>\usepackage[<span class="textcolor" style="color:#BF0000">version=<span class="angle">&langle;</span><i>version</i><span class="angle">&rangle;</span></span>]{pgf}</kbd></span>
</p>
</li></div>
<p>
Indicates that the commands of version <span class="angle">&langle;</span><i>version</i><span class="angle">&rangle;</span> need to be defined. If you set <span class="angle">&langle;</span><i>version</i><span class="angle">&rangle;</span> to <span class="verb">0.65</span>, then a large bunch of &ldquo;compatibility commands&rdquo; are loaded. If you set <span class="angle">&langle;</span><i>version</i><span class="angle">&rangle;</span> to <span class="verb">0.96</span>, then these compatibility commands will not be loaded.
</p>
<p>
If this option is not given at all, then the commands of all versions are defined.
</p>

</ul>
</div>

</ul>
</div>
<h6 id="autosec-7860"><span><span class="sectionnumber" id="sec-100.2.2">100.2.2</span> The Modules</span><a class="anchor-link" data-html-link="sec-100.2.2" data-pdf-destination="subsubsection.100.2.2" data-pdf-page="1076" href="#sec-100.2.2">&para;</a></h6>
<a id="pgfmanual-autopage-7860"></a>




<div class="manualentry">

<ul class="list" style="list-style-type:none">



<div class="entryheadline"> <li>
<p>
<a id="pgf.back/usepgfmodule"></a>
                                  <span class="hl-def"><span class="textcolor" style="color:#BF0000"><kbd>\usepgfmodule</kbd></span>{<span class="angle">&langle;</span><i>module names</i><span class="angle">&rangle;</span>}</span>
<a class="anchor-link" data-html-link="pgf.back/usepgfmodule" href="#\usepgfmodule" id="\usepgfmodule">&para;</a></p>
</li></div>
<p>
Once the core has been loaded, you can use this command to load further modules. The modules in the <span class="angle">&langle;</span><i>module names</i><span class="angle">&rangle;</span> list should be separated by commas.
Instead of curly braces, you can also use square brackets, which is something Con<span class="latexlogofont"><span class="latexlogo">T<span class="latexlogosub">e</span>X</span></span>t users will like. If you try to load a module a
second time, nothing will happen.
</p>
<p>
<i>Example: </i><span class="verb">\usepgfmodule{matrix,shapes}</span>
</p>
<p>
What this command does is to load the file <span class="verb">pgfmodule</span><span class="angle">&langle;</span><i>module</i><span class="angle">&rangle;</span><span class="verb">.code.tex</span> for each <span class="angle">&langle;</span><i>module</i><span class="angle">&rangle;</span> in the list of <span class="angle">&langle;</span><i>module names</i><span class="angle">&rangle;</span>. Thus, to write your own module, all you need to do is
to place a file of the appropriate name somewhere <span class="latexlogofont"><span class="latexlogo">T<span class="latexlogosub">e</span>X</span></span> can find it. <span class="latexlogofont"><span class="latexlogo">L<span class="latexlogosup">a</span>T<span class="latexlogosub">e</span>X</span></span>, plain <span class="latexlogofont"><span class="latexlogo">T<span class="latexlogosub">e</span>X</span></span>, and Con<span class="latexlogofont"><span class="latexlogo">T<span class="latexlogosub">e</span>X</span></span>t users can then use your library.
</p>

</ul>
</div>

<p>
The following modules are available for use with <span class="verb">pgfcore</span>:
</p>
<ul class="itemize" style="list-style-type:none">


<li>
<p>
<span class="listmarker">&bull;</span> The <span class="verb">plot</span> module provides commands for plotting functions. The commands are explained in Section&nbsp;<a href="base-plots#section-plots">112</a>.
</p>


</li>
<li>


<p>
<span class="listmarker">&bull;</span> The <span class="verb">shapes</span> module provides commands for drawing shapes and nodes. These commands are explained in Section&nbsp;<a href="base-nodes#section-shapes">106</a>.
</p>


</li>
<li>


<p>
<span class="listmarker">&bull;</span> The <span class="verb">decorations</span> module provides commands for adding decorations to paths. These commands are explained in Section&nbsp;<a href="base-decorations#section-base-decorations">103</a>.
</p>


</li>
<li>


<p>
<span class="listmarker">&bull;</span> The <span class="verb">matrix</span> module provides the <span class="verb">\pgfmatrix</span> command. The commands are documented in Section&nbsp;<a href="base-matrices#section-base-matrices">107</a>.
</p>
</li>
</ul>
<h6 id="autosec-7861"><span><span class="sectionnumber" id="sec-100.2.3">100.2.3</span> The Library Packages</span><a class="anchor-link" data-html-link="sec-100.2.3" data-pdf-destination="subsubsection.100.2.3" data-pdf-page="1076" href="#sec-100.2.3">&para;</a></h6>
<a id="pgfmanual-autopage-7861"></a>


<p>
There is a special command for loading library packages. The difference between a library and module is the following: A library just defines additional objects using the basic layer, whereas a module adds completely new functionality.
For instance, a <span class="verb">decorations</span> library defines additional decorations, while a decoration module defines the whole code for handling decorations.
</p>



<div class="manualentry">

<ul class="list" style="list-style-type:none">



<div class="entryheadline"> <li>
<p>
<a id="pgf.back/usepgflibrary"></a>
                                      <span class="hl-def"><span class="textcolor" style="color:#BF0000"><kbd>\usepgflibrary</kbd></span>{<span class="angle">&langle;</span><i>list of libraries</i><span class="angle">&rangle;</span>}</span>
<a class="anchor-link" data-html-link="pgf.back/usepgflibrary" href="#\usepgflibrary" id="\usepgflibrary">&para;</a></p>
</li></div>
<p>
Use this command to load further libraries. The list of libraries should contain the names of libraries separated by commas. Instead of curly braces, you can also use square brackets. If you try to load a library a second time, nothing
will happen.
</p>
<p>
<i>Example: </i><span class="verb">\usepgflibrary{arrows}</span>
</p>
<p>
This command causes the file <span class="verb">pgflibrary</span><span class="angle">&langle;</span><i>library</i><span class="angle">&rangle;</span><span class="verb">.code.tex</span> to be loaded for each <span class="angle">&langle;</span><i>library</i><span class="angle">&rangle;</span> in the <span class="angle">&langle;</span><i>list of libraries</i><span class="angle">&rangle;</span>. This means that in order to write your own library file,
place a file of the appropriate name somewhere where <span class="latexlogofont"><span class="latexlogo">T<span class="latexlogosub">e</span>X</span></span> can find it. <span class="latexlogofont"><span class="latexlogo">L<span class="latexlogosup">a</span>T<span class="latexlogosub">e</span>X</span></span>, plain <span class="latexlogofont"><span class="latexlogo">T<span class="latexlogosub">e</span>X</span></span>, and Con<span class="latexlogofont"><span class="latexlogo">T<span class="latexlogosub">e</span>X</span></span>t users can then use your library.
</p>
<p>
You should also consider adding a <span class="tikzname">TikZ</span> library that simply includes your <span class="textsc">pgf</span> library.
</p>

</ul>
</div>
<h5 id="autosec-7862"><span><span class="sectionnumber" id="sec-100.3">100.3</span> The Hierarchical Structure of the Graphics</span><a class="anchor-link" data-html-link="sec-100.3" data-pdf-destination="subsection.100.3" data-pdf-page="1076" href="#sec-100.3">&para;</a></h5>
<a id="pgfmanual-autopage-7862"></a>
<h6 id="autosec-7863"><span><span class="sectionnumber" id="sec-100.3.1">100.3.1</span> The Main Environment</span><a class="anchor-link" data-html-link="sec-100.3.1" data-pdf-destination="subsubsection.100.3.1" data-pdf-page="1076" href="#sec-100.3.1">&para;</a></h6>
<a id="pgfmanual-autopage-7863"></a>


<p>
Most, but not all, commands of the <span class="textsc">pgf</span> package must be given within a <span class="verb">{pgfpicture}</span> environment. The only commands that (must) be given outside are commands having to do with
including images (like <span class="verb">\pgfuseimage</span>) and with inserting complete shadings (like <span class="verb">\pgfuseshading</span>). However, just to keep life entertaining, the <span class="verb">\pgfshadepath</span>
command must be given <em>inside</em> a <span class="verb">{pgfpicture}</span> environment.
</p>



<div class="manualentry">

<ul class="list" style="list-style-type:none">



<div class="entryheadline"> <li>
<p>
<a id="pgf.pgfpicture"></a>
                              <span class="hl-def"><kbd>\begin{<span class="textcolor" style="color:#BF0000">pgfpicture</span>}</kbd></span>
<a class="anchor-link" data-html-link="pgf.pgfpicture" href="#pgf.pgfpicture" id="pgf.pgfpicture">&para;</a></p>
</li></div>


<div class="entryheadline">

<li>


<p>
<span class="hl-def"><kbd> </kbd><span class="angle">&langle;</span><i>environment contents</i><span class="angle">&rangle;</span></span>
</p>
</li></div>


<div class="entryheadline">

<li>


<p>
<span class="hl-def"><kbd>\end{<span class="textcolor" style="color:#BF0000">pgfpicture</span>}</kbd></span>
</p>
</li></div>
<p>
This environment will insert a <span class="latexlogofont"><span class="latexlogo">T<span class="latexlogosub">e</span>X</span></span> box containing the graphic drawn by the <span class="angle">&langle;</span><i>environment
contents</i><span class="angle">&rangle;</span> at the current position.
</p>
<p>
<b>The size of the bounding box.</b> The size of the box is determined in the following manner: While <span class="textsc">pgf</span> parses the <span class="angle">&langle;</span><i>environment contents</i><span class="angle">&rangle;</span>, it keeps track of a bounding box for the graphic. Essentially, this bounding box is the smallest box that contains all coordinates mentioned in the graphics. Some coordinates may be &ldquo;mentioned&rdquo; by <span class="textsc">pgf</span> itself; for example, when you add circle to the current path, the support points of the curve making up the circle are also &ldquo;mentioned&rdquo; despite the fact that you will not &ldquo;see&rdquo; them in your code.
</p>
<p>
Once the <span class="angle">&langle;</span><i>environment contents</i><span class="angle">&rangle;</span> have been parsed completely, a <span class="latexlogofont"><span class="latexlogo">T<span class="latexlogosub">e</span>X</span></span> box is created whose size is the size of the computed bounding box and this box is inserted at the current position.
</p>


<figure class="example">


<div class="example-image">
<p>
<span class="lateximagesource" id="lateximage-pgfmanual-3183"><!--
Hello World!
--><img alt="(image)" class="lateximage" height="12.123" loading="lazy" src="pgfmanual-images/image-3183.png" style width="104.282"></span>
</p>
</div>


<div class="example-code"><button class="clipboardButton" type="button">copy</button>
<code>
<br>
<span class="textcolor" style="color:#000000">Hello</span> <span class="textcolor" style="color:#000000">\begin</span>{<span class="textcolor" style="color:#0000B2"><a href="base-scopes#pgf.pgfpicture">pgfpicture</a></span>}<br>
<span class="spaces">  </span><span class="textcolor" style="color:#0000B2"><a href="base-paths#pgf.back/pgfpathrectangle">\pgfpathrectangle</a></span>{<span class="textcolor" style="color:#0000B2"><a href="base-points#pgf.back/pgfpointorigin">\pgfpointorigin</a></span>}{<span class="textcolor" style="color:#0000B2"><a href="base-points#pgf.back/pgfpoint">\pgfpoint</a></span>{<span class="textcolor" style="color:#000000">2ex</span>}{<span class="textcolor" style="color:#000000">1ex</span>}}<br>
<span class="spaces">  </span><span class="textcolor" style="color:#0000B2"><a href="base-actions#pgf.back/pgfusepath">\pgfusepath</a></span>{<span class="textcolor" style="color:#000000">stroke</span>}<br>
<span class="textcolor" style="color:#000000">\end</span>{<span class="textcolor" style="color:#0000B2"><a href="base-scopes#pgf.pgfpicture">pgfpicture</a></span>} <span class="textcolor" style="color:#000000">World!</span><br>


</code>
</div>
</figure>
<p>
Sometimes, you may need more fine-grained control over the size of the bounding box. For example, the computed bounding box may be too large or you intentionally wish the box to be &ldquo;too small&rdquo;. In these cases, you can use the
command <span class="verb">\pgfusepath{use as bounding box}</span>, as described in Section&nbsp;<a href="base-actions#section-using-bb">104.6</a>.
</p>
<p>
<b>The baseline of the bounding box.</b> When the box containing the graphic is inserted into the normal text, the baseline of the graphic is normally at the bottom of the graphic. For this reason, the following two sets of code lines
have the same effect, despite the fact that the second graphic uses &ldquo;higher&rdquo; coordinates than the first:
</p>


<figure class="example">


<div class="example-image">
<p>
<span class="lateximagesource" id="lateximage-pgfmanual-3184"><!--
Rectangles and .
--><img alt="(image)" class="lateximage" height="14.547" loading="lazy" src="pgfmanual-images/image-3184.png" style width="141.602"></span>
</p>
</div>


<div class="example-code"><button class="clipboardButton" type="button">copy</button>
<code>
<br>
<span class="textcolor" style="color:#000000">Rectangles</span> <span class="textcolor" style="color:#000000">\begin</span>{<span class="textcolor" style="color:#0000B2"><a href="base-scopes#pgf.pgfpicture">pgfpicture</a></span>}<br>
<span class="spaces">  </span><span class="textcolor" style="color:#0000B2"><a href="base-paths#pgf.back/pgfpathrectangle">\pgfpathrectangle</a></span>{<span class="textcolor" style="color:#0000B2"><a href="base-points#pgf.back/pgfpointorigin">\pgfpointorigin</a></span>}{<span class="textcolor" style="color:#0000B2"><a href="base-points#pgf.back/pgfpoint">\pgfpoint</a></span>{<span class="textcolor" style="color:#000000">2ex</span>}{<span class="textcolor" style="color:#000000">1ex</span>}}<br>
<span class="spaces">  </span><span class="textcolor" style="color:#0000B2"><a href="base-actions#pgf.back/pgfusepath">\pgfusepath</a></span>{<span class="textcolor" style="color:#000000">stroke</span>}<br>
<span class="textcolor" style="color:#000000">\end</span>{<span class="textcolor" style="color:#0000B2"><a href="base-scopes#pgf.pgfpicture">pgfpicture</a></span>} <span class="textcolor" style="color:#000000"><a href="pgfkeys#pgf.and">and</a></span> <span class="textcolor" style="color:#000000">\begin</span>{<span class="textcolor" style="color:#0000B2"><a href="base-scopes#pgf.pgfpicture">pgfpicture</a></span>}<br>
<span class="spaces">  </span><span class="textcolor" style="color:#0000B2"><a href="base-paths#pgf.back/pgfpathrectangle">\pgfpathrectangle</a></span>{<span class="textcolor" style="color:#0000B2"><a href="base-points#pgf.back/pgfpoint">\pgfpoint</a></span>{<span class="textcolor" style="color:#000000">0ex</span>}{<span class="textcolor" style="color:#000000">1ex</span>}}{<span class="textcolor" style="color:#0000B2"><a href="base-points#pgf.back/pgfpoint">\pgfpoint</a></span>{<span class="textcolor" style="color:#000000">2ex</span>}{<span class="textcolor" style="color:#000000">1ex</span>}}<br>
<span class="spaces">  </span><span class="textcolor" style="color:#0000B2"><a href="base-actions#pgf.back/pgfusepath">\pgfusepath</a></span>{<span class="textcolor" style="color:#000000">stroke</span>}<br>
<span class="textcolor" style="color:#000000">\end</span>{<span class="textcolor" style="color:#0000B2"><a href="base-scopes#pgf.pgfpicture">pgfpicture</a></span>}.<br>


</code>
</div>
</figure>
<p>
You can change the baseline using the <span class="verb">\pgfsetbaseline</span> command, see below.
</p>


<figure class="example">


<div class="example-image">
<p>
<span class="lateximagesource" id="lateximage-pgfmanual-3185"><!--
Rectangles and .
--><img alt="(image)" class="lateximage" height="17.381" loading="lazy" src="pgfmanual-images/image-3185.png" style width="141.602"></span>
</p>
</div>


<div class="example-code"><button class="clipboardButton" type="button">copy</button>
<code>
<br>
<span class="textcolor" style="color:#000000">Rectangles</span> <span class="textcolor" style="color:#000000">\begin</span>{<span class="textcolor" style="color:#0000B2"><a href="base-scopes#pgf.pgfpicture">pgfpicture</a></span>}<br>
<span class="spaces">  </span><span class="textcolor" style="color:#0000B2"><a href="base-paths#pgf.back/pgfpathrectangle">\pgfpathrectangle</a></span>{<span class="textcolor" style="color:#0000B2"><a href="base-points#pgf.back/pgfpointorigin">\pgfpointorigin</a></span>}{<span class="textcolor" style="color:#0000B2"><a href="base-points#pgf.back/pgfpoint">\pgfpoint</a></span>{<span class="textcolor" style="color:#000000">2ex</span>}{<span class="textcolor" style="color:#000000">1ex</span>}}<br>
<span class="spaces">  </span><span class="textcolor" style="color:#0000B2"><a href="base-actions#pgf.back/pgfusepath">\pgfusepath</a></span>{<span class="textcolor" style="color:#000000">stroke</span>}<br>
<span class="spaces">  </span><span class="textcolor" style="color:#0000B2"><a href="base-scopes#pgf.back/pgfsetbaseline">\pgfsetbaseline</a></span>{<span class="textcolor" style="color:#000000">0pt</span>}<br>
<span class="textcolor" style="color:#000000">\end</span>{<span class="textcolor" style="color:#0000B2"><a href="base-scopes#pgf.pgfpicture">pgfpicture</a></span>} <span class="textcolor" style="color:#000000"><a href="pgfkeys#pgf.and">and</a></span> <span class="textcolor" style="color:#000000">\begin</span>{<span class="textcolor" style="color:#0000B2"><a href="base-scopes#pgf.pgfpicture">pgfpicture</a></span>}<br>
<span class="spaces">  </span><span class="textcolor" style="color:#0000B2"><a href="base-paths#pgf.back/pgfpathrectangle">\pgfpathrectangle</a></span>{<span class="textcolor" style="color:#0000B2"><a href="base-points#pgf.back/pgfpoint">\pgfpoint</a></span>{<span class="textcolor" style="color:#000000">0ex</span>}{<span class="textcolor" style="color:#000000">1ex</span>}}{<span class="textcolor" style="color:#0000B2"><a href="base-points#pgf.back/pgfpoint">\pgfpoint</a></span>{<span class="textcolor" style="color:#000000">2ex</span>}{<span class="textcolor" style="color:#000000">1ex</span>}}<br>
<span class="spaces">  </span><span class="textcolor" style="color:#0000B2"><a href="base-actions#pgf.back/pgfusepath">\pgfusepath</a></span>{<span class="textcolor" style="color:#000000">stroke</span>}<br>
<span class="spaces">  </span><span class="textcolor" style="color:#0000B2"><a href="base-scopes#pgf.back/pgfsetbaseline">\pgfsetbaseline</a></span>{<span class="textcolor" style="color:#000000">0pt</span>}<br>
<span class="textcolor" style="color:#000000">\end</span>{<span class="textcolor" style="color:#0000B2"><a href="base-scopes#pgf.pgfpicture">pgfpicture</a></span>}.<br>


</code>
</div>
</figure>
<p>
<b>Including text and images in a picture.</b> You cannot directly include text and images in a picture. Thus, you should <em>not</em> simply write some text in a <span class="verb">{pgfpicture}</span> or use a command like <span class="verb">\includegraphics</span> or even <span class="verb">\pgfimage</span>. In all these cases, you need to place the text inside a <span class="verb">\pgftext</span> command. This will &ldquo;escape back&rdquo; to normal <span class="latexlogofont"><span class="latexlogo">T<span class="latexlogosub">e</span>X</span></span> mode, see Section&nbsp;<a href="base-scopes#section-text-command">100.3.3</a> for details.
</p>
<p>
<b>Remembering a picture position for later reference.</b> After a picture has been typeset, its position on the page is normally forgotten by <span class="textsc">pgf</span> and also by <span class="latexlogofont"><span class="latexlogo">T<span class="latexlogosub">e</span>X</span></span>. This means that is not possible to reference a node in this picture later on. In particular, it is normally impossible to draw lines between nodes in different pictures
automatically.
</p>
<p>
In order to make <span class="textsc">pgf</span> &ldquo;remember&rdquo; a picture, the <span class="latexlogofont"><span class="latexlogo">T<span class="latexlogosub">e</span>X</span></span>-if <span class="verb">\ifpgfrememberpicturepositiononpage</span> should be set to <span class="verb">true</span>. It is only important that this <span class="latexlogofont"><span class="latexlogo">T<span class="latexlogosub">e</span>X</span></span>-if is <span class="verb">true</span> at the end of the <span class="verb">{pgfpicture}</span>-environment, so you can switch it on inside the environment. However, you can also just switch it
on globally, then the positions of all pictures are remembered.
</p>
<p>
There are several reasons why the remembering is not switched on by default. First, it does not work for all backend drivers (currently, it works only for pdf<span class="latexlogofont"><span class="latexlogo">T<span class="latexlogosub">e</span>X</span></span>). Second, it requires two passes of <span class="latexlogofont"><span class="latexlogo">T<span class="latexlogosub">e</span>X</span></span> over the file; on the first pass all positions will be
wrong. Third, for every remembered picture a line is added to the <span class="verb">.aux</span>-file, which may result in a large number of extra lines.
</p>
<p>
Despite all these &ldquo;problems&rdquo;, for documents that are processed with pdf<span class="latexlogofont"><span class="latexlogo">T<span class="latexlogosub">e</span>X</span></span> and in which there is only a small number of pictures (less
than a hundred or so), you can switch on this option globally, it will not cause any significant slowing of <span class="latexlogofont"><span class="latexlogo">T<span class="latexlogosub">e</span>X</span></span>.
</p>

</ul>
</div>



<div class="manualentry">

<ul class="list" style="list-style-type:none">



<div class="entryheadline"> <li>
<p>
<span class="hl-def"><kbd><span class="textcolor" style="color:#BF0000">\pgfpicture</span></kbd></span>
</p>
</li></div>


<div class="entryheadline">

<li>


<p>
<span class="hl-def"><kbd> </kbd><span class="angle">&langle;</span><i>environment contents</i><span class="angle">&rangle;</span></span>
</p>
</li></div>


<div class="entryheadline">

<li>


<p>
<span class="hl-def"><kbd><span class="textcolor" style="color:#BF0000">\endpgfpicture</span></kbd></span>
</p>
</li></div>
<p>
The plain <span class="latexlogofont"><span class="latexlogo">T<span class="latexlogosub">e</span>X</span></span> version of the environment. Note that in this version, also, a <span class="latexlogofont"><span class="latexlogo">T<span class="latexlogosub">e</span>X</span></span> group is created around the environment.
</p>

</ul>
</div>



<div class="manualentry">

<ul class="list" style="list-style-type:none">



<div class="entryheadline"> <li>
<p>
<span class="hl-def"><kbd><span class="textcolor" style="color:#BF0000">\startpgfpicture</span></kbd></span>
</p>
</li></div>


<div class="entryheadline">

<li>


<p>
<span class="hl-def"><kbd> </kbd><span class="angle">&langle;</span><i>environment contents</i><span class="angle">&rangle;</span></span>
</p>
</li></div>


<div class="entryheadline">

<li>


<p>
<span class="hl-def"><kbd><span class="textcolor" style="color:#BF0000">\stoppgfpicture</span></kbd></span>
</p>
</li></div>
<p>
This is the Con<span class="latexlogofont"><span class="latexlogo">T<span class="latexlogosub">e</span>X</span></span>t version of the environment.
</p>

</ul>
</div>



<div class="manualentry">

<ul class="list" style="list-style-type:none">



<div class="entryheadline"> <li>
<p>
<a id="pgf.back/ifpgfrememberpicturepositiononpage"></a>
                                                        <span class="hl-def"><span class="textcolor" style="color:#BF0000"><kbd>\ifpgfrememberpicturepositiononpage</kbd></span></span>
<a class="anchor-link" data-html-link="pgf.back/ifpgfrememberpicturepositiononpage" href="#\ifpgfrememberpicturepositiononpage" id="\ifpgfrememberpicturepositiononpage">&para;</a></p>
</li></div>
<p>
Determines whether the position of pictures on the page should be recorded. The value of this <span class="latexlogofont"><span class="latexlogo">T<span class="latexlogosub">e</span>X</span></span>-if at the end of a <span class="verb">{pgfpicture}</span> environment is important, not the value at the beginning.
</p>
<p>
If this option is set to true of a picture, <span class="textsc">pgf</span> will attempt to record the position of the picture on the page. (This attempt will fail with most drivers and when it works, it typically requires two runs of <span class="latexlogofont"><span class="latexlogo">T<span class="latexlogosub">e</span>X</span></span>.) The position is not directly accessible. Rather, the nodes mechanism will use this position if you access a node from another picture.
See Sections&nbsp;<a href="base-nodes#section-cross-pictures-pgf">106.3.2</a> and&nbsp;<a href="tikz-shapes#section-cross-picture-tikz">17.13</a> for more details.
</p>

</ul>
</div>



<div class="manualentry">

<ul class="list" style="list-style-type:none">



<div class="entryheadline"> <li>
<p>
<a id="pgf.back/pgfsetbaseline"></a>
                                        <span class="hl-def"><span class="textcolor" style="color:#BF0000"><kbd>\pgfsetbaseline</kbd></span>{<span class="angle">&langle;</span><i>dimension</i><span class="angle">&rangle;</span>}</span>
<a class="anchor-link" data-html-link="pgf.back/pgfsetbaseline" href="#\pgfsetbaseline" id="\pgfsetbaseline">&para;</a></p>
</li></div>
<p>
This command specifies a \(y\)-coordinate of the picture that should be used as the baseline of the whole picture. When a <span class="textsc">pgf</span> picture has been typeset completely, <span class="textsc">pgf</span> must decide
at which height the baseline of the picture should lie. Normally, the baseline is set to the \(y\)-coordinate of the bottom of the picture, but it is often desirable to use a different height.
</p>


<figure class="example">


<div class="example-image">
<p>
<span class="lateximagesource" id="lateximage-pgfmanual-3186"><!--
Text , , , .
--><img alt="(image)" class="lateximage" height="24.147" loading="lazy" src="pgfmanual-images/image-3186.png" style width="97.634"></span>
</p>
</div>


<div class="example-code"><button class="clipboardButton" type="button">copy</button>
<code>
<br>
<span class="textcolor" style="color:#000000">Text</span><br>
<span class="textcolor" style="color:#000000">\begin</span>{<span class="textcolor" style="color:#0000B2"><a href="base-scopes#pgf.pgfpicture">pgfpicture</a></span>}<br>
<span class="spaces">  </span><span class="textcolor" style="color:#0000B2"><a href="base-paths#pgf.back/pgfpathcircle">\pgfpathcircle</a></span>{<span class="textcolor" style="color:#0000B2"><a href="base-points#pgf.back/pgfpointorigin">\pgfpointorigin</a></span>}{<span class="textcolor" style="color:#000000">1ex</span>}<span class="textcolor" style="color:#0000B2"><a href="base-actions#pgf.back/pgfusepath">\pgfusepath</a></span>{<span class="textcolor" style="color:#000000">stroke</span>}<br>
<span class="textcolor" style="color:#000000">\end</span>{<span class="textcolor" style="color:#0000B2"><a href="base-scopes#pgf.pgfpicture">pgfpicture</a></span>},<br>
<span class="textcolor" style="color:#000000">\begin</span>{<span class="textcolor" style="color:#0000B2"><a href="base-scopes#pgf.pgfpicture">pgfpicture</a></span>}<br>
<span class="spaces">  </span><span class="textcolor" style="color:#0000B2"><a href="base-scopes#pgf.back/pgfsetbaseline">\pgfsetbaseline</a></span>{<span class="textcolor" style="color:#000000">0pt</span>}<br>
<span class="spaces">  </span><span class="textcolor" style="color:#0000B2"><a href="base-paths#pgf.back/pgfpathcircle">\pgfpathcircle</a></span>{<span class="textcolor" style="color:#0000B2"><a href="base-points#pgf.back/pgfpointorigin">\pgfpointorigin</a></span>}{<span class="textcolor" style="color:#000000">1ex</span>}<span class="textcolor" style="color:#0000B2"><a href="base-actions#pgf.back/pgfusepath">\pgfusepath</a></span>{<span class="textcolor" style="color:#000000">stroke</span>}<br>
<span class="textcolor" style="color:#000000">\end</span>{<span class="textcolor" style="color:#0000B2"><a href="base-scopes#pgf.pgfpicture">pgfpicture</a></span>},<br>
<span class="textcolor" style="color:#000000">\begin</span>{<span class="textcolor" style="color:#0000B2"><a href="base-scopes#pgf.pgfpicture">pgfpicture</a></span>}<br>
<span class="spaces">  </span><span class="textcolor" style="color:#0000B2"><a href="base-scopes#pgf.back/pgfsetbaseline">\pgfsetbaseline</a></span>{.<span class="textcolor" style="color:#000000">5ex</span>}<br>
<span class="spaces">  </span><span class="textcolor" style="color:#0000B2"><a href="base-paths#pgf.back/pgfpathcircle">\pgfpathcircle</a></span>{<span class="textcolor" style="color:#0000B2"><a href="base-points#pgf.back/pgfpointorigin">\pgfpointorigin</a></span>}{<span class="textcolor" style="color:#000000">1ex</span>}<span class="textcolor" style="color:#0000B2"><a href="base-actions#pgf.back/pgfusepath">\pgfusepath</a></span>{<span class="textcolor" style="color:#000000">stroke</span>}<br>
<span class="textcolor" style="color:#000000">\end</span>{<span class="textcolor" style="color:#0000B2"><a href="base-scopes#pgf.pgfpicture">pgfpicture</a></span>},<br>
<span class="textcolor" style="color:#000000">\begin</span>{<span class="textcolor" style="color:#0000B2"><a href="base-scopes#pgf.pgfpicture">pgfpicture</a></span>}<br>
<span class="spaces">  </span><span class="textcolor" style="color:#0000B2"><a href="base-scopes#pgf.back/pgfsetbaseline">\pgfsetbaseline</a></span>{<span class="textcolor" style="color:#000000">-1ex</span>}<br>
<span class="spaces">  </span><span class="textcolor" style="color:#0000B2"><a href="base-paths#pgf.back/pgfpathcircle">\pgfpathcircle</a></span>{<span class="textcolor" style="color:#0000B2"><a href="base-points#pgf.back/pgfpointorigin">\pgfpointorigin</a></span>}{<span class="textcolor" style="color:#000000">1ex</span>}<span class="textcolor" style="color:#0000B2"><a href="base-actions#pgf.back/pgfusepath">\pgfusepath</a></span>{<span class="textcolor" style="color:#000000">stroke</span>}<br>
<span class="textcolor" style="color:#000000">\end</span>{<span class="textcolor" style="color:#0000B2"><a href="base-scopes#pgf.pgfpicture">pgfpicture</a></span>}.<br>


</code>
</div>
</figure>

</ul>
</div>



<div class="manualentry">

<ul class="list" style="list-style-type:none">



<div class="entryheadline"> <li>
<p>
<a id="pgf.back/pgfsetbaselinepointnow"></a>
                                               <span class="hl-def"><span class="textcolor" style="color:#BF0000"><kbd>\pgfsetbaselinepointnow</kbd></span>{<span class="angle">&langle;</span><i>point</i><span class="angle">&rangle;</span>}</span>
<a class="anchor-link" data-html-link="pgf.back/pgfsetbaselinepointnow" href="#\pgfsetbaselinepointnow" id="\pgfsetbaselinepointnow">&para;</a></p>
</li></div>
<p>
This command specifies the baseline indirectly, namely as the \(y\)-coordinate that the given <span class="angle">&langle;</span><i>point</i><span class="angle">&rangle;</span> has when the command is called.
</p>

</ul>
</div>



<div class="manualentry">

<ul class="list" style="list-style-type:none">



<div class="entryheadline"> <li>
<p>
<a id="pgf.back/pgfsetbaselinepointlater"></a>
                                                 <span class="hl-def"><span class="textcolor" style="color:#BF0000"><kbd>\pgfsetbaselinepointlater</kbd></span>{<span class="angle">&langle;</span><i>point</i><span class="angle">&rangle;</span>}</span>
<a class="anchor-link" data-html-link="pgf.back/pgfsetbaselinepointlater" href="#\pgfsetbaselinepointlater" id="\pgfsetbaselinepointlater">&para;</a></p>
</li></div>
<p>
This command also specifies the baseline indirectly, but the \(y\)-coordinate of the given <span class="angle">&langle;</span><i>point</i><span class="angle">&rangle;</span> is only computed at the end of the picture.
</p>


<figure class="example">


<div class="example-image">
<p>
<span class="lateximagesource" id="lateximage-pgfmanual-3187"><!--
Hello world.
--><img alt="(image)" class="lateximage" height="21.867" loading="lazy" src="pgfmanual-images/image-3187.png" style width="88.470"></span>
</p>
</div>


<div class="example-code"><button class="clipboardButton" type="button">copy</button>
<code>
<br>
<span class="textcolor" style="color:#000000">Hello</span><br>
<span class="textcolor" style="color:#000000">\begin</span>{<span class="textcolor" style="color:#0000B2"><a href="base-scopes#pgf.pgfpicture">pgfpicture</a></span>}<br>
<span class="spaces">  </span><span class="textcolor" style="color:#0000B2"><a href="base-scopes#pgf.back/pgfsetbaselinepointlater">\pgfsetbaselinepointlater</a></span>{<span class="textcolor" style="color:#0000B2"><a href="base-nodes#pgf.back/pgfpointanchor">\pgfpointanchor</a></span>{<span class="textcolor" style="color:#000000">X</span>}{<span class="textcolor" style="color:#000000"><a href="tikz-animations#pgf.base">base</a></span>}}<br>
<span class="spaces">  </span><span class="example-code-comment">% Note: no shape X, yet</span><br>
<span class="spaces">  </span><span class="textcolor" style="color:#0000B2"><a href="base-nodes#pgf.back/pgfnode">\pgfnode</a></span>{<span class="textcolor" style="color:#000000">cross</span> <span class="textcolor" style="color:#000000"><a href="library-edges#pgf.out">out</a></span>}{<span class="textcolor" style="color:#000000">center</span>}{<span class="textcolor" style="color:#000000">world</span>.}{<span class="textcolor" style="color:#000000">X</span>}{<span class="textcolor" style="color:#0000B2"><a href="base-actions#pgf.back/pgfusepath">\pgfusepath</a></span>{<span class="textcolor" style="color:#000000">stroke</span>}}<br>
<span class="textcolor" style="color:#000000">\end</span>{<span class="textcolor" style="color:#0000B2"><a href="base-scopes#pgf.pgfpicture">pgfpicture</a></span>}<br>


</code>
</div>
</figure>

</ul>
</div>
<h6 id="autosec-7874"><span><span class="sectionnumber" id="sec-100.3.2">100.3.2</span> Graphic Scope Environments</span><a class="anchor-link" data-html-link="sec-100.3.2" data-pdf-destination="subsubsection.100.3.2" data-pdf-page="1078" href="#sec-100.3.2">&para;</a></h6>
<a id="pgfmanual-autopage-7874"></a>


<p>
Inside a <span class="verb">{pgfpicture}</span> environment you can substructure your picture using the following environment:
</p>



<div class="manualentry">

<ul class="list" style="list-style-type:none">



<div class="entryheadline"> <li>
<p>
<a id="pgf.pgfscope"></a>
                         <span class="hl-def"><kbd>\begin{<span class="textcolor" style="color:#BF0000">pgfscope</span>}</kbd></span>
<a class="anchor-link" data-html-link="pgf.pgfscope" href="#pgf.pgfscope" id="pgf.pgfscope">&para;</a></p>
</li></div>


<div class="entryheadline">

<li>


<p>
<span class="hl-def"><kbd> </kbd><span class="angle">&langle;</span><i>environment contents</i><span class="angle">&rangle;</span></span>
</p>
</li></div>


<div class="entryheadline">

<li>


<p>
<span class="hl-def"><kbd>\end{<span class="textcolor" style="color:#BF0000">pgfscope</span>}</kbd></span>
</p>
</li></div>
<p>
All changes to the graphic state done inside this environment are local to the environment. The graphic state includes the following:
</p>
<ul class="itemize" style="list-style-type:none">


<li>
<p>
<span class="listmarker">&bull;</span> The line width.
</p>


</li>
<li>


<p>
<span class="listmarker">&bull;</span> The stroke and fill colors.
</p>


</li>
<li>


<p>
<span class="listmarker">&bull;</span> The dash pattern.
</p>


</li>
<li>


<p>
<span class="listmarker">&bull;</span> The line join and cap.
</p>


</li>
<li>


<p>
<span class="listmarker">&bull;</span> The miter limit.
</p>


</li>
<li>


<p>
<span class="listmarker">&bull;</span> The canvas transformation matrix.
</p>


</li>
<li>


<p>
<span class="listmarker">&bull;</span> The clipping path.
</p>
</li>
</ul>
<p>
Other parameters may also influence how graphics are rendered, but they are <em>not</em> part of the graphic state. For example, the arrow tip kind is not part of the graphic state and the effect of commands setting the arrow tip kind
are local to the current <span class="latexlogofont"><span class="latexlogo">T<span class="latexlogosub">e</span>X</span></span> group, not to the current <span class="verb">{pgfscope}</span>. However, since <span class="verb">{pgfscope}</span> starts and ends a <span class="latexlogofont"><span class="latexlogo">T<span class="latexlogosub">e</span>X</span></span> group automatically, a <span class="verb">{pgfscope}</span> can be used to limit the
effect of, say, commands that set the arrow tip kind.
</p>


<figure class="example">


<div class="example-image">
<p>
<span class="lateximagesource" id="lateximage-pgfmanual-3188"><!--
--><img alt="(-tikz-&nbsp;diagram)" class="lateximage" height="17.119" loading="lazy" src="pgfmanual-images/image-3188.png" style width="51.444"></span>
</p>
</div>


<div class="example-code"><button class="clipboardButton" type="button">copy</button>
<code>
<br>
<span class="textcolor" style="color:#000000">\begin</span>{<span class="textcolor" style="color:#0000B2"><a href="base-scopes#pgf.pgfpicture">pgfpicture</a></span>}<br>
<span class="spaces">  </span><span class="textcolor" style="color:#000000">\begin</span>{<span class="textcolor" style="color:#0000B2"><a href="base-scopes#pgf.pgfscope">pgfscope</a></span>}<br>
<span class="spaces">    </span>{<br>
<span class="spaces">      </span><span class="textcolor" style="color:#0000B2"><a href="base-actions#pgf.back/pgfsetlinewidth">\pgfsetlinewidth</a></span>{<span class="textcolor" style="color:#000000">2pt</span>}<br>
<span class="spaces">      </span><span class="textcolor" style="color:#0000B2"><a href="base-paths#pgf.back/pgfpathrectangle">\pgfpathrectangle</a></span>{<span class="textcolor" style="color:#0000B2"><a href="base-points#pgf.back/pgfpointorigin">\pgfpointorigin</a></span>}{<span class="textcolor" style="color:#0000B2"><a href="base-points#pgf.back/pgfpoint">\pgfpoint</a></span>{<span class="textcolor" style="color:#000000">2ex</span>}{<span class="textcolor" style="color:#000000">2ex</span>}}<br>
<span class="spaces">      </span><span class="textcolor" style="color:#0000B2"><a href="base-actions#pgf.back/pgfusepath">\pgfusepath</a></span>{<span class="textcolor" style="color:#000000">stroke</span>}<br>
<span class="spaces">    </span>}<br>
<span class="spaces">    </span><span class="textcolor" style="color:#0000B2"><a href="base-paths#pgf.back/pgfpathrectangle">\pgfpathrectangle</a></span>{<span class="textcolor" style="color:#0000B2"><a href="base-points#pgf.back/pgfpoint">\pgfpoint</a></span>{<span class="textcolor" style="color:#000000">3ex</span>}{<span class="textcolor" style="color:#000000">0ex</span>}}{<span class="textcolor" style="color:#0000B2"><a href="base-points#pgf.back/pgfpoint">\pgfpoint</a></span>{<span class="textcolor" style="color:#000000">2ex</span>}{<span class="textcolor" style="color:#000000">2ex</span>}}<br>
<span class="spaces">    </span><span class="textcolor" style="color:#0000B2"><a href="base-actions#pgf.back/pgfusepath">\pgfusepath</a></span>{<span class="textcolor" style="color:#000000">stroke</span>}<br>
<span class="spaces">  </span><span class="textcolor" style="color:#000000">\end</span>{<span class="textcolor" style="color:#0000B2"><a href="base-scopes#pgf.pgfscope">pgfscope</a></span>}<br>
<span class="spaces">  </span><span class="textcolor" style="color:#0000B2"><a href="base-paths#pgf.back/pgfpathrectangle">\pgfpathrectangle</a></span>{<span class="textcolor" style="color:#0000B2"><a href="base-points#pgf.back/pgfpoint">\pgfpoint</a></span>{<span class="textcolor" style="color:#000000">6ex</span>}{<span class="textcolor" style="color:#000000">0ex</span>}}{<span class="textcolor" style="color:#0000B2"><a href="base-points#pgf.back/pgfpoint">\pgfpoint</a></span>{<span class="textcolor" style="color:#000000">2ex</span>}{<span class="textcolor" style="color:#000000">2ex</span>}}<br>
<span class="spaces">  </span><span class="textcolor" style="color:#0000B2"><a href="base-actions#pgf.back/pgfusepath">\pgfusepath</a></span>{<span class="textcolor" style="color:#000000">stroke</span>}<br>
<span class="textcolor" style="color:#000000">\end</span>{<span class="textcolor" style="color:#0000B2"><a href="base-scopes#pgf.pgfpicture">pgfpicture</a></span>}<br>


</code>
</div>
</figure>


<figure class="example">


<div class="example-image">
<p>
<span class="lateximagesource" id="lateximage-pgfmanual-3189"><!--
--><img alt="(-tikz-&nbsp;diagram)" class="lateximage" height="15.051" loading="lazy" src="pgfmanual-images/image-3189.png" style width="50.235"></span>
</p>
</div>


<div class="example-code"><button class="clipboardButton" type="button">copy</button>
<code>
<br>
<span class="textcolor" style="color:#000000">\begin</span>{<span class="textcolor" style="color:#0000B2"><a href="base-scopes#pgf.pgfpicture">pgfpicture</a></span>}<br>
<span class="spaces">  </span><span class="textcolor" style="color:#000000">\begin</span>{<span class="textcolor" style="color:#0000B2"><a href="base-scopes#pgf.pgfscope">pgfscope</a></span>}<br>
<span class="spaces">    </span>{<br>
<span class="spaces">      </span><span class="textcolor" style="color:#0000B2"><a href="base-actions#pgf.back/pgfsetarrows">\pgfsetarrows</a></span>{<span class="textcolor" style="color:#000000"><a href="tikz-graphs#pgf.-&gt;">-&gt;</a></span>}<br>
<span class="spaces">      </span><span class="textcolor" style="color:#0000B2"><a href="base-paths#pgf.back/pgfpathmoveto">\pgfpathmoveto</a></span>{<span class="textcolor" style="color:#0000B2"><a href="base-points#pgf.back/pgfpointorigin">\pgfpointorigin</a></span>}<span class="textcolor" style="color:#0000B2"><a href="base-paths#pgf.back/pgfpathlineto">\pgfpathlineto</a></span>{<span class="textcolor" style="color:#0000B2"><a href="base-points#pgf.back/pgfpoint">\pgfpoint</a></span>{<span class="textcolor" style="color:#000000">2ex</span>}{<span class="textcolor" style="color:#000000">2ex</span>}}<br>
<span class="spaces">      </span><span class="textcolor" style="color:#0000B2"><a href="base-actions#pgf.back/pgfusepath">\pgfusepath</a></span>{<span class="textcolor" style="color:#000000">stroke</span>}<br>
<span class="spaces">    </span>}<br>
<span class="spaces">    </span><span class="textcolor" style="color:#0000B2"><a href="base-paths#pgf.back/pgfpathmoveto">\pgfpathmoveto</a></span>{<span class="textcolor" style="color:#0000B2"><a href="base-points#pgf.back/pgfpoint">\pgfpoint</a></span>{<span class="textcolor" style="color:#000000">3ex</span>}{<span class="textcolor" style="color:#000000">0ex</span>}}<span class="textcolor" style="color:#0000B2"><a href="base-paths#pgf.back/pgfpathlineto">\pgfpathlineto</a></span>{<span class="textcolor" style="color:#0000B2"><a href="base-points#pgf.back/pgfpoint">\pgfpoint</a></span>{<span class="textcolor" style="color:#000000">5ex</span>}{<span class="textcolor" style="color:#000000">2ex</span>}}<br>
<span class="spaces">    </span><span class="textcolor" style="color:#0000B2"><a href="base-actions#pgf.back/pgfusepath">\pgfusepath</a></span>{<span class="textcolor" style="color:#000000">stroke</span>}<br>
<span class="spaces">  </span><span class="textcolor" style="color:#000000">\end</span>{<span class="textcolor" style="color:#0000B2"><a href="base-scopes#pgf.pgfscope">pgfscope</a></span>}<br>
<span class="spaces">  </span><span class="textcolor" style="color:#0000B2"><a href="base-paths#pgf.back/pgfpathmoveto">\pgfpathmoveto</a></span>{<span class="textcolor" style="color:#0000B2"><a href="base-points#pgf.back/pgfpoint">\pgfpoint</a></span>{<span class="textcolor" style="color:#000000">6ex</span>}{<span class="textcolor" style="color:#000000">0ex</span>}}<span class="textcolor" style="color:#0000B2"><a href="base-paths#pgf.back/pgfpathlineto">\pgfpathlineto</a></span>{<span class="textcolor" style="color:#0000B2"><a href="base-points#pgf.back/pgfpoint">\pgfpoint</a></span>{<span class="textcolor" style="color:#000000">8ex</span>}{<span class="textcolor" style="color:#000000">2ex</span>}}<br>
<span class="spaces">  </span><span class="textcolor" style="color:#0000B2"><a href="base-actions#pgf.back/pgfusepath">\pgfusepath</a></span>{<span class="textcolor" style="color:#000000">stroke</span>}<br>
<span class="textcolor" style="color:#000000">\end</span>{<span class="textcolor" style="color:#0000B2"><a href="base-scopes#pgf.pgfpicture">pgfpicture</a></span>}<br>


</code>
</div>
</figure>
<p>
At the start of the scope, the current path must be empty, that is, you cannot open a scope while constructing a path.
</p>
<p>
It is usually a good idea <em>not</em> to introduce <span class="latexlogofont"><span class="latexlogo">T<span class="latexlogosub">e</span>X</span></span> groups inside a <span class="verb">{pgfscope}</span> environment.
</p>

</ul>
</div>



<div class="manualentry">

<ul class="list" style="list-style-type:none">



<div class="entryheadline"> <li>
<p>
<span class="hl-def"><kbd><span class="textcolor" style="color:#BF0000">\pgfscope</span></kbd></span>
</p>
</li></div>


<div class="entryheadline">

<li>


<p>
<span class="hl-def"><kbd> </kbd><span class="angle">&langle;</span><i>environment contents</i><span class="angle">&rangle;</span></span>
</p>
</li></div>


<div class="entryheadline">

<li>


<p>
<span class="hl-def"><kbd><span class="textcolor" style="color:#BF0000">\endpgfscope</span></kbd></span>
</p>
</li></div>
<p>
Plain <span class="latexlogofont"><span class="latexlogo">T<span class="latexlogosub">e</span>X</span></span> version of the <span class="verb">{pgfscope}</span> environment.
</p>

</ul>
</div>



<div class="manualentry">

<ul class="list" style="list-style-type:none">



<div class="entryheadline"> <li>
<p>
<span class="hl-def"><kbd><span class="textcolor" style="color:#BF0000">\startpgfscope</span></kbd></span>
</p>
</li></div>


<div class="entryheadline">

<li>


<p>
<span class="hl-def"><kbd> </kbd><span class="angle">&langle;</span><i>environment contents</i><span class="angle">&rangle;</span></span>
</p>
</li></div>


<div class="entryheadline">

<li>


<p>
<span class="hl-def"><kbd><span class="textcolor" style="color:#BF0000">\stoppgfscope</span></kbd></span>
</p>
</li></div>
<p>
This is the Con<span class="latexlogofont"><span class="latexlogo">T<span class="latexlogosub">e</span>X</span></span>t version of the environment.
</p>

</ul>
</div>

<p>
The following scopes also encapsulate certain properties of the graphic state. However, they are typically not used directly by the user.
</p>



<div class="manualentry">

<ul class="list" style="list-style-type:none">



<div class="entryheadline"> <li>
<p>
<a id="pgf.pgfinterruptpath"></a>
                                 <span class="hl-def"><kbd>\begin{<span class="textcolor" style="color:#BF0000">pgfinterruptpath</span>}</kbd></span>
<a class="anchor-link" data-html-link="pgf.pgfinterruptpath" href="#pgf.pgfinterruptpath" id="pgf.pgfinterruptpath">&para;</a></p>
</li></div>


<div class="entryheadline">

<li>


<p>
<span class="hl-def"><kbd> </kbd><span class="angle">&langle;</span><i>environment contents</i><span class="angle">&rangle;</span></span>
</p>
</li></div>


<div class="entryheadline">

<li>


<p>
<span class="hl-def"><kbd>\end{<span class="textcolor" style="color:#BF0000">pgfinterruptpath</span>}</kbd></span>
</p>
</li></div>
<p>
This environment can be used to temporarily interrupt the construction of the current path. The effect will be that the path currently under construction will be &ldquo;stored away&rdquo; and restored at the end of the environment. Inside the
environment you can construct a new path and do something with it.
</p>
<p>
An example application of this environment is the arrow tip caching. Suppose you ask <span class="textsc">pgf</span> to use a specific arrow tip kind. When the arrow tip needs to be rendered for the first time, <span class="textsc">pgf</span> will &ldquo;cache&rdquo; the path that makes up the arrow tip. To do so, it interrupts the current path construction and then protocols the path of the arrow tip. The <span class="verb">{pgfinterruptpath}</span>
environment is used to ensure that this does not interfere with the path to which the arrow tips should be attached.
</p>
<p>
This command does <em>not</em> install a <span class="verb">{pgfscope}</span>. In particular, it does not call any <span class="verb">\pgfsys@</span> commands at all, which would, indeed, be dangerous in the middle of a path construction.
</p>

</ul>
</div>



<div class="manualentry">

<ul class="list" style="list-style-type:none">



<div class="entryheadline"> <li>
<p>
<span class="hl-def"><kbd><span class="textcolor" style="color:#BF0000">\pgfinterruptpath</span></kbd></span>
</p>
</li></div>


<div class="entryheadline">

<li>


<p>
<span class="hl-def"><kbd> </kbd><span class="angle">&langle;</span><i>environment contents</i><span class="angle">&rangle;</span></span>
</p>
</li></div>


<div class="entryheadline">

<li>


<p>
<span class="hl-def"><kbd><span class="textcolor" style="color:#BF0000">\endpgfinterruptpath</span></kbd></span>
</p>
</li></div>
<p>
Plain <span class="latexlogofont"><span class="latexlogo">T<span class="latexlogosub">e</span>X</span></span> version of the environment.
</p>

</ul>
</div>



<div class="manualentry">

<ul class="list" style="list-style-type:none">



<div class="entryheadline"> <li>
<p>
<span class="hl-def"><kbd><span class="textcolor" style="color:#BF0000">\startpgfinterruptpath</span></kbd></span>
</p>
</li></div>


<div class="entryheadline">

<li>


<p>
<span class="hl-def"><kbd> </kbd><span class="angle">&langle;</span><i>environment contents</i><span class="angle">&rangle;</span></span>
</p>
</li></div>


<div class="entryheadline">

<li>


<p>
<span class="hl-def"><kbd><span class="textcolor" style="color:#BF0000">\stoppgfinterruptpath</span></kbd></span>
</p>
</li></div>
<p>
Con<span class="latexlogofont"><span class="latexlogo">T<span class="latexlogosub">e</span>X</span></span>t version of the environment.
</p>

</ul>
</div>



<div class="manualentry">

<ul class="list" style="list-style-type:none">



<div class="entryheadline"> <li>
<p>
<a id="pgf.pgfinterruptpicture"></a>
                                        <span class="hl-def"><kbd>\begin{<span class="textcolor" style="color:#BF0000">pgfinterruptpicture</span>}</kbd></span>
<a class="anchor-link" data-html-link="pgf.pgfinterruptpicture" href="#pgf.pgfinterruptpicture" id="pgf.pgfinterruptpicture">&para;</a></p>
</li></div>


<div class="entryheadline">

<li>


<p>
<span class="hl-def"><kbd> </kbd><span class="angle">&langle;</span><i>environment contents</i><span class="angle">&rangle;</span></span>
</p>
</li></div>


<div class="entryheadline">

<li>


<p>
<span class="hl-def"><kbd>\end{<span class="textcolor" style="color:#BF0000">pgfinterruptpicture</span>}</kbd></span>
</p>
</li></div>
<p>
This environment can be used to temporarily interrupt a <span class="verb">{pgfpicture}</span>. However, the environment is intended only to be used at the beginning and end of a box that is (later) inserted into a <span class="verb">{pgfpicture}</span> using <span class="verb">\pgfqbox</span>. You cannot use this environment directly inside a <span class="verb">{pgfpicture}</span>.
</p>


<figure class="example">


<div class="example-image">
<p>
<span class="lateximagesource" id="lateximage-pgfmanual-3190"><!--
Sub--picture.
--><img alt="(-tikz-&nbsp;diagram)" class="lateximage" height="43.323" loading="lazy" src="pgfmanual-images/image-3190.png" style width="94.586"></span>
</p>
</div>


<div class="example-code"><button class="clipboardButton" type="button">copy</button>
<code>
<br>
<span class="textcolor" style="color:#000000">\begin</span>{<span class="textcolor" style="color:#0000B2"><a href="base-scopes#pgf.pgfpicture">pgfpicture</a></span>}<br>
<span class="spaces">  </span><span class="textcolor" style="color:#0000B2"><a href="base-paths#pgf.back/pgfpathmoveto">\pgfpathmoveto</a></span>{<span class="textcolor" style="color:#0000B2"><a href="base-points#pgf.back/pgfpoint">\pgfpoint</a></span>{<span class="textcolor" style="color:#000000">0cm</span>}{<span class="textcolor" style="color:#000000">0cm</span>}} <span class="example-code-comment">% In the middle of path, now</span><br>
<span class="spaces">  </span><span class="textcolor" style="color:#0000B2">\newbox</span><span class="textcolor" style="color:#0000B2">\mybox</span><br>
<span class="spaces">  </span><span class="textcolor" style="color:#0000B2">\setbox</span><span class="textcolor" style="color:#0000B2">\mybox</span><span class="textcolor" style="color:#000000">=</span><span class="textcolor" style="color:#0000B2">\hbox</span>{<br>
<span class="spaces">    </span><span class="textcolor" style="color:#000000">\begin</span>{<span class="textcolor" style="color:#0000B2"><a href="base-scopes#pgf.pgfinterruptpicture">pgfinterruptpicture</a></span>}<br>
<span class="spaces">      </span><span class="textcolor" style="color:#000000">Sub-</span><span class="textcolor" style="color:#000000">\begin</span>{<span class="textcolor" style="color:#0000B2"><a href="base-scopes#pgf.pgfpicture">pgfpicture</a></span>} <span class="example-code-comment">% a subpicture</span><br>
<span class="spaces">        </span><span class="textcolor" style="color:#0000B2"><a href="base-paths#pgf.back/pgfpathmoveto">\pgfpathmoveto</a></span>{<span class="textcolor" style="color:#0000B2"><a href="base-points#pgf.back/pgfpoint">\pgfpoint</a></span>{<span class="textcolor" style="color:#000000">1cm</span>}{<span class="textcolor" style="color:#000000">0cm</span>}}<br>
<span class="spaces">        </span><span class="textcolor" style="color:#0000B2"><a href="base-paths#pgf.back/pgfpathlineto">\pgfpathlineto</a></span>{<span class="textcolor" style="color:#0000B2"><a href="base-points#pgf.back/pgfpoint">\pgfpoint</a></span>{<span class="textcolor" style="color:#000000">1cm</span>}{<span class="textcolor" style="color:#000000">1cm</span>}}<br>
<span class="spaces">        </span><span class="textcolor" style="color:#0000B2"><a href="base-actions#pgf.back/pgfusepath">\pgfusepath</a></span>{<span class="textcolor" style="color:#000000">stroke</span>}<br>
<span class="spaces">      </span><span class="textcolor" style="color:#000000">\end</span>{<span class="textcolor" style="color:#0000B2"><a href="base-scopes#pgf.pgfpicture">pgfpicture</a></span>}<span class="textcolor" style="color:#000000">-picture</span>.<br>
<span class="spaces">    </span><span class="textcolor" style="color:#000000">\end</span>{<span class="textcolor" style="color:#0000B2"><a href="base-scopes#pgf.pgfinterruptpicture">pgfinterruptpicture</a></span>}<br>
<span class="spaces">  </span>}<br>
<span class="spaces">  </span><span class="textcolor" style="color:#0000B2"><a href="base-quick#pgf.back/pgfqbox">\pgfqbox</a></span>{<span class="textcolor" style="color:#0000B2">\mybox</span>}<span class="example-code-comment">%</span><br>
<span class="spaces">  </span><span class="textcolor" style="color:#0000B2"><a href="base-paths#pgf.back/pgfpathlineto">\pgfpathlineto</a></span>{<span class="textcolor" style="color:#0000B2"><a href="base-points#pgf.back/pgfpoint">\pgfpoint</a></span>{<span class="textcolor" style="color:#000000">0cm</span>}{<span class="textcolor" style="color:#000000">1cm</span>}}<br>
<span class="spaces">  </span><span class="textcolor" style="color:#0000B2"><a href="base-actions#pgf.back/pgfusepath">\pgfusepath</a></span>{<span class="textcolor" style="color:#000000">stroke</span>}<br>
<span class="textcolor" style="color:#000000">\end</span>{<span class="textcolor" style="color:#0000B2"><a href="base-scopes#pgf.pgfpicture">pgfpicture</a></span>}<span class="textcolor" style="color:#0000B2">\hskip</span><span class="textcolor" style="color:#000000">3</span>.<span class="textcolor" style="color:#000000">9cm</span><br>


</code>
</div>
</figure>

</ul>
</div>



<div class="manualentry">

<ul class="list" style="list-style-type:none">



<div class="entryheadline"> <li>
<p>
<span class="hl-def"><kbd><span class="textcolor" style="color:#BF0000">\pgfinterruptpicture</span></kbd></span>
</p>
</li></div>


<div class="entryheadline">

<li>


<p>
<span class="hl-def"><kbd> </kbd><span class="angle">&langle;</span><i>environment contents</i><span class="angle">&rangle;</span></span>
</p>
</li></div>


<div class="entryheadline">

<li>


<p>
<span class="hl-def"><kbd><span class="textcolor" style="color:#BF0000">\endpgfinterruptpicture</span></kbd></span>
</p>
</li></div>
<p>
Plain <span class="latexlogofont"><span class="latexlogo">T<span class="latexlogosub">e</span>X</span></span> version of the environment.
</p>

</ul>
</div>



<div class="manualentry">

<ul class="list" style="list-style-type:none">



<div class="entryheadline"> <li>
<p>
<span class="hl-def"><kbd><span class="textcolor" style="color:#BF0000">\startpgfinterruptpicture</span></kbd></span>
</p>
</li></div>


<div class="entryheadline">

<li>


<p>
<span class="hl-def"><kbd> </kbd><span class="angle">&langle;</span><i>environment contents</i><span class="angle">&rangle;</span></span>
</p>
</li></div>


<div class="entryheadline">

<li>


<p>
<span class="hl-def"><kbd><span class="textcolor" style="color:#BF0000">\stoppgfinterruptpicture</span></kbd></span>
</p>
</li></div>
<p>
Con<span class="latexlogofont"><span class="latexlogo">T<span class="latexlogosub">e</span>X</span></span>t version of the environment.
</p>

</ul>
</div>



<div class="manualentry">

<ul class="list" style="list-style-type:none">



<div class="entryheadline"> <li>
<p>
<a id="pgf.pgfinterruptboundingbox"></a>
                                        <span class="hl-def"><kbd>\begin{<span class="textcolor" style="color:#BF0000">pgfinterruptboundingbox</span>}</kbd></span>
<a class="anchor-link" data-html-link="pgf.pgfinterruptboundingbox" href="#pgf.pgfinterruptboundingbox" id="pgf.pgfinterruptboundingbox">&para;</a></p>
</li></div>


<div class="entryheadline">

<li>


<p>
<span class="hl-def"><kbd> </kbd><span class="angle">&langle;</span><i>environment contents</i><span class="angle">&rangle;</span></span>
</p>
</li></div>


<div class="entryheadline">

<li>


<p>
<span class="hl-def"><kbd>\end{<span class="textcolor" style="color:#BF0000">pgfinterruptboundingbox</span>}</kbd></span>
</p>
</li></div>
<p>
This environment temporarily interrupts the computation of the bounding box and sets up a new bounding box. At the beginning of the environment the old bounding box is saved and an empty bounding box is installed. After the
environment the original bounding box is reinstalled as if nothing has happened.
</p>

</ul>
</div>



<div class="manualentry">

<ul class="list" style="list-style-type:none">



<div class="entryheadline"> <li>
<p>
<span class="hl-def"><kbd><span class="textcolor" style="color:#BF0000">\pgfinterruptboundingbox</span></kbd></span>
</p>
</li></div>


<div class="entryheadline">

<li>


<p>
<span class="hl-def"><kbd> </kbd><span class="angle">&langle;</span><i>environment contents</i><span class="angle">&rangle;</span></span>
</p>
</li></div>


<div class="entryheadline">

<li>


<p>
<span class="hl-def"><kbd><span class="textcolor" style="color:#BF0000">\endpgfinterruptboundingbox</span></kbd></span>
</p>
</li></div>
<p>
Plain <span class="latexlogofont"><span class="latexlogo">T<span class="latexlogosub">e</span>X</span></span> version of the environment.
</p>

</ul>
</div>



<div class="manualentry">

<ul class="list" style="list-style-type:none">



<div class="entryheadline"> <li>
<p>
<span class="hl-def"><kbd><span class="textcolor" style="color:#BF0000">\startpgfinterruptboundingbox</span></kbd></span>
</p>
</li></div>


<div class="entryheadline">

<li>


<p>
<span class="hl-def"><kbd> </kbd><span class="angle">&langle;</span><i>environment contents</i><span class="angle">&rangle;</span></span>
</p>
</li></div>


<div class="entryheadline">

<li>


<p>
<span class="hl-def"><kbd><span class="textcolor" style="color:#BF0000">\stoppgfinterruptboundingbox</span></kbd></span>
</p>
</li></div>
<p>
Con<span class="latexlogofont"><span class="latexlogo">T<span class="latexlogosub">e</span>X</span></span>t version of the environment.
</p>

</ul>
</div>
<h6 id="autosec-7881"><a id="section-text-command"></a><span><span class="sectionnumber" id="sec-100.3.3">100.3.3</span> Inserting Text and Images</span><a class="anchor-link" data-html-link="sec-100.3.3" data-pdf-destination="subsubsection.100.3.3" data-pdf-page="1081" href="#sec-100.3.3">&para;</a></h6>
<a id="pgfmanual-autopage-7881"></a>




<p>
Often, you may wish to add normal <span class="latexlogofont"><span class="latexlogo">T<span class="latexlogosub">e</span>X</span></span> text at a certain point inside a <span class="verb">{pgfpicture}</span>. You cannot do so
&ldquo;directly&rdquo;, that is, you cannot simply write this text inside the <span class="verb">{pgfpicture}</span> environment. Rather, you must pass the text as an argument to the <span class="verb">\pgftext</span> command.
</p>

<p>
You must <em>also</em> use the <span class="verb">\pgftext</span> command to insert an image or a shading into a <span class="verb">{pgfpicture}</span>.
</p>



<div class="manualentry">

<ul class="list" style="list-style-type:none">



<div class="entryheadline"> <li>
<p>
<a id="pgf.back/pgftext"></a>
                                 <span class="hl-def"><span class="textcolor" style="color:#BF0000"><kbd>\pgftext</kbd></span><span class="textcolor" style="color:#008000">[<span class="angle">&langle;</span><i>options</i><span class="angle">&rangle;</span>]</span>{<span class="angle">&langle;</span><i>text</i><span class="angle">&rangle;</span>}</span>
<a class="anchor-link" data-html-link="pgf.back/pgftext" href="#\pgftext" id="\pgftext">&para;</a></p>
</li></div>
<p>
This command will typeset <span class="angle">&langle;</span><i>text</i><span class="angle">&rangle;</span> in normal <span class="latexlogofont"><span class="latexlogo">T<span class="latexlogosub">e</span>X</span></span> mode and
insert the resulting box into the <span class="verb">{pgfpicture}</span>. The bounding box of the graphic will be updated so that all of the text box is inside. By default, the text box is centered at the origin, but this can be changed
either by giving appropriate <span class="angle">&langle;</span><i>options</i><span class="angle">&rangle;</span> or by applying an appropriate coordinate transformation beforehand.
</p>
<p>
The <span class="angle">&langle;</span><i>text</i><span class="angle">&rangle;</span> may contain verbatim text. (In other words, the <span class="angle">&langle;</span><i>text</i><span class="angle">&rangle;</span> &ldquo;argument&rdquo; is not a
normal argument, but is put in a box and some <span class="verb">\aftergroup</span> hackery is used to find the end of the box.)
</p>
<p>
<span class="textsc">pgf</span>&rsquo;s current (high-level) coordinate transformation is synchronized with the canvas transformation matrix temporarily when the text box is inserted. The effect is that if there is currently a high-level
rotation of, say, 30 degrees, the <span class="angle">&langle;</span><i>text</i><span class="angle">&rangle;</span> will also be rotated by thirty degrees. If you do not want this effect, you have to (possibly temporarily) reset the high-level
transformation matrix.
</p>
<p>
The <span class="angle">&langle;</span><i>options</i><span class="angle">&rangle;</span> keys are used with the path <span class="verb">/pgf/text/</span>. The following keys are defined for this path:
</p>


<div class="manualentry">
<ul class="list" style="list-style-type:none">



<div class="entryheadline"> <li>
<p>
<a id="pgf./pgf/text/left"></a>
                                   <span class="hl-def"><kbd><span class="keyname"><span class="textcolor" style="color:#BF0000">/pgf/text/left</span></span></kbd></span><span class="hl-default">(no value)</span>
<a class="anchor-link" data-html-link="pgf./pgf/text/left" href="#pgf/text/left" id="pgf/text/left">&para;</a></p>
</li></div>
<p>
The key causes the text box to be placed such that its left border is on the origin.
</p>


<figure class="example">


<div class="example-image">
<p>
<span class="lateximagesource" id="lateximage-pgfmanual-3191"><!--
lovely
--><img alt="(-tikz-&nbsp;diagram)" class="lateximage" height="40.491" loading="lazy" src="pgfmanual-images/image-3191.png" style width="78.650"></span>
</p>
</div>


<div class="example-code"><button class="clipboardButton" type="button">copy</button>
<code>
<br>
<span class="textcolor" style="color:#0000B2"><a href="tikz-scopes#pgf.back/tikz">\tikz</a></span>{<span class="textcolor" style="color:#0000B2"><a href="tikz-actions#pgf.back/draw">\draw</a></span>[<span class="textcolor" style="color:#008000"><a href="tikz-paths#pgf.help:lines">help lines</a></span>] <span class="textcolor" style="color:#800080">(-1,-.5)</span> <span class="textcolor" style="color:#000000"><a href="tikz-paths#pgf.grid">grid</a></span> <span class="textcolor" style="color:#800080">(1,.5)</span>;<br>
<span class="spaces">     </span><span class="textcolor" style="color:#0000B2"><a href="base-scopes#pgf.back/pgftext">\pgftext</a></span>[<span class="textcolor" style="color:#008000"><a href="tikz-arrows#pgf.left">left</a></span>] {<span class="textcolor" style="color:#000000">lovely</span>}}<br>


</code>
</div>
</figure>

</ul>
</div>


<div class="manualentry">
<ul class="list" style="list-style-type:none">



<div class="entryheadline"> <li>
<p>
<a id="pgf./pgf/text/right"></a>
                                    <span class="hl-def"><kbd><span class="keyname"><span class="textcolor" style="color:#BF0000">/pgf/text/right</span></span></kbd></span><span class="hl-default">(no value)</span>
<a class="anchor-link" data-html-link="pgf./pgf/text/right" href="#pgf/text/right" id="pgf/text/right">&para;</a></p>
</li></div>
<p>
The key causes the text box to be placed such that its right border is on the origin.
</p>


<figure class="example">


<div class="example-image">
<p>
<span class="lateximagesource" id="lateximage-pgfmanual-3192"><!--
lovely
--><img alt="(-tikz-&nbsp;diagram)" class="lateximage" height="40.491" loading="lazy" src="pgfmanual-images/image-3192.png" style width="78.537"></span>
</p>
</div>


<div class="example-code"><button class="clipboardButton" type="button">copy</button>
<code>
<br>
<span class="textcolor" style="color:#0000B2"><a href="tikz-scopes#pgf.back/tikz">\tikz</a></span>{<span class="textcolor" style="color:#0000B2"><a href="tikz-actions#pgf.back/draw">\draw</a></span>[<span class="textcolor" style="color:#008000"><a href="tikz-paths#pgf.help:lines">help lines</a></span>] <span class="textcolor" style="color:#800080">(-1,-.5)</span> <span class="textcolor" style="color:#000000"><a href="tikz-paths#pgf.grid">grid</a></span> <span class="textcolor" style="color:#800080">(1,.5)</span>;<br>
<span class="spaces">     </span><span class="textcolor" style="color:#0000B2"><a href="base-scopes#pgf.back/pgftext">\pgftext</a></span>[<span class="textcolor" style="color:#008000"><a href="tikz-arrows#pgf.right">right</a></span>] {<span class="textcolor" style="color:#000000">lovely</span>}}<br>


</code>
</div>
</figure>

</ul>
</div>


<div class="manualentry">
<ul class="list" style="list-style-type:none">



<div class="entryheadline"> <li>
<p>
<a id="pgf./pgf/text/top"></a><a id="pgf.top"></a>
                                                     <span class="hl-def"><kbd><span class="keyname"><span class="textcolor" style="color:#BF0000">/pgf/text/top</span></span></kbd></span><span class="hl-default">(no value)</span>
<a class="anchor-link" data-html-link="pgf./pgf/text/top" href="#pgf/text/top" id="pgf/text/top">&para;</a></p>
</li></div>
<p>
This key causes the text box to be placed such that its top is on the origin. This option can be used together with the <span class="verb">left</span> or <span class="verb">right</span> option.
</p>


<figure class="example">


<div class="example-image">
<p>
<span class="lateximagesource" id="lateximage-pgfmanual-3193"><!--
lovely
--><img alt="(-tikz-&nbsp;diagram)" class="lateximage" height="40.491" loading="lazy" src="pgfmanual-images/image-3193.png" style width="78.554"></span>
</p>
</div>


<div class="example-code"><button class="clipboardButton" type="button">copy</button>
<code>
<br>
<span class="textcolor" style="color:#0000B2"><a href="tikz-scopes#pgf.back/tikz">\tikz</a></span>{<span class="textcolor" style="color:#0000B2"><a href="tikz-actions#pgf.back/draw">\draw</a></span>[<span class="textcolor" style="color:#008000"><a href="tikz-paths#pgf.help:lines">help lines</a></span>] <span class="textcolor" style="color:#800080">(-1,-.5)</span> <span class="textcolor" style="color:#000000"><a href="tikz-paths#pgf.grid">grid</a></span> <span class="textcolor" style="color:#800080">(1,.5)</span>;<br>
<span class="spaces">     </span><span class="textcolor" style="color:#0000B2"><a href="base-scopes#pgf.back/pgftext">\pgftext</a></span>[<span class="textcolor" style="color:#008000"><a href="base-scopes#pgf.top">top</a></span>] {<span class="textcolor" style="color:#000000">lovely</span>}}<br>


</code>
</div>
</figure>


<figure class="example">


<div class="example-image">
<p>
<span class="lateximagesource" id="lateximage-pgfmanual-3194"><!--
lovely
--><img alt="(-tikz-&nbsp;diagram)" class="lateximage" height="40.491" loading="lazy" src="pgfmanual-images/image-3194.png" style width="78.537"></span>
</p>
</div>


<div class="example-code"><button class="clipboardButton" type="button">copy</button>
<code>
<br>
<span class="textcolor" style="color:#0000B2"><a href="tikz-scopes#pgf.back/tikz">\tikz</a></span>{<span class="textcolor" style="color:#0000B2"><a href="tikz-actions#pgf.back/draw">\draw</a></span>[<span class="textcolor" style="color:#008000"><a href="tikz-paths#pgf.help:lines">help lines</a></span>] <span class="textcolor" style="color:#800080">(-1,-.5)</span> <span class="textcolor" style="color:#000000"><a href="tikz-paths#pgf.grid">grid</a></span> <span class="textcolor" style="color:#800080">(1,.5)</span>;<br>
<span class="spaces">     </span><span class="textcolor" style="color:#0000B2"><a href="base-scopes#pgf.back/pgftext">\pgftext</a></span>[<span class="textcolor" style="color:#008000"><a href="base-scopes#pgf.top">top</a></span>,<span class="textcolor" style="color:#008000"><a href="tikz-arrows#pgf.right">right</a></span>] {<span class="textcolor" style="color:#000000">lovely</span>}}<br>


</code>
</div>
</figure>

</ul>
</div>


<div class="manualentry">
<ul class="list" style="list-style-type:none">



<div class="entryheadline"> <li>
<p>
<a id="pgf./pgf/text/bottom"></a><a id="pgf.bottom"></a>
                                                           <span class="hl-def"><kbd><span class="keyname"><span class="textcolor" style="color:#BF0000">/pgf/text/bottom</span></span></kbd></span><span class="hl-default">(no value)</span>
<a class="anchor-link" data-html-link="pgf./pgf/text/bottom" href="#pgf/text/bottom" id="pgf/text/bottom">&para;</a></p>
</li></div>
<p>
This key causes the text box to be placed such that its bottom is on the origin.
</p>


<figure class="example">


<div class="example-image">
<p>
<span class="lateximagesource" id="lateximage-pgfmanual-3195"><!--
lovely
--><img alt="(-tikz-&nbsp;diagram)" class="lateximage" height="40.491" loading="lazy" src="pgfmanual-images/image-3195.png" style width="78.554"></span>
</p>
</div>


<div class="example-code"><button class="clipboardButton" type="button">copy</button>
<code>
<br>
<span class="textcolor" style="color:#0000B2"><a href="tikz-scopes#pgf.back/tikz">\tikz</a></span>{<span class="textcolor" style="color:#0000B2"><a href="tikz-actions#pgf.back/draw">\draw</a></span>[<span class="textcolor" style="color:#008000"><a href="tikz-paths#pgf.help:lines">help lines</a></span>] <span class="textcolor" style="color:#800080">(-1,-.5)</span> <span class="textcolor" style="color:#000000"><a href="tikz-paths#pgf.grid">grid</a></span> <span class="textcolor" style="color:#800080">(1,.5)</span>;<br>
<span class="spaces">     </span><span class="textcolor" style="color:#0000B2"><a href="base-scopes#pgf.back/pgftext">\pgftext</a></span>[<span class="textcolor" style="color:#008000"><a href="base-scopes#pgf.bottom">bottom</a></span>] {<span class="textcolor" style="color:#000000">lovely</span>}}<br>


</code>
</div>
</figure>


<figure class="example">


<div class="example-image">
<p>
<span class="lateximagesource" id="lateximage-pgfmanual-3196"><!--
lovely
--><img alt="(-tikz-&nbsp;diagram)" class="lateximage" height="40.491" loading="lazy" src="pgfmanual-images/image-3196.png" style width="78.537"></span>
</p>
</div>


<div class="example-code"><button class="clipboardButton" type="button">copy</button>
<code>
<br>
<span class="textcolor" style="color:#0000B2"><a href="tikz-scopes#pgf.back/tikz">\tikz</a></span>{<span class="textcolor" style="color:#0000B2"><a href="tikz-actions#pgf.back/draw">\draw</a></span>[<span class="textcolor" style="color:#008000"><a href="tikz-paths#pgf.help:lines">help lines</a></span>] <span class="textcolor" style="color:#800080">(-1,-.5)</span> <span class="textcolor" style="color:#000000"><a href="tikz-paths#pgf.grid">grid</a></span> <span class="textcolor" style="color:#800080">(1,.5)</span>;<br>
<span class="spaces">     </span><span class="textcolor" style="color:#0000B2"><a href="base-scopes#pgf.back/pgftext">\pgftext</a></span>[<span class="textcolor" style="color:#008000"><a href="base-scopes#pgf.bottom">bottom</a></span>,<span class="textcolor" style="color:#008000"><a href="tikz-arrows#pgf.right">right</a></span>] {<span class="textcolor" style="color:#000000">lovely</span>}}<br>


</code>
</div>
</figure>

</ul>
</div>


<div class="manualentry">
<ul class="list" style="list-style-type:none">



<div class="entryheadline"> <li>
<p>
<a id="pgf./pgf/text/base"></a>
                                    <span class="hl-def"><kbd><span class="keyname"><span class="textcolor" style="color:#BF0000">/pgf/text/base</span></span></kbd></span><span class="hl-default">(no value)</span>
<a class="anchor-link" data-html-link="pgf./pgf/text/base" href="#pgf/text/base" id="pgf/text/base">&para;</a></p>
</li></div>
<p>
This key causes the text box to be placed such that its baseline is on the origin.
</p>


<figure class="example">


<div class="example-image">
<p>
<span class="lateximagesource" id="lateximage-pgfmanual-3197"><!--
lovely
--><img alt="(-tikz-&nbsp;diagram)" class="lateximage" height="40.491" loading="lazy" src="pgfmanual-images/image-3197.png" style width="78.554"></span>
</p>
</div>


<div class="example-code"><button class="clipboardButton" type="button">copy</button>
<code>
<br>
<span class="textcolor" style="color:#0000B2"><a href="tikz-scopes#pgf.back/tikz">\tikz</a></span>{<span class="textcolor" style="color:#0000B2"><a href="tikz-actions#pgf.back/draw">\draw</a></span>[<span class="textcolor" style="color:#008000"><a href="tikz-paths#pgf.help:lines">help lines</a></span>] <span class="textcolor" style="color:#800080">(-1,-.5)</span> <span class="textcolor" style="color:#000000"><a href="tikz-paths#pgf.grid">grid</a></span> <span class="textcolor" style="color:#800080">(1,.5)</span>;<br>
<span class="spaces">     </span><span class="textcolor" style="color:#0000B2"><a href="base-scopes#pgf.back/pgftext">\pgftext</a></span>[<span class="textcolor" style="color:#008000"><a href="tikz-animations#pgf.base">base</a></span>] {<span class="textcolor" style="color:#000000">lovely</span>}}<br>


</code>
</div>
</figure>


<figure class="example">


<div class="example-image">
<p>
<span class="lateximagesource" id="lateximage-pgfmanual-3198"><!--
lovely
--><img alt="(-tikz-&nbsp;diagram)" class="lateximage" height="40.491" loading="lazy" src="pgfmanual-images/image-3198.png" style width="78.537"></span>
</p>
</div>


<div class="example-code"><button class="clipboardButton" type="button">copy</button>
<code>
<br>
<span class="textcolor" style="color:#0000B2"><a href="tikz-scopes#pgf.back/tikz">\tikz</a></span>{<span class="textcolor" style="color:#0000B2"><a href="tikz-actions#pgf.back/draw">\draw</a></span>[<span class="textcolor" style="color:#008000"><a href="tikz-paths#pgf.help:lines">help lines</a></span>] <span class="textcolor" style="color:#800080">(-1,-.5)</span> <span class="textcolor" style="color:#000000"><a href="tikz-paths#pgf.grid">grid</a></span> <span class="textcolor" style="color:#800080">(1,.5)</span>;<br>
<span class="spaces">     </span><span class="textcolor" style="color:#0000B2"><a href="base-scopes#pgf.back/pgftext">\pgftext</a></span>[<span class="textcolor" style="color:#008000"><a href="tikz-animations#pgf.base">base</a></span>,<span class="textcolor" style="color:#008000"><a href="tikz-arrows#pgf.right">right</a></span>] {<span class="textcolor" style="color:#000000">lovely</span>}}<br>


</code>
</div>
</figure>

</ul>
</div>


<div class="manualentry">
<ul class="list" style="list-style-type:none">



<div class="entryheadline"> <li>
<p>
<a id="pgf./pgf/text/at"></a>
                                 <span class="hl-def"><kbd><span class="keyname"><span class="textcolor" style="color:#BF0000">/pgf/text/at</span></span>=</kbd><span class="angle">&langle;</span><i>point</i><span class="angle">&rangle;</span></span><span class="hl-default">(no default)</span>
<a class="anchor-link" data-html-link="pgf./pgf/text/at" href="#pgf/text/at" id="pgf/text/at">&para;</a></p>
</li></div>
<p>
Translates the origin (that is, the point where the text is shown) to <span class="angle">&langle;</span><i>point</i><span class="angle">&rangle;</span>.
</p>


<figure class="example">


<div class="example-image">
<p>
<span class="lateximagesource" id="lateximage-pgfmanual-3199"><!--
lovely
--><img alt="(-tikz-&nbsp;diagram)" class="lateximage" height="40.491" loading="lazy" src="pgfmanual-images/image-3199.png" style width="97.250"></span>
</p>
</div>


<div class="example-code"><button class="clipboardButton" type="button">copy</button>
<code>
<br>
<span class="textcolor" style="color:#0000B2"><a href="tikz-scopes#pgf.back/tikz">\tikz</a></span>{<span class="textcolor" style="color:#0000B2"><a href="tikz-actions#pgf.back/draw">\draw</a></span>[<span class="textcolor" style="color:#008000"><a href="tikz-paths#pgf.help:lines">help lines</a></span>] <span class="textcolor" style="color:#800080">(-1,-.5)</span> <span class="textcolor" style="color:#000000"><a href="tikz-paths#pgf.grid">grid</a></span> <span class="textcolor" style="color:#800080">(1,.5)</span>;<br>
<span class="spaces">     </span><span class="textcolor" style="color:#0000B2"><a href="base-scopes#pgf.back/pgftext">\pgftext</a></span>[<span class="textcolor" style="color:#008000"><a href="tikz-animations#pgf.base">base</a></span>,<span class="textcolor" style="color:#008000"><a href="tikz-paths#pgf.at">at</a></span>=<span class="textcolor" style="color:#008000">{<span class="textcolor" style="color:#0000B2"><a href="base-points#pgf.back/pgfpoint">\pgfpoint</a></span>{1cm}{0cm}}</span>] {<span class="textcolor" style="color:#000000">lovely</span>}}<br>


</code>
</div>
</figure>

</ul>
</div>


<div class="manualentry">
<ul class="list" style="list-style-type:none">



<div class="entryheadline"> <li>
<p>
<a id="pgf./pgf/text/x"></a>
                                 <span class="hl-def"><kbd><span class="keyname"><span class="textcolor" style="color:#BF0000">/pgf/text/x</span></span>=</kbd><span class="angle">&langle;</span><i>dimension</i><span class="angle">&rangle;</span></span><span class="hl-default">(no default)</span>
<a class="anchor-link" data-html-link="pgf./pgf/text/x" href="#pgf/text/x" id="pgf/text/x">&para;</a></p>
</li></div>
<p>
Translates the origin by <span class="angle">&langle;</span><i>dimension</i><span class="angle">&rangle;</span> along the \(x\)-axis.
</p>


<figure class="example">


<div class="example-image">
<p>
<span class="lateximagesource" id="lateximage-pgfmanual-3200"><!--
lovely
--><img alt="(-tikz-&nbsp;diagram)" class="lateximage" height="43.131" loading="lazy" src="pgfmanual-images/image-3200.png" style width="97.250"></span>
</p>
</div>


<div class="example-code"><button class="clipboardButton" type="button">copy</button>
<code>
<br>
<span class="textcolor" style="color:#0000B2"><a href="tikz-scopes#pgf.back/tikz">\tikz</a></span>{<span class="textcolor" style="color:#0000B2"><a href="tikz-actions#pgf.back/draw">\draw</a></span>[<span class="textcolor" style="color:#008000"><a href="tikz-paths#pgf.help:lines">help lines</a></span>] <span class="textcolor" style="color:#800080">(-1,-.5)</span> <span class="textcolor" style="color:#000000"><a href="tikz-paths#pgf.grid">grid</a></span> <span class="textcolor" style="color:#800080">(1,.5)</span>;<br>
<span class="spaces">     </span><span class="textcolor" style="color:#0000B2"><a href="base-scopes#pgf.back/pgftext">\pgftext</a></span>[<span class="textcolor" style="color:#008000"><a href="tikz-animations#pgf.base">base</a></span>,<span class="textcolor" style="color:#008000"><a href="tikz-coordinates#pgf.x">x</a></span>=<span class="textcolor" style="color:#008000">1cm</span>,<span class="textcolor" style="color:#008000"><a href="tikz-coordinates#pgf.y">y</a></span>=<span class="textcolor" style="color:#008000">-0.5cm</span>] {<span class="textcolor" style="color:#000000">lovely</span>}}<br>


</code>
</div>
</figure>

</ul>
</div>


<div class="manualentry">
<ul class="list" style="list-style-type:none">



<div class="entryheadline"> <li>
<p>
<a id="pgf./pgf/text/y"></a>
                                 <span class="hl-def"><kbd><span class="keyname"><span class="textcolor" style="color:#BF0000">/pgf/text/y</span></span>=</kbd><span class="angle">&langle;</span><i>dimension</i><span class="angle">&rangle;</span></span><span class="hl-default">(no default)</span>
<a class="anchor-link" data-html-link="pgf./pgf/text/y" href="#pgf/text/y" id="pgf/text/y">&para;</a></p>
</li></div>
<p>
This key works like the <span class="verb">x</span> option.
</p>

</ul>
</div>


<div class="manualentry">
<ul class="list" style="list-style-type:none">



<div class="entryheadline"> <li>
<p>
<a id="pgf./pgf/text/rotate"></a>
                                       <span class="hl-def"><kbd><span class="keyname"><span class="textcolor" style="color:#BF0000">/pgf/text/rotate</span></span>=</kbd><span class="angle">&langle;</span><i>degree</i><span class="angle">&rangle;</span></span><span class="hl-default">(no default)</span>
<a class="anchor-link" data-html-link="pgf./pgf/text/rotate" href="#pgf/text/rotate" id="pgf/text/rotate">&para;</a></p>
</li></div>
<p>
Rotates the coordinate system by <span class="angle">&langle;</span><i>degree</i><span class="angle">&rangle;</span>. This will also rotate the text box.
</p>


<figure class="example">


<div class="example-image">
<p>
<span class="lateximagesource" id="lateximage-pgfmanual-3201"><!--
   el y
lov
--><img alt="(-tikz-&nbsp;diagram)" class="lateximage" height="49.755" loading="lazy" src="pgfmanual-images/image-3201.png" style width="92.090"></span>
</p>
</div>


<div class="example-code"><button class="clipboardButton" type="button">copy</button>
<code>
<br>
<span class="textcolor" style="color:#0000B2"><a href="tikz-scopes#pgf.back/tikz">\tikz</a></span>{<span class="textcolor" style="color:#0000B2"><a href="tikz-actions#pgf.back/draw">\draw</a></span>[<span class="textcolor" style="color:#008000"><a href="tikz-paths#pgf.help:lines">help lines</a></span>] <span class="textcolor" style="color:#800080">(-1,-.5)</span> <span class="textcolor" style="color:#000000"><a href="tikz-paths#pgf.grid">grid</a></span> <span class="textcolor" style="color:#800080">(1,.5)</span>;<br>
<span class="spaces">     </span><span class="textcolor" style="color:#0000B2"><a href="base-scopes#pgf.back/pgftext">\pgftext</a></span>[<span class="textcolor" style="color:#008000"><a href="tikz-animations#pgf.base">base</a></span>,<span class="textcolor" style="color:#008000"><a href="tikz-coordinates#pgf.x">x</a></span>=<span class="textcolor" style="color:#008000">1cm</span>,<span class="textcolor" style="color:#008000"><a href="tikz-coordinates#pgf.y">y</a></span>=<span class="textcolor" style="color:#008000">-0.5cm</span>,<span class="textcolor" style="color:#008000"><a href="tikz-transformations#pgf.rotate">rotate</a></span>=<span class="textcolor" style="color:#008000">30</span>] {<span class="textcolor" style="color:#000000">lovely</span>}}<br>


</code>
</div>
</figure>

</ul>
</div>

</ul>
</div>
<h5 id="autosec-7904"><span><span class="sectionnumber" id="sec-100.4">100.4</span> Object Identifiers</span><a class="anchor-link" data-html-link="sec-100.4" data-pdf-destination="subsection.100.4" data-pdf-page="1083" href="#sec-100.4">&para;</a></h5>
<a id="pgfmanual-autopage-7904"></a>


<p>
Graphical objects can have an <em>identifier,</em> which allows you to reference the object later on. For instance, you could reference the object as the target of a hyperlink (although this capability is not necessarily implemented by
drivers) or as the target of an animation; indeed, animations always need an object identifier to identify the to-be-animated object.
</p>

<p>
Attaching an identifier to an object is a two-step process:
</p>
<ul class="enumerate" style="list-style-type:none">


<li>
<p>
<span class="listmarker">1.</span> You call <span class="verb">\pgfuseid{</span><span class="angle">&langle;</span><i>id</i><span class="angle">&rangle;</span><span class="verb">}</span> to choose an id, which is a normal string.
</p>


</li>
<li>


<p>
<span class="listmarker">2.</span> Next, you call one of several commands like <span class="verb">\pgfidscope</span> or <span class="verb">\pgftext</span>, which create an object. This object will have then have the id.
</p>
</li>
</ul>
<h6 id="autosec-7905"><span><span class="sectionnumber" id="sec-100.4.1">100.4.1</span> Commands for Creating Graphic Objects</span><a class="anchor-link" data-html-link="sec-100.4.1" data-pdf-destination="subsubsection.100.4.1" data-pdf-page="1083" href="#sec-100.4.1">&para;</a></h6>
<a id="pgfmanual-autopage-7905"></a>


<p>
The following system level commands create an object with an id:
</p>
<ul class="enumerate" style="list-style-type:none">


<li>
<p>
<span class="listmarker">1.</span> <span class="verb">\pgfsys@begin@idscope</span>, which creates a graphic scope.
</p>


</li>
<li>


<p>
<span class="listmarker">2.</span> <span class="verb">\pgfsys@viewboxmeet</span> or <span class="verb">\pgfsys@viewboxslice</span>, which create view boxes,
</p>


</li>
<li>


<p>
<span class="listmarker">3.</span> <span class="verb">\pgfsys@fill</span>, <span class="verb">\pgfsys@stroke</span>, and all other path usage command,
</p>


</li>
<li>


<p>
<span class="listmarker">4.</span> <span class="verb">\pgfsys@hbox</span> or <span class="verb">\pgfsys@hboxsynced</span>, which create text boxes, and
</p>


</li>
<li>


<p>
<span class="listmarker">5.</span> <span class="verb">\pgfsys@animate...</span>, which create animations.
</p>
</li>
</ul>

<p>
These system layer commands are, in turn, called by the following basic layer commands (and, also, by the commands that call them, in turn):
</p>
<ul class="itemize" style="list-style-type:none">


<li>
<p>
<span class="listmarker">&bull;</span> <span class="verb">\pgfidscope</span>, which creates an id scope (see below).
</p>


</li>
<li>


<p>
<span class="listmarker">&bull;</span> <span class="verb">\pgfviewboxscope</span>, which creates a view box.
</p>


</li>
<li>


<p>
<span class="listmarker">&bull;</span> <span class="verb">\pgfusepath</span>, which creates a path.
</p>


</li>
<li>


<p>
<span class="listmarker">&bull;</span> <span class="verb">\pgftext</span> and <span class="verb">\pgfnode</span> and <span class="verb">\pgfmultipartnode</span>, which create text boxes and nodes, and
</p>


</li>
<li>


<p>
<span class="listmarker">&bull;</span> <span class="verb">\pgfanimateattribute</span>, which creates an animation.
</p>
</li>
</ul>



<div class="manualentry">

<ul class="list" style="list-style-type:none">



<div class="entryheadline"> <li>
<p>
<a id="pgf.pgfidscope"></a>
                              <span class="hl-def"><kbd>\begin{<span class="textcolor" style="color:#BF0000">pgfidscope</span>}</kbd></span>
<a class="anchor-link" data-html-link="pgf.pgfidscope" href="#pgf.pgfidscope" id="pgf.pgfidscope">&para;</a></p>
</li></div>


<div class="entryheadline">

<li>


<p>
<span class="hl-def"><kbd> </kbd><span class="angle">&langle;</span><i>environment contents</i><span class="angle">&rangle;</span></span>
</p>
</li></div>


<div class="entryheadline">

<li>


<p>
<span class="hl-def"><kbd>\end{<span class="textcolor" style="color:#BF0000">pgfidscope</span>}</kbd></span>
</p>
</li></div>
<p>
Creates a graphic scope that will have the id last used with <span class="verb">\pgfuseid</span> attached to, provided such an id was set and was not already used with another object. In the latter cases, no graphic scope is created.
Thus, if you wish to ensure that a graphic scope is created, you must (additionally) call <span class="verb">\pgfscope</span> inside or outside the id scope.
</p>

</ul>
</div>

<p>
The Plain<span class="latexlogofont"><span class="latexlogo">T<span class="latexlogosub">e</span>X</span></span> and Con<span class="latexlogofont"><span class="latexlogo">T<span class="latexlogosub">e</span>X</span></span>t versions
of the environment are:
</p>


<div class="manualentry">

<ul class="list" style="list-style-type:none">



<div class="entryheadline"> <li>
<p>
<span class="hl-def"><kbd><span class="textcolor" style="color:#BF0000">\pgfidscope</span></kbd></span>
</p>
</li></div>


<div class="entryheadline">

<li>


<p>
<span class="hl-def"><kbd> </kbd><span class="angle">&langle;</span><i>environment contents</i><span class="angle">&rangle;</span></span>
</p>
</li></div>


<div class="entryheadline">

<li>


<p>
<span class="hl-def"><kbd><span class="textcolor" style="color:#BF0000">\endpgfidscope</span></kbd></span>
</p>
</li></div>
<p>


</p>

</ul>
</div>



<div class="manualentry">

<ul class="list" style="list-style-type:none">



<div class="entryheadline"> <li>
<p>
<span class="hl-def"><kbd><span class="textcolor" style="color:#BF0000">\startpgfidscope</span></kbd></span>
</p>
</li></div>


<div class="entryheadline">

<li>


<p>
<span class="hl-def"><kbd> </kbd><span class="angle">&langle;</span><i>environment contents</i><span class="angle">&rangle;</span></span>
</p>
</li></div>


<div class="entryheadline">

<li>


<p>
<span class="hl-def"><kbd><span class="textcolor" style="color:#BF0000">\stoppgfidscope</span></kbd></span>
</p>
</li></div>
<p>


</p>

</ul>
</div>
<h6 id="autosec-7906"><span><span class="sectionnumber" id="sec-100.4.2">100.4.2</span> Settings and Querying Identifiers</span><a class="anchor-link" data-html-link="sec-100.4.2" data-pdf-destination="subsubsection.100.4.2" data-pdf-page="1084" href="#sec-100.4.2">&para;</a></h6>
<a id="pgfmanual-autopage-7906"></a>


<p>
In order to attach an identifier to an object, you first use the following command:
</p>



<div class="manualentry">

<ul class="list" style="list-style-type:none">



<div class="entryheadline"> <li>
<p>
<a id="pgf.back/pgfuseid"></a>
                                 <span class="hl-def"><span class="textcolor" style="color:#BF0000"><kbd>\pgfuseid</kbd></span>{<span class="angle">&langle;</span><i>name</i><span class="angle">&rangle;</span>}</span>
<a class="anchor-link" data-html-link="pgf.back/pgfuseid" href="#\pgfuseid" id="\pgfuseid">&para;</a></p>
</li></div>
<p>
The <span class="angle">&langle;</span><i>name</i><span class="angle">&rangle;</span> is a string by which the object will be referenced (see <span class="verb">\pgfidrefnextuse</span>). The next time a graphic object is created in the
current <span class="latexlogofont"><span class="latexlogo">T<span class="latexlogosub">e</span>X</span></span> scope, the name will be attached to it (actually, it will get a system layer identifier attached to it that is automatically
created using <span class="verb">\pgfsys@new@id</span>, the <span class="angle">&langle;</span><i>name</i><span class="angle">&rangle;</span> is bound to that identifier and it can be retrieved using <span class="verb">\pgfidrefnextuse</span>). This holds true only for the next object: If a second object is created, it will not get the name attached to it. This does not mean, however, that you cannot attach the same name to different
objects; you just need to call <span class="verb">\pgfuseid</span> again before each object.
</p>
<p>
Besides the <span class="angle">&langle;</span><i>name</i><span class="angle">&rangle;</span> (or, more precisely, besides the system layer identifier it refers to), the current <em>identifier type</em> is also important: Actually, a graphic
object is not referenced by a system layer identifier, but by the combination of the identifier and a type. You can use the following commands for modifying the type used for the creation of objects:
</p>


<div class="manualentry">
<ul class="list" style="list-style-type:none">



<div class="entryheadline"> <li>
<p>
<a id="pgf.back/pgfusetype"></a>
                                <span class="hl-def"><span class="textcolor" style="color:#BF0000"><kbd>\pgfusetype</kbd></span>{<span class="angle">&langle;</span><i>type</i><span class="angle">&rangle;</span>}</span>
<a class="anchor-link" data-html-link="pgf.back/pgfusetype" href="#\pgfusetype" id="\pgfusetype">&para;</a></p>
</li></div>
<p>
Sets the type used for the referencing of graphic objects for the current scope to <span class="angle">&langle;</span><i>type</i><span class="angle">&rangle;</span> or, if <span class="angle">&langle;</span><i>type</i><span class="angle">&rangle;</span> starts with a dot, appends <span class="angle">&langle;</span><i>type</i><span class="angle">&rangle;</span> to the current type.
</p>
<p>
You use this command with compound graphic objects: Before each part of a graphic object, set the type to an appropriate value. Now, if the object is named using <span class="verb">\pgfuseid</span>, you can later on access all parts of
the compound object using the combination of the <span class="angle">&langle;</span><i>name</i><span class="angle">&rangle;</span> used with <span class="verb">\pgfuseid</span> and the type of the part.
</p>
<p>
As an example, this system is used to give you access to the different parts of a node: When you say <span class="verb">\pgfuseid{mynode}</span> and then create a node, you can use <span class="verb">mynode</span> with the empty type
to reference the graphics scope that encompasses the whole node, but also <span class="verb">mynode</span> together with the type <span class="verb">background</span> to access the background path of the node.
</p>
<p>
In detail, <span class="textsc">pgf</span> uses this command to set the following types:
</p>
<ul class="itemize" style="list-style-type:none">


<li>
<p>
<span class="listmarker">&bull;</span> Inside the command <span class="verb">\pgfviewboxscope</span>, the type <span class="verb">.view</span> is used for the view object.
</p>


</li>
<li>


<p>
<span class="listmarker">&bull;</span> Inside the command <span class="verb">\pgfmultipartnode</span>, the type <span class="verb">.behind background</span> is used for the scope of drawings behind the background. Similarly, <span class="verb">.before background</span> and <span class="verb">.behind foreground</span> and finally <span class="verb">.before foreground</span> are used with the respective parts of a node.
</p>


</li>
<li>


<p>
<span class="listmarker">&bull;</span> Also inside a node, <span class="verb">.background</span> and <span class="verb">.foreground</span> are used as types of the background and foreground paths, respectively.
</p>


</li>
<li>


<p>
<span class="listmarker">&bull;</span> Finally, inside a node, for each text part, the text part&rsquo;s name is used as a type (so <span class="verb">.text</span> is used for the main part).
</p>
</li>
</ul>
<p>
In addition, <span class="tikzname">TikZ</span> uses this command in the following situations:
</p>
<ul class="itemize" style="list-style-type:none">


<li>
<p>
<span class="listmarker">&bull;</span> The type <span class="verb">.path</span> is used with a named path (named using the <span class="verb">name</span> key). This is the graphic object you need to reference when you wish to morph a path.
</p>


</li>
<li>


<p>
<span class="listmarker">&bull;</span> The type <span class="verb">.path picture</span> is used with the scope of the optional path picture.
</p>


</li>
<li>


<p>
<span class="listmarker">&bull;</span> The type <span class="verb">.path fill</span> is used with the path used for filling. This is not the same as the normal path in case the path is filled and patterned, for instance.
</p>


</li>
<li>


<p>
<span class="listmarker">&bull;</span> The type <span class="verb">.path shade</span> is used with the path used for shading a path.
</p>
</li>
</ul>

</ul>
</div>


<div class="manualentry">
<ul class="list" style="list-style-type:none">



<div class="entryheadline"> <li>
<p>
<a id="pgf.back/pgfpushtype"></a>
                                 <span class="hl-def"><span class="textcolor" style="color:#BF0000"><kbd>\pgfpushtype</kbd></span></span>
<a class="anchor-link" data-html-link="pgf.back/pgfpushtype" href="#\pgfpushtype" id="\pgfpushtype">&para;</a></p>
</li></div>
<p>
Pushes the current type on an internal global stack. The idea is to allow you to temporarily change the current type without having to open a <span class="latexlogofont"><span class="latexlogo">T<span class="latexlogosub">e</span>X</span></span> scope.
</p>

</ul>
</div>


<div class="manualentry">
<ul class="list" style="list-style-type:none">



<div class="entryheadline"> <li>
<p>
<a id="pgf.back/pgfpoptype"></a>
                                <span class="hl-def"><span class="textcolor" style="color:#BF0000"><kbd>\pgfpoptype</kbd></span></span>
<a class="anchor-link" data-html-link="pgf.back/pgfpoptype" href="#\pgfpoptype" id="\pgfpoptype">&para;</a></p>
</li></div>
<p>
Restores the most recent type from the internal global stack of types.
</p>

</ul>
</div>

</ul>
</div>



<div class="manualentry">

<ul class="list" style="list-style-type:none">



<div class="entryheadline"> <li>
<p>
<a id="pgf.back/pgfclearid"></a>
                                <span class="hl-def"><span class="textcolor" style="color:#BF0000"><kbd>\pgfclearid</kbd></span></span>
<a class="anchor-link" data-html-link="pgf.back/pgfclearid" href="#\pgfclearid" id="\pgfclearid">&para;</a></p>
</li></div>
<p>
Clears the current id (and type) for the local scope.
</p>

</ul>
</div>



<div class="manualentry">

<ul class="list" style="list-style-type:none">



<div class="entryheadline"> <li>
<p>
<a id="pgf.back/pgfidrefnextuse"></a>
                                        <span class="hl-def"><span class="textcolor" style="color:#BF0000"><kbd>\pgfidrefnextuse</kbd></span>{<span class="angle">&langle;</span><i>macro</i><span class="angle">&rangle;</span>}{<span class="angle">&langle;</span><i>name</i><span class="angle">&rangle;</span>}</span>
<a class="anchor-link" data-html-link="pgf.back/pgfidrefnextuse" href="#\pgfidrefnextuse" id="\pgfidrefnextuse">&para;</a></p>
</li></div>
<p>
This command assigns a system layer identifier (the identifier returned by <span class="verb">\pgfsys@new@id</span>) to the <span class="angle">&langle;</span><i>macro</i><span class="angle">&rangle;</span>, namely the one that will be
used the <em>next</em> time <span class="verb">\pgfuseid</span> is used. You use this command for &ldquo;forward referencing&rdquo;.
</p>
<p>
A typical use case is the following: A key like <span class="verb">whom</span> for animations uses this command to get the system identifier that will be used for a future object. Then, this identifier can be passed to system layer
commands like <span class="verb">\pgfsys@animation@whom</span>.
</p>
<p>
Note that the &ldquo;next&rdquo; use need not be on the same page (or there may not even be any use at all), in which case the reference will not refer to any object.
</p>

</ul>
</div>



<div class="manualentry">

<ul class="list" style="list-style-type:none">



<div class="entryheadline"> <li>
<p>
<a id="pgf.back/pgfidrefprevuse"></a>
                                        <span class="hl-def"><span class="textcolor" style="color:#BF0000"><kbd>\pgfidrefprevuse</kbd></span>{<span class="angle">&langle;</span><i>macro</i><span class="angle">&rangle;</span>}{<span class="angle">&langle;</span><i>name</i><span class="angle">&rangle;</span>}</span>
<a class="anchor-link" data-html-link="pgf.back/pgfidrefprevuse" href="#\pgfidrefprevuse" id="\pgfidrefprevuse">&para;</a></p>
</li></div>
<p>
Works like <span class="verb">\pgfidrefnextuse</span>, only it references the most recent <em>previous</em> use of the <span class="angle">&langle;</span><i>name</i><span class="angle">&rangle;</span>. As for <span class="verb">\pgfidrefnextuse</span>, the most recent use need not be on the same page.
</p>

</ul>
</div>



<div class="manualentry">

<ul class="list" style="list-style-type:none">



<div class="entryheadline"> <li>
<p>
<a id="pgf.back/pgfaliasid"></a>
                                <span class="hl-def"><span class="textcolor" style="color:#BF0000"><kbd>\pgfaliasid</kbd></span>{<span class="angle">&langle;</span><i>alias</i><span class="angle">&rangle;</span>}{<span class="angle">&langle;</span><i>name</i><span class="angle">&rangle;</span>}</span>
<a class="anchor-link" data-html-link="pgf.back/pgfaliasid" href="#\pgfaliasid" id="\pgfaliasid">&para;</a></p>
</li></div>
<p>
Creates an alias of a name inside the current <span class="latexlogofont"><span class="latexlogo">T<span class="latexlogosub">e</span>X</span></span> scope. After calling this command, you can use <span class="angle">&langle;</span><i>alias</i><span class="angle">&rangle;</span> anywhere where you would normally use <span class="angle">&langle;</span><i>name</i><span class="angle">&rangle;</span>. Note that the binding between
<span class="angle">&langle;</span><i>alias</i><span class="angle">&rangle;</span> and <span class="angle">&langle;</span><i>name</i><span class="angle">&rangle;</span> is not kept when <span class="verb">\pgfuseid</span> is used on the
<span class="angle">&langle;</span><i>name</i><span class="angle">&rangle;</span> (or the <span class="angle">&langle;</span><i>alias</i><span class="angle">&rangle;</span>).
</p>

</ul>
</div>



<div class="manualentry">

<ul class="list" style="list-style-type:none">



<div class="entryheadline"> <li>
<p>
<a id="pgf.back/pgfgaliasid"></a>
                                 <span class="hl-def"><span class="textcolor" style="color:#BF0000"><kbd>\pgfgaliasid</kbd></span>{<span class="angle">&langle;</span><i>1</i><span class="angle">&rangle;</span>}{<span class="angle">&langle;</span><i>2</i><span class="angle">&rangle;</span>}</span>
<a class="anchor-link" data-html-link="pgf.back/pgfgaliasid" href="#\pgfgaliasid" id="\pgfgaliasid">&para;</a></p>
</li></div>
<p>
Like <span class="verb">\pgfaliasid</span>, only the alias is set globally.
</p>

</ul>
</div>



<div class="manualentry">

<ul class="list" style="list-style-type:none">



<div class="entryheadline"> <li>
<p>
<a id="pgf.back/pgfifidreferenced"></a>
                                       <span class="hl-def"><span class="textcolor" style="color:#BF0000"><kbd>\pgfifidreferenced</kbd></span>{<span class="angle">&langle;</span><i>name</i><span class="angle">&rangle;</span>}{<span class="angle">&langle;</span><i>then code</i><span class="angle">&rangle;</span>}{<span class="angle">&langle;</span><i>else code</i><span class="angle">&rangle;</span>}</span>
<a class="anchor-link" data-html-link="pgf.back/pgfifidreferenced" href="#\pgfifidreferenced" id="\pgfifidreferenced">&para;</a></p>
</li></div>
<p>
If <span class="angle">&langle;</span><i>name</i><span class="angle">&rangle;</span> has been referenced, <span class="angle">&langle;</span><i>then code</i><span class="angle">&rangle;</span> is executed, otherwise <span class="angle">&langle;</span><i>else code</i><span class="angle">&rangle;</span>.
</p>

</ul>
</div>
<h5 id="autosec-7907"><a id="section-base-rdf"></a><span><span class="sectionnumber" id="sec-100.5">100.5</span> Resource Description Framework Annotations (RDFa)</span><a class="anchor-link" data-html-link="sec-100.5" data-pdf-destination="subsection.100.5" data-pdf-page="1085" href="#sec-100.5">&para;</a></h5>
<a id="pgfmanual-autopage-7907"></a>




<p>
With certain output formats (in particular, with <span class="textsc">svg</span>) you can insert annotations into the output file following the standard set by the <em>resource description framework</em> (known as &ldquo;<span class="textsc">rdf</span>&rdquo;, please consult the literature on <span class="textsc">rdf</span> and <span class="textsc">rdf</span>a for an introduction to resource descriptions and ontologies and their purpose in general). To do so, you call
one (or several) of the following commands before you call <span class="verb">\pgfidscope</span>. The attributes and values you specify using the commands will then be added to the resulting scope (if the driver supports this, which is
only the case for <span class="textsc">svg</span> at the moment). As an example, when you write
</p>



<figure class="example">



<div class="example-code"><button class="clipboardButton" type="button">copy</button>

<code>
<br>
<span class="textcolor" style="color:#0000B2"><a href="base-scopes#pgf.back/pgfrdfresource">\pgfrdfresource</a></span>{<span class="textcolor" style="color:#000000">/fruits/apple</span>}<br>
<span class="textcolor" style="color:#0000B2">\pgfidscope</span><br>
...<br>
<span class="textcolor" style="color:#0000B2">\pgfendidscope</span><br>


</code>
</div>

</figure>

<p>
in the resulting <span class="textsc">svg</span> file you get
</p>



<figure class="example">



<div class="example-code"><button class="clipboardButton" type="button">copy</button>

<code>
<br>
<span class="textcolor" style="color:#000000"><g< span> <span class="textcolor" style="color:#000000">resource="/fruits/apple"&gt;</span><br>
<span class="spaces">  </span>...<br>
<span class="textcolor" style="color:#000000"></span><br>


</g<></span></code>
</div>

</figure>

<p>
Most of the following commands just set a single attribute for the next id scope. In some cases, however, repeated calling of these commands makes sense and causes the passed values to accumulate as in the following example:
</p>



<figure class="example">



<div class="example-code"><button class="clipboardButton" type="button">copy</button>

<code>
<br>
<span class="textcolor" style="color:#0000B2"><a href="base-scopes#pgf.back/pgfrdfresource">\pgfrdfresource</a></span>{<span class="textcolor" style="color:#000000">/fruits/apple</span>}<br>
<span class="textcolor" style="color:#0000B2"><a href="base-scopes#pgf.back/pgfrdfproperty">\pgfrdfproperty</a></span>{<span class="textcolor" style="color:#000000">http://foo</span>.<span class="textcolor" style="color:#000000">com/props/juicy</span>}<br>
<span class="textcolor" style="color:#0000B2"><a href="base-scopes#pgf.back/pgfrdfproperty">\pgfrdfproperty</a></span>{<span class="textcolor" style="color:#000000">http://foo</span>.<span class="textcolor" style="color:#000000">com/props/green</span>}<br>
<span class="textcolor" style="color:#0000B2">\pgfidscope</span><br>
...<br>
<span class="textcolor" style="color:#0000B2">\pgfendidscope</span><br>


</code>
</div>

</figure>

<p>
Now you get:
</p>



<figure class="example">



<div class="example-code"><button class="clipboardButton" type="button">copy</button>

<code>
<br>
<span class="textcolor" style="color:#000000"><g< span> <span class="textcolor" style="color:#000000">resource="/fruits/apple"</span><br>
<span class="spaces">   </span><span class="textcolor" style="color:#000000">property="http://foo</span>.<span class="textcolor" style="color:#000000">com/props/juicy</span> <span class="textcolor" style="color:#000000">http://foo</span>.<span class="textcolor" style="color:#000000">com/props/green"&gt;</span><br>
<span class="spaces">  </span>...<br>
<span class="textcolor" style="color:#000000"></span><br>


</g<></span></code>
</div>

</figure>

<p>
The following commands &ldquo;accumulate&rdquo;: <span class="verb">\pgfrdfproperty</span>, <span class="verb">\pgfrdfrel</span>, <span class="verb">\pgfrdfrev</span> and also the command <span class="verb">\pgfrdftypeof</span>.
</p>



<div class="manualentry">

<ul class="list" style="list-style-type:none">



<div class="entryheadline"> <li>
<p>
<a id="pgf.back/pgfrdfabout"></a>
                                 <span class="hl-def"><span class="textcolor" style="color:#BF0000"><kbd>\pgfrdfabout</kbd></span>{<span class="angle">&langle;</span><i>text</i><span class="angle">&rangle;</span>}</span>
<a class="anchor-link" data-html-link="pgf.back/pgfrdfabout" href="#\pgfrdfabout" id="\pgfrdfabout">&para;</a></p>
</li></div>
<p>
Adds the <span class="textsc">rdf</span> attribute <span class="verb">about="</span><span class="angle">&langle;</span><i>text</i><span class="angle">&rangle;</span><span class="verb">"</span> to the next id scope (please see the <span class="textsc">rdf</span>a specification for details on the semantics of <span class="verb">about</span> in the context of the resource description framework).
</p>

</ul>
</div>

<p>
The following commands work the same way.
</p>



<div class="manualentry">

<ul class="list" style="list-style-type:none">



<div class="entryheadline"> <li>
<p>
<a id="pgf.back/pgfrdfcontent"></a>
                                      <span class="hl-def"><span class="textcolor" style="color:#BF0000"><kbd>\pgfrdfcontent</kbd></span>{<span class="angle">&langle;</span><i>text</i><span class="angle">&rangle;</span>}</span>
<a class="anchor-link" data-html-link="pgf.back/pgfrdfcontent" href="#\pgfrdfcontent" id="\pgfrdfcontent">&para;</a></p>
</li></div>
<p>


</p>

</ul>
</div>



<div class="manualentry">

<ul class="list" style="list-style-type:none">



<div class="entryheadline"> <li>
<p>
<a id="pgf.back/pgfrdfdatatype"></a>
                                       <span class="hl-def"><span class="textcolor" style="color:#BF0000"><kbd>\pgfrdfdatatype</kbd></span>{<span class="angle">&langle;</span><i>text</i><span class="angle">&rangle;</span>}</span>
<a class="anchor-link" data-html-link="pgf.back/pgfrdfdatatype" href="#\pgfrdfdatatype" id="\pgfrdfdatatype">&para;</a></p>
</li></div>
<p>


</p>

</ul>
</div>



<div class="manualentry">

<ul class="list" style="list-style-type:none">



<div class="entryheadline"> <li>
<p>
<a id="pgf.back/pgfrdfhref"></a>
                                <span class="hl-def"><span class="textcolor" style="color:#BF0000"><kbd>\pgfrdfhref</kbd></span>{<span class="angle">&langle;</span><i>text</i><span class="angle">&rangle;</span>}</span>
<a class="anchor-link" data-html-link="pgf.back/pgfrdfhref" href="#\pgfrdfhref" id="\pgfrdfhref">&para;</a></p>
</li></div>
<p>


</p>

</ul>
</div>



<div class="manualentry">

<ul class="list" style="list-style-type:none">



<div class="entryheadline"> <li>
<p>
<a id="pgf.back/pgfrdfinlist"></a>
                                  <span class="hl-def"><span class="textcolor" style="color:#BF0000"><kbd>\pgfrdfinlist</kbd></span></span>
<a class="anchor-link" data-html-link="pgf.back/pgfrdfinlist" href="#\pgfrdfinlist" id="\pgfrdfinlist">&para;</a></p>
</li></div>
<p>


</p>

</ul>
</div>



<div class="manualentry">

<ul class="list" style="list-style-type:none">



<div class="entryheadline"> <li>
<p>
<a id="pgf.back/pgfrdfprefix"></a>
                                  <span class="hl-def"><span class="textcolor" style="color:#BF0000"><kbd>\pgfrdfprefix</kbd></span>{<span class="angle">&langle;</span><i>text</i><span class="angle">&rangle;</span>}</span>
<a class="anchor-link" data-html-link="pgf.back/pgfrdfprefix" href="#\pgfrdfprefix" id="\pgfrdfprefix">&para;</a></p>
</li></div>
<p>


</p>

</ul>
</div>



<div class="manualentry">

<ul class="list" style="list-style-type:none">



<div class="entryheadline"> <li>
<p>
<a id="pgf.back/pgfrdfproperty"></a>
                                       <span class="hl-def"><span class="textcolor" style="color:#BF0000"><kbd>\pgfrdfproperty</kbd></span>{<span class="angle">&langle;</span><i>text</i><span class="angle">&rangle;</span>}</span>
<a class="anchor-link" data-html-link="pgf.back/pgfrdfproperty" href="#\pgfrdfproperty" id="\pgfrdfproperty">&para;</a></p>
</li></div>
<p>


</p>

</ul>
</div>



<div class="manualentry">

<ul class="list" style="list-style-type:none">



<div class="entryheadline"> <li>
<p>
<a id="pgf.back/pgfrdfrel"></a>
                                  <span class="hl-def"><span class="textcolor" style="color:#BF0000"><kbd>\pgfrdfrel</kbd></span>{<span class="angle">&langle;</span><i>text</i><span class="angle">&rangle;</span>}</span>
<a class="anchor-link" data-html-link="pgf.back/pgfrdfrel" href="#\pgfrdfrel" id="\pgfrdfrel">&para;</a></p>
</li></div>
<p>


</p>

</ul>
</div>



<div class="manualentry">

<ul class="list" style="list-style-type:none">



<div class="entryheadline"> <li>
<p>
<a id="pgf.back/pgfrdfresource"></a>
                                       <span class="hl-def"><span class="textcolor" style="color:#BF0000"><kbd>\pgfrdfresource</kbd></span>{<span class="angle">&langle;</span><i>text</i><span class="angle">&rangle;</span>}</span>
<a class="anchor-link" data-html-link="pgf.back/pgfrdfresource" href="#\pgfrdfresource" id="\pgfrdfresource">&para;</a></p>
</li></div>
<p>


</p>

</ul>
</div>



<div class="manualentry">

<ul class="list" style="list-style-type:none">



<div class="entryheadline"> <li>
<p>
<a id="pgf.back/pgfrdfrev"></a>
                                  <span class="hl-def"><span class="textcolor" style="color:#BF0000"><kbd>\pgfrdfrev</kbd></span>{<span class="angle">&langle;</span><i>text</i><span class="angle">&rangle;</span>}</span>
<a class="anchor-link" data-html-link="pgf.back/pgfrdfrev" href="#\pgfrdfrev" id="\pgfrdfrev">&para;</a></p>
</li></div>
<p>


</p>

</ul>
</div>



<div class="manualentry">

<ul class="list" style="list-style-type:none">



<div class="entryheadline"> <li>
<p>
<a id="pgf.back/pgfrdfsrc"></a>
                                  <span class="hl-def"><span class="textcolor" style="color:#BF0000"><kbd>\pgfrdfsrc</kbd></span>{<span class="angle">&langle;</span><i>text</i><span class="angle">&rangle;</span>}</span>
<a class="anchor-link" data-html-link="pgf.back/pgfrdfsrc" href="#\pgfrdfsrc" id="\pgfrdfsrc">&para;</a></p>
</li></div>
<p>


</p>

</ul>
</div>



<div class="manualentry">

<ul class="list" style="list-style-type:none">



<div class="entryheadline"> <li>
<p>
<a id="pgf.back/pgfrdftypeof"></a>
                                  <span class="hl-def"><span class="textcolor" style="color:#BF0000"><kbd>\pgfrdftypeof</kbd></span>{<span class="angle">&langle;</span><i>text</i><span class="angle">&rangle;</span>}</span>
<a class="anchor-link" data-html-link="pgf.back/pgfrdftypeof" href="#\pgfrdftypeof" id="\pgfrdftypeof">&para;</a></p>
</li></div>
<p>


</p>

</ul>
</div>



<div class="manualentry">

<ul class="list" style="list-style-type:none">



<div class="entryheadline"> <li>
<p>
<a id="pgf.back/pgfrdfvocab"></a>
                                 <span class="hl-def"><span class="textcolor" style="color:#BF0000"><kbd>\pgfrdfvocab</kbd></span>{<span class="angle">&langle;</span><i>text</i><span class="angle">&rangle;</span>}</span>
<a class="anchor-link" data-html-link="pgf.back/pgfrdfvocab" href="#\pgfrdfvocab" id="\pgfrdfvocab">&para;</a></p>
</li></div>
<p>


</p>

</ul>
</div>
<h5 id="autosec-7908"><span><span class="sectionnumber" id="sec-100.6">100.6</span> Error Messages and Warnings</span><a class="anchor-link" data-html-link="sec-100.6" data-pdf-destination="subsection.100.6" data-pdf-page="1086" href="#sec-100.6">&para;</a></h5>
<a id="pgfmanual-autopage-7908"></a>


<p>
Sometimes, a command inside <span class="textsc">pgf</span> may fail. In this case, two commands are useful to communicate with the author:
</p>



<div class="manualentry">

<ul class="list" style="list-style-type:none">



<div class="entryheadline"> <li>
<p>
<a id="pgf.back/pgferror"></a>
                                 <span class="hl-def"><span class="textcolor" style="color:#BF0000"><kbd>\pgferror</kbd></span>{<span class="angle">&langle;</span><i>message</i><span class="angle">&rangle;</span>}</span>
<a class="anchor-link" data-html-link="pgf.back/pgferror" href="#\pgferror" id="\pgferror">&para;</a></p>
</li></div>
<p>
Stops the processing of the current document and prints out the <span class="angle">&langle;</span><i>message</i><span class="angle">&rangle;</span>. In <span class="latexlogofont"><span class="latexlogo">L<span class="latexlogosup">a</span>T<span class="latexlogosub">e</span>X</span></span>, this will be done using <span class="verb">\PackageError</span>, otherwise <span class="verb">\errmessage</span> is used directly.
</p>

</ul>
</div>



<div class="manualentry">

<ul class="list" style="list-style-type:none">



<div class="entryheadline"> <li>
<p>
<a id="pgf.back/pgfwarning"></a>
                                <span class="hl-def"><span class="textcolor" style="color:#BF0000"><kbd>\pgfwarning</kbd></span>{<span class="angle">&langle;</span><i>message</i><span class="angle">&rangle;</span>}</span>
<a class="anchor-link" data-html-link="pgf.back/pgfwarning" href="#\pgfwarning" id="\pgfwarning">&para;</a></p>
</li></div>
<p>
Prints the <span class="angle">&langle;</span><i>message</i><span class="angle">&rangle;</span> on the output, but does not interrupt the processing. In <span class="latexlogofont"><span class="latexlogo">L<span class="latexlogosup">a</span>T<span class="latexlogosub">e</span>X</span></span>, this will be done using <span class="verb">\PackageWarning</span>, otherwise a write to stream \(17\) is used.
</p>

</ul>
</div>
</section>

</main>

<footer><div class="footer-left"><a href="/license">License</a> &middot; <a href="https://ctan.org/pkg/pgf">CTAN</a> &middot; <a href="https://pgf-tikz.github.io/pgf/pgfmanual.pdf">Official PDF version</a> &middot; <a href="https://github.com/DominikPeters/tikz.dev-issues/issues">Feedback and issues</a> &middot; <a href="https://github.com/DominikPeters/pgf-tikz-html-manual">About this HTML version</a></div><div class="footer-right"><em>HTML version last updated: 2024-03-17</em></div></footer></div>







<script src="https://cdn.jsdelivr.net/npm/@docsearch/js@3"></script><script>
      docsearch({
        apiKey: '196e8c10ec187c9ae525dd5226fb9378',
        indexName: 'tikz',
        appId: 'JS6V5VZSDB',
        container: '#search',
        searchParameters: {
          filters: "tags:tikz",
        },
    });
    </script></body></html>