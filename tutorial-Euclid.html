<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8" />
    <meta content="LaTeX Lwarp package" name="generator" />
    <meta content="width=device-width, initial-scale=1.0" name="viewport" />
    <!--[if lt IE 9]>
      <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <title>
      Tutorial: Euclid&rsquo;s Amber Version of the Elements - PGF/TikZ Manual
    </title>
    <link href="style.css" rel="stylesheet" type="text/css" />

    <script>
      // Lwarp MathJax emulation code
      //
      // Based on code by Davide P. Cervone.
      // Equation numbering: https://github.com/mathjax/MathJax/issues/2427
      // Starred and ifnextchar macros: https://github.com/mathjax/MathJax/issues/2428
      // \left, \right delimiters: https://github.com/mathjax/MathJax/issues/2535
      //
      // Modified by Brian Dunn to adjust equation numbering and add subequations.
      //
      // LaTeX can use \seteqnumber{subequations?}{section}{number} before each equation.
      // subequations? is 0 usually, 1 if inside subequations.
      // section is a string printed as-is, or empty.
      // number is auto-incremented by MathJax between equations.
      //
      MathJax = {
        subequations: "0",
        section: "",
        loader: {
          load: ["[tex]/tagformat", "[tex]/textmacros"],
        },
        startup: {
          ready() {
            // These would be replaced by import commands if you wanted to make
            // a proper extension.
            const Configuration =
              MathJax._.input.tex.Configuration.Configuration;
            const CommandMap = MathJax._.input.tex.SymbolMap.CommandMap;
            const Macro = MathJax._.input.tex.Symbol.Macro;
            const TexError = MathJax._.input.tex.TexError.default;
            const ParseUtil = MathJax._.input.tex.ParseUtil.default;
            const expandable = MathJax._.util.Options.expandable;

            // Insert the replacement string into the TeX string, and check
            // that there haven't been too many maxro substitutions (prevents
            // infinite loops).
            const useArgument = (parser, text) => {
              parser.string = ParseUtil.addArgs(
                parser,
                text,
                parser.string.slice(parser.i)
              );
              parser.i = 0;
              if (
                ++parser.macroCount > parser.configuration.options.maxMacros
              ) {
                throw new TexError(
                  "MaxMacroSub1",
                  "MathJax maximum macro substitution count exceeded; " +
                    "is there a recursive macro call?"
                );
              }
            };

            // Create the command map for:
            // \ifstar, \ifnextchar, \ifblank, \ifstrequal, \seteqnumber
            new CommandMap(
              "Lwarp-macros",
              {
                ifstar: "IfstarFunction",
                ifnextchar: "IfnextcharFunction",
                ifblank: "IfblankFunction",
                ifstrequal: "IfstrequalFunction",
                seteqnumber: "SeteqnumberFunction",
              },
              {
                // This function implements an ifstar macro.
                IfstarFunction(parser, name) {
                  const resultstar = parser.GetArgument(name);
                  const resultnostar = parser.GetArgument(name);
                  const star = parser.GetStar(); // true if there is a *
                  useArgument(parser, star ? resultstar : resultnostar);
                },

                // This function implements an ifnextchar macro.
                IfnextcharFunction(parser, name) {
                  let whichchar = parser.GetArgument(name);
                  if (whichchar.match(/^(?:0x[0-9A-F]+|[0-9]+)$/i)) {
                    // $ syntax highlighting
                    whichchar = String.fromCodePoint(parseInt(whichchar));
                  }
                  const resultnextchar = parser.GetArgument(name);
                  const resultnotnextchar = parser.GetArgument(name);
                  const gotchar = parser.GetNext() === whichchar;
                  useArgument(
                    parser,
                    gotchar ? resultnextchar : resultnotnextchar
                  );
                },

                // This function implements an ifblank macro.
                IfblankFunction(parser, name) {
                  const blankarg = parser.GetArgument(name);
                  const resultblank = parser.GetArgument(name);
                  const resultnotblank = parser.GetArgument(name);
                  const isblank = blankarg.trim() == "";
                  useArgument(parser, isblank ? resultblank : resultnotblank);
                },

                // This function implements an ifstrequal macro.
                IfstrequalFunction(parser, name) {
                  const strequalfirst = parser.GetArgument(name);
                  const strequalsecond = parser.GetArgument(name);
                  const resultequal = parser.GetArgument(name);
                  const resultnotequal = parser.GetArgument(name);
                  const isequal = strequalfirst == strequalsecond;
                  useArgument(parser, isequal ? resultequal : resultnotequal);
                },

                // This function modifies the equation numbers.
                SeteqnumberFunction(parser, name) {
                  // Get the macro parameters
                  const star = parser.GetStar(); // true if there is a *
                  const optBrackets = parser.GetBrackets(name); // contents of optional brackets
                  const newsubequations = parser.GetArgument(name); // the subequations argument
                  const neweqsection = parser.GetArgument(name); // the eq section argument
                  const neweqnumber = parser.GetArgument(name); // the eq number argument
                  MathJax.config.subequations = newsubequations; // a string with boolean meaning
                  MathJax.config.section = neweqsection; // a string with numeric meaning
                  parser.tags.counter = parser.tags.allCounter = neweqnumber;
                },
              }
            );

            // Create the Lwarp-macros package
            Configuration.create("Lwarp-macros", {
              handler: { macro: ["Lwarp-macros"] },
            });

            MathJax.startup.defaultReady();

            // For forward references:
            MathJax.startup.input[0].preFilters.add(({ math }) => {
              if (math.inputData.recompile) {
                MathJax.config.subequations =
                  math.inputData.recompile.subequations;
                MathJax.config.section = math.inputData.recompile.section;
              }
            });
            MathJax.startup.input[0].postFilters.add(({ math }) => {
              if (math.inputData.recompile) {
                math.inputData.recompile.subequations =
                  MathJax.config.subequations;
                math.inputData.recompile.section = MathJax.config.section;
              }
            });

            // For \left, \right with unicode-math:
            const { DelimiterMap } = MathJax._.input.tex.SymbolMap;
            const { Symbol } = MathJax._.input.tex.Symbol;
            const { MapHandler } = MathJax._.input.tex.MapHandler;
            const delimiter = MapHandler.getMap("delimiter");
            delimiter.add("\\lBrack", new Symbol("\\lBrack", "\u27E6"));
            delimiter.add("\\rBrack", new Symbol("\\rBrack", "\u27E7"));
            delimiter.add("\\lAngle", new Symbol("\\lAngle", "\u27EA"));
            delimiter.add("\\rAngle", new Symbol("\\rAngle", "\u27EB"));
            delimiter.add("\\lbrbrak", new Symbol("\\lbrbrak", "\u2772"));
            delimiter.add("\\rbrbrak", new Symbol("\\rbrbrak", "\u2773"));
            delimiter.add("\\lbag", new Symbol("\\lbag", "\u27C5"));
            delimiter.add("\\rbag", new Symbol("\\rbag", "\u27C6"));
            delimiter.add(
              "\\llparenthesis",
              new Symbol("\\llparenthesis", "\u2987")
            );
            delimiter.add(
              "\\rrparenthesis",
              new Symbol("\\rrparenthesis", "\u2988")
            );
            delimiter.add("\\llangle", new Symbol("\\llangle", "\u2989"));
            delimiter.add("\\rrangle", new Symbol("\\rrangle", "\u298A"));
            delimiter.add("\\Lbrbrak", new Symbol("\\Lbrbrak", "\u27EC"));
            delimiter.add("\\Rbrbrak", new Symbol("\\Rbrbrak", "\u27ED"));
            delimiter.add("\\lBrace", new Symbol("\\lBrace", "\u2983"));
            delimiter.add("\\rBrace", new Symbol("\\rBrace", "\u2984"));
            delimiter.add("\\lParen", new Symbol("\\lParen", "\u2985"));
            delimiter.add("\\rParen", new Symbol("\\rParen", "\u2986"));
            delimiter.add("\\lbrackubar", new Symbol("\\lbrackubar", "\u298B"));
            delimiter.add("\\rbrackubar", new Symbol("\\rbrackubar", "\u298C"));
            delimiter.add(
              "\\lbrackultick",
              new Symbol("\\lbrackultick", "\u298D")
            );
            delimiter.add(
              "\\rbracklrtick",
              new Symbol("\\rbracklrtick", "\u298E")
            );
            delimiter.add(
              "\\lbracklltick",
              new Symbol("\\lbracklltick", "\u298F")
            );
            delimiter.add(
              "\\rbrackurtick",
              new Symbol("\\rbrackurtick", "\u2990")
            );
            delimiter.add("\\langledot", new Symbol("\\langledot", "\u2991"));
            delimiter.add("\\rangledot", new Symbol("\\rangledot", "\u2992"));
            delimiter.add("\\lparenless", new Symbol("\\lparenless", "\u2993"));
            delimiter.add("\\rparengtr", new Symbol("\\rparengtr", "\u2994"));
            delimiter.add("\\Lparengtr", new Symbol("\\Lparengtr", "\u2995"));
            delimiter.add("\\Rparenless", new Symbol("\\Rparenless", "\u2996"));
            delimiter.add("\\lblkbrbrak", new Symbol("\\lblkbrbrak", "\u2997"));
            delimiter.add("\\rblkbrbrak", new Symbol("\\rblkbrbrak", "\u2998"));
            delimiter.add("\\lvzigzag", new Symbol("\\lvzigzag", "\u29D8"));
            delimiter.add("\\rvzigzag", new Symbol("\\rvzigzag", "\u29D9"));
            delimiter.add("\\Lvzigzag", new Symbol("\\Lvzigzag", "\u29DA"));
            delimiter.add("\\Rvzigzag", new Symbol("\\Rvzigzag", "\u29DB"));
            delimiter.add(
              "\\lcurvyangle",
              new Symbol("\\lcurvyangle", "\u29FC")
            );
            delimiter.add(
              "\\rcurvyangle",
              new Symbol("\\rcurvyangle", "\u29FD")
            );
            delimiter.add("\\Vvert", new Symbol("\\Vvert", "\u2980"));
          }, // ready
        }, // startup

        tex: {
          packages: { "[+]": ["tagformat", "Lwarp-macros", "textmacros"] },
          tags: "ams",
          tagformat: {
            number: function (n) {
              if (MathJax.config.subequations == 0)
                return MathJax.config.section + n;
              else return MathJax.config.section + String.fromCharCode(96 + n);
            },
          },
        },
      };
    </script>

    <script
      async
      id="MathJax-script"
      src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"
    ></script>

    <script src="pgfmanual.js"></script>

    <link href="https://unpkg.com/@docsearch/css@alpha" rel="stylesheet" />
    <link href="/favicon-16x16.png" rel="icon" sizes="16x16" type="image/png" />
    <link href="/favicon-32x32.png" rel="icon" sizes="32x32" type="image/png" />
    <link
      href="/apple-touch-icon.png"
      rel="apple-touch-icon"
      sizes="180x180"
      type="image/png"
    />
    <link href="/site.webmanifest" rel="manifest" />
  </head>
  <body>
    <a id="pgfmanual-autopage-247"></a>

    <div class="bodyandsidetoc grid-container">
      <header>
        <strong><a href="/">PGF/Ti<i>k</i>Z Manual</a></strong>
        <div id="search"></div>
      </header>
      <div class="sidetoccontainer" id="local-toc-container">
        <nav class="sidetoc">
          <div class="sidetoctitle"><p>On this page</p></div>
          <div class="sidetoccontents">
            <p>
              <a class="tocsubsection" href="#sec-4.1">Book I, Proposition I</a>
            </p>
            <p>
              <a class="tocsubsubsection" href="#sec-4.1.1"
                >Setting up the Environment</a
              >
            </p>
            <p><a class="tocsubsubsection" href="#sec-4.1.2">The Line AB</a></p>
            <p>
              <a class="tocsubsubsection" href="#sec-4.1.3"
                >The Circle Around A</a
              >
            </p>
            <p>
              <a class="tocsubsubsection" href="#sec-4.1.4"
                >The Intersection of the Circles</a
              >
            </p>
            <p>
              <a class="tocsubsubsection" href="#sec-4.1.5"
                >The Complete Code</a
              >
            </p>
            <p>
              <a class="tocsubsection" href="#sec-4.2"
                >Book I, Proposition II</a
              >
            </p>
            <p>
              <a class="tocsubsubsection" href="#sec-4.2.1"
                >Using Partway Calculations for the Construction of D</a
              >
            </p>
            <p>
              <a class="tocsubsubsection" href="#sec-4.2.2"
                >Intersecting a Line and a Circle</a
              >
            </p>
            <p>
              <a class="tocsubsubsection" href="#sec-4.2.3"
                >The Complete Code</a
              >
            </p>
          </div>
        </nav>
      </div>
      <div class="sidetoccontainer" id="chapter-toc-container">
        <nav class="sidetoc">
          <div class="sidetoctitle">
            <p>
              <span class="sidetocthetitle"
                >The Ti<em>k</em>Z and PGF Packages<br />
                Manual for version 3.1.9a</span
              >
            </p>

            <p>Contents</p>
          </div>

          <div class="sidetoccontents">
            <p></p>

            <p>
              <a class="linkintro" href="/">Introduction</a>
            </p>

            <p class="current-part">
              <a class="tocpart" href="tutorials-guidelines"
                >Tutorials and Guidelines</a
              >
            </p>

            <p class="current-part">
              <a class="tocsection" href="tutorial"
                >Tutorial: A Picture for Karl&rsquo;s Students</a
              >
            </p>

            <p class="current-part">
              <a class="tocsection" href="tutorial-nodes"
                >Tutorial: A Petri-Net for Hagen</a
              >
            </p>

            <p class="current current-part">
              <a class="tocsection" href="tutorial-Euclid"
                >Tutorial: Euclid&rsquo;s Amber Version of the
                <em>Elements</em></a
              >
            </p>
          </div>
        </nav>
      </div>

      <main class="bodycontainer">
        <section class="textbody">
          <h1>
            The Ti<em>k</em>Z and PGF Packages<br />
            Manual for version 3.1.9a
          </h1>
          <h2 class="inserted">Tutorials and Guidelines</h2>

          <!--MathJax customizations:-->

          <div class="hidden">
            \(\newcommand{\footnotename}{footnote}\) \(\def \LWRfootnote {1}\)
            \(\newcommand {\footnote }[2][\LWRfootnote ]{{}^{\mathrm {#1}}}\)
            \(\newcommand {\footnotemark }[1][\LWRfootnote ]{{}^{\mathrm
            {#1}}}\) \(\let \LWRorighspace \hspace \) \(\renewcommand {\hspace
            }{\ifstar \LWRorighspace \LWRorighspace }\) \(\newcommand
            {\mathnormal }[1]{{#1}}\) \(\newcommand \ensuremath [1]{#1}\)
            \(\newcommand {\LWRframebox }[2][]{\fbox {#2}} \newcommand
            {\framebox }[1][]{\LWRframebox } \) \(\newcommand {\setlength
            }[2]{}\) \(\newcommand {\addtolength }[2]{}\) \(\newcommand
            {\setcounter }[2]{}\) \(\newcommand {\addtocounter }[2]{}\)
            \(\newcommand {\arabic }[1]{}\) \(\newcommand {\number }[1]{}\)
            \(\newcommand {\noalign }[1]{\text {#1}\notag \\}\) \(\newcommand
            {\cline }[1]{}\) \(\newcommand {\directlua }[1]{\text
            {(directlua)}}\) \(\newcommand {\luatexdirectlua }[1]{\text
            {(directlua)}}\) \(\newcommand {\protect }{}\) \(\def
            \LWRabsorbnumber #1 {}\) \(\def \LWRabsorbquotenumber "#1 {}\)
            \(\newcommand {\LWRabsorboption }[1][]{}\) \(\newcommand
            {\LWRabsorbtwooptions }[1][]{\LWRabsorboption }\) \(\def \mathchar
            {\ifnextchar "\LWRabsorbquotenumber \LWRabsorbnumber }\) \(\def
            \mathcode #1={\mathchar }\) \(\let \delcode \mathcode \) \(\let
            \delimiter \mathchar \) \(\def \oe {\unicode {x0153}}\) \(\def \OE
            {\unicode {x0152}}\) \(\def \ae {\unicode {x00E6}}\) \(\def \AE
            {\unicode {x00C6}}\) \(\def \aa {\unicode {x00E5}}\) \(\def \AA
            {\unicode {x00C5}}\) \(\def \o {\unicode {x00F8}}\) \(\def \O
            {\unicode {x00D8}}\) \(\def \l {\unicode {x0142}}\) \(\def \L
            {\unicode {x0141}}\) \(\def \ss {\unicode {x00DF}}\) \(\def \SS
            {\unicode {x1E9E}}\) \(\def \dag {\unicode {x2020}}\) \(\def \ddag
            {\unicode {x2021}}\) \(\def \P {\unicode {x00B6}}\) \(\def
            \copyright {\unicode {x00A9}}\) \(\def \pounds {\unicode {x00A3}}\)
            \(\let \LWRref \ref \) \(\renewcommand {\ref }{\ifstar \LWRref
            \LWRref }\) \( \newcommand {\multicolumn }[3]{#3}\) \(\require
            {textcomp}\) \( \newcommand {\meta }[1]{\langle \textit {#1}\rangle
            } \) \(\newcommand {\intertext }[1]{\text {#1}\notag \\}\) \(\let
            \Hat \hat \) \(\let \Check \check \) \(\let \Tilde \tilde \) \(\let
            \Acute \acute \) \(\let \Grave \grave \) \(\let \Dot \dot \) \(\let
            \Ddot \ddot \) \(\let \Breve \breve \) \(\let \Bar \bar \) \(\let
            \Vec \vec \)
          </div>

          <p></p>
          <h4 id="autosec-248">
            <span class="sectionnumber">4&emsp;</span>Tutorial: Euclid&rsquo;s
            Amber Version of the <em>Elements</em>
          </h4>
          <a id="pgfmanual-autopage-248"></a>
          <a id="pgfmanual-autofile-5"></a>

          <p>
            In this third tutorial we have a look at how Ti<em>k</em>Z can be
            used to draw geometric constructions.
          </p>

          <p>
            Euclid is currently quite busy writing his new book series, whose
            working title is &ldquo;Elements&rdquo; (Euclid is not quite sure
            whether this title will convey the message of the series to future
            generations correctly, but he intends to change the title before it
            goes to the publisher). Up to now, he wrote down his text and
            graphics on papyrus, but his publisher suddenly insists that he must
            submit in electronic form. Euclid tries to argue with the publisher
            that electronics will only be discovered thousands of years later,
            but the publisher informs him that the use of papyrus is no longer
            cutting edge technology and Euclid will just have to keep up with
            modern tools.
          </p>

          <p>
            Slightly disgruntled, Euclid starts converting his papyrus entitled
            &ldquo;Book I, Proposition I&rdquo; to an amber version.
          </p>
          <h5 id="autosec-249">
            <span class="sectionnumber" id="sec-4.1">4.1&emsp;</span>Book I,
            Proposition I<a class="anchor-link" href="#sec-4.1">&para;</a>
          </h5>
          <a id="pgfmanual-autopage-249"></a>

          <p>The drawing on his papyrus looks like this:<sup>1</sup></p>

          <p>
            <span class="lateximagesource" id="lateximage-pgfmanual-90"
              ><!--
                    Proposition I
                    To construct an equilateral triangle on a given finite straight
                    line.

        C Let AB be the given finite straight line. It is required to
                    construct an equilateral triangle on the straight line AB.
                    Describe the circle BCD with center A and radius AB. Again
D A B E describe the circle ACE with center B and radius BA. Join
                    the straight lines CA and CB from the point C at which the
                    circles cut one another to the points A and B.
                    Now, since the point A is the center of the circle CDB, there-
                    fore AC equals AB. Again, since the point B is the center of
                    the circle CAE, therefore BC equals BA. But AC was proved
                    equal to AB, therefore each of the straight lines AC and BC
                    equals AB. And things which equal the same thing also equal
                    one another, therefore AC also equals BC. Therefore the three
                    straight lines AC, AB, and BC equal one another. Therefore
                    the triangle ABC is equilateral, and it has been constructed
                    on the given finite straight line AB.
--><img
                alt="(-tikz-&nbsp;diagram)"
                class="lateximage"
                src="pgfmanual-images/image-90.svg"
                style
            /></span>
          </p>

          <p>
            Let us have a look at how Euclid can turn this into Ti<em>k</em>Z
            code.
          </p>
          <div class="footnotes" role="note">
            <a id="pgfmanual-autopage-252"></a>

            <p>
              <sup>1</sup>&nbsp;The text is taken from the wonderful interactive
              version of Euclid&rsquo;s Elements by David E. Joyce, to be found
              on his website at Clark University.
            </p>
          </div>
          <h6 id="autosec-253">
            <span class="sectionnumber" id="sec-4.1.1">4.1.1&emsp;</span>Setting
            up the Environment<a class="anchor-link" href="#sec-4.1.1"
              >&para;</a
            >
          </h6>
          <a id="pgfmanual-autopage-253"></a>

          <p>
            As in the previous tutorials, Euclid needs to load Ti<em>k</em>Z,
            together with some libraries. These libraries are
            <span class="texttt">calc</span>,
            <span class="texttt">intersections</span>,
            <span class="texttt">through</span>, and
            <span class="texttt">backgrounds</span>. Depending on which format
            he uses, Euclid would use one of the following in the preamble:
          </p>

          <figure class="example">
            <div class="example-code">
              <button class="clipboardButton" type="button">copy</button>

              <code>
                <br />
                <span class="example-code-comment">% For LaTeX:</span><br />
                <span class="textcolor" style="color: #0000b2">\usepackage</span
                >{<span class="textcolor" style="color: #000000">tikz</span
                >}<br />
                \usetikzlibrary{calc,intersections,through,backgrounds}<br />
              </code>
            </div>
          </figure>

          <figure class="example">
            <div class="example-code">
              <button class="clipboardButton" type="button">copy</button>

              <code>
                <br />
                <span class="example-code-comment">% For plain TeX:</span><br />
                <span class="textcolor" style="color: #0000b2">\input</span
                >&numsp;<span class="textcolor" style="color: #000000"
                  >tikz</span
                >.<span class="textcolor" style="color: #000000">tex</span
                ><br />
                \usetikzlibrary{calc,intersections,through,backgrounds}<br />
              </code>
            </div>
          </figure>

          <figure class="example">
            <div class="example-code">
              <button class="clipboardButton" type="button">copy</button>

              <code>
                <br />
                <span class="example-code-comment">% For ConTeXt:</span><br />
                <span class="textcolor" style="color: #0000b2">\usemodule</span
                >[<span class="textcolor" style="color: #008000">tikz</span
                >]<br />
                <span class="textcolor" style="color: #0000b2"
                  >\usetikzlibrary</span
                >[<span class="textcolor" style="color: #008000">calc</span
                >,<span class="textcolor" style="color: #008000"
                  >intersections</span
                >,<span class="textcolor" style="color: #008000">through</span
                >,<span class="textcolor" style="color: #008000"
                  >backgrounds</span
                >]<br />
              </code>
            </div>
          </figure>
          <h6 id="autosec-254">
            <span class="sectionnumber" id="sec-4.1.2">4.1.2&emsp;</span>The
            Line <em>AB</em><a class="anchor-link" href="#sec-4.1.2">&para;</a>
          </h6>
          <a id="pgfmanual-autopage-254"></a>

          <p>
            The first part of the picture that Euclid wishes to draw is the line
            \(AB\). That is easy enough, something like
            <span class="texttt">\draw (0,0) -- (2,1);</span> might do. However,
            Euclid does not wish to reference the two points \(A\) and \(B\) as
            \((0,0)\) and \((2,1)\) subsequently. Rather, he wishes to just
            write <span class="texttt">A</span> and
            <span class="texttt">B</span>. Indeed, the whole point of his book
            is that the points \(A\) and \(B\) can be arbitrary and all other
            points (like \(C\)) are constructed in terms of their positions. It
            would not do if Euclid were to write down the coordinates of \(C\)
            explicitly.
          </p>

          <p>
            So, Euclid starts with defining two coordinates using the
            <span class="texttt">\coordinate</span> command:
          </p>

          <figure class="example">
            <div class="example-image">
              <p>
                <span class="lateximagesource" id="lateximage-pgfmanual-91"
                  ><!--
--><img
                    alt="(-tikz-&nbsp;diagram)"
                    class="lateximage"
                    src="pgfmanual-images/image-91.svg"
                    style
                /></span>
              </p>
            </div>

            <div class="example-code">
              <button class="clipboardButton" type="button">copy</button>

              <code>
                <br />
                <span class="textcolor" style="color: #000000">\begin</span
                >{<span class="textcolor" style="color: #0000b2"
                  >tikzpicture</span
                >}<br />
                &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                  >\coordinate</span
                >&numsp;<span class="textcolor" style="color: #800080">(A)</span
                >&numsp;<span class="textcolor" style="color: #000000">at</span>
                <span class="textcolor" style="color: #800080">(0,0)</span
                >;<br />
                &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                  >\coordinate</span
                >&numsp;<span class="textcolor" style="color: #800080">(B)</span
                >&numsp;<span class="textcolor" style="color: #000000">at</span>
                <span class="textcolor" style="color: #800080">(1.25,0.25)</span
                >;<br />
                <br />
                &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                  >\draw</span
                >[<span class="textcolor" style="color: #008000">blue</span
                >]&numsp;<span class="textcolor" style="color: #800080"
                  >(A)</span
                >&numsp;<span class="textcolor" style="color: #000000">--</span>
                <span class="textcolor" style="color: #800080">(B)</span>;<br />
                <span class="textcolor" style="color: #000000">\end</span>{<span
                  class="textcolor"
                  style="color: #0000b2"
                  >tikzpicture</span
                >}<br />
              </code>
            </div>
          </figure>

          <p>
            That was easy enough. What is missing at this point are the labels
            for the coordinates. Euclid does not want them <em>on</em> the
            points, but next to them. He decides to use the
            <span class="texttt">label</span> option:
          </p>

          <figure class="example">
            <div class="example-image">
              <p>
                <span class="lateximagesource" id="lateximage-pgfmanual-92"
                  ><!--
    B
A
--><img
                    alt="(-tikz-&nbsp;diagram)"
                    class="lateximage"
                    src="pgfmanual-images/image-92.svg"
                    style
                /></span>
              </p>
            </div>

            <div class="example-code">
              <button class="clipboardButton" type="button">copy</button>

              <code>
                <br />
                <span class="textcolor" style="color: #000000">\begin</span
                >{<span class="textcolor" style="color: #0000b2"
                  >tikzpicture</span
                >}<br />
                &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                  >\coordinate</span
                >&numsp;[<span class="textcolor" style="color: #008000"
                  >label</span
                >=<span class="textcolor" style="color: #008000"
                  >left:<span class="textcolor" style="color: #0000b2"
                    >\textcolor</span
                  >{blue}{$A$}</span
                >]&numsp;&numsp;<span class="textcolor" style="color: #800080"
                  >(A)</span
                >&numsp;<span class="textcolor" style="color: #000000">at</span>
                <span class="textcolor" style="color: #800080">(0,0)</span
                >;<br />
                &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                  >\coordinate</span
                >&numsp;[<span class="textcolor" style="color: #008000"
                  >label</span
                >=<span class="textcolor" style="color: #008000"
                  >right:<span class="textcolor" style="color: #0000b2"
                    >\textcolor</span
                  >{blue}{$B$}</span
                >]&numsp;<span class="textcolor" style="color: #800080"
                  >(B)</span
                >&numsp;<span class="textcolor" style="color: #000000">at</span>
                <span class="textcolor" style="color: #800080">(1.25,0.25)</span
                >;<br />
                <br />
                &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                  >\draw</span
                >[<span class="textcolor" style="color: #008000">blue</span
                >]&numsp;<span class="textcolor" style="color: #800080"
                  >(A)</span
                >&numsp;<span class="textcolor" style="color: #000000">--</span>
                <span class="textcolor" style="color: #800080">(B)</span>;<br />
                <span class="textcolor" style="color: #000000">\end</span>{<span
                  class="textcolor"
                  style="color: #0000b2"
                  >tikzpicture</span
                >}<br />
              </code>
            </div>
          </figure>

          <p>
            At this point, Euclid decides that it would be even nicer if the
            points \(A\) and \(B\) were in some sense &ldquo;random&rdquo;.
            Then, neither Euclid nor the reader can make the mistake of taking
            &ldquo;anything for granted&rdquo; concerning these position of
            these points. Euclid is pleased to learn that there is a
            <span class="texttt">rand</span> function in Ti<em>k</em>Z that does
            exactly what he needs: It produces a number between \(-1\) and
            \(1\). Since Ti<em>k</em>Z can do a bit of math, Euclid can change
            the coordinates of the points as follows:
          </p>

          <figure class="example">
            <div class="example-code">
              <button class="clipboardButton" type="button">copy</button>

              <code>
                <br />
                <span class="textcolor" style="color: #0000b2">\coordinate</span
                >&numsp;[<span class="textcolor" style="color: #008000"
                  >...</span
                >]&numsp;<span class="textcolor" style="color: #800080"
                  >(A)</span
                >&numsp;<span class="textcolor" style="color: #000000">at</span>
                <span class="textcolor" style="color: #800080"
                  >(0+0.1*rand,0+0.1*rand)</span
                >;<br />
                <span class="textcolor" style="color: #0000b2">\coordinate</span
                >&numsp;[<span class="textcolor" style="color: #008000"
                  >...</span
                >]&numsp;<span class="textcolor" style="color: #800080"
                  >(B)</span
                >&numsp;<span class="textcolor" style="color: #000000">at</span>
                <span class="textcolor" style="color: #800080"
                  >(1.25+0.1*rand,0.25+0.1*rand)</span
                >;<br />
              </code>
            </div>
          </figure>

          <p>
            This works fine. However, Euclid is not quite satisfied since he
            would prefer that the &ldquo;main coordinates&rdquo; \((0,0)\) and
            \((1.25,0.25)\) are &ldquo;kept separate&rdquo; from the
            perturbation \(0.1(\mathit {rand},\mathit {rand})\). This means, he
            would like to specify that coordinate \(A\) as &ldquo;the point that
            is at \((0,0)\) plus one tenth of the vector \((\mathit
            {rand},\mathit {rand})\)&rdquo;.
          </p>

          <p>
            It turns out that the <span class="texttt">calc</span> library
            allows him to do exactly this kind of computation. When this library
            is loaded, you can use special coordinates that start with
            <span class="texttt">($</span> and end with
            <span class="texttt">$)</span> rather than just
            <span class="texttt">(</span> and&nbsp;<span class="texttt">)</span
            >. Inside these special coordinates you can give a linear
            combination of coordinates. (Note that the dollar signs are only
            intended to signal that a &ldquo;computation&rdquo; is going on; no
            mathematical typesetting is done.)
          </p>

          <p>The new code for the coordinates is the following:</p>

          <figure class="example">
            <div class="example-code">
              <button class="clipboardButton" type="button">copy</button>

              <code>
                <br />
                <span class="textcolor" style="color: #0000b2">\coordinate</span
                >&numsp;[<span class="textcolor" style="color: #008000"
                  >...</span
                >]&numsp;<span class="textcolor" style="color: #800080"
                  >(A)</span
                >&numsp;<span class="textcolor" style="color: #000000">at</span>
                <span class="textcolor" style="color: #800080">($ (0,0)</span
                >&numsp;<span class="textcolor" style="color: #000000">+</span>
                .<span class="textcolor" style="color: #000000">1*</span
                ><span class="textcolor" style="color: #800080"
                  >(rand,rand)</span
                >&numsp;<span class="textcolor" style="color: #000000">$</span
                >);<br />
                <span class="textcolor" style="color: #0000b2">\coordinate</span
                >&numsp;[<span class="textcolor" style="color: #008000"
                  >...</span
                >]&numsp;<span class="textcolor" style="color: #800080"
                  >(B)</span
                >&numsp;<span class="textcolor" style="color: #000000">at</span>
                <span class="textcolor" style="color: #800080"
                  >($ (1.25,0.25)</span
                >&numsp;<span class="textcolor" style="color: #000000">+</span>
                .<span class="textcolor" style="color: #000000">1*</span
                ><span class="textcolor" style="color: #800080"
                  >(rand,rand)</span
                >&numsp;<span class="textcolor" style="color: #000000">$</span
                >);<br />
              </code>
            </div>
          </figure>

          <p>
            Note that if a coordinate in such a computation has a factor (like
            <span class="texttt">.1</span>), you must place a
            <span class="texttt">*</span> directly before the opening
            parenthesis of the coordinate. You can nest such computations.
          </p>
          <h6 id="autosec-259">
            <span class="sectionnumber" id="sec-4.1.3">4.1.3&emsp;</span>The
            Circle Around <em>A</em
            ><a class="anchor-link" href="#sec-4.1.3">&para;</a>
          </h6>
          <a id="pgfmanual-autopage-259"></a>

          <p>
            The first tricky construction is the circle around&nbsp;\(A\). We
            will see later how to do this in a very simple manner, but first let
            us do it the &ldquo;hard&rdquo; way.
          </p>

          <p>
            The idea is the following: We draw a circle around the point \(A\)
            whose radius is given by the length of the line \(AB\). The
            difficulty lies in computing the length of this line.
          </p>

          <p>
            Two ideas &ldquo;nearly&rdquo; solve this problem: First, we can
            write <span class="texttt">($ (A) - (B) $)</span> for the vector
            that is the difference between \(A\) and&nbsp;\(B\). All we need is
            the length of this vector. Second, given two numbers \(x\) and
            \(y\), one can write <span class="texttt">veclen(</span>\(x\)<span
              class="texttt"
              >,</span
            >\(y\)<span class="texttt">)</span> inside a mathematical
            expression. This gives the value \(\sqrt {x^2+y^2}\), which is
            exactly the desired length.
          </p>

          <p>
            The only remaining problem is to access the \(x\)- and
            \(y\)-coordinate of the vector&nbsp;\(AB\). For this, we need a new
            concept: the <em>let operation</em>. A let operation can be given
            anywhere on a path where a normal path operation like a line-to or a
            move-to is expected. The effect of a let operation is to evaluate
            some coordinates and to assign the results to special macros. These
            macros make it easy to access the \(x\)- and \(y\)-coordinates of
            the coordinates.
          </p>

          <p>Euclid would write the following:</p>

          <figure class="example">
            <div class="example-image">
              <p>
                <span class="lateximagesource" id="lateximage-pgfmanual-93"
                  ><!--
    B
A
--><img
                    alt="(-tikz-&nbsp;diagram)"
                    class="lateximage"
                    src="pgfmanual-images/image-93.svg"
                    style
                /></span>
              </p>
            </div>

            <div class="example-code">
              <button class="clipboardButton" type="button">copy</button>

              <code>
                <span class="c- preamble">\usetikzlibrary {calc} </span><br />
                <span class="textcolor" style="color: #000000">\begin</span
                >{<span class="textcolor" style="color: #0000b2"
                  >tikzpicture</span
                >}<br />
                &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                  >\coordinate</span
                >&numsp;[<span class="textcolor" style="color: #008000"
                  >label</span
                >=<span class="textcolor" style="color: #008000">left:$A$</span
                >]&numsp;&numsp;<span class="textcolor" style="color: #800080"
                  >(A)</span
                >&numsp;<span class="textcolor" style="color: #000000">at</span>
                <span class="textcolor" style="color: #800080">(0,0)</span
                >;<br />
                &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                  >\coordinate</span
                >&numsp;[<span class="textcolor" style="color: #008000"
                  >label</span
                >=<span class="textcolor" style="color: #008000">right:$B$</span
                >]&numsp;<span class="textcolor" style="color: #800080"
                  >(B)</span
                >&numsp;<span class="textcolor" style="color: #000000">at</span>
                <span class="textcolor" style="color: #800080">(1.25,0.25)</span
                >;<br />
                &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                  >\draw</span
                >&numsp;<span class="textcolor" style="color: #800080">(A)</span
                >&numsp;<span class="textcolor" style="color: #000000">--</span>
                <span class="textcolor" style="color: #800080">(B)</span>;<br />
                <br />
                &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                  >\draw</span
                >&numsp;<span class="textcolor" style="color: #800080">(A)</span
                >&numsp;<span class="textcolor" style="color: #000000">let</span
                ><br />
                &numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;<span
                  class="textcolor"
                  style="color: #0000b2"
                  >\p</span
                ><span class="textcolor" style="color: #000000">1</span>
                <span class="textcolor" style="color: #000000">=</span>
                <span class="textcolor" style="color: #800080">($ (B)</span
                >&numsp;<span class="textcolor" style="color: #000000">-</span>
                <span class="textcolor" style="color: #800080">(A)</span
                >&numsp;<span class="textcolor" style="color: #000000">$</span
                >)<br />
                &numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;<span
                  class="textcolor"
                  style="color: #000000"
                  >in</span
                ><br />
                &numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;<span
                  class="textcolor"
                  style="color: #000000"
                  >circle</span
                >
                <span class="textcolor" style="color: #800080"
                  >({veclen(\x1,\y1)})</span
                >;<br />
                <span class="textcolor" style="color: #000000">\end</span>{<span
                  class="textcolor"
                  style="color: #0000b2"
                  >tikzpicture</span
                >}<br />
              </code>
            </div>
          </figure>

          <p>
            Each assignment in a let operation starts with
            <span class="texttt">\p</span>, usually followed by a
            <span class="angle">&langle;</span><i>digit</i
            ><span class="angle">&rangle;</span>. Then comes an equal sign and a
            coordinate. The coordinate is evaluated and the result is stored
            internally. From then on you can use the following expressions:
          </p>
          <ul style="list-style-type: none">
            <li>
              <p>
                1. <span class="texttt">\x</span
                ><span class="angle">&langle;</span><i>digit</i
                ><span class="angle">&rangle;</span> yields the \(x\)-coordinate
                of the resulting point.
              </p>
            </li>
            <li>
              <p>
                2. <span class="texttt">\y</span
                ><span class="angle">&langle;</span><i>digit</i
                ><span class="angle">&rangle;</span> yields the \(y\)-coordinate
                of the resulting point.
              </p>
            </li>
            <li>
              <p>
                3. <span class="texttt">\p</span
                ><span class="angle">&langle;</span><i>digit</i
                ><span class="angle">&rangle;</span> yields the same as
                <span class="texttt">\x</span><span class="angle">&langle;</span
                ><i>digit</i><span class="angle">&rangle;</span
                ><span class="texttt">,\y</span
                ><span class="angle">&langle;</span><i>digit</i
                ><span class="angle">&rangle;</span>.
              </p>
            </li>
          </ul>

          <p>
            You can have multiple assignments in a let operation, just separate
            them with commas. In later assignments you can already use the
            results of earlier assignments.
          </p>

          <p>
            Note that <span class="texttt">\p1</span> is not a coordinate in the
            usual sense. Rather, it just expands to a string like
            <span class="texttt">10pt,20pt</span>. So, you cannot write, for
            instance, <span class="texttt">(\p1.center)</span> since this would
            just expand to <span class="texttt">(10pt,20pt.center)</span>, which
            makes no sense.
          </p>

          <p>
            Next, we want to draw both circles at the same time. Each time the
            radius is <span class="texttt">veclen(\x1,\y1)</span>. It seems
            natural to compute this radius only once. For this, we can also use
            a let operation: Instead of writing
            <span class="texttt">\p1 = ...</span>, we write
            <span class="texttt">\n2 = ...</span>. Here, &ldquo;n&rdquo; stands
            for &ldquo;number&rdquo; (while &ldquo;p&rdquo; stands for
            &ldquo;point&rdquo;). The assignment of a number should be followed
            by a number in curly braces.
          </p>

          <figure class="example">
            <div class="example-image">
              <p>
                <span class="lateximagesource" id="lateximage-pgfmanual-94"
                  ><!--
    B
A
--><img
                    alt="(-tikz-&nbsp;diagram)"
                    class="lateximage"
                    src="pgfmanual-images/image-94.svg"
                    style
                /></span>
              </p>
            </div>

            <div class="example-code">
              <button class="clipboardButton" type="button">copy</button>

              <code>
                <span class="c- preamble">\usetikzlibrary {calc} </span><br />
                <span class="textcolor" style="color: #000000">\begin</span
                >{<span class="textcolor" style="color: #0000b2"
                  >tikzpicture</span
                >}<br />
                &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                  >\coordinate</span
                >&numsp;[<span class="textcolor" style="color: #008000"
                  >label</span
                >=<span class="textcolor" style="color: #008000">left:$A$</span
                >]&numsp;&numsp;<span class="textcolor" style="color: #800080"
                  >(A)</span
                >&numsp;<span class="textcolor" style="color: #000000">at</span>
                <span class="textcolor" style="color: #800080">(0,0)</span
                >;<br />
                &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                  >\coordinate</span
                >&numsp;[<span class="textcolor" style="color: #008000"
                  >label</span
                >=<span class="textcolor" style="color: #008000">right:$B$</span
                >]&numsp;<span class="textcolor" style="color: #800080"
                  >(B)</span
                >&numsp;<span class="textcolor" style="color: #000000">at</span>
                <span class="textcolor" style="color: #800080">(1.25,0.25)</span
                >;<br />
                &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                  >\draw</span
                >&numsp;<span class="textcolor" style="color: #800080">(A)</span
                >&numsp;<span class="textcolor" style="color: #000000">--</span>
                <span class="textcolor" style="color: #800080">(B)</span>;<br />
                <br />
                &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                  >\draw</span
                >&numsp;<span class="textcolor" style="color: #000000"
                  >let</span
                >
                <span class="textcolor" style="color: #0000b2">\p</span
                ><span class="textcolor" style="color: #000000">1</span>
                <span class="textcolor" style="color: #000000">=</span>
                <span class="textcolor" style="color: #800080">($ (B)</span
                >&numsp;<span class="textcolor" style="color: #000000">-</span>
                <span class="textcolor" style="color: #800080">(A)</span
                >&numsp;<span class="textcolor" style="color: #000000">$</span
                >),<br />
                &numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;<span
                  class="textcolor"
                  style="color: #0000b2"
                  >\n</span
                ><span class="textcolor" style="color: #000000">2</span>
                <span class="textcolor" style="color: #000000">=</span> {<span
                  class="textcolor"
                  style="color: #000000"
                  >veclen</span
                ><span class="textcolor" style="color: #800080">(\x1,\y1)</span
                >}<br />
                &numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;<span
                  class="textcolor"
                  style="color: #000000"
                  >in</span
                ><br />
                &numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;<span
                  class="textcolor"
                  style="color: #800080"
                  >(A)</span
                >&numsp;<span class="textcolor" style="color: #000000"
                  >circle</span
                >
                <span class="textcolor" style="color: #800080">(\n2)</span
                ><br />
                &numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;<span
                  class="textcolor"
                  style="color: #800080"
                  >(B)</span
                >&numsp;<span class="textcolor" style="color: #000000"
                  >circle</span
                >
                <span class="textcolor" style="color: #800080">(\n2)</span
                >;<br />
                <span class="textcolor" style="color: #000000">\end</span>{<span
                  class="textcolor"
                  style="color: #0000b2"
                  >tikzpicture</span
                >}<br />
              </code>
            </div>
          </figure>

          <p>
            In the above example, you may wonder, what
            <span class="texttt">\n1</span> would yield? The answer is that it
            would be undefined &ndash; the <span class="texttt">\p</span>,
            <span class="texttt">\x</span>, and
            <span class="texttt">\y</span> macros refer to the same logical
            point, while the <span class="texttt">\n</span> macro has &ldquo;its
            own namespace&rdquo;. We could even have replaced
            <span class="texttt">\n2</span> in the example by
            <span class="texttt">\n1</span> and it would still work. Indeed, the
            digits following these macros are just normal
            <span class="latexlogofont"
              ><span class="latexlogo"
                >T<span class="latexlogosub">e</span>X</span
              ></span
            >
            parameters. We could also use a longer name, but then we have to use
            curly braces:
          </p>

          <figure class="example">
            <div class="example-image">
              <p>
                <span class="lateximagesource" id="lateximage-pgfmanual-95"
                  ><!--
    B
A
--><img
                    alt="(-tikz-&nbsp;diagram)"
                    class="lateximage"
                    src="pgfmanual-images/image-95.svg"
                    style
                /></span>
              </p>
            </div>

            <div class="example-code">
              <button class="clipboardButton" type="button">copy</button>

              <code>
                <span class="c- preamble">\usetikzlibrary {calc} </span><br />
                <span class="textcolor" style="color: #000000">\begin</span
                >{<span class="textcolor" style="color: #0000b2"
                  >tikzpicture</span
                >}<br />
                &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                  >\coordinate</span
                >&numsp;[<span class="textcolor" style="color: #008000"
                  >label</span
                >=<span class="textcolor" style="color: #008000">left:$A$</span
                >]&numsp;&numsp;<span class="textcolor" style="color: #800080"
                  >(A)</span
                >&numsp;<span class="textcolor" style="color: #000000">at</span>
                <span class="textcolor" style="color: #800080">(0,0)</span
                >;<br />
                &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                  >\coordinate</span
                >&numsp;[<span class="textcolor" style="color: #008000"
                  >label</span
                >=<span class="textcolor" style="color: #008000">right:$B$</span
                >]&numsp;<span class="textcolor" style="color: #800080"
                  >(B)</span
                >&numsp;<span class="textcolor" style="color: #000000">at</span>
                <span class="textcolor" style="color: #800080">(1.25,0.25)</span
                >;<br />
                &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                  >\draw</span
                >&numsp;<span class="textcolor" style="color: #800080">(A)</span
                >&numsp;<span class="textcolor" style="color: #000000">--</span>
                <span class="textcolor" style="color: #800080">(B)</span>;<br />
                <br />
                &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                  >\draw</span
                >&numsp;<span class="textcolor" style="color: #000000"
                  >let</span
                >
                <span class="textcolor" style="color: #0000b2">\p</span
                ><span class="textcolor" style="color: #000000">1</span>
                &numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;<span
                  class="textcolor"
                  style="color: #000000"
                  >=</span
                >
                <span class="textcolor" style="color: #800080">($ (B)</span
                >&numsp;<span class="textcolor" style="color: #000000">-</span>
                <span class="textcolor" style="color: #800080">(A)</span
                >&numsp;<span class="textcolor" style="color: #000000">$</span
                >),<br />
                &numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;<span
                  class="textcolor"
                  style="color: #0000b2"
                  >\n</span
                >{<span class="textcolor" style="color: #000000">radius</span
                >}&numsp;<span class="textcolor" style="color: #000000">=</span>
                {<span class="textcolor" style="color: #000000">veclen</span
                ><span class="textcolor" style="color: #800080">(\x1,\y1)</span
                >}<br />
                &numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;<span
                  class="textcolor"
                  style="color: #000000"
                  >in</span
                ><br />
                &numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;<span
                  class="textcolor"
                  style="color: #800080"
                  >(A)</span
                >&numsp;<span class="textcolor" style="color: #000000"
                  >circle</span
                >
                <span class="textcolor" style="color: #800080"
                  >(\n{radius})</span
                ><br />
                &numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;<span
                  class="textcolor"
                  style="color: #800080"
                  >(B)</span
                >&numsp;<span class="textcolor" style="color: #000000"
                  >circle</span
                >
                <span class="textcolor" style="color: #800080"
                  >(\n{radius})</span
                >;<br />
                <span class="textcolor" style="color: #000000">\end</span>{<span
                  class="textcolor"
                  style="color: #0000b2"
                  >tikzpicture</span
                >}<br />
              </code>
            </div>
          </figure>

          <p>
            At the beginning of this section it was promised that there is an
            easier way to create the desired circle. The trick is to use the
            <span class="texttt">through</span> library. As the name suggests,
            it contains code for creating shapes that go through a given point.
          </p>

          <p>
            The option that we are looking for is
            <span class="texttt">circle through</span>. This option is given to
            a <em>node</em> and has the following effects: First, it causes the
            node&rsquo;s inner and outer separations to be set to zero. Then it
            sets the shape of the node to <span class="texttt">circle</span>.
            Finally, it sets the radius of the node such that it goes through
            the parameter given to <span class="texttt">circle through</span>.
            This radius is computed in essentially the same way as above.
          </p>

          <figure class="example">
            <div class="example-image">
              <p>
                <span class="lateximagesource" id="lateximage-pgfmanual-96"
                  ><!--
        B
D A
--><img
                    alt="(-tikz-&nbsp;diagram)"
                    class="lateximage"
                    src="pgfmanual-images/image-96.svg"
                    style
                /></span>
              </p>
            </div>

            <div class="example-code">
              <button class="clipboardButton" type="button">copy</button>

              <code>
                <span class="c- preamble">\usetikzlibrary {through} </span
                ><br />
                <span class="textcolor" style="color: #000000">\begin</span
                >{<span class="textcolor" style="color: #0000b2"
                  >tikzpicture</span
                >}<br />
                &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                  >\coordinate</span
                >&numsp;[<span class="textcolor" style="color: #008000"
                  >label</span
                >=<span class="textcolor" style="color: #008000">left:$A$</span
                >]&numsp;&numsp;<span class="textcolor" style="color: #800080"
                  >(A)</span
                >&numsp;<span class="textcolor" style="color: #000000">at</span>
                <span class="textcolor" style="color: #800080">(0,0)</span
                >;<br />
                &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                  >\coordinate</span
                >&numsp;[<span class="textcolor" style="color: #008000"
                  >label</span
                >=<span class="textcolor" style="color: #008000">right:$B$</span
                >]&numsp;<span class="textcolor" style="color: #800080"
                  >(B)</span
                >&numsp;<span class="textcolor" style="color: #000000">at</span>
                <span class="textcolor" style="color: #800080">(1.25,0.25)</span
                >;<br />
                &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                  >\draw</span
                >&numsp;<span class="textcolor" style="color: #800080">(A)</span
                >&numsp;<span class="textcolor" style="color: #000000">--</span>
                <span class="textcolor" style="color: #800080">(B)</span>;<br />
                <br />
                &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                  >\node</span
                >&numsp;[<span class="textcolor" style="color: #008000"
                  >draw</span
                >,<span class="textcolor" style="color: #008000"
                  >circle through</span
                >=<span class="textcolor" style="color: #008000"
                  ><span class="textcolor" style="color: #800080"
                    >(B)</span
                  ></span
                >,<span class="textcolor" style="color: #008000">label</span
                >=<span class="textcolor" style="color: #008000">left:$D$</span
                >]&numsp;<span class="textcolor" style="color: #000000"
                  >at</span
                >
                <span class="textcolor" style="color: #800080">(A)</span
                >&numsp;{};<br />
                <span class="textcolor" style="color: #000000">\end</span>{<span
                  class="textcolor"
                  style="color: #0000b2"
                  >tikzpicture</span
                >}<br />
              </code>
            </div>
          </figure>
          <h6 id="autosec-268">
            <span class="sectionnumber" id="sec-4.1.4">4.1.4&emsp;</span>The
            Intersection of the Circles<a class="anchor-link" href="#sec-4.1.4"
              >&para;</a
            >
          </h6>
          <a id="pgfmanual-autopage-268"></a>

          <p>
            Euclid can now draw the line and the circles. The final problem is
            to compute the intersection of the two circles. This computation is
            a bit involved if you want to do it &ldquo;by hand&rdquo;.
            Fortunately, the <span class="texttt">intersections</span> library
            allows us to compute the intersection of arbitrary paths.
          </p>

          <p>
            The idea is simple: First, you &ldquo;name&rdquo; two paths using
            the <span class="texttt">name path</span> option. Then, at some
            later point, you can use the option
            <span class="texttt">name intersections</span>, which creates
            coordinates called <span class="texttt">intersection-1</span>,
            <span class="texttt">intersection-2</span>, and so on at all
            intersections of the paths. Euclid assigns the names
            <span class="texttt">D</span> and <span class="texttt">E</span> to
            the paths of the two circles (which happen to be the same names as
            the nodes themselves, but nodes and their paths live in different
            &ldquo;namespaces&rdquo;).
          </p>

          <figure class="example">
            <div class="example-image">
              <p>
                <span class="lateximagesource" id="lateximage-pgfmanual-97"
                  ><!--
        C


            B E
D A
--><img
                    alt="(-tikz-&nbsp;diagram)"
                    class="lateximage"
                    src="pgfmanual-images/image-97.svg"
                    style
                /></span>
              </p>
            </div>

            <div class="example-code">
              <button class="clipboardButton" type="button">copy</button>

              <code>
                <span class="c- preamble"
                  >\usetikzlibrary {intersections,through} </span
                ><br />
                <span class="textcolor" style="color: #000000">\begin</span
                >{<span class="textcolor" style="color: #0000b2"
                  >tikzpicture</span
                >}<br />
                &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                  >\coordinate</span
                >&numsp;[<span class="textcolor" style="color: #008000"
                  >label</span
                >=<span class="textcolor" style="color: #008000">left:$A$</span
                >]&numsp;&numsp;<span class="textcolor" style="color: #800080"
                  >(A)</span
                >&numsp;<span class="textcolor" style="color: #000000">at</span>
                <span class="textcolor" style="color: #800080">(0,0)</span
                >;<br />
                &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                  >\coordinate</span
                >&numsp;[<span class="textcolor" style="color: #008000"
                  >label</span
                >=<span class="textcolor" style="color: #008000">right:$B$</span
                >]&numsp;<span class="textcolor" style="color: #800080"
                  >(B)</span
                >&numsp;<span class="textcolor" style="color: #000000">at</span>
                <span class="textcolor" style="color: #800080">(1.25,0.25)</span
                >;<br />
                &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                  >\draw</span
                >&numsp;<span class="textcolor" style="color: #800080">(A)</span
                >&numsp;<span class="textcolor" style="color: #000000">--</span>
                <span class="textcolor" style="color: #800080">(B)</span>;<br />
                <br />
                &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                  >\node</span
                >&numsp;<span class="textcolor" style="color: #800080">(D)</span
                >&numsp;[<span class="textcolor" style="color: #008000"
                  >name path</span
                >=<span class="textcolor" style="color: #008000">D</span>,<span
                  class="textcolor"
                  style="color: #008000"
                  >draw</span
                >,<span class="textcolor" style="color: #008000"
                  >circle through</span
                >=<span class="textcolor" style="color: #008000"
                  ><span class="textcolor" style="color: #800080"
                    >(B)</span
                  ></span
                >,<span class="textcolor" style="color: #008000">label</span
                >=<span class="textcolor" style="color: #008000">left:$D$</span
                >]&numsp;&numsp;<span class="textcolor" style="color: #000000"
                  >at</span
                >
                <span class="textcolor" style="color: #800080">(A)</span
                >&numsp;{};<br />
                &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                  >\node</span
                >&numsp;<span class="textcolor" style="color: #800080">(E)</span
                >&numsp;[<span class="textcolor" style="color: #008000"
                  >name path</span
                >=<span class="textcolor" style="color: #008000">E</span>,<span
                  class="textcolor"
                  style="color: #008000"
                  >draw</span
                >,<span class="textcolor" style="color: #008000"
                  >circle through</span
                >=<span class="textcolor" style="color: #008000"
                  ><span class="textcolor" style="color: #800080"
                    >(A)</span
                  ></span
                >,<span class="textcolor" style="color: #008000">label</span
                >=<span class="textcolor" style="color: #008000">right:$E$</span
                >]&numsp;<span class="textcolor" style="color: #000000"
                  >at</span
                >
                <span class="textcolor" style="color: #800080">(B)</span
                >&numsp;{};<br />
                <br />
                &numsp;&numsp;<span class="example-code-comment"
                  >% Name the coordinates, but do not draw anything:</span
                ><br />
                &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                  >\path</span
                >&numsp;[<span class="textcolor" style="color: #008000"
                  >name intersections</span
                >=<span class="textcolor" style="color: #008000"
                  >{of=D and E}</span
                >];<br />
                <br />
                &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                  >\coordinate</span
                >&numsp;[<span class="textcolor" style="color: #008000"
                  >label</span
                >=<span class="textcolor" style="color: #008000">above:$C$</span
                >]&numsp;<span class="textcolor" style="color: #800080"
                  >(C)</span
                >&numsp;<span class="textcolor" style="color: #000000">at</span>
                <span class="textcolor" style="color: #800080"
                  >(intersection-1)</span
                >;<br />
                <br />
                &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                  >\draw</span
                >&numsp;[<span class="textcolor" style="color: #008000"
                  >red</span
                >]&numsp;<span class="textcolor" style="color: #800080"
                  >(A)</span
                >&numsp;<span class="textcolor" style="color: #000000">--</span>
                <span class="textcolor" style="color: #800080">(C)</span>;<br />
                &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                  >\draw</span
                >&numsp;[<span class="textcolor" style="color: #008000"
                  >red</span
                >]&numsp;<span class="textcolor" style="color: #800080"
                  >(B)</span
                >&numsp;<span class="textcolor" style="color: #000000">--</span>
                <span class="textcolor" style="color: #800080">(C)</span>;<br />
                <span class="textcolor" style="color: #000000">\end</span>{<span
                  class="textcolor"
                  style="color: #0000b2"
                  >tikzpicture</span
                >}<br />
              </code>
            </div>
          </figure>

          <p>
            It turns out that this can be further shortened: The
            <span class="texttt">name intersections</span> takes an optional
            argument <span class="texttt">by</span>, which lets you specify
            names for the coordinates and options for them. This creates more
            compact code. Although Euclid does not need it for the current
            picture, it is just a small step to computing the bisection of the
            line \(AB\):
          </p>

          <figure class="example">
            <div class="example-image">
              <p>
                <span class="lateximagesource" id="lateximage-pgfmanual-98"
                  ><!--
        C


                 B E
D A F


            C0
--><img
                    alt="(-tikz-&nbsp;diagram)"
                    class="lateximage"
                    src="pgfmanual-images/image-98.svg"
                    style
                /></span>
              </p>
            </div>

            <div class="example-code">
              <button class="clipboardButton" type="button">copy</button>

              <code>
                <span class="c- preamble"
                  >\usetikzlibrary {intersections,through} </span
                ><br />
                <span class="textcolor" style="color: #000000">\begin</span
                >{<span class="textcolor" style="color: #0000b2"
                  >tikzpicture</span
                >}<br />
                &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                  >\coordinate</span
                >&numsp;[<span class="textcolor" style="color: #008000"
                  >label</span
                >=<span class="textcolor" style="color: #008000">left:$A$</span
                >]&numsp;&numsp;<span class="textcolor" style="color: #800080"
                  >(A)</span
                >&numsp;<span class="textcolor" style="color: #000000">at</span>
                <span class="textcolor" style="color: #800080">(0,0)</span
                >;<br />
                &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                  >\coordinate</span
                >&numsp;[<span class="textcolor" style="color: #008000"
                  >label</span
                >=<span class="textcolor" style="color: #008000">right:$B$</span
                >]&numsp;<span class="textcolor" style="color: #800080"
                  >(B)</span
                >&numsp;<span class="textcolor" style="color: #000000">at</span>
                <span class="textcolor" style="color: #800080">(1.25,0.25)</span
                >;<br />
                &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                  >\draw</span
                >&numsp;[<span class="textcolor" style="color: #008000"
                  >name path</span
                >=<span class="textcolor" style="color: #008000">A--B</span
                >]&numsp;<span class="textcolor" style="color: #800080"
                  >(A)</span
                >&numsp;<span class="textcolor" style="color: #000000">--</span>
                <span class="textcolor" style="color: #800080">(B)</span>;<br />
                <br />
                &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                  >\node</span
                >&numsp;<span class="textcolor" style="color: #800080">(D)</span
                >&numsp;[<span class="textcolor" style="color: #008000"
                  >name path</span
                >=<span class="textcolor" style="color: #008000">D</span>,<span
                  class="textcolor"
                  style="color: #008000"
                  >draw</span
                >,<span class="textcolor" style="color: #008000"
                  >circle through</span
                >=<span class="textcolor" style="color: #008000"
                  ><span class="textcolor" style="color: #800080"
                    >(B)</span
                  ></span
                >,<span class="textcolor" style="color: #008000">label</span
                >=<span class="textcolor" style="color: #008000">left:$D$</span
                >]&numsp;&numsp;<span class="textcolor" style="color: #000000"
                  >at</span
                >
                <span class="textcolor" style="color: #800080">(A)</span
                >&numsp;{};<br />
                &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                  >\node</span
                >&numsp;<span class="textcolor" style="color: #800080">(E)</span
                >&numsp;[<span class="textcolor" style="color: #008000"
                  >name path</span
                >=<span class="textcolor" style="color: #008000">E</span>,<span
                  class="textcolor"
                  style="color: #008000"
                  >draw</span
                >,<span class="textcolor" style="color: #008000"
                  >circle through</span
                >=<span class="textcolor" style="color: #008000"
                  ><span class="textcolor" style="color: #800080"
                    >(A)</span
                  ></span
                >,<span class="textcolor" style="color: #008000">label</span
                >=<span class="textcolor" style="color: #008000">right:$E$</span
                >]&numsp;<span class="textcolor" style="color: #000000"
                  >at</span
                >
                <span class="textcolor" style="color: #800080">(B)</span
                >&numsp;{};<br />
                <br />
                &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                  >\path</span
                >&numsp;[<span class="textcolor" style="color: #008000"
                  >name intersections</span
                >=<span class="textcolor" style="color: #008000"
                  >{of=D and E,&numsp;by={[<span
                    class="textcolor"
                    style="color: #008000"
                    >label</span
                  >=<span class="textcolor" style="color: #008000"
                    >above:$C$</span
                  >]C,&numsp;[<span class="textcolor" style="color: #008000"
                    >label</span
                  >=<span class="textcolor" style="color: #008000"
                    >below:$C'$</span
                  >]C'}}</span
                >];<br />
                <br />
                &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                  >\draw</span
                >&numsp;[<span class="textcolor" style="color: #008000"
                  >name path</span
                >=<span class="textcolor" style="color: #008000">C--C'</span
                >,<span class="textcolor" style="color: #008000">red</span
                >]&numsp;<span class="textcolor" style="color: #800080"
                  >(C)</span
                >&numsp;<span class="textcolor" style="color: #000000">--</span>
                <span class="textcolor" style="color: #800080">(C')</span
                >;<br />
                <br />
                &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                  >\path</span
                >&numsp;[<span class="textcolor" style="color: #008000"
                  >name intersections</span
                >=<span class="textcolor" style="color: #008000"
                  >{of=A--B and C--C',by=F}</span
                >];<br />
                &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                  >\node</span
                >&numsp;[<span class="textcolor" style="color: #008000"
                  >fill</span
                >=<span class="textcolor" style="color: #008000">red</span
                >,<span class="textcolor" style="color: #008000">inner sep</span
                >=<span class="textcolor" style="color: #008000">1pt</span
                >,<span class="textcolor" style="color: #008000">label</span
                >=<span class="textcolor" style="color: #008000">-45:$F$</span
                >]&numsp;<span class="textcolor" style="color: #000000"
                  >at</span
                >
                <span class="textcolor" style="color: #800080">(F)</span
                >&numsp;{};<br />
                <span class="textcolor" style="color: #000000">\end</span>{<span
                  class="textcolor"
                  style="color: #0000b2"
                  >tikzpicture</span
                >}<br />
              </code>
            </div>
          </figure>
          <h6 id="autosec-273">
            <span class="sectionnumber" id="sec-4.1.5">4.1.5&emsp;</span>The
            Complete Code<a class="anchor-link" href="#sec-4.1.5">&para;</a>
          </h6>
          <a id="pgfmanual-autopage-273"></a>

          <p>
            Back to Euclid&rsquo;s code. He introduces a few macros to make life
            simpler, like a <span class="texttt">\A</span> macro for typesetting
            a blue \(A\). He also uses the
            <span class="texttt">background</span> layer for drawing the
            triangle behind everything at the end.
          </p>

          <figure class="example">
            <div class="example-image">
              <p>
                <span class="lateximagesource" id="lateximage-pgfmanual-99"
                  ><!--
                    Proposition I
                    To construct an equilateral triangle on a given finite straight
                    line.

        C Let AB be the given finite straight line. …


D A B E
--><img
                    alt="(-tikz-&nbsp;diagram)"
                    class="lateximage"
                    src="pgfmanual-images/image-99.svg"
                    style
                /></span>
              </p>
            </div>

            <div class="example-code">
              <button class="clipboardButton" type="button">copy</button>

              <code>
                <span class="c- preamble"
                  >\usetikzlibrary {backgrounds,calc,intersections,through} </span
                ><br />
                <span class="textcolor" style="color: #000000">\begin</span
                >{<span class="textcolor" style="color: #0000b2"
                  >tikzpicture</span
                >}[<span class="textcolor" style="color: #008000">thick</span
                >,<span class="textcolor" style="color: #008000"
                  >help lines</span
                >/<span class="textcolor" style="color: #0000b2">.style</span
                >={<span class="textcolor" style="color: #008000">thin</span
                >,<span class="textcolor" style="color: #008000">draw</span
                >=<span class="textcolor" style="color: #008000">black!50}</span
                >]<br />
                &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                  >\def</span
                ><span class="textcolor" style="color: #0000b2">\A</span>{<span
                  class="textcolor"
                  style="color: #0000b2"
                  >\textcolor</span
                >{<span class="textcolor" style="color: #000000">input</span
                >}{<span class="textcolor" style="color: #000000">$A$</span
                >}}&numsp;&numsp;&numsp;&numsp;&numsp;<span
                  class="textcolor"
                  style="color: #0000b2"
                  >\def</span
                ><span class="textcolor" style="color: #0000b2">\B</span>{<span
                  class="textcolor"
                  style="color: #0000b2"
                  >\textcolor</span
                >{<span class="textcolor" style="color: #000000">input</span
                >}{<span class="textcolor" style="color: #000000">$B$</span
                >}}<br />
                &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                  >\def</span
                ><span class="textcolor" style="color: #0000b2">\C</span>{<span
                  class="textcolor"
                  style="color: #0000b2"
                  >\textcolor</span
                >{<span class="textcolor" style="color: #000000">output</span
                >}{<span class="textcolor" style="color: #000000">$C$</span
                >}}&numsp;&numsp;&numsp;&numsp;<span
                  class="textcolor"
                  style="color: #0000b2"
                  >\def</span
                ><span class="textcolor" style="color: #0000b2">\D</span>{<span
                  class="textcolor"
                  style="color: #000000"
                  >$D$</span
                >}<br />
                &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                  >\def</span
                ><span class="textcolor" style="color: #0000b2">\E</span>{<span
                  class="textcolor"
                  style="color: #000000"
                  >$E$</span
                >}<br />
                <br />
                &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                  >\colorlet</span
                >{<span class="textcolor" style="color: #000000">input</span
                >}{<span class="textcolor" style="color: #000000"
                  >blue!80!black</span
                >}&numsp;&numsp;&numsp;&numsp;<span
                  class="textcolor"
                  style="color: #0000b2"
                  >\colorlet</span
                >{<span class="textcolor" style="color: #000000">output</span
                >}{<span class="textcolor" style="color: #000000"
                  >red!70!black</span
                >}<br />
                &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                  >\colorlet</span
                >{<span class="textcolor" style="color: #000000">triangle</span
                >}{<span class="textcolor" style="color: #000000">orange</span
                >}<br />
                <br />
                &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                  >\coordinate</span
                >&numsp;[<span class="textcolor" style="color: #008000"
                  >label</span
                >=<span class="textcolor" style="color: #008000"
                  >left:<span class="textcolor" style="color: #0000b2"
                    >\A</span
                  ></span
                >]&numsp;&numsp;<span class="textcolor" style="color: #800080"
                  >(A)</span
                >&numsp;<span class="textcolor" style="color: #000000">at</span>
                <span class="textcolor" style="color: #800080">($ (0,0)</span
                >&numsp;<span class="textcolor" style="color: #000000">+</span>
                .<span class="textcolor" style="color: #000000">1*</span
                ><span class="textcolor" style="color: #800080"
                  >(rand,rand)</span
                >&numsp;<span class="textcolor" style="color: #000000">$</span
                >);<br />
                &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                  >\coordinate</span
                >&numsp;[<span class="textcolor" style="color: #008000"
                  >label</span
                >=<span class="textcolor" style="color: #008000"
                  >right:<span class="textcolor" style="color: #0000b2"
                    >\B</span
                  ></span
                >]&numsp;<span class="textcolor" style="color: #800080"
                  >(B)</span
                >&numsp;<span class="textcolor" style="color: #000000">at</span>
                <span class="textcolor" style="color: #800080"
                  >($ (1.25,0.25)</span
                >&numsp;<span class="textcolor" style="color: #000000">+</span>
                .<span class="textcolor" style="color: #000000">1*</span
                ><span class="textcolor" style="color: #800080"
                  >(rand,rand)</span
                >&numsp;<span class="textcolor" style="color: #000000">$</span
                >);<br />
                <br />
                &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                  >\draw</span
                >&numsp;[<span class="textcolor" style="color: #008000"
                  >input</span
                >]&numsp;<span class="textcolor" style="color: #800080"
                  >(A)</span
                >&numsp;<span class="textcolor" style="color: #000000">--</span>
                <span class="textcolor" style="color: #800080">(B)</span>;<br />
                <br />
                &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                  >\node</span
                >&numsp;[<span class="textcolor" style="color: #008000"
                  >name path</span
                >=<span class="textcolor" style="color: #008000">D</span>,<span
                  class="textcolor"
                  style="color: #008000"
                  >help lines</span
                >,<span class="textcolor" style="color: #008000">draw</span
                >,<span class="textcolor" style="color: #008000">label</span
                >=<span class="textcolor" style="color: #008000"
                  >left:<span class="textcolor" style="color: #0000b2"
                    >\D</span
                  ></span
                >]&numsp;&numsp;&numsp;<span
                  class="textcolor"
                  style="color: #800080"
                  >(D)</span
                >&numsp;<span class="textcolor" style="color: #000000">at</span>
                <span class="textcolor" style="color: #800080">(A)</span
                >&numsp;[<span class="textcolor" style="color: #008000"
                  >circle through</span
                >=<span class="textcolor" style="color: #008000"
                  ><span class="textcolor" style="color: #800080"
                    >(B)</span
                  ></span
                >]&numsp;{};<br />
                &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                  >\node</span
                >&numsp;[<span class="textcolor" style="color: #008000"
                  >name path</span
                >=<span class="textcolor" style="color: #008000">E</span>,<span
                  class="textcolor"
                  style="color: #008000"
                  >help lines</span
                >,<span class="textcolor" style="color: #008000">draw</span
                >,<span class="textcolor" style="color: #008000">label</span
                >=<span class="textcolor" style="color: #008000"
                  >right:<span class="textcolor" style="color: #0000b2"
                    >\E</span
                  ></span
                >]&numsp;&numsp;<span class="textcolor" style="color: #800080"
                  >(E)</span
                >&numsp;<span class="textcolor" style="color: #000000">at</span>
                <span class="textcolor" style="color: #800080">(B)</span
                >&numsp;[<span class="textcolor" style="color: #008000"
                  >circle through</span
                >=<span class="textcolor" style="color: #008000"
                  ><span class="textcolor" style="color: #800080"
                    >(A)</span
                  ></span
                >]&numsp;{};<br />
                <br />
                &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                  >\path</span
                >&numsp;[<span class="textcolor" style="color: #008000"
                  >name intersections</span
                >=<span class="textcolor" style="color: #008000"
                  >{of=D and E,by={[<span
                    class="textcolor"
                    style="color: #008000"
                    >label</span
                  >=<span class="textcolor" style="color: #008000"
                    >above:<span class="textcolor" style="color: #0000b2"
                      >\C</span
                    ></span
                  >]C}}</span
                >];<br />
                <br />
                &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                  >\draw</span
                >&numsp;[<span class="textcolor" style="color: #008000"
                  >output</span
                >]&numsp;<span class="textcolor" style="color: #800080"
                  >(A)</span
                >&numsp;<span class="textcolor" style="color: #000000">--</span>
                <span class="textcolor" style="color: #800080">(C)</span
                >&numsp;<span class="textcolor" style="color: #000000">--</span>
                <span class="textcolor" style="color: #800080">(B)</span>;<br />
                <br />
                &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                  >\foreach</span
                >&numsp;<span class="textcolor" style="color: #0000b2"
                  >\point</span
                >&numsp;<span class="textcolor" style="color: #000000">in</span>
                {<span class="textcolor" style="color: #000000">A</span>,<span
                  class="textcolor"
                  style="color: #000000"
                  >B</span
                >,<span class="textcolor" style="color: #000000">C</span>}<br />
                &numsp;&numsp;&numsp;&numsp;<span
                  class="textcolor"
                  style="color: #0000b2"
                  >\fill</span
                >&numsp;[<span class="textcolor" style="color: #008000"
                  >black</span
                >,<span class="textcolor" style="color: #008000">opacity</span
                >=<span class="textcolor" style="color: #008000">.5</span
                >]&numsp;<span class="textcolor" style="color: #800080"
                  >(\point)</span
                >&numsp;<span class="textcolor" style="color: #000000"
                  >circle</span
                >
                <span class="textcolor" style="color: #800080">(2pt)</span
                >;<br />
                <br />
                &numsp;&numsp;<span class="textcolor" style="color: #000000"
                  >\begin</span
                >{<span class="textcolor" style="color: #0000b2"
                  >pgfonlayer</span
                >}{<span class="textcolor" style="color: #000000"
                  >background</span
                >}<br />
                &numsp;&numsp;&numsp;&numsp;<span
                  class="textcolor"
                  style="color: #0000b2"
                  >\fill</span
                >[<span class="textcolor" style="color: #008000"
                  >triangle!80</span
                >]&numsp;<span class="textcolor" style="color: #800080"
                  >(A)</span
                >&numsp;<span class="textcolor" style="color: #000000">--</span>
                <span class="textcolor" style="color: #800080">(C)</span
                >&numsp;<span class="textcolor" style="color: #000000">--</span>
                <span class="textcolor" style="color: #800080">(B)</span
                >&numsp;<span class="textcolor" style="color: #000000">--</span>
                <span class="textcolor" style="color: #000000">cycle</span
                >;<br />
                &numsp;&numsp;<span class="textcolor" style="color: #000000"
                  >\end</span
                >{<span class="textcolor" style="color: #0000b2"
                  >pgfonlayer</span
                >}<br />
                <br />
                &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                  >\node</span
                >&numsp;[<span class="textcolor" style="color: #008000"
                  >below right</span
                >,&numsp;<span class="textcolor" style="color: #008000"
                  >text width</span
                >=<span class="textcolor" style="color: #008000">10cm</span
                >,<span class="textcolor" style="color: #008000">align</span
                >=<span class="textcolor" style="color: #008000">justify</span
                >]&numsp;<span class="textcolor" style="color: #000000"
                  >at</span
                >
                <span class="textcolor" style="color: #800080">(4,3)</span
                >&numsp;{<br />
                &numsp;&numsp;&numsp;&numsp;<span
                  class="textcolor"
                  style="color: #0000b2"
                  >\small</span
                ><span class="textcolor" style="color: #0000b2">\textbf</span
                >{<span class="textcolor" style="color: #000000"
                  >Proposition</span
                >
                <span class="textcolor" style="color: #000000">I</span>}<span
                  class="textcolor"
                  style="color: #0000b2"
                  >\par</span
                ><br />
                &numsp;&numsp;&numsp;&numsp;<span
                  class="textcolor"
                  style="color: #0000b2"
                  >\emph</span
                >{<span class="textcolor" style="color: #000000">To</span>
                <span class="textcolor" style="color: #000000">construct</span>
                <span class="textcolor" style="color: #000000">an</span>
                <span class="textcolor" style="color: #0000b2">\textcolor</span
                >{<span class="textcolor" style="color: #000000">triangle</span
                >}{<span class="textcolor" style="color: #000000"
                  >equilateral</span
                >
                <span class="textcolor" style="color: #000000">triangle</span
                >}<br />
                &numsp;&numsp;&numsp;&numsp;&numsp;&numsp;<span
                  class="textcolor"
                  style="color: #000000"
                  >on</span
                >
                <span class="textcolor" style="color: #000000">a</span>
                <span class="textcolor" style="color: #000000">given</span>
                <span class="textcolor" style="color: #0000b2">\textcolor</span
                >{<span class="textcolor" style="color: #000000">input</span
                >}{<span class="textcolor" style="color: #000000">finite</span>
                <span class="textcolor" style="color: #000000">straight</span>
                <span class="textcolor" style="color: #000000">line</span
                >}.}<br />
                &numsp;&numsp;&numsp;&numsp;<span
                  class="textcolor"
                  style="color: #0000b2"
                  >\par</span
                ><span class="textcolor" style="color: #0000b2">\vskip</span
                ><span class="textcolor" style="color: #000000">1em</span><br />
                &numsp;&numsp;&numsp;&numsp;<span
                  class="textcolor"
                  style="color: #000000"
                  >Let</span
                >
                <span class="textcolor" style="color: #0000b2">\A</span
                ><span class="textcolor" style="color: #0000b2">\B</span
                ><span class="textcolor" style="color: #0000b2">\</span
                >&numsp;<span class="textcolor" style="color: #000000">be</span>
                <span class="textcolor" style="color: #000000">the</span>
                <span class="textcolor" style="color: #000000">given</span>
                <span class="textcolor" style="color: #0000b2">\textcolor</span
                >{<span class="textcolor" style="color: #000000">input</span
                >}{<span class="textcolor" style="color: #000000">finite</span>
                <span class="textcolor" style="color: #000000">straight</span>
                <span class="textcolor" style="color: #000000">line</span
                >}.&numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                  >\dots</span
                ><br />
                &numsp;&numsp;};<br />
                <span class="textcolor" style="color: #000000">\end</span>{<span
                  class="textcolor"
                  style="color: #0000b2"
                  >tikzpicture</span
                >}<br />
              </code>
            </div>
          </figure>
          <h5 id="autosec-276">
            <span class="sectionnumber" id="sec-4.2">4.2&emsp;</span>Book I,
            Proposition II<a class="anchor-link" href="#sec-4.2">&para;</a>
          </h5>
          <a id="pgfmanual-autopage-276"></a>

          <p>The second proposition in the Elements is the following:</p>

          <p>
            <span class="lateximagesource" id="lateximage-pgfmanual-100"
              ><!--
                                    Proposition II
                                    To place a straight line equal to a given straight line with
K one end at a given point.

                    C Let A be the given point, and BC the given straight
                                    line. It is required to place a straight line equal to the
        H given straight line BC with one end at the point A.
                D Join the straight line AB from the point A to the point
                                    B, and construct the equilateral triangle DAB on it.
                                    Produce the straight lines AE and BF in a straight line
            A B with DA and DB. Describe the circle CGH with center
                                    B and radius BC, and again, describe the circle GKL
                                    with center D and radius DG.
                            G Since the point B is the center of the circle CGH, there-
                                    fore BC equals BG. Again, since the point D is the cen-
        L F ter of the circle GKL, therefore DL equals DG. And in
    E these DA equals DB, therefore the remainder AL equals
                                    the remainder BG. But BC was also proved equal to BG,
                                    therefore each of the straight lines AL and BC equals
                                    BG. And things which equal the same thing also equal
                                    one another, therefore AL also equals BC.
                                    Therefore the straight line AL equal to the given
                                    straight line BC has been placed with one end at the
                                    given point A.
--><img
                alt="(-tikz-&nbsp;diagram)"
                class="lateximage"
                src="pgfmanual-images/image-100.svg"
                style
            /></span>
          </p>
          <h6 id="autosec-279">
            <span class="sectionnumber" id="sec-4.2.1">4.2.1&emsp;</span>Using
            Partway Calculations for the Construction of D<a
              class="anchor-link"
              href="#sec-4.2.1"
              >&para;</a
            >
          </h6>
          <a id="pgfmanual-autopage-279"></a>

          <p>
            Euclid&rsquo;s construction starts with &ldquo;referencing&rdquo;
            Proposition&nbsp;I for the construction of the point&nbsp;\(D\).
            Now, while we could simply repeat the construction, it seems a bit
            bothersome that one has to draw all these circles and do all these
            complicated constructions.
          </p>

          <p>
            For this reason, Ti<em>k</em>Z supports some simplifications. First,
            there is a simple syntax for computing a point that is
            &ldquo;partway&rdquo; on a line from \(p\) to&nbsp;\(q\): You place
            these two points in a coordinate calculation &ndash; remember, they
            start with <span class="texttt">($</span> and end with
            <span class="texttt">$)</span> &ndash; and then combine them using
            <span class="texttt">!</span><span class="angle">&langle;</span
            ><i>part</i><span class="angle">&rangle;</span
            ><span class="texttt">!</span>. A <span class="angle">&langle;</span
            ><i>part</i><span class="angle">&rangle;</span> of
            <span class="texttt">0</span> refers to the
            <em>first</em> coordinate, a <span class="angle">&langle;</span
            ><i>part</i><span class="angle">&rangle;</span> of
            <span class="texttt">1</span> refers to the second coordinate, and a
            value in between refers to a point on the line from \(p\)
            to&nbsp;\(q\). Thus, the syntax is similar to the
            <span class="texttt">xcolor</span> syntax for mixing colors.
          </p>

          <p>
            Here is the computation of the point in the middle of the line
            \(AB\):
          </p>

          <figure class="example">
            <div class="example-image">
              <p>
                <span class="lateximagesource" id="lateximage-pgfmanual-101"
                  ><!--
        B
A X
--><img
                    alt="(-tikz-&nbsp;diagram)"
                    class="lateximage"
                    src="pgfmanual-images/image-101.svg"
                    style
                /></span>
              </p>
            </div>

            <div class="example-code">
              <button class="clipboardButton" type="button">copy</button>

              <code>
                <span class="c- preamble">\usetikzlibrary {calc} </span><br />
                <span class="textcolor" style="color: #000000">\begin</span
                >{<span class="textcolor" style="color: #0000b2"
                  >tikzpicture</span
                >}<br />
                &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                  >\coordinate</span
                >&numsp;[<span class="textcolor" style="color: #008000"
                  >label</span
                >=<span class="textcolor" style="color: #008000">left:$A$</span
                >]&numsp;&numsp;<span class="textcolor" style="color: #800080"
                  >(A)</span
                >&numsp;<span class="textcolor" style="color: #000000">at</span>
                <span class="textcolor" style="color: #800080">(0,0)</span
                >;<br />
                &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                  >\coordinate</span
                >&numsp;[<span class="textcolor" style="color: #008000"
                  >label</span
                >=<span class="textcolor" style="color: #008000">right:$B$</span
                >]&numsp;<span class="textcolor" style="color: #800080"
                  >(B)</span
                >&numsp;<span class="textcolor" style="color: #000000">at</span>
                <span class="textcolor" style="color: #800080">(1.25,0.25)</span
                >;<br />
                &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                  >\draw</span
                >&numsp;<span class="textcolor" style="color: #800080">(A)</span
                >&numsp;<span class="textcolor" style="color: #000000">--</span>
                <span class="textcolor" style="color: #800080">(B)</span>;<br />
                &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                  >\node</span
                >&numsp;[<span class="textcolor" style="color: #008000"
                  >fill</span
                >=<span class="textcolor" style="color: #008000">red</span
                >,<span class="textcolor" style="color: #008000">inner sep</span
                >=<span class="textcolor" style="color: #008000">1pt</span
                >,<span class="textcolor" style="color: #008000">label</span
                >=<span class="textcolor" style="color: #008000">below:$X$</span
                >]&numsp;<span class="textcolor" style="color: #800080"
                  >(X)</span
                >&numsp;<span class="textcolor" style="color: #000000">at</span>
                <span class="textcolor" style="color: #800080">($ (A)</span
                ><span class="textcolor" style="color: #000000">!</span>.<span
                  class="textcolor"
                  style="color: #000000"
                  >5!</span
                ><span class="textcolor" style="color: #800080">(B)</span
                >&numsp;<span class="textcolor" style="color: #000000">$</span
                >)&numsp;{};<br />
                <span class="textcolor" style="color: #000000">\end</span>{<span
                  class="textcolor"
                  style="color: #0000b2"
                  >tikzpicture</span
                >}<br />
              </code>
            </div>
          </figure>

          <p>
            The computation of the point \(D\) in Euclid&rsquo;s second
            proposition is a bit more complicated. It can be expressed as
            follows: Consider the line from \(X\) to \(B\). Suppose we rotate
            this line around \(X\) for 90\(^\circ \) and then stretch it by a
            factor of \(\sin (60^\circ ) \cdot 2\). This yields the desired
            point&nbsp;\(D\). We can do the stretching using the partway
            modifier above, for the rotation we need a new modifier: the
            rotation modifier. The idea is that the second coordinate in a
            partway computation can be prefixed by an angle. Then the partway
            point is computed normally (as if no angle were given), but the
            resulting point is rotated by this angle around the first point.
          </p>

          <figure class="example">
            <div class="example-image">
              <p>
                <span class="lateximagesource" id="lateximage-pgfmanual-102"
                  ><!--
    D


        B
A X
--><img
                    alt="(-tikz-&nbsp;diagram)"
                    class="lateximage"
                    src="pgfmanual-images/image-102.svg"
                    style
                /></span>
              </p>
            </div>

            <div class="example-code">
              <button class="clipboardButton" type="button">copy</button>

              <code>
                <span class="c- preamble">\usetikzlibrary {calc} </span><br />
                <span class="textcolor" style="color: #000000">\begin</span
                >{<span class="textcolor" style="color: #0000b2"
                  >tikzpicture</span
                >}<br />
                &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                  >\coordinate</span
                >&numsp;[<span class="textcolor" style="color: #008000"
                  >label</span
                >=<span class="textcolor" style="color: #008000">left:$A$</span
                >]&numsp;&numsp;<span class="textcolor" style="color: #800080"
                  >(A)</span
                >&numsp;<span class="textcolor" style="color: #000000">at</span>
                <span class="textcolor" style="color: #800080">(0,0)</span
                >;<br />
                &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                  >\coordinate</span
                >&numsp;[<span class="textcolor" style="color: #008000"
                  >label</span
                >=<span class="textcolor" style="color: #008000">right:$B$</span
                >]&numsp;<span class="textcolor" style="color: #800080"
                  >(B)</span
                >&numsp;<span class="textcolor" style="color: #000000">at</span>
                <span class="textcolor" style="color: #800080">(1.25,0.25)</span
                >;<br />
                &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                  >\draw</span
                >&numsp;<span class="textcolor" style="color: #800080">(A)</span
                >&numsp;<span class="textcolor" style="color: #000000">--</span>
                <span class="textcolor" style="color: #800080">(B)</span>;<br />
                &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                  >\node</span
                >&numsp;[<span class="textcolor" style="color: #008000"
                  >fill</span
                >=<span class="textcolor" style="color: #008000">red</span
                >,<span class="textcolor" style="color: #008000">inner sep</span
                >=<span class="textcolor" style="color: #008000">1pt</span
                >,<span class="textcolor" style="color: #008000">label</span
                >=<span class="textcolor" style="color: #008000">below:$X$</span
                >]&numsp;<span class="textcolor" style="color: #800080"
                  >(X)</span
                >&numsp;<span class="textcolor" style="color: #000000">at</span>
                <span class="textcolor" style="color: #800080">($ (A)</span
                ><span class="textcolor" style="color: #000000">!</span>.<span
                  class="textcolor"
                  style="color: #000000"
                  >5!</span
                ><span class="textcolor" style="color: #800080">(B)</span
                >&numsp;<span class="textcolor" style="color: #000000">$</span
                >)&numsp;{};<br />
                &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                  >\node</span
                >&numsp;[<span class="textcolor" style="color: #008000"
                  >fill</span
                >=<span class="textcolor" style="color: #008000">red</span
                >,<span class="textcolor" style="color: #008000">inner sep</span
                >=<span class="textcolor" style="color: #008000">1pt</span
                >,<span class="textcolor" style="color: #008000">label</span
                >=<span class="textcolor" style="color: #008000">above:$D$</span
                >]&numsp;<span class="textcolor" style="color: #800080"
                  >(D)</span
                >&numsp;<span class="textcolor" style="color: #000000">at</span
                ><br />
                &numsp;&numsp;&numsp;&numsp;<span
                  class="textcolor"
                  style="color: #800080"
                  >($ (X)</span
                >&numsp;<span class="textcolor" style="color: #000000">!</span>
                {<span class="textcolor" style="color: #000000">sin</span
                ><span class="textcolor" style="color: #800080">(60)</span
                ><span class="textcolor" style="color: #000000">*2</span
                >}&numsp;<span class="textcolor" style="color: #000000">!</span>
                <span class="textcolor" style="color: #000000">90:</span
                ><span class="textcolor" style="color: #800080">(B)</span
                >&numsp;<span class="textcolor" style="color: #000000">$</span
                >)&numsp;{};<br />
                &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                  >\draw</span
                >&numsp;<span class="textcolor" style="color: #800080">(A)</span
                >&numsp;<span class="textcolor" style="color: #000000">--</span>
                <span class="textcolor" style="color: #800080">(D)</span
                >&numsp;<span class="textcolor" style="color: #000000">--</span>
                <span class="textcolor" style="color: #800080">(B)</span>;<br />
                <span class="textcolor" style="color: #000000">\end</span>{<span
                  class="textcolor"
                  style="color: #0000b2"
                  >tikzpicture</span
                >}<br />
              </code>
            </div>
          </figure>

          <p>
            Finally, it is not necessary to explicitly name the point \(X\).
            Rather, again like in the
            <span class="texttt">xcolor</span> package, it is possible to chain
            partway modifiers:
          </p>

          <figure class="example">
            <div class="example-image">
              <p>
                <span class="lateximagesource" id="lateximage-pgfmanual-103"
                  ><!--
    D


        B
A
--><img
                    alt="(-tikz-&nbsp;diagram)"
                    class="lateximage"
                    src="pgfmanual-images/image-103.svg"
                    style
                /></span>
              </p>
            </div>

            <div class="example-code">
              <button class="clipboardButton" type="button">copy</button>

              <code>
                <span class="c- preamble">\usetikzlibrary {calc} </span><br />
                <span class="textcolor" style="color: #000000">\begin</span
                >{<span class="textcolor" style="color: #0000b2"
                  >tikzpicture</span
                >}<br />
                &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                  >\coordinate</span
                >&numsp;[<span class="textcolor" style="color: #008000"
                  >label</span
                >=<span class="textcolor" style="color: #008000">left:$A$</span
                >]&numsp;&numsp;<span class="textcolor" style="color: #800080"
                  >(A)</span
                >&numsp;<span class="textcolor" style="color: #000000">at</span>
                <span class="textcolor" style="color: #800080">(0,0)</span
                >;<br />
                &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                  >\coordinate</span
                >&numsp;[<span class="textcolor" style="color: #008000"
                  >label</span
                >=<span class="textcolor" style="color: #008000">right:$B$</span
                >]&numsp;<span class="textcolor" style="color: #800080"
                  >(B)</span
                >&numsp;<span class="textcolor" style="color: #000000">at</span>
                <span class="textcolor" style="color: #800080">(1.25,0.25)</span
                >;<br />
                &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                  >\draw</span
                >&numsp;<span class="textcolor" style="color: #800080">(A)</span
                >&numsp;<span class="textcolor" style="color: #000000">--</span>
                <span class="textcolor" style="color: #800080">(B)</span>;<br />
                &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                  >\node</span
                >&numsp;[<span class="textcolor" style="color: #008000"
                  >fill</span
                >=<span class="textcolor" style="color: #008000">red</span
                >,<span class="textcolor" style="color: #008000">inner sep</span
                >=<span class="textcolor" style="color: #008000">1pt</span
                >,<span class="textcolor" style="color: #008000">label</span
                >=<span class="textcolor" style="color: #008000">above:$D$</span
                >]&numsp;<span class="textcolor" style="color: #800080"
                  >(D)</span
                >&numsp;<span class="textcolor" style="color: #000000">at</span
                ><br />
                &numsp;&numsp;&numsp;&numsp;<span
                  class="textcolor"
                  style="color: #800080"
                  >($ (A)</span
                >&numsp;<span class="textcolor" style="color: #000000">!</span>
                .<span class="textcolor" style="color: #000000">5</span>
                <span class="textcolor" style="color: #000000">!</span>
                <span class="textcolor" style="color: #800080">(B)</span
                >&numsp;<span class="textcolor" style="color: #000000">!</span>
                {<span class="textcolor" style="color: #000000">sin</span
                ><span class="textcolor" style="color: #800080">(60)</span
                ><span class="textcolor" style="color: #000000">*2</span
                >}&numsp;<span class="textcolor" style="color: #000000">!</span>
                <span class="textcolor" style="color: #000000">90:</span
                ><span class="textcolor" style="color: #800080">(B)</span
                >&numsp;<span class="textcolor" style="color: #000000">$</span
                >)&numsp;{};<br />
                &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                  >\draw</span
                >&numsp;<span class="textcolor" style="color: #800080">(A)</span
                >&numsp;<span class="textcolor" style="color: #000000">--</span>
                <span class="textcolor" style="color: #800080">(D)</span
                >&numsp;<span class="textcolor" style="color: #000000">--</span>
                <span class="textcolor" style="color: #800080">(B)</span>;<br />
                <span class="textcolor" style="color: #000000">\end</span>{<span
                  class="textcolor"
                  style="color: #0000b2"
                  >tikzpicture</span
                >}<br />
              </code>
            </div>
          </figure>
          <h6 id="autosec-286">
            <span class="sectionnumber" id="sec-4.2.2">4.2.2&emsp;</span
            >Intersecting a Line and a Circle<a
              class="anchor-link"
              href="#sec-4.2.2"
              >&para;</a
            >
          </h6>
          <a id="pgfmanual-autopage-286"></a>

          <p>
            The next step in the construction is to draw a circle around \(B\)
            through \(C\), which is easy enough to do using the
            <span class="texttt">circle through</span> option. Extending the
            lines \(DA\) and \(DB\) can be done using partway calculations, but
            this time with a part value outside the range \([0,1]\):
          </p>

          <figure class="example">
            <div class="example-image">
              <p>
                <span class="lateximagesource" id="lateximage-pgfmanual-104"
                  ><!--
        C
H
    D

        B
A



E F
--><img
                    alt="(-tikz-&nbsp;diagram)"
                    class="lateximage"
                    src="pgfmanual-images/image-104.svg"
                    style
                /></span>
              </p>
            </div>

            <div class="example-code">
              <button class="clipboardButton" type="button">copy</button>

              <code>
                <span class="c- preamble">\usetikzlibrary {calc,through} </span
                ><br />
                <span class="textcolor" style="color: #000000">\begin</span
                >{<span class="textcolor" style="color: #0000b2"
                  >tikzpicture</span
                >}<br />
                &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                  >\coordinate</span
                >&numsp;[<span class="textcolor" style="color: #008000"
                  >label</span
                >=<span class="textcolor" style="color: #008000">left:$A$</span
                >]&numsp;&numsp;<span class="textcolor" style="color: #800080"
                  >(A)</span
                >&numsp;<span class="textcolor" style="color: #000000">at</span>
                <span class="textcolor" style="color: #800080">(0,0)</span
                >;<br />
                &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                  >\coordinate</span
                >&numsp;[<span class="textcolor" style="color: #008000"
                  >label</span
                >=<span class="textcolor" style="color: #008000">right:$B$</span
                >]&numsp;<span class="textcolor" style="color: #800080"
                  >(B)</span
                >&numsp;<span class="textcolor" style="color: #000000">at</span>
                <span class="textcolor" style="color: #800080">(0.75,0.25)</span
                >;<br />
                &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                  >\coordinate</span
                >&numsp;[<span class="textcolor" style="color: #008000"
                  >label</span
                >=<span class="textcolor" style="color: #008000">above:$C$</span
                >]&numsp;<span class="textcolor" style="color: #800080"
                  >(C)</span
                >&numsp;<span class="textcolor" style="color: #000000">at</span>
                <span class="textcolor" style="color: #800080">(1,1.5)</span
                >;<br />
                &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                  >\draw</span
                >&numsp;<span class="textcolor" style="color: #800080">(A)</span
                >&numsp;<span class="textcolor" style="color: #000000">--</span>
                <span class="textcolor" style="color: #800080">(B)</span
                >&numsp;<span class="textcolor" style="color: #000000">--</span>
                <span class="textcolor" style="color: #800080">(C)</span>;<br />
                &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                  >\coordinate</span
                >&numsp;[<span class="textcolor" style="color: #008000"
                  >label</span
                >=<span class="textcolor" style="color: #008000">above:$D$</span
                >]&numsp;<span class="textcolor" style="color: #800080"
                  >(D)</span
                >&numsp;<span class="textcolor" style="color: #000000">at</span
                ><br />
                &numsp;&numsp;&numsp;&numsp;<span
                  class="textcolor"
                  style="color: #800080"
                  >($ (A)</span
                >&numsp;<span class="textcolor" style="color: #000000">!</span>
                .<span class="textcolor" style="color: #000000">5</span>
                <span class="textcolor" style="color: #000000">!</span>
                <span class="textcolor" style="color: #800080">(B)</span
                >&numsp;<span class="textcolor" style="color: #000000">!</span>
                {<span class="textcolor" style="color: #000000">sin</span
                ><span class="textcolor" style="color: #800080">(60)</span
                ><span class="textcolor" style="color: #000000">*2</span
                >}&numsp;<span class="textcolor" style="color: #000000">!</span>
                <span class="textcolor" style="color: #000000">90:</span
                ><span class="textcolor" style="color: #800080">(B)</span
                >&numsp;<span class="textcolor" style="color: #000000">$</span
                >)&numsp;{};<br />
                &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                  >\node</span
                >&numsp;<span class="textcolor" style="color: #800080">(H)</span
                >&numsp;[<span class="textcolor" style="color: #008000"
                  >label</span
                >=<span class="textcolor" style="color: #008000">135:$H$</span
                >,<span class="textcolor" style="color: #008000">draw</span
                >,<span class="textcolor" style="color: #008000"
                  >circle through</span
                >=<span class="textcolor" style="color: #008000"
                  ><span class="textcolor" style="color: #800080"
                    >(C)</span
                  ></span
                >]&numsp;<span class="textcolor" style="color: #000000"
                  >at</span
                >
                <span class="textcolor" style="color: #800080">(B)</span
                >&numsp;{};<br />
                &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                  >\draw</span
                >&numsp;<span class="textcolor" style="color: #800080">(D)</span
                >&numsp;<span class="textcolor" style="color: #000000">--</span>
                <span class="textcolor" style="color: #800080">($ (D)</span
                >&numsp;<span class="textcolor" style="color: #000000">!</span>
                <span class="textcolor" style="color: #000000">3</span>.<span
                  class="textcolor"
                  style="color: #000000"
                  >5</span
                >
                <span class="textcolor" style="color: #000000">!</span>
                <span class="textcolor" style="color: #800080">(B)</span
                >&numsp;<span class="textcolor" style="color: #000000">$</span
                >)&numsp;<span class="textcolor" style="color: #000000"
                  >coordinate</span
                >
                [<span class="textcolor" style="color: #008000">label</span
                >=<span class="textcolor" style="color: #008000">below:$F$</span
                >]&numsp;<span class="textcolor" style="color: #800080"
                  >(F)</span
                >;<br />
                &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                  >\draw</span
                >&numsp;<span class="textcolor" style="color: #800080">(D)</span
                >&numsp;<span class="textcolor" style="color: #000000">--</span>
                <span class="textcolor" style="color: #800080">($ (D)</span
                >&numsp;<span class="textcolor" style="color: #000000">!</span>
                <span class="textcolor" style="color: #000000">2</span>.<span
                  class="textcolor"
                  style="color: #000000"
                  >5</span
                >
                <span class="textcolor" style="color: #000000">!</span>
                <span class="textcolor" style="color: #800080">(A)</span
                >&numsp;<span class="textcolor" style="color: #000000">$</span
                >)&numsp;<span class="textcolor" style="color: #000000"
                  >coordinate</span
                >
                [<span class="textcolor" style="color: #008000">label</span
                >=<span class="textcolor" style="color: #008000">below:$E$</span
                >]&numsp;<span class="textcolor" style="color: #800080"
                  >(E)</span
                >;<br />
                <span class="textcolor" style="color: #000000">\end</span>{<span
                  class="textcolor"
                  style="color: #0000b2"
                  >tikzpicture</span
                >}<br />
              </code>
            </div>
          </figure>

          <p>
            We now face the problem of finding the point \(G\), which is the
            intersection of the line \(BF\) and the circle \(H\). One way is to
            use yet another variant of the partway computation: Normally, a
            partway computation has the form <span class="angle">&langle;</span
            ><i>p</i><span class="angle">&rangle;</span
            ><span class="texttt">!</span><span class="angle">&langle;</span
            ><i>factor</i><span class="angle">&rangle;</span
            ><span class="texttt">!</span><span class="angle">&langle;</span
            ><i>q</i><span class="angle">&rangle;</span>, resulting in the point
            \((1-\meta {factor})\meta {p} + \meta {factor}\meta {q}\).
            Alternatively, instead of <span class="angle">&langle;</span
            ><i>factor</i><span class="angle">&rangle;</span> you can also use a
            <span class="angle">&langle;</span><i>dimension</i
            ><span class="angle">&rangle;</span> between the points. In this
            case, you get the point that is <span class="angle">&langle;</span
            ><i>dimension</i><span class="angle">&rangle;</span> away from
            <span class="angle">&langle;</span><i>p</i
            ><span class="angle">&rangle;</span> on the straight line to
            <span class="angle">&langle;</span><i>q</i
            ><span class="angle">&rangle;</span>.
          </p>

          <p>
            We know that the point \(G\) is on the way from \(B\) to \(F\). The
            distance is given by the radius of the circle&nbsp;\(H\). Here is
            the code for computing \(H\):
          </p>

          <figure class="example">
            <div class="example-image">
              <p>
                <span class="lateximagesource" id="lateximage-pgfmanual-105"
                  ><!--
        C
H
    D

        B
A
            G

E F
--><img
                    alt="(-tikz-&nbsp;diagram)"
                    class="lateximage"
                    src="pgfmanual-images/image-105.svg"
                    style
                /></span>
              </p>
            </div>

            <div class="example-code">
              <button class="clipboardButton" type="button">copy</button>

              <code>
                <span class="c- preamble">\usetikzlibrary {calc,through} </span
                ><br />
                <span class="textcolor" style="color: #000000">\begin</span
                >{<span class="textcolor" style="color: #0000b2"
                  >tikzpicture</span
                >}<br />
                &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                  >\coordinate</span
                >&numsp;[<span class="textcolor" style="color: #008000"
                  >label</span
                >=<span class="textcolor" style="color: #008000">left:$A$</span
                >]&numsp;&numsp;<span class="textcolor" style="color: #800080"
                  >(A)</span
                >&numsp;<span class="textcolor" style="color: #000000">at</span>
                <span class="textcolor" style="color: #800080">(0,0)</span
                >;<br />
                &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                  >\coordinate</span
                >&numsp;[<span class="textcolor" style="color: #008000"
                  >label</span
                >=<span class="textcolor" style="color: #008000">right:$B$</span
                >]&numsp;<span class="textcolor" style="color: #800080"
                  >(B)</span
                >&numsp;<span class="textcolor" style="color: #000000">at</span>
                <span class="textcolor" style="color: #800080">(0.75,0.25)</span
                >;<br />
                &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                  >\coordinate</span
                >&numsp;[<span class="textcolor" style="color: #008000"
                  >label</span
                >=<span class="textcolor" style="color: #008000">above:$C$</span
                >]&numsp;<span class="textcolor" style="color: #800080"
                  >(C)</span
                >&numsp;<span class="textcolor" style="color: #000000">at</span>
                <span class="textcolor" style="color: #800080">(1,1.5)</span
                >;<br />
                &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                  >\draw</span
                >&numsp;<span class="textcolor" style="color: #800080">(A)</span
                >&numsp;<span class="textcolor" style="color: #000000">--</span>
                <span class="textcolor" style="color: #800080">(B)</span
                >&numsp;<span class="textcolor" style="color: #000000">--</span>
                <span class="textcolor" style="color: #800080">(C)</span>;<br />
                &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                  >\coordinate</span
                >&numsp;[<span class="textcolor" style="color: #008000"
                  >label</span
                >=<span class="textcolor" style="color: #008000">above:$D$</span
                >]&numsp;<span class="textcolor" style="color: #800080"
                  >(D)</span
                >&numsp;<span class="textcolor" style="color: #000000">at</span
                ><br />
                &numsp;&numsp;&numsp;&numsp;<span
                  class="textcolor"
                  style="color: #800080"
                  >($ (A)</span
                >&numsp;<span class="textcolor" style="color: #000000">!</span>
                .<span class="textcolor" style="color: #000000">5</span>
                <span class="textcolor" style="color: #000000">!</span>
                <span class="textcolor" style="color: #800080">(B)</span
                >&numsp;<span class="textcolor" style="color: #000000">!</span>
                {<span class="textcolor" style="color: #000000">sin</span
                ><span class="textcolor" style="color: #800080">(60)</span
                ><span class="textcolor" style="color: #000000">*2</span
                >}&numsp;<span class="textcolor" style="color: #000000">!</span>
                <span class="textcolor" style="color: #000000">90:</span
                ><span class="textcolor" style="color: #800080">(B)</span
                >&numsp;<span class="textcolor" style="color: #000000">$</span
                >)&numsp;{};<br />
                &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                  >\draw</span
                >&numsp;<span class="textcolor" style="color: #800080">(D)</span
                >&numsp;<span class="textcolor" style="color: #000000">--</span>
                <span class="textcolor" style="color: #800080">($ (D)</span
                >&numsp;<span class="textcolor" style="color: #000000">!</span>
                <span class="textcolor" style="color: #000000">3</span>.<span
                  class="textcolor"
                  style="color: #000000"
                  >5</span
                >
                <span class="textcolor" style="color: #000000">!</span>
                <span class="textcolor" style="color: #800080">(B)</span
                >&numsp;<span class="textcolor" style="color: #000000">$</span
                >)&numsp;<span class="textcolor" style="color: #000000"
                  >coordinate</span
                >
                [<span class="textcolor" style="color: #008000">label</span
                >=<span class="textcolor" style="color: #008000">below:$F$</span
                >]&numsp;<span class="textcolor" style="color: #800080"
                  >(F)</span
                >;<br />
                &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                  >\draw</span
                >&numsp;<span class="textcolor" style="color: #800080">(D)</span
                >&numsp;<span class="textcolor" style="color: #000000">--</span>
                <span class="textcolor" style="color: #800080">($ (D)</span
                >&numsp;<span class="textcolor" style="color: #000000">!</span>
                <span class="textcolor" style="color: #000000">2</span>.<span
                  class="textcolor"
                  style="color: #000000"
                  >5</span
                >
                <span class="textcolor" style="color: #000000">!</span>
                <span class="textcolor" style="color: #800080">(A)</span
                >&numsp;<span class="textcolor" style="color: #000000">$</span
                >)&numsp;<span class="textcolor" style="color: #000000"
                  >coordinate</span
                >
                [<span class="textcolor" style="color: #008000">label</span
                >=<span class="textcolor" style="color: #008000">below:$E$</span
                >]&numsp;<span class="textcolor" style="color: #800080"
                  >(E)</span
                >;<br />
                &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                  >\node</span
                >&numsp;<span class="textcolor" style="color: #800080">(H)</span
                >&numsp;[<span class="textcolor" style="color: #008000"
                  >label</span
                >=<span class="textcolor" style="color: #008000">135:$H$</span
                >,<span class="textcolor" style="color: #008000">draw</span
                >,<span class="textcolor" style="color: #008000"
                  >circle through</span
                >=<span class="textcolor" style="color: #008000"
                  ><span class="textcolor" style="color: #800080"
                    >(C)</span
                  ></span
                >]&numsp;<span class="textcolor" style="color: #000000"
                  >at</span
                >
                <span class="textcolor" style="color: #800080">(B)</span
                >&numsp;{};<br />
                &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                  >\path</span
                >&numsp;<span class="textcolor" style="color: #000000"
                  >let</span
                >
                <span class="textcolor" style="color: #0000b2">\p</span
                ><span class="textcolor" style="color: #000000">1</span>
                <span class="textcolor" style="color: #000000">=</span>
                <span class="textcolor" style="color: #800080">($ (B)</span
                >&numsp;<span class="textcolor" style="color: #000000">-</span>
                <span class="textcolor" style="color: #800080">(C)</span
                >&numsp;<span class="textcolor" style="color: #000000">$</span
                >)&numsp;<span class="textcolor" style="color: #000000">in</span
                ><br />
                &numsp;&numsp;&numsp;&numsp;<span
                  class="textcolor"
                  style="color: #000000"
                  >coordinate</span
                >
                [<span class="textcolor" style="color: #008000">label</span
                >=<span class="textcolor" style="color: #008000">left:$G$</span
                >]&numsp;<span class="textcolor" style="color: #800080"
                  >(G)</span
                >&numsp;<span class="textcolor" style="color: #000000">at</span>
                <span class="textcolor" style="color: #800080">($ (B)</span
                >&numsp;<span class="textcolor" style="color: #000000">!</span>
                <span class="textcolor" style="color: #000000">veclen</span
                ><span class="textcolor" style="color: #800080">(\x1,\y1)</span
                >&numsp;<span class="textcolor" style="color: #000000">!</span>
                <span class="textcolor" style="color: #800080">(F)</span
                >&numsp;<span class="textcolor" style="color: #000000">$</span
                >);<br />
                &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                  >\fill</span
                >[<span class="textcolor" style="color: #008000">red</span
                >,<span class="textcolor" style="color: #008000">opacity</span
                >=<span class="textcolor" style="color: #008000">.5</span
                >]&numsp;<span class="textcolor" style="color: #800080"
                  >(G)</span
                >&numsp;<span class="textcolor" style="color: #000000"
                  >circle</span
                >
                <span class="textcolor" style="color: #800080">(2pt)</span
                >;<br />
                <span class="textcolor" style="color: #000000">\end</span>{<span
                  class="textcolor"
                  style="color: #0000b2"
                  >tikzpicture</span
                >}<br />
              </code>
            </div>
          </figure>

          <p>
            However, there is a simpler way: We can simply name the path of the
            circle and of the line in question and then use
            <span class="texttt">name intersections</span> to compute the
            intersections.
          </p>

          <figure class="example">
            <div class="example-image">
              <p>
                <span class="lateximagesource" id="lateximage-pgfmanual-106"
                  ><!--
        C
H
    D

        B
A
            G

E F
--><img
                    alt="(-tikz-&nbsp;diagram)"
                    class="lateximage"
                    src="pgfmanual-images/image-106.svg"
                    style
                /></span>
              </p>
            </div>

            <div class="example-code">
              <button class="clipboardButton" type="button">copy</button>

              <code>
                <span class="c- preamble"
                  >\usetikzlibrary {calc,intersections,through} </span
                ><br />
                <span class="textcolor" style="color: #000000">\begin</span
                >{<span class="textcolor" style="color: #0000b2"
                  >tikzpicture</span
                >}<br />
                &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                  >\coordinate</span
                >&numsp;[<span class="textcolor" style="color: #008000"
                  >label</span
                >=<span class="textcolor" style="color: #008000">left:$A$</span
                >]&numsp;&numsp;<span class="textcolor" style="color: #800080"
                  >(A)</span
                >&numsp;<span class="textcolor" style="color: #000000">at</span>
                <span class="textcolor" style="color: #800080">(0,0)</span
                >;<br />
                &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                  >\coordinate</span
                >&numsp;[<span class="textcolor" style="color: #008000"
                  >label</span
                >=<span class="textcolor" style="color: #008000">right:$B$</span
                >]&numsp;<span class="textcolor" style="color: #800080"
                  >(B)</span
                >&numsp;<span class="textcolor" style="color: #000000">at</span>
                <span class="textcolor" style="color: #800080">(0.75,0.25)</span
                >;<br />
                &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                  >\coordinate</span
                >&numsp;[<span class="textcolor" style="color: #008000"
                  >label</span
                >=<span class="textcolor" style="color: #008000">above:$C$</span
                >]&numsp;<span class="textcolor" style="color: #800080"
                  >(C)</span
                >&numsp;<span class="textcolor" style="color: #000000">at</span>
                <span class="textcolor" style="color: #800080">(1,1.5)</span
                >;<br />
                &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                  >\draw</span
                >&numsp;<span class="textcolor" style="color: #800080">(A)</span
                >&numsp;<span class="textcolor" style="color: #000000">--</span>
                <span class="textcolor" style="color: #800080">(B)</span
                >&numsp;<span class="textcolor" style="color: #000000">--</span>
                <span class="textcolor" style="color: #800080">(C)</span>;<br />
                &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                  >\coordinate</span
                >&numsp;[<span class="textcolor" style="color: #008000"
                  >label</span
                >=<span class="textcolor" style="color: #008000">above:$D$</span
                >]&numsp;<span class="textcolor" style="color: #800080"
                  >(D)</span
                >&numsp;<span class="textcolor" style="color: #000000">at</span
                ><br />
                &numsp;&numsp;&numsp;&numsp;<span
                  class="textcolor"
                  style="color: #800080"
                  >($ (A)</span
                >&numsp;<span class="textcolor" style="color: #000000">!</span>
                .<span class="textcolor" style="color: #000000">5</span>
                <span class="textcolor" style="color: #000000">!</span>
                <span class="textcolor" style="color: #800080">(B)</span
                >&numsp;<span class="textcolor" style="color: #000000">!</span>
                {<span class="textcolor" style="color: #000000">sin</span
                ><span class="textcolor" style="color: #800080">(60)</span
                ><span class="textcolor" style="color: #000000">*2</span
                >}&numsp;<span class="textcolor" style="color: #000000">!</span>
                <span class="textcolor" style="color: #000000">90:</span
                ><span class="textcolor" style="color: #800080">(B)</span
                >&numsp;<span class="textcolor" style="color: #000000">$</span
                >)&numsp;{};<br />
                &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                  >\draw</span
                >&numsp;<span class="textcolor" style="color: #800080">(D)</span
                >&numsp;<span class="textcolor" style="color: #000000">--</span>
                <span class="textcolor" style="color: #800080">($ (D)</span
                >&numsp;<span class="textcolor" style="color: #000000">!</span>
                <span class="textcolor" style="color: #000000">3</span>.<span
                  class="textcolor"
                  style="color: #000000"
                  >5</span
                >
                <span class="textcolor" style="color: #000000">!</span>
                <span class="textcolor" style="color: #800080">(B)</span
                >&numsp;<span class="textcolor" style="color: #000000">$</span
                >)&numsp;<span class="textcolor" style="color: #000000"
                  >coordinate</span
                >
                [<span class="textcolor" style="color: #008000">label</span
                >=<span class="textcolor" style="color: #008000">below:$F$</span
                >]&numsp;<span class="textcolor" style="color: #800080"
                  >(F)</span
                >;<br />
                &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                  >\draw</span
                >&numsp;<span class="textcolor" style="color: #800080">(D)</span
                >&numsp;<span class="textcolor" style="color: #000000">--</span>
                <span class="textcolor" style="color: #800080">($ (D)</span
                >&numsp;<span class="textcolor" style="color: #000000">!</span>
                <span class="textcolor" style="color: #000000">2</span>.<span
                  class="textcolor"
                  style="color: #000000"
                  >5</span
                >
                <span class="textcolor" style="color: #000000">!</span>
                <span class="textcolor" style="color: #800080">(A)</span
                >&numsp;<span class="textcolor" style="color: #000000">$</span
                >)&numsp;<span class="textcolor" style="color: #000000"
                  >coordinate</span
                >
                [<span class="textcolor" style="color: #008000">label</span
                >=<span class="textcolor" style="color: #008000">below:$E$</span
                >]&numsp;<span class="textcolor" style="color: #800080"
                  >(E)</span
                >;<br />
                &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                  >\node</span
                >&numsp;<span class="textcolor" style="color: #800080">(H)</span
                >&numsp;[<span class="textcolor" style="color: #008000"
                  >name path</span
                >=<span class="textcolor" style="color: #008000">H</span>,<span
                  class="textcolor"
                  style="color: #008000"
                  >label</span
                >=<span class="textcolor" style="color: #008000">135:$H$</span
                >,<span class="textcolor" style="color: #008000">draw</span
                >,<span class="textcolor" style="color: #008000"
                  >circle through</span
                >=<span class="textcolor" style="color: #008000"
                  ><span class="textcolor" style="color: #800080"
                    >(C)</span
                  ></span
                >]&numsp;<span class="textcolor" style="color: #000000"
                  >at</span
                >
                <span class="textcolor" style="color: #800080">(B)</span
                >&numsp;{};<br />
                &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                  >\path</span
                >&numsp;[<span class="textcolor" style="color: #008000"
                  >name path</span
                >=<span class="textcolor" style="color: #008000">B--F</span
                >]&numsp;<span class="textcolor" style="color: #800080"
                  >(B)</span
                >&numsp;<span class="textcolor" style="color: #000000">--</span>
                <span class="textcolor" style="color: #800080">(F)</span>;<br />
                &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                  >\path</span
                >&numsp;[<span class="textcolor" style="color: #008000"
                  >name intersections</span
                >=<span class="textcolor" style="color: #008000"
                  >{of=H and B--F,by={[<span
                    class="textcolor"
                    style="color: #008000"
                    >label</span
                  >=<span class="textcolor" style="color: #008000"
                    >left:$G$</span
                  >]G}}</span
                >];<br />
                &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                  >\fill</span
                >[<span class="textcolor" style="color: #008000">red</span
                >,<span class="textcolor" style="color: #008000">opacity</span
                >=<span class="textcolor" style="color: #008000">.5</span
                >]&numsp;<span class="textcolor" style="color: #800080"
                  >(G)</span
                >&numsp;<span class="textcolor" style="color: #000000"
                  >circle</span
                >
                <span class="textcolor" style="color: #800080">(2pt)</span
                >;<br />
                <span class="textcolor" style="color: #000000">\end</span>{<span
                  class="textcolor"
                  style="color: #0000b2"
                  >tikzpicture</span
                >}<br />
              </code>
            </div>
          </figure>
          <h6 id="autosec-293">
            <span class="sectionnumber" id="sec-4.2.3">4.2.3&emsp;</span>The
            Complete Code<a class="anchor-link" href="#sec-4.2.3">&para;</a>
          </h6>
          <a id="pgfmanual-autopage-293"></a>

          <figure class="example">
            <div class="example-image">
              <p>
                <span class="lateximagesource" id="lateximage-pgfmanual-107"
                  ><!--
K

                    C
        H
                D


            A B



                            G
        L F
    E
--><img
                    alt="(-tikz-&nbsp;diagram)"
                    class="lateximage"
                    src="pgfmanual-images/image-107.svg"
                    style
                /></span>
              </p>
            </div>

            <div class="example-code">
              <button class="clipboardButton" type="button">copy</button>

              <code>
                <span class="c- preamble"
                  >\usetikzlibrary {calc,intersections,through} </span
                ><br />
                <span class="textcolor" style="color: #000000">\begin</span
                >{<span class="textcolor" style="color: #0000b2"
                  >tikzpicture</span
                >}[<span class="textcolor" style="color: #008000">thick</span
                >,<span class="textcolor" style="color: #008000"
                  >help lines</span
                >/<span class="textcolor" style="color: #0000b2">.style</span
                >={<span class="textcolor" style="color: #008000">thin</span
                >,<span class="textcolor" style="color: #008000">draw</span
                >=<span class="textcolor" style="color: #008000">black!50}</span
                >]<br />
                &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                  >\def</span
                ><span class="textcolor" style="color: #0000b2">\A</span>{<span
                  class="textcolor"
                  style="color: #0000b2"
                  >\textcolor</span
                >{<span class="textcolor" style="color: #000000">orange</span
                >}{<span class="textcolor" style="color: #000000">$A$</span
                >}}&numsp;&numsp;&numsp;<span
                  class="textcolor"
                  style="color: #0000b2"
                  >\def</span
                ><span class="textcolor" style="color: #0000b2">\B</span>{<span
                  class="textcolor"
                  style="color: #0000b2"
                  >\textcolor</span
                >{<span class="textcolor" style="color: #000000">input</span
                >}{<span class="textcolor" style="color: #000000">$B$</span
                >}}<br />
                &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                  >\def</span
                ><span class="textcolor" style="color: #0000b2">\C</span>{<span
                  class="textcolor"
                  style="color: #0000b2"
                  >\textcolor</span
                >{<span class="textcolor" style="color: #000000">input</span
                >}{<span class="textcolor" style="color: #000000">$C$</span
                >}}&numsp;&numsp;&numsp;&numsp;<span
                  class="textcolor"
                  style="color: #0000b2"
                  >\def</span
                ><span class="textcolor" style="color: #0000b2">\D</span>{<span
                  class="textcolor"
                  style="color: #000000"
                  >$D$</span
                >}<br />
                &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                  >\def</span
                ><span class="textcolor" style="color: #0000b2">\E</span>{<span
                  class="textcolor"
                  style="color: #000000"
                  >$E$</span
                >}&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;<span
                  class="textcolor"
                  style="color: #0000b2"
                  >\def</span
                ><span class="textcolor" style="color: #0000b2">\F</span>{<span
                  class="textcolor"
                  style="color: #000000"
                  >$F$</span
                >}<br />
                &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                  >\def</span
                ><span class="textcolor" style="color: #0000b2">\G</span>{<span
                  class="textcolor"
                  style="color: #000000"
                  >$G$</span
                >}&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;<span
                  class="textcolor"
                  style="color: #0000b2"
                  >\def</span
                ><span class="textcolor" style="color: #0000b2">\H</span>{<span
                  class="textcolor"
                  style="color: #000000"
                  >$H$</span
                >}<br />
                &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                  >\def</span
                ><span class="textcolor" style="color: #0000b2">\K</span>{<span
                  class="textcolor"
                  style="color: #000000"
                  >$K$</span
                >}&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;<span
                  class="textcolor"
                  style="color: #0000b2"
                  >\def</span
                ><span class="textcolor" style="color: #0000b2">\L</span>{<span
                  class="textcolor"
                  style="color: #0000b2"
                  >\textcolor</span
                >{<span class="textcolor" style="color: #000000">output</span
                >}{<span class="textcolor" style="color: #000000">$L$</span
                >}}<br />
                <br />
                &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                  >\colorlet</span
                >{<span class="textcolor" style="color: #000000">input</span
                >}{<span class="textcolor" style="color: #000000"
                  >blue!80!black</span
                >}&numsp;&numsp;&numsp;&numsp;<span
                  class="textcolor"
                  style="color: #0000b2"
                  >\colorlet</span
                >{<span class="textcolor" style="color: #000000">output</span
                >}{<span class="textcolor" style="color: #000000"
                  >red!70!black</span
                >}<br />
                <br />
                &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                  >\coordinate</span
                >&numsp;[<span class="textcolor" style="color: #008000"
                  >label</span
                >=<span class="textcolor" style="color: #008000"
                  >left:<span class="textcolor" style="color: #0000b2"
                    >\A</span
                  ></span
                >]&numsp;&numsp;<span class="textcolor" style="color: #800080"
                  >(A)</span
                >&numsp;<span class="textcolor" style="color: #000000">at</span>
                <span class="textcolor" style="color: #800080">($ (0,0)</span
                >&numsp;<span class="textcolor" style="color: #000000">+</span>
                .<span class="textcolor" style="color: #000000">1*</span
                ><span class="textcolor" style="color: #800080"
                  >(rand,rand)</span
                >&numsp;<span class="textcolor" style="color: #000000">$</span
                >);<br />
                &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                  >\coordinate</span
                >&numsp;[<span class="textcolor" style="color: #008000"
                  >label</span
                >=<span class="textcolor" style="color: #008000"
                  >right:<span class="textcolor" style="color: #0000b2"
                    >\B</span
                  ></span
                >]&numsp;<span class="textcolor" style="color: #800080"
                  >(B)</span
                >&numsp;<span class="textcolor" style="color: #000000">at</span>
                <span class="textcolor" style="color: #800080">($ (1,0.2)</span
                >&numsp;<span class="textcolor" style="color: #000000">+</span>
                .<span class="textcolor" style="color: #000000">1*</span
                ><span class="textcolor" style="color: #800080"
                  >(rand,rand)</span
                >&numsp;<span class="textcolor" style="color: #000000">$</span
                >);<br />
                &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                  >\coordinate</span
                >&numsp;[<span class="textcolor" style="color: #008000"
                  >label</span
                >=<span class="textcolor" style="color: #008000"
                  >above:<span class="textcolor" style="color: #0000b2"
                    >\C</span
                  ></span
                >]&numsp;<span class="textcolor" style="color: #800080"
                  >(C)</span
                >&numsp;<span class="textcolor" style="color: #000000">at</span>
                <span class="textcolor" style="color: #800080">($ (1,2)</span
                >&numsp;<span class="textcolor" style="color: #000000">+</span>
                .<span class="textcolor" style="color: #000000">1*</span
                ><span class="textcolor" style="color: #800080"
                  >(rand,rand)</span
                >&numsp;<span class="textcolor" style="color: #000000">$</span
                >);<br />
                <br />
                &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                  >\draw</span
                >&numsp;[<span class="textcolor" style="color: #008000"
                  >input</span
                >]&numsp;<span class="textcolor" style="color: #800080"
                  >(B)</span
                >&numsp;<span class="textcolor" style="color: #000000">--</span>
                <span class="textcolor" style="color: #800080">(C)</span>;<br />
                &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                  >\draw</span
                >&numsp;[<span class="textcolor" style="color: #008000"
                  >help lines</span
                >]&numsp;<span class="textcolor" style="color: #800080"
                  >(A)</span
                >&numsp;<span class="textcolor" style="color: #000000">--</span>
                <span class="textcolor" style="color: #800080">(B)</span>;<br />
                <br />
                &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                  >\coordinate</span
                >&numsp;[<span class="textcolor" style="color: #008000"
                  >label</span
                >=<span class="textcolor" style="color: #008000"
                  >above:<span class="textcolor" style="color: #0000b2"
                    >\D</span
                  ></span
                >]&numsp;<span class="textcolor" style="color: #800080"
                  >(D)</span
                >&numsp;<span class="textcolor" style="color: #000000">at</span>
                <span class="textcolor" style="color: #800080">($ (A)</span
                ><span class="textcolor" style="color: #000000">!</span>.<span
                  class="textcolor"
                  style="color: #000000"
                  >5!</span
                ><span class="textcolor" style="color: #800080">(B)</span
                >&numsp;<span class="textcolor" style="color: #000000">!</span>
                {<span class="textcolor" style="color: #000000">sin</span
                ><span class="textcolor" style="color: #800080">(60)</span
                ><span class="textcolor" style="color: #000000">*2</span
                >}&numsp;<span class="textcolor" style="color: #000000">!</span>
                <span class="textcolor" style="color: #000000">90:</span
                ><span class="textcolor" style="color: #800080">(B)</span
                >&numsp;<span class="textcolor" style="color: #000000">$</span
                >);<br />
                <br />
                &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                  >\draw</span
                >&numsp;[<span class="textcolor" style="color: #008000"
                  >help lines</span
                >]&numsp;<span class="textcolor" style="color: #800080"
                  >(D)</span
                >&numsp;<span class="textcolor" style="color: #000000">--</span>
                <span class="textcolor" style="color: #800080">($ (D)</span
                ><span class="textcolor" style="color: #000000">!3</span>.<span
                  class="textcolor"
                  style="color: #000000"
                  >75!</span
                ><span class="textcolor" style="color: #800080">(A)</span
                >&numsp;<span class="textcolor" style="color: #000000">$</span
                >)&numsp;<span class="textcolor" style="color: #000000"
                  >coordinate</span
                >
                [<span class="textcolor" style="color: #008000">label</span
                >=<span class="textcolor" style="color: #008000"
                  >-135:<span class="textcolor" style="color: #0000b2"
                    >\E</span
                  ></span
                >]&numsp;<span class="textcolor" style="color: #800080"
                  >(E)</span
                >;<br />
                &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                  >\draw</span
                >&numsp;[<span class="textcolor" style="color: #008000"
                  >help lines</span
                >]&numsp;<span class="textcolor" style="color: #800080"
                  >(D)</span
                >&numsp;<span class="textcolor" style="color: #000000">--</span>
                <span class="textcolor" style="color: #800080">($ (D)</span
                ><span class="textcolor" style="color: #000000">!3</span>.<span
                  class="textcolor"
                  style="color: #000000"
                  >75!</span
                ><span class="textcolor" style="color: #800080">(B)</span
                >&numsp;<span class="textcolor" style="color: #000000">$</span
                >)&numsp;<span class="textcolor" style="color: #000000"
                  >coordinate</span
                >
                [<span class="textcolor" style="color: #008000">label</span
                >=<span class="textcolor" style="color: #008000"
                  >-45:<span class="textcolor" style="color: #0000b2"
                    >\F</span
                  ></span
                >]&numsp;<span class="textcolor" style="color: #800080"
                  >(F)</span
                >;<br />
                <br />
                &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                  >\node</span
                >&numsp;<span class="textcolor" style="color: #800080">(H)</span
                >&numsp;<span class="textcolor" style="color: #000000">at</span>
                <span class="textcolor" style="color: #800080">(B)</span
                >&numsp;[<span class="textcolor" style="color: #008000"
                  >name path</span
                >=<span class="textcolor" style="color: #008000">H</span>,<span
                  class="textcolor"
                  style="color: #008000"
                  >help lines</span
                >,<span class="textcolor" style="color: #008000"
                  >circle through</span
                >=<span class="textcolor" style="color: #008000"
                  ><span class="textcolor" style="color: #800080"
                    >(C)</span
                  ></span
                >,<span class="textcolor" style="color: #008000">draw</span
                >,<span class="textcolor" style="color: #008000">label</span
                >=<span class="textcolor" style="color: #008000"
                  >135:<span class="textcolor" style="color: #0000b2"
                    >\H</span
                  ></span
                >]&numsp;{};<br />
                &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                  >\path</span
                >&numsp;[<span class="textcolor" style="color: #008000"
                  >name path</span
                >=<span class="textcolor" style="color: #008000">B--F</span
                >]&numsp;<span class="textcolor" style="color: #800080"
                  >(B)</span
                >&numsp;<span class="textcolor" style="color: #000000">--</span>
                <span class="textcolor" style="color: #800080">(F)</span>;<br />
                &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                  >\path</span
                >&numsp;[<span class="textcolor" style="color: #008000"
                  >name intersections</span
                >=<span class="textcolor" style="color: #008000"
                  >{of=H and B--F,by={[<span
                    class="textcolor"
                    style="color: #008000"
                    >label</span
                  >=<span class="textcolor" style="color: #008000"
                    >right:<span class="textcolor" style="color: #0000b2"
                      >\G</span
                    ></span
                  >]G}}</span
                >];<br />
                <br />
                &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                  >\node</span
                >&numsp;<span class="textcolor" style="color: #800080">(K)</span
                >&numsp;<span class="textcolor" style="color: #000000">at</span>
                <span class="textcolor" style="color: #800080">(D)</span
                >&numsp;[<span class="textcolor" style="color: #008000"
                  >name path</span
                >=<span class="textcolor" style="color: #008000">K</span>,<span
                  class="textcolor"
                  style="color: #008000"
                  >help lines</span
                >,<span class="textcolor" style="color: #008000"
                  >circle through</span
                >=<span class="textcolor" style="color: #008000"
                  ><span class="textcolor" style="color: #800080"
                    >(G)</span
                  ></span
                >,<span class="textcolor" style="color: #008000">draw</span
                >,<span class="textcolor" style="color: #008000">label</span
                >=<span class="textcolor" style="color: #008000"
                  >135:<span class="textcolor" style="color: #0000b2"
                    >\K</span
                  ></span
                >]&numsp;{};<br />
                &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                  >\path</span
                >&numsp;[<span class="textcolor" style="color: #008000"
                  >name path</span
                >=<span class="textcolor" style="color: #008000">A--E</span
                >]&numsp;<span class="textcolor" style="color: #800080"
                  >(A)</span
                >&numsp;<span class="textcolor" style="color: #000000">--</span>
                <span class="textcolor" style="color: #800080">(E)</span>;<br />
                &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                  >\path</span
                >&numsp;[<span class="textcolor" style="color: #008000"
                  >name intersections</span
                >=<span class="textcolor" style="color: #008000"
                  >{of=K and A--E,by={[<span
                    class="textcolor"
                    style="color: #008000"
                    >label</span
                  >=<span class="textcolor" style="color: #008000"
                    >below:<span class="textcolor" style="color: #0000b2"
                      >\L</span
                    ></span
                  >]L}}</span
                >];<br />
                <br />
                &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                  >\draw</span
                >&numsp;[<span class="textcolor" style="color: #008000"
                  >output</span
                >]&numsp;<span class="textcolor" style="color: #800080"
                  >(A)</span
                >&numsp;<span class="textcolor" style="color: #000000">--</span>
                <span class="textcolor" style="color: #800080">(L)</span>;<br />
                <br />
                &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                  >\foreach</span
                >&numsp;<span class="textcolor" style="color: #0000b2"
                  >\point</span
                >&numsp;<span class="textcolor" style="color: #000000">in</span>
                {<span class="textcolor" style="color: #000000">A</span>,<span
                  class="textcolor"
                  style="color: #000000"
                  >B</span
                >,<span class="textcolor" style="color: #000000">C</span>,<span
                  class="textcolor"
                  style="color: #000000"
                  >D</span
                >,<span class="textcolor" style="color: #000000">G</span>,<span
                  class="textcolor"
                  style="color: #000000"
                  >L</span
                >}<br />
                &numsp;&numsp;&numsp;&numsp;<span
                  class="textcolor"
                  style="color: #0000b2"
                  >\fill</span
                >&numsp;[<span class="textcolor" style="color: #008000"
                  >black</span
                >,<span class="textcolor" style="color: #008000">opacity</span
                >=<span class="textcolor" style="color: #008000">.5</span
                >]&numsp;<span class="textcolor" style="color: #800080"
                  >(\point)</span
                >&numsp;<span class="textcolor" style="color: #000000"
                  >circle</span
                >
                <span class="textcolor" style="color: #800080">(2pt)</span
                >;<br />
                <br />
                &numsp;&numsp;<span class="example-code-comment"
                  >% \node ...</span
                ><br />
                <span class="textcolor" style="color: #000000">\end</span>{<span
                  class="textcolor"
                  style="color: #0000b2"
                  >tikzpicture</span
                >}<br />
              </code>
            </div>
          </figure>
          <a id="pgfmanual-autofile-last"></a>
        </section>
      </main>

      <footer>
        <div class_="footer-left">
          <a href="https://github.com/pgf-tikz/pgf">Github</a> &middot;
          <a href="/license">License</a> &middot;
          <a href="https://ctan.org/pkg/pgf">CTAN</a> &middot;
          <a href="https://pgf-tikz.github.io/pgf/pgfmanual.pdf">PDF version</a>
          &middot;
          <a href="https://github.com/DominikPeters/pgf-tikz-html-manual"
            >About this HTML version</a
          >
        </div>
        <div class_="footer-right">
          <em>Manual last updated: 2022-03-05</em>
        </div>
      </footer>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/@docsearch/js@alpha"></script>
    <script>
      docsearch({
        apiKey: "ae66ec3fc9df4b52b4d6f24fc8508fd3",
        indexName: "tikz.dev",
        appId: "Q70NNMA9GC",
        container: "#search",
      });
    </script>
  </body>
</html>
