<!DOCTYPE html>
<html lang="en-US">
<head>
<meta charset="UTF-8" />
<meta name="generator" content="LaTeX Lwarp package" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<!--[if lt IE 9]>
<script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
<![endif]-->
<title>pgfmanual</title>
<link rel="stylesheet" type="text/css" href="style.css" />

<script>
// Lwarp MathJax emulation code
//
// Based on code by Davide P. Cervone.
// Equation numbering: https://github.com/mathjax/MathJax/issues/2427
// Starred and ifnextchar macros: https://github.com/mathjax/MathJax/issues/2428
// \left, \right delimiters: https://github.com/mathjax/MathJax/issues/2535
//
// Modified by Brian Dunn to adjust equation numbering and add subequations.
//
// LaTeX can use \seteqnumber{subequations?}{section}{number} before each equation.
// subequations? is 0 usually, 1 if inside subequations.
// section is a string printed as-is, or empty.
// number is auto-incremented by MathJax between equations.
//
MathJax = {
  subequations: "0",
  section: "",
  loader: {
    load: ['[tex]/tagformat', '[tex]/textmacros'],
  },
  startup: {
    ready() {
      // These would be replaced by import commands if you wanted to make
      // a proper extension.
      const Configuration = MathJax._.input.tex.Configuration.Configuration;
      const CommandMap = MathJax._.input.tex.SymbolMap.CommandMap;
      const Macro = MathJax._.input.tex.Symbol.Macro;
      const TexError = MathJax._.input.tex.TexError.default;
      const ParseUtil = MathJax._.input.tex.ParseUtil.default;
      const expandable = MathJax._.util.Options.expandable;

       // Insert the replacement string into the TeX string, and check
       // that there haven't been too many maxro substitutions (prevents
       // infinite loops).
       const useArgument = (parser, text) => {
         parser.string = ParseUtil.addArgs(parser, text, parser.string.slice(parser.i));
         parser.i = 0;
         if (++parser.macroCount > parser.configuration.options.maxMacros) {
           throw new TexError('MaxMacroSub1',
           'MathJax maximum macro substitution count exceeded; ' +
           'is there a recursive macro call?');
         }
       }

       // Create the command map for:
       //     \ifstar, \ifnextchar, \ifblank, \ifstrequal, \seteqnumber
       new CommandMap('Lwarp-macros', {
         ifstar: 'IfstarFunction',
         ifnextchar: 'IfnextcharFunction',
         ifblank: 'IfblankFunction',
         ifstrequal: 'IfstrequalFunction',
         seteqnumber: 'SeteqnumberFunction'
       }, {
         // This function implements an ifstar macro.
         IfstarFunction(parser, name) {
            const resultstar = parser.GetArgument(name);
            const resultnostar = parser.GetArgument(name);
            const star = parser.GetStar();                 // true if there is a *
            useArgument(parser, star ? resultstar : resultnostar);
         },

         // This function implements an ifnextchar macro.
         IfnextcharFunction(parser, name) {
           let whichchar = parser.GetArgument(name);
           if (whichchar.match(/^(?:0x[0-9A-F]+|[0-9]+)$/i)) {
             // $ syntax highlighting
             whichchar = String.fromCodePoint(parseInt(whichchar));
           }
           const resultnextchar = parser.GetArgument(name);
           const resultnotnextchar = parser.GetArgument(name);
           const gotchar = (parser.GetNext() === whichchar);
           useArgument(parser, gotchar ? resultnextchar : resultnotnextchar);
         },

         // This function implements an ifblank macro.
         IfblankFunction(parser, name) {
           const blankarg = parser.GetArgument(name);
           const resultblank = parser.GetArgument(name);
           const resultnotblank = parser.GetArgument(name);
           const isblank = (blankarg.trim() == "");
           useArgument(parser, isblank ? resultblank : resultnotblank);
         },

         // This function implements an ifstrequal macro.
         IfstrequalFunction(parser, name) {
           const strequalfirst = parser.GetArgument(name);
           const strequalsecond = parser.GetArgument(name);
           const resultequal = parser.GetArgument(name);
           const resultnotequal = parser.GetArgument(name);
           const isequal = (strequalfirst == strequalsecond);
           useArgument(parser, isequal ? resultequal : resultnotequal);
         },

         // This function modifies the equation numbers.
         SeteqnumberFunction(parser, name) {
             // Get the macro parameters
             const star = parser.GetStar();                  // true if there is a *
             const optBrackets = parser.GetBrackets(name);   // contents of optional brackets
             const newsubequations = parser.GetArgument(name); // the subequations argument
             const neweqsection = parser.GetArgument(name); // the eq section argument
             const neweqnumber = parser.GetArgument(name);   // the eq number argument
             MathJax.config.subequations=newsubequations ;   // a string with boolean meaning
             MathJax.config.section=neweqsection ;           // a string with numeric meaning
             parser.tags.counter = parser.tags.allCounter = neweqnumber ;
         }

       });

       // Create the Lwarp-macros package
       Configuration.create('Lwarp-macros', {
         handler: {macro: ['Lwarp-macros']}
       });

       MathJax.startup.defaultReady();

       // For forward references:
       MathJax.startup.input[0].preFilters.add(({math}) => {
         if (math.inputData.recompile){
             MathJax.config.subequations = math.inputData.recompile.subequations;
             MathJax.config.section = math.inputData.recompile.section;
         }
       });
       MathJax.startup.input[0].postFilters.add(({math}) => {
         if (math.inputData.recompile){
             math.inputData.recompile.subequations = MathJax.config.subequations;
             math.inputData.recompile.section = MathJax.config.section;
         }
       });

         // For \left, \right with unicode-math:
         const {DelimiterMap} = MathJax._.input.tex.SymbolMap;
         const {Symbol} = MathJax._.input.tex.Symbol;
         const {MapHandler} = MathJax._.input.tex.MapHandler;
         const delimiter = MapHandler.getMap('delimiter');
         delimiter.add('\\lBrack', new Symbol('\\lBrack', '\u27E6'));
         delimiter.add('\\rBrack', new Symbol('\\rBrack', '\u27E7'));
         delimiter.add('\\lAngle', new Symbol('\\lAngle', '\u27EA'));
         delimiter.add('\\rAngle', new Symbol('\\rAngle', '\u27EB'));
         delimiter.add('\\lbrbrak', new Symbol('\\lbrbrak', '\u2772'));
         delimiter.add('\\rbrbrak', new Symbol('\\rbrbrak', '\u2773'));
         delimiter.add('\\lbag', new Symbol('\\lbag', '\u27C5'));
         delimiter.add('\\rbag', new Symbol('\\rbag', '\u27C6'));
         delimiter.add('\\llparenthesis', new Symbol('\\llparenthesis', '\u2987'));
         delimiter.add('\\rrparenthesis', new Symbol('\\rrparenthesis', '\u2988'));
         delimiter.add('\\llangle', new Symbol('\\llangle', '\u2989'));
         delimiter.add('\\rrangle', new Symbol('\\rrangle', '\u298A'));
         delimiter.add('\\Lbrbrak', new Symbol('\\Lbrbrak', '\u27EC'));
         delimiter.add('\\Rbrbrak', new Symbol('\\Rbrbrak', '\u27ED'));
         delimiter.add('\\lBrace', new Symbol('\\lBrace', '\u2983'));
         delimiter.add('\\rBrace', new Symbol('\\rBrace', '\u2984'));
         delimiter.add('\\lParen', new Symbol('\\lParen', '\u2985'));
         delimiter.add('\\rParen', new Symbol('\\rParen', '\u2986'));
         delimiter.add('\\lbrackubar', new Symbol('\\lbrackubar', '\u298B'));
         delimiter.add('\\rbrackubar', new Symbol('\\rbrackubar', '\u298C'));
         delimiter.add('\\lbrackultick', new Symbol('\\lbrackultick', '\u298D'));
         delimiter.add('\\rbracklrtick', new Symbol('\\rbracklrtick', '\u298E'));
         delimiter.add('\\lbracklltick', new Symbol('\\lbracklltick', '\u298F'));
         delimiter.add('\\rbrackurtick', new Symbol('\\rbrackurtick', '\u2990'));
         delimiter.add('\\langledot', new Symbol('\\langledot', '\u2991'));
         delimiter.add('\\rangledot', new Symbol('\\rangledot', '\u2992'));
         delimiter.add('\\lparenless', new Symbol('\\lparenless', '\u2993'));
         delimiter.add('\\rparengtr', new Symbol('\\rparengtr', '\u2994'));
         delimiter.add('\\Lparengtr', new Symbol('\\Lparengtr', '\u2995'));
         delimiter.add('\\Rparenless', new Symbol('\\Rparenless', '\u2996'));
         delimiter.add('\\lblkbrbrak', new Symbol('\\lblkbrbrak', '\u2997'));
         delimiter.add('\\rblkbrbrak', new Symbol('\\rblkbrbrak', '\u2998'));
         delimiter.add('\\lvzigzag', new Symbol('\\lvzigzag', '\u29D8'));
         delimiter.add('\\rvzigzag', new Symbol('\\rvzigzag', '\u29D9'));
         delimiter.add('\\Lvzigzag', new Symbol('\\Lvzigzag', '\u29DA'));
         delimiter.add('\\Rvzigzag', new Symbol('\\Rvzigzag', '\u29DB'));
         delimiter.add('\\lcurvyangle', new Symbol('\\lcurvyangle', '\u29FC'));
         delimiter.add('\\rcurvyangle', new Symbol('\\rcurvyangle', '\u29FD'));
         delimiter.add('\\Vvert', new Symbol('\\Vvert', '\u2980'));
   }     // ready
 },      // startup

 tex: {
   packages: {'[+]': ['tagformat', 'Lwarp-macros', 'textmacros']},
   tags: "ams",
        tagformat: {
            number: function (n) {
                if(MathJax.config.subequations==0)
                    return(MathJax.config.section + n);
                else
                    return(MathJax.config.section + String.fromCharCode(96+n));
            },
        },
 }
}
</script>

<script
    id="MathJax-script"
    src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"
></script>

<script
  src="pgfmanual.js">
</script>

</head>
<body>
<!--|Using lwarp|home.html|-->


<div class="bodywithoutsidetoc">


<main class="bodycontainer">


<section class="textbody">

<a id="pgfmanual-autofile-0"></a>

<!--MathJax customizations:-->


<div class="hidden">

\(\newcommand{\footnotename}{footnote}\)

\(\def \LWRfootnote {1}\)

\(\newcommand {\footnote }[2][\LWRfootnote ]{{}^{\mathrm {#1}}}\)

\(\newcommand {\footnotemark }[1][\LWRfootnote ]{{}^{\mathrm {#1}}}\)

\(\let \LWRorighspace \hspace \)

\(\renewcommand {\hspace }{\ifstar \LWRorighspace \LWRorighspace }\)

\(\newcommand {\mathnormal }[1]{{#1}}\)

\(\newcommand \ensuremath [1]{#1}\)

\(\newcommand {\LWRframebox }[2][]{\fbox {#2}} \newcommand {\framebox }[1][]{\LWRframebox } \)

\(\newcommand {\setlength }[2]{}\)

\(\newcommand {\addtolength }[2]{}\)

\(\newcommand {\setcounter }[2]{}\)

\(\newcommand {\addtocounter }[2]{}\)

\(\newcommand {\arabic }[1]{}\)

\(\newcommand {\number }[1]{}\)

\(\newcommand {\noalign }[1]{\text {#1}\notag \\}\)

\(\newcommand {\cline }[1]{}\)

\(\newcommand {\directlua }[1]{\text {(directlua)}}\)

\(\newcommand {\luatexdirectlua }[1]{\text {(directlua)}}\)

\(\newcommand {\protect }{}\)

\(\def \LWRabsorbnumber #1 {}\)

\(\def \LWRabsorbquotenumber &quot;#1 {}\)

\(\newcommand {\LWRabsorboption }[1][]{}\)

\(\newcommand {\LWRabsorbtwooptions }[1][]{\LWRabsorboption }\)

\(\def \mathchar {\ifnextchar &quot;\LWRabsorbquotenumber \LWRabsorbnumber }\)

\(\def \mathcode #1={\mathchar }\)

\(\let \delcode \mathcode \)

\(\let \delimiter \mathchar \)

\(\def \oe {\unicode {x0153}}\)

\(\def \OE {\unicode {x0152}}\)

\(\def \ae {\unicode {x00E6}}\)

\(\def \AE {\unicode {x00C6}}\)

\(\def \aa {\unicode {x00E5}}\)

\(\def \AA {\unicode {x00C5}}\)

\(\def \o {\unicode {x00F8}}\)

\(\def \O {\unicode {x00D8}}\)

\(\def \l {\unicode {x0142}}\)

\(\def \L {\unicode {x0141}}\)

\(\def \ss {\unicode {x00DF}}\)

\(\def \SS {\unicode {x1E9E}}\)

\(\def \dag {\unicode {x2020}}\)

\(\def \ddag {\unicode {x2021}}\)

\(\def \P {\unicode {x00B6}}\)

\(\def \copyright {\unicode {x00A9}}\)

\(\def \pounds {\unicode {x00A3}}\)

\(\let \LWRref \ref \)

\(\renewcommand {\ref }{\ifstar \LWRref \LWRref }\)

\( \newcommand {\multicolumn }[3]{#3}\)

\(\require {textcomp}\)

\( \newcommand {\meta }[1]{\langle \textit {#1}\rangle } \)

\(\newcommand {\intertext }[1]{\text {#1}\notag \\}\)

\(\let \Hat \hat \)

\(\let \Check \check \)

\(\let \Tilde \tilde \)

\(\let \Acute \acute \)

\(\let \Grave \grave \)

\(\let \Dot \dot \)

\(\let \Ddot \ddot \)

\(\let \Breve \breve \)

\(\let \Bar \bar \)

\(\let \Vec \vec \)

</div>

<a id="pgfmanual-autopage-1"></a>
<div class="titlepage">

<h1>The Ti<em>k</em>Z and PGF Packages<br />
Manual for version 3.1.9a</h1>



<div class="author">



<div class="oneauthor">

<p>
Till Tantau<sup>*</sup><a id="pgfmanual-autopage-2"></a><br />
Institut für Theoretische Informatik<br />
Universität zu Lübeck
</p>
</div>

</div>



<div class="titledate">

<p>
January 22, 2022
</p>
</div>

</div>
<div role="note" class="footnotes">

<a id="pgfmanual-autopage-3"></a>

<p>
<sup>*</sup>&nbsp;Editor of this documentation. Parts of this documentation have been written by other authors as indicated in these parts or chapters and in Section&nbsp;<a href="index-0.html#section-authors">1.5</a>.
</p>


</div>

<a id="table-of-contents"></a>
<h4 id="autosec-4">Contents</h4>
<a id="pgfmanual-autopage-4"></a>



<nav class="toc">

<p>
<a href="index-0.html#autosec-7" class="tocsection" >
<span class="sectionnumber">1</span>&#x2003;Introduction</a>
</p>


<p>
<a href="tutorials-guidelines.html#autosec-23" class="tocpart" >
<span class="sectionnumber">I</span>&#x2003;Tutorials and Guidelines</a>
</p>


<p>
<a href="tutorial.html#autosec-28" class="tocsection" >
<span class="sectionnumber">2</span>&#x2003;Tutorial: A Picture for Karl’s Students</a>
</p>


<p>
<a href="tutorial-nodes.html#autosec-165" class="tocsection" >
<span class="sectionnumber">3</span>&#x2003;Tutorial: A Petri-Net for Hagen</a>
</p>


<p>
<a href="tutorial-Euclid.html#autosec-248" class="tocsection" >
<span class="sectionnumber">4</span>&#x2003;Tutorial: Euclid’s Amber Version of the <em>Elements</em></a>
</p>
</nav>
</section>

</main>

</div>

</body>
</html>
<!--|Start file|index-0.html|-->

<!DOCTYPE html>
<html lang="en-US">
<head>
<meta charset="UTF-8" />
<meta name="generator" content="LaTeX Lwarp package" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<!--[if lt IE 9]>
<script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
<![endif]-->
<title>index — TikZ and PGF Manual</title>
<link rel="stylesheet" type="text/css" href="style.css" />

<script>
// Lwarp MathJax emulation code
//
// Based on code by Davide P. Cervone.
// Equation numbering: https://github.com/mathjax/MathJax/issues/2427
// Starred and ifnextchar macros: https://github.com/mathjax/MathJax/issues/2428
// \left, \right delimiters: https://github.com/mathjax/MathJax/issues/2535
//
// Modified by Brian Dunn to adjust equation numbering and add subequations.
//
// LaTeX can use \seteqnumber{subequations?}{section}{number} before each equation.
// subequations? is 0 usually, 1 if inside subequations.
// section is a string printed as-is, or empty.
// number is auto-incremented by MathJax between equations.
//
MathJax = {
  subequations: "0",
  section: "",
  loader: {
    load: ['[tex]/tagformat', '[tex]/textmacros'],
  },
  startup: {
    ready() {
      // These would be replaced by import commands if you wanted to make
      // a proper extension.
      const Configuration = MathJax._.input.tex.Configuration.Configuration;
      const CommandMap = MathJax._.input.tex.SymbolMap.CommandMap;
      const Macro = MathJax._.input.tex.Symbol.Macro;
      const TexError = MathJax._.input.tex.TexError.default;
      const ParseUtil = MathJax._.input.tex.ParseUtil.default;
      const expandable = MathJax._.util.Options.expandable;

       // Insert the replacement string into the TeX string, and check
       // that there haven't been too many maxro substitutions (prevents
       // infinite loops).
       const useArgument = (parser, text) => {
         parser.string = ParseUtil.addArgs(parser, text, parser.string.slice(parser.i));
         parser.i = 0;
         if (++parser.macroCount > parser.configuration.options.maxMacros) {
           throw new TexError('MaxMacroSub1',
           'MathJax maximum macro substitution count exceeded; ' +
           'is there a recursive macro call?');
         }
       }

       // Create the command map for:
       //     \ifstar, \ifnextchar, \ifblank, \ifstrequal, \seteqnumber
       new CommandMap('Lwarp-macros', {
         ifstar: 'IfstarFunction',
         ifnextchar: 'IfnextcharFunction',
         ifblank: 'IfblankFunction',
         ifstrequal: 'IfstrequalFunction',
         seteqnumber: 'SeteqnumberFunction'
       }, {
         // This function implements an ifstar macro.
         IfstarFunction(parser, name) {
            const resultstar = parser.GetArgument(name);
            const resultnostar = parser.GetArgument(name);
            const star = parser.GetStar();                 // true if there is a *
            useArgument(parser, star ? resultstar : resultnostar);
         },

          // This function implements an ifnextchar macro.
          IfnextcharFunction(parser, name) {
            let whichchar = parser.GetArgument(name);
            if (whichchar.match(/^(?:0x[0-9A-F]+|[0-9]+)$/i)) {
              // $ syntax highlighting
              whichchar = String.fromCodePoint(parseInt(whichchar));
            }
            const resultnextchar = parser.GetArgument(name);
            const resultnotnextchar = parser.GetArgument(name);
            const gotchar = (parser.GetNext() === whichchar);
            useArgument(parser, gotchar ? resultnextchar : resultnotnextchar);
          },

          // This function implements an ifblank macro.
          IfblankFunction(parser, name) {
            const blankarg = parser.GetArgument(name);
            const resultblank = parser.GetArgument(name);
            const resultnotblank = parser.GetArgument(name);
            const isblank = (blankarg.trim() == "");
            useArgument(parser, isblank ? resultblank : resultnotblank);
          },

          // This function implements an ifstrequal macro.
          IfstrequalFunction(parser, name) {
            const strequalfirst = parser.GetArgument(name);
            const strequalsecond = parser.GetArgument(name);
            const resultequal = parser.GetArgument(name);
            const resultnotequal = parser.GetArgument(name);
            const isequal = (strequalfirst == strequalsecond);
            useArgument(parser, isequal ? resultequal : resultnotequal);
          },

          // This function modifies the equation numbers.
          SeteqnumberFunction(parser, name) {
              // Get the macro parameters
              const star = parser.GetStar();                  // true if there is a *
              const optBrackets = parser.GetBrackets(name);   // contents of optional brackets
              const newsubequations = parser.GetArgument(name); // the subequations argument
              const neweqsection = parser.GetArgument(name); // the eq section argument
              const neweqnumber = parser.GetArgument(name);   // the eq number argument
              MathJax.config.subequations=newsubequations ;   // a string with boolean meaning
              MathJax.config.section=neweqsection ;           // a string with numeric meaning
              parser.tags.counter = parser.tags.allCounter = neweqnumber ;
          }

       });

       // Create the Lwarp-macros package
       Configuration.create('Lwarp-macros', {
         handler: {macro: ['Lwarp-macros']}
       });

       MathJax.startup.defaultReady();

       // For forward references:
       MathJax.startup.input[0].preFilters.add(({math}) => {
         if (math.inputData.recompile){
             MathJax.config.subequations = math.inputData.recompile.subequations;
             MathJax.config.section = math.inputData.recompile.section;
         }
       });
       MathJax.startup.input[0].postFilters.add(({math}) => {
         if (math.inputData.recompile){
             math.inputData.recompile.subequations = MathJax.config.subequations;
             math.inputData.recompile.section = MathJax.config.section;
         }
       });

         // For \left, \right with unicode-math:
         const {DelimiterMap} = MathJax._.input.tex.SymbolMap;
         const {Symbol} = MathJax._.input.tex.Symbol;
         const {MapHandler} = MathJax._.input.tex.MapHandler;
         const delimiter = MapHandler.getMap('delimiter');
         delimiter.add('\\lBrack', new Symbol('\\lBrack', '\u27E6'));
         delimiter.add('\\rBrack', new Symbol('\\rBrack', '\u27E7'));
         delimiter.add('\\lAngle', new Symbol('\\lAngle', '\u27EA'));
         delimiter.add('\\rAngle', new Symbol('\\rAngle', '\u27EB'));
         delimiter.add('\\lbrbrak', new Symbol('\\lbrbrak', '\u2772'));
         delimiter.add('\\rbrbrak', new Symbol('\\rbrbrak', '\u2773'));
         delimiter.add('\\lbag', new Symbol('\\lbag', '\u27C5'));
         delimiter.add('\\rbag', new Symbol('\\rbag', '\u27C6'));
         delimiter.add('\\llparenthesis', new Symbol('\\llparenthesis', '\u2987'));
         delimiter.add('\\rrparenthesis', new Symbol('\\rrparenthesis', '\u2988'));
         delimiter.add('\\llangle', new Symbol('\\llangle', '\u2989'));
         delimiter.add('\\rrangle', new Symbol('\\rrangle', '\u298A'));
         delimiter.add('\\Lbrbrak', new Symbol('\\Lbrbrak', '\u27EC'));
         delimiter.add('\\Rbrbrak', new Symbol('\\Rbrbrak', '\u27ED'));
         delimiter.add('\\lBrace', new Symbol('\\lBrace', '\u2983'));
         delimiter.add('\\rBrace', new Symbol('\\rBrace', '\u2984'));
         delimiter.add('\\lParen', new Symbol('\\lParen', '\u2985'));
         delimiter.add('\\rParen', new Symbol('\\rParen', '\u2986'));
         delimiter.add('\\lbrackubar', new Symbol('\\lbrackubar', '\u298B'));
         delimiter.add('\\rbrackubar', new Symbol('\\rbrackubar', '\u298C'));
         delimiter.add('\\lbrackultick', new Symbol('\\lbrackultick', '\u298D'));
         delimiter.add('\\rbracklrtick', new Symbol('\\rbracklrtick', '\u298E'));
         delimiter.add('\\lbracklltick', new Symbol('\\lbracklltick', '\u298F'));
         delimiter.add('\\rbrackurtick', new Symbol('\\rbrackurtick', '\u2990'));
         delimiter.add('\\langledot', new Symbol('\\langledot', '\u2991'));
         delimiter.add('\\rangledot', new Symbol('\\rangledot', '\u2992'));
         delimiter.add('\\lparenless', new Symbol('\\lparenless', '\u2993'));
         delimiter.add('\\rparengtr', new Symbol('\\rparengtr', '\u2994'));
         delimiter.add('\\Lparengtr', new Symbol('\\Lparengtr', '\u2995'));
         delimiter.add('\\Rparenless', new Symbol('\\Rparenless', '\u2996'));
         delimiter.add('\\lblkbrbrak', new Symbol('\\lblkbrbrak', '\u2997'));
         delimiter.add('\\rblkbrbrak', new Symbol('\\rblkbrbrak', '\u2998'));
         delimiter.add('\\lvzigzag', new Symbol('\\lvzigzag', '\u29D8'));
         delimiter.add('\\rvzigzag', new Symbol('\\rvzigzag', '\u29D9'));
         delimiter.add('\\Lvzigzag', new Symbol('\\Lvzigzag', '\u29DA'));
         delimiter.add('\\Rvzigzag', new Symbol('\\Rvzigzag', '\u29DB'));
         delimiter.add('\\lcurvyangle', new Symbol('\\lcurvyangle', '\u29FC'));
         delimiter.add('\\rcurvyangle', new Symbol('\\rcurvyangle', '\u29FD'));
         delimiter.add('\\Vvert', new Symbol('\\Vvert', '\u2980'));
   }     // ready
 },      // startup

 tex: {
   packages: {'[+]': ['tagformat', 'Lwarp-macros', 'textmacros']},
   tags: "ams",
        tagformat: {
            number: function (n) {
                if(MathJax.config.subequations==0)
                    return(MathJax.config.section + n);
                else
                    return(MathJax.config.section + String.fromCharCode(96+n));
            },
        },
 }
}
</script>

<script
    id="MathJax-script"
    src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"
></script>

<script
  src="pgfmanual.js">
</script>

</head>
<body>


<a id="pgfmanual-autopage-6"></a>
<nav class="topnavigation"><a href="home.html" class="linkhome" >
Home</a></nav>


<div class="bodyandsidetoc">
<div class="sidetoccontainer">


<nav class="sidetoc">


<div class="sidetoctitle">

<p>
<span class="sidetocthetitle">The Ti<em>k</em>Z and PGF Packages<br />
Manual for version 3.1.9a</span>
</p>

<p>
Contents
</p>
</div>


<div class="sidetoccontents">

<p>
<a href="home.html" class="linkhome" >
Home</a>
</p>

<p>
<a href="index-0.html#autosec-7" class="tocsection" >
<span class="sectionnumber">1</span>&#x2003;Introduction</a>
</p>


<p>
<a href="tutorials-guidelines.html#autosec-23" class="tocpart" >
<span class="sectionnumber">I</span>&#x2003;Tutorials and Guidelines</a>
</p>


<p>
<a href="tutorial.html#autosec-28" class="tocsection" >
<span class="sectionnumber">2</span>&#x2003;Tutorial: A Picture for Karl’s Students</a>
</p>


<p>
<a href="tutorial-nodes.html#autosec-165" class="tocsection" >
<span class="sectionnumber">3</span>&#x2003;Tutorial: A Petri-Net for Hagen</a>
</p>


<p>
<a href="tutorial-Euclid.html#autosec-248" class="tocsection" >
<span class="sectionnumber">4</span>&#x2003;Tutorial: Euclid’s Amber Version of the <em>Elements</em></a>
</p>


</div>

</nav>

</div>


<main class="bodycontainer">


<section class="textbody">

<h1>The Ti<em>k</em>Z and PGF Packages<br />
Manual for version 3.1.9a</h1>

<!--MathJax customizations:-->



<div class="hidden">

\(\newcommand{\footnotename}{footnote}\)

\(\def \LWRfootnote {1}\)

\(\newcommand {\footnote }[2][\LWRfootnote ]{{}^{\mathrm {#1}}}\)

\(\newcommand {\footnotemark }[1][\LWRfootnote ]{{}^{\mathrm {#1}}}\)

\(\let \LWRorighspace \hspace \)

\(\renewcommand {\hspace }{\ifstar \LWRorighspace \LWRorighspace }\)

\(\newcommand {\mathnormal }[1]{{#1}}\)

\(\newcommand \ensuremath [1]{#1}\)

\(\newcommand {\LWRframebox }[2][]{\fbox {#2}} \newcommand {\framebox }[1][]{\LWRframebox } \)

\(\newcommand {\setlength }[2]{}\)

\(\newcommand {\addtolength }[2]{}\)

\(\newcommand {\setcounter }[2]{}\)

\(\newcommand {\addtocounter }[2]{}\)

\(\newcommand {\arabic }[1]{}\)

\(\newcommand {\number }[1]{}\)

\(\newcommand {\noalign }[1]{\text {#1}\notag \\}\)

\(\newcommand {\cline }[1]{}\)

\(\newcommand {\directlua }[1]{\text {(directlua)}}\)

\(\newcommand {\luatexdirectlua }[1]{\text {(directlua)}}\)

\(\newcommand {\protect }{}\)

\(\def \LWRabsorbnumber #1 {}\)

\(\def \LWRabsorbquotenumber &quot;#1 {}\)

\(\newcommand {\LWRabsorboption }[1][]{}\)

\(\newcommand {\LWRabsorbtwooptions }[1][]{\LWRabsorboption }\)

\(\def \mathchar {\ifnextchar &quot;\LWRabsorbquotenumber \LWRabsorbnumber }\)

\(\def \mathcode #1={\mathchar }\)

\(\let \delcode \mathcode \)

\(\let \delimiter \mathchar \)

\(\def \oe {\unicode {x0153}}\)

\(\def \OE {\unicode {x0152}}\)

\(\def \ae {\unicode {x00E6}}\)

\(\def \AE {\unicode {x00C6}}\)

\(\def \aa {\unicode {x00E5}}\)

\(\def \AA {\unicode {x00C5}}\)

\(\def \o {\unicode {x00F8}}\)

\(\def \O {\unicode {x00D8}}\)

\(\def \l {\unicode {x0142}}\)

\(\def \L {\unicode {x0141}}\)

\(\def \ss {\unicode {x00DF}}\)

\(\def \SS {\unicode {x1E9E}}\)

\(\def \dag {\unicode {x2020}}\)

\(\def \ddag {\unicode {x2021}}\)

\(\def \P {\unicode {x00B6}}\)

\(\def \copyright {\unicode {x00A9}}\)

\(\def \pounds {\unicode {x00A3}}\)

\(\let \LWRref \ref \)

\(\renewcommand {\ref }{\ifstar \LWRref \LWRref }\)

\( \newcommand {\multicolumn }[3]{#3}\)

\(\require {textcomp}\)

\( \newcommand {\meta }[1]{\langle \textit {#1}\rangle } \)

\(\newcommand {\intertext }[1]{\text {#1}\notag \\}\)

\(\let \Hat \hat \)

\(\let \Check \check \)

\(\let \Tilde \tilde \)

\(\let \Acute \acute \)

\(\let \Grave \grave \)

\(\let \Dot \dot \)

\(\let \Ddot \ddot \)

\(\let \Breve \breve \)

\(\let \Bar \bar \)

\(\let \Vec \vec \)

</div>

<p>
<h4 id="autosec-7"><span class="sectionnumber">1&#x2003;</span>Introduction</h4>
<a id="pgfmanual-autopage-7"></a>
<a id="pgfmanual-autofile-1"></a>



<div class="manual-title-block">
<div class="manual-title">The Ti<em>k</em>Z and PGF Packages</div>



<div class="manual-version">Manual for version 3.1.9a</div>



<div class="manual-author">Till Tantau</div>



<div class="manual-authorship-explanation">Editor of this documentation. Parts of this documentation have been written by other authors as indicated in these parts or chapters and in Section&nbsp;<a
href="index-0.html#section-authors">1.5</a>.</div>



<div class="manual-html-explanation"> This HTML version of the documentation is maintained by Dominik Peters, and is produced using the <kbd>lwarp</kbd> package.</div>

<p>
</div>



<div class="titlepagepic">

<span
      id="lateximage-pgfmanual-1"
      class="lateximagesource"
><!--
T i k
Tik Z Z       &
              &         P
                        PG F
                          GF
    Manual for Version 3.1.9a
    Manual for Version 3.1.9a
--> <img
      src="pgfmanual-images/image-1.svg"
      alt="(-tikz-&nbsp;diagram)"
      style=""
      class="lateximage"
></span> </div>



<div class="dedication">
<div class="dedicationtext">Für meinen Vater, damit er noch viele schöne <span class="latexlogofont"><span class="latexlogo">T<span class="latexlogosub">e</span>X</span></span>-Graphiken erschaffen kann.</div>



<div class="dedicationsignature"><em>Till</em></div>

<p>
</div>

<p>
Welcome to the documentation of Ti<em>k</em>Z and the underlying <span class="textsc">pgf</span> system. What began as a small <span class="latexlogofont"><span class="latexlogo">L<span class="latexlogosup">a</span>T<span
class="latexlogosub">e</span>X</span></span> style for creating the graphics in my (Till Tantau’s) PhD thesis directly with pdf<span class="latexlogofont"><span class="latexlogo">L<span class="latexlogosup">a</span>T<span
class="latexlogosub">e</span>X</span></span> has now grown to become a full-blown graphics language with a manual of over a thousand pages. The wealth of options offered by Ti<em>k</em>Z is often daunting to beginners; but
fortunately this documentation comes with a number of slowly-paced tutorials that will teach you almost all you should know about Ti<em>k</em>Z without your having to read the rest.
</p>

<p>
I wish to start with the questions “What is Ti<em>k</em>Z?” Basically, it just defines a number of <span class="latexlogofont"><span class="latexlogo">T<span class="latexlogosub">e</span>X</span></span> commands that draw graphics.
For example, the code <span class="texttt">\tikz \draw (0pt,0pt) -- (20pt,6pt);</span> yields the line <span
      id="lateximage-pgfmanual-2"
      class="lateximagesource"
><!--
--> <img
   src="pgfmanual-images/image-2.svg"
   alt="(-tikz-&nbsp;diagram)"
   style=""
   class="lateximage"
></span> and the code <span class="texttt">\tikz \fill[orange] (1ex,1ex) circle (1ex);</span> yields <span
   id="lateximage-pgfmanual-3"
   class="lateximagesource"
><!--
--> <img
      src="pgfmanual-images/image-3.svg"
      alt="(-tikz-&nbsp;diagram)"
      style=""
      class="lateximage"
></span>. In a sense, when you use Ti<em>k</em>Z you “program” your graphics, just as you “program” your document when you use <span class="latexlogofont"><span class="latexlogo">T<span
class="latexlogosub">e</span>X</span></span>. This also explains the name: Ti<em>k</em>Z is a recursive acronym in the tradition of “<span class="textsc">gnu</span>’s Not Unix” and means “Ti<em>k</em>Z ist <em>kein</em>
Zeichenprogramm”, which translates to “Ti<em>k</em>Z is not a drawing program”, cautioning the reader as to what to expect. With Ti<em>k</em>Z you get all the advantages of the “<span class="latexlogofont"><span
class="latexlogo">T<span class="latexlogosub">e</span>X</span></span>-approach to typesetting” for your graphics: quick creation of simple graphics, precise positioning, the use of macros, often superior typography. You also inherit all
the disadvantages: steep learning curve, no <span class="textsc">wysiwyg</span>, small changes require a long recompilation time, and the code does not really “show” how things will look like.
</p>

<p>
Now that we know what Ti<em>k</em>Z is, what about “<span class="textsc">pgf</span>”? As mentioned earlier, Ti<em>k</em>Z started out as a project to implement <span class="latexlogofont"><span class="latexlogo">T<span
class="latexlogosub">e</span>X</span></span> graphics macros that can be used both with pdf<span class="latexlogofont"><span class="latexlogo">L<span class="latexlogosup">a</span>T<span class="latexlogosub">e</span>X</span></span>
and also with the classical (PostScript-based) <span class="latexlogofont"><span class="latexlogo">L<span class="latexlogosup">a</span>T<span class="latexlogosub">e</span>X</span></span>. In other words, I wanted to implement a
“portable graphics format” for <span class="latexlogofont"><span class="latexlogo">T<span class="latexlogosub">e</span>X</span></span> – hence the name <span class="textsc">pgf</span>. These early macros are still around and they
form the “basic layer” of the system described in this manual, but most of the interaction an author has theses days is with Ti<em>k</em>Z – which has become a whole language of its own.
</p>
<h5 id="autosec-14"><span class="sectionnumber">1.1&#x2003;</span>The Layers Below Ti<em>k</em>Z</h5>
<a id="pgfmanual-autopage-14"></a>


<p>
It turns out that there are actually <em>two</em> layers below Ti<em>k</em>Z:
</p>
<dl>


<dt>System layer:</dt>
<dd>
<p>
This layer provides a complete abstraction of what is going on “in the driver”. The driver is a program like <span class="texttt">dvips</span> or <span class="texttt">dvipdfm</span> that takes a <span class="texttt">.dvi</span> file as input
and generates a <span class="texttt">.ps</span> or a <span class="texttt">.pdf</span> file. (The <span class="texttt">pdftex</span> program also counts as a driver, even though it does not take a <span class="texttt">.dvi</span> file as
input. Never mind.) Each driver has its own syntax for the generation of graphics, causing headaches to everyone who wants to create graphics in a portable way. <span class="textsc">pgf</span>’s system layer “abstracts away” these
differences. For example, the system command <span class="texttt">\pgfsys@lineto{10pt}{10pt}</span> extends the current path to the coordinate (10pt, 10pt) of the current <span class="texttt">{pgfpicture}</span>. Depending on
whether <span class="texttt">dvips</span>, <span class="texttt">dvipdfm</span>, or <span class="texttt">pdftex</span> is used to process the document, the system command will be converted to different <span
class="texttt">\special</span> commands. The system layer is as “minimalistic” as possible since each additional command makes it more work to port <span class="textsc">pgf</span> to a new driver.
</p>
<p>
As a user, you will not use the system layer directly.
</p>


</dd>
<dt>Basic layer:</dt>
<dd>
<p>
The basic layer provides a set of basic commands that allow you to produce complex graphics in a much easier manner than by using the system layer directly. For example, the system layer provides no commands for creating circles
since circles can be composed from the more basic Bézier curves (well, almost). However, as a user you will want to have a simple command to create circles (at least I do) instead of having to write down half a page of Bézier curve
support coordinates. Thus, the basic layer provides a command <span class="texttt">\pgfpathcircle</span> that generates the necessary curve coordinates for you.
</p>
<p>
The basic layer consists of a <em>core</em>, which consists of several interdependent packages that can only be loaded <em>en bloc</em>, and additional <em>modules</em> that extend the core by more special-purpose commands like node
management or a plotting interface. For instance, the <span class="textsc">beamer</span> package uses only the core and not, say, the <span class="texttt">shapes</span> modules.
</p>
</dd>
</dl>

<p>
In theory, Ti<em>k</em>Z itself is just one of several possible “frontends”. which are sets of commands or a special syntax that makes using the basic layer easier. A problem with directly using the basic layer is that code written for this
layer is often too “verbose”. For example, to draw a simple triangle, you may need as many as five commands when using the basic layer: One for beginning a path at the first corner of the triangle, one for extending the path to the
second corner, one for going to the third, one for closing the path, and one for actually painting the triangle (as opposed to filling it). With the Ti<em>k</em>Z frontend all this boils down to a single simple <span
class="textsc">metafont</span>-like command:
</p>
<pre class="verbatim">
\draw (0,0) -- (1,0) -- (1,1) -- cycle;

</pre>

<p>
In practice, Ti<em>k</em>Z is the only “serious” frontend for <span class="textsc">pgf</span>. It gives you access to all features of <span class="textsc">pgf</span>, but it is intended to be easy to use. The syntax is a mixture of <span
class="textsc">metafont</span> and <span class="textsc">pstricks</span> and some ideas of myself. There are other frontends besides Ti<em>k</em>Z, but they are intended more as “technology studies” and less as serious alternatives to
Ti<em>k</em>Z. In particular, the <span class="texttt">pgfpict2e</span> frontend reimplements the standard <span class="latexlogofont"><span class="latexlogo">L<span class="latexlogosup">a</span>T<span
class="latexlogosub">e</span>X</span></span> <span class="texttt">{picture}</span> environment and commands like <span class="texttt">\line</span> or <span class="texttt">\vector</span> using the <span class="textsc">pgf</span> basic
layer. This layer is not really “necessary” since the <span class="texttt">pict2e.sty</span> package does at least as good a job at reimplementing the <span class="texttt">{picture}</span> environment. Rather, the idea behind this
package is to have a simple demonstration of how a frontend can be implemented.
</p>

<p>
Since most users will only use Ti<em>k</em>Z and almost no one will use the system layer directly, this manual is mainly about Ti<em>k</em>Z in the first parts; the basic layer and the system layer are explained at the end.
</p>
<h5 id="autosec-16"><span class="sectionnumber">1.2&#x2003;</span>Comparison with Other Graphics Packages</h5>
<a id="pgfmanual-autopage-16"></a>


<p>
Ti<em>k</em>Z is not the only graphics package for <span class="latexlogofont"><span class="latexlogo">T<span class="latexlogosub">e</span>X</span></span>. In the following, I try to give a reasonably fair comparison of Ti<em>k</em>Z and
other packages.
</p>
<ul style="list-style-type:none">


<li>
<p>
1. The standard <span class="latexlogofont"><span class="latexlogo">L<span class="latexlogosup">a</span>T<span class="latexlogosub">e</span>X</span></span> <span class="texttt">{picture}</span> environment allows you to create simple
graphics, but little more. This is certainly not due to a lack of knowledge or imagination on the part of <span class="latexlogofont"><span class="latexlogo">L<span class="latexlogosup">a</span>T<span
class="latexlogosub">e</span>X</span></span>’s designer(s). Rather, this is the price paid for the <span class="texttt">{picture}</span> environment’s portability: It works together with all backend drivers.
</p>


</li>
<li>
<p>
2. The <span class="texttt">pstricks</span> package is certainly powerful enough to create any conceivable kind of graphic, but it is not really portable. Most importantly, it does not work with <span class="texttt">pdftex</span> nor
with any other driver that produces anything but PostScript code.
</p>
<p>
Compared to Ti<em>k</em>Z, <span class="texttt">pstricks</span> has a similar support base. There are many nice extra packages for special purpose situations that have been contributed by users over the last decade. The Ti<em>k</em>Z
syntax is more consistent than the <span class="texttt">pstricks</span> syntax as Ti<em>k</em>Z was developed “in a more centralized manner” and also “with the shortcomings on <span class="texttt">pstricks</span> in mind”.
</p>


</li>
<li>
<p>
3. The <span class="texttt">xypic</span> package is an older package for creating graphics. However, it is more difficult to use and to learn because the syntax and the documentation are a bit cryptic.
</p>


</li>
<li>
<p>
4. The <span class="texttt">dratex</span> package is a small graphic package for creating a graphics. Compared to the other package, including Ti<em>k</em>Z, it is very small, which may or may not be an advantage.
</p>


</li>
<li>
<p>
5. The <span class="texttt">metapost</span> program is a powerful alternative to Ti<em>k</em>Z. It used to be an external program, which entailed a bunch of problems, but in Lua<span class="latexlogofont"><span class="latexlogo">T<span
class="latexlogosub">e</span>X</span></span> it is now built in. An obstacle with <span class="texttt">metapost</span> is the inclusion of labels. This is <em>much</em> easier to achieve using <span class="textsc">pgf</span>.
</p>


</li>
<li>
<p>
6. The <span class="texttt">xfig</span> program is an important alternative to Ti<em>k</em>Z for users who do not wish to “program” their graphics as is necessary with Ti<em>k</em>Z and the other packages above. There is a conversion
program that will convert <span class="texttt">xfig</span> graphics to Ti<em>k</em>Z.
</p>
</li>
</ul>
<h5 id="autosec-17"><span class="sectionnumber">1.3&#x2003;</span>Utility Packages</h5>
<a id="pgfmanual-autopage-17"></a>


<p>
The <span class="textsc">pgf</span> package comes along with a number of utility package that are not really about creating graphics and which can be used independently of <span class="textsc">pgf</span>. However, they are bundled
with <span class="textsc">pgf</span>, partly out of convenience, partly because their functionality is closely intertwined with <span class="textsc">pgf</span>. These utility packages are:
</p>
<ul style="list-style-type:none">


<li>
<p>
1. The <span class="texttt">pgfkeys</span> package defines a powerful key management facility. It can be used completely independently of <span class="textsc">pgf</span>.
</p>


</li>
<li>
<p>
2. The <span class="texttt">pgffor</span> package defines a useful <span class="texttt">\foreach</span> statement.
</p>


</li>
<li>
<p>
3. The <span class="texttt">pgfcalendar</span> package defines macros for creating calendars. Typically, these calendars will be rendered using <span class="textsc">pgf</span>’s graphic engine, but you can use <span
class="texttt">pgfcalendar</span> also typeset calendars using normal text. The package also defines commands for “working” with dates.
</p>


</li>
<li>
<p>
4. The <span class="texttt">pgfpages</span> package is used to assemble several pages into a single page. It provides commands for assembling several “virtual pages” into a single “physical page”. The idea is that whenever <span
class="latexlogofont"><span class="latexlogo">T<span class="latexlogosub">e</span>X</span></span> has a page ready for “shipout”, <span class="texttt">pgfpages</span> interrupts this shipout and instead stores the page to be shipped out
in a special box. When enough “virtual pages” have been accumulated in this way, they are scaled down and arranged on a “physical page”, which then <em>really</em> shipped out. This mechanism allows you to create “two page on one
page” versions of a document directly inside <span class="latexlogofont"><span class="latexlogo">L<span class="latexlogosup">a</span>T<span class="latexlogosub">e</span>X</span></span> without the use of any external programs.
However, <span class="texttt">pgfpages</span> can do quite a lot more than that. You can use it to put logos and watermark on pages, print up to 16 pages on one page, add borders to pages, and more.
</p>
</li>
</ul>
<h5 id="autosec-18"><span class="sectionnumber">1.4&#x2003;</span>How to Read This Manual</h5>
<a id="pgfmanual-autopage-18"></a>


<p>
This manual describes both the design of Ti<em>k</em>Z and its usage. The organization is very roughly according to “user-friendliness”. The commands and subpackages that are easiest and most frequently used are described first,
more low-level and esoteric features are discussed later.
</p>

<p>
If you have not yet installed Ti<em>k</em>Z, please read the installation first. Second, it might be a good idea to read the tutorial. Finally, you might wish to skim through the description of Ti<em>k</em>Z. Typically, you will not need to
read the sections on the basic layer. You will only need to read the part on the system layer if you intend to write your own frontend or if you wish to port <span class="textsc">pgf</span> to a new driver.
</p>

<p>
The “public” commands and environments provided by the system are described throughout the text. In each such description, the described command, environment or option is printed in red. Text shown in green is optional and can
be left out.
</p>
<h5 id="autosec-19"><span class="sectionnumber">1.5&#x2003;</span>Authors and Acknowledgements</h5>
<a id="pgfmanual-autopage-19"></a>


<a id="section-authors"></a>

<p>
The bulk of the <span class="textsc">pgf</span> system and its documentation was written by Till Tantau. A further member of the main team is Mark Wibrow, who is responsible, for example, for the <span class="textsc">pgf</span>
mathematical engine, many shapes, the decoration engine, and matrices. The third member is Christian Feuersänger who contributed the floating point library, image externalization, extended key processing, and automatic hyperlinks
in the manual.
</p>

<p>
Furthermore, occasional contributions have been made by Christophe Jorssen, Jin-Hwan Cho, Olivier Binda, Matthias Schulz, Renée Ahrens, Stephan Schuster, and Thomas Neumann.
</p>

<p>
Additionally, numerous people have contributed to the <span class="textsc">pgf</span> system by writing emails, spotting bugs, or sending libraries and patches. Many thanks to all these people, who are too numerous to name them all!
</p>
<h5 id="autosec-20"><span class="sectionnumber">1.6&#x2003;</span>Getting Help</h5>
<a id="pgfmanual-autopage-20"></a>


<p>
When you need help with <span class="textsc">pgf</span> and Ti<em>k</em>Z, please do the following:
</p>

<ul style="list-style-type:none">


<li>
<p>
1. Read the manual, at least the part that has to do with your problem.
</p>


</li>
<li>
<p>
2. If that does not solve the problem, try having a look at the GitHub development page for <span class="textsc">pgf</span> and Ti<em>k</em>Z (see the title of this document). Perhaps someone has already reported a similar problem
and someone has found a solution.
</p>


</li>
<li>
<p>
3. On the website you will find numerous forums for getting help. There, you can write to help forums, file bug reports, join mailing lists, and so on.
</p>


</li>
<li>
<p>
4. Before you file a bug report, especially a bug report concerning the installation, make sure that this is really a bug. In particular, have a look at the <span class="texttt">.log</span> file that results when you <span
class="latexlogofont"><span class="latexlogo">T<span class="latexlogosub">e</span>X</span></span> your files. This <span class="texttt">.log</span> file should show that all the right files are loaded from the right directories. Nearly all
installation problems can be resolved by looking at the <span class="texttt">.log</span> file.
</p>


</li>
<li>
<p>
5. <em>As a last resort</em> you can try to email me (Till Tantau) or, if the problem concerns the mathematical engine, Mark Wibrow. I do not mind getting emails, I simply get way too many of them. Because of this, I cannot
guarantee that your emails will be answered in a timely fashion or even at all. Your chances that your problem will be fixed are somewhat higher if you mail to the <span class="textsc">pgf</span> mailing list (naturally, I read this list
and answer questions when I have the time).
</p>
</li>
</ul>
</section>

</main>

</div>



<nav class="botnavigation"><a href="home.html" class="linkhome" >
Home</a></nav>

</body>
</html>
<!--|Start file|tutorials-guidelines.html|-->

<!DOCTYPE html>
<html lang="en-US">
<head>
<meta charset="UTF-8" />
<meta name="generator" content="LaTeX Lwarp package" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<!--[if lt IE 9]>
<script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
<![endif]-->
<title>tutorials-guidelines — TikZ and PGF Manual</title>
<link rel="stylesheet" type="text/css" href="style.css" />

<script>
// Lwarp MathJax emulation code
//
// Based on code by Davide P. Cervone.
// Equation numbering: https://github.com/mathjax/MathJax/issues/2427
// Starred and ifnextchar macros: https://github.com/mathjax/MathJax/issues/2428
// \left, \right delimiters: https://github.com/mathjax/MathJax/issues/2535
//
// Modified by Brian Dunn to adjust equation numbering and add subequations.
//
// LaTeX can use \seteqnumber{subequations?}{section}{number} before each equation.
// subequations? is 0 usually, 1 if inside subequations.
// section is a string printed as-is, or empty.
// number is auto-incremented by MathJax between equations.
//
MathJax = {
  subequations: "0",
  section: "",
  loader: {
    load: ['[tex]/tagformat', '[tex]/textmacros'],
  },
  startup: {
    ready() {
      // These would be replaced by import commands if you wanted to make
      // a proper extension.
      const Configuration = MathJax._.input.tex.Configuration.Configuration;
      const CommandMap = MathJax._.input.tex.SymbolMap.CommandMap;
      const Macro = MathJax._.input.tex.Symbol.Macro;
      const TexError = MathJax._.input.tex.TexError.default;
      const ParseUtil = MathJax._.input.tex.ParseUtil.default;
      const expandable = MathJax._.util.Options.expandable;

       // Insert the replacement string into the TeX string, and check
       // that there haven't been too many maxro substitutions (prevents
       // infinite loops).
       const useArgument = (parser, text) => {
         parser.string = ParseUtil.addArgs(parser, text, parser.string.slice(parser.i));
         parser.i = 0;
         if (++parser.macroCount > parser.configuration.options.maxMacros) {
           throw new TexError('MaxMacroSub1',
           'MathJax maximum macro substitution count exceeded; ' +
           'is there a recursive macro call?');
         }
       }

       // Create the command map for:
       //     \ifstar, \ifnextchar, \ifblank, \ifstrequal, \seteqnumber
       new CommandMap('Lwarp-macros', {
         ifstar: 'IfstarFunction',
         ifnextchar: 'IfnextcharFunction',
         ifblank: 'IfblankFunction',
         ifstrequal: 'IfstrequalFunction',
         seteqnumber: 'SeteqnumberFunction'
       }, {
         // This function implements an ifstar macro.
         IfstarFunction(parser, name) {
            const resultstar = parser.GetArgument(name);
            const resultnostar = parser.GetArgument(name);
            const star = parser.GetStar();                 // true if there is a *
            useArgument(parser, star ? resultstar : resultnostar);
         },

          // This function implements an ifnextchar macro.
          IfnextcharFunction(parser, name) {
            let whichchar = parser.GetArgument(name);
            if (whichchar.match(/^(?:0x[0-9A-F]+|[0-9]+)$/i)) {
              // $ syntax highlighting
              whichchar = String.fromCodePoint(parseInt(whichchar));
            }
            const resultnextchar = parser.GetArgument(name);
            const resultnotnextchar = parser.GetArgument(name);
            const gotchar = (parser.GetNext() === whichchar);
            useArgument(parser, gotchar ? resultnextchar : resultnotnextchar);
          },

          // This function implements an ifblank macro.
          IfblankFunction(parser, name) {
            const blankarg = parser.GetArgument(name);
            const resultblank = parser.GetArgument(name);
            const resultnotblank = parser.GetArgument(name);
            const isblank = (blankarg.trim() == "");
            useArgument(parser, isblank ? resultblank : resultnotblank);
          },

          // This function implements an ifstrequal macro.
          IfstrequalFunction(parser, name) {
            const strequalfirst = parser.GetArgument(name);
            const strequalsecond = parser.GetArgument(name);
            const resultequal = parser.GetArgument(name);
            const resultnotequal = parser.GetArgument(name);
            const isequal = (strequalfirst == strequalsecond);
            useArgument(parser, isequal ? resultequal : resultnotequal);
          },

          // This function modifies the equation numbers.
          SeteqnumberFunction(parser, name) {
              // Get the macro parameters
              const star = parser.GetStar();                  // true if there is a *
              const optBrackets = parser.GetBrackets(name);   // contents of optional brackets
              const newsubequations = parser.GetArgument(name); // the subequations argument
              const neweqsection = parser.GetArgument(name); // the eq section argument
              const neweqnumber = parser.GetArgument(name);   // the eq number argument
              MathJax.config.subequations=newsubequations ;   // a string with boolean meaning
              MathJax.config.section=neweqsection ;           // a string with numeric meaning
              parser.tags.counter = parser.tags.allCounter = neweqnumber ;
          }

       });

       // Create the Lwarp-macros package
       Configuration.create('Lwarp-macros', {
         handler: {macro: ['Lwarp-macros']}
       });

       MathJax.startup.defaultReady();

       // For forward references:
       MathJax.startup.input[0].preFilters.add(({math}) => {
         if (math.inputData.recompile){
             MathJax.config.subequations = math.inputData.recompile.subequations;
             MathJax.config.section = math.inputData.recompile.section;
         }
       });
       MathJax.startup.input[0].postFilters.add(({math}) => {
         if (math.inputData.recompile){
             math.inputData.recompile.subequations = MathJax.config.subequations;
             math.inputData.recompile.section = MathJax.config.section;
         }
       });

         // For \left, \right with unicode-math:
         const {DelimiterMap} = MathJax._.input.tex.SymbolMap;
         const {Symbol} = MathJax._.input.tex.Symbol;
         const {MapHandler} = MathJax._.input.tex.MapHandler;
         const delimiter = MapHandler.getMap('delimiter');
         delimiter.add('\\lBrack', new Symbol('\\lBrack', '\u27E6'));
         delimiter.add('\\rBrack', new Symbol('\\rBrack', '\u27E7'));
         delimiter.add('\\lAngle', new Symbol('\\lAngle', '\u27EA'));
         delimiter.add('\\rAngle', new Symbol('\\rAngle', '\u27EB'));
         delimiter.add('\\lbrbrak', new Symbol('\\lbrbrak', '\u2772'));
         delimiter.add('\\rbrbrak', new Symbol('\\rbrbrak', '\u2773'));
         delimiter.add('\\lbag', new Symbol('\\lbag', '\u27C5'));
         delimiter.add('\\rbag', new Symbol('\\rbag', '\u27C6'));
         delimiter.add('\\llparenthesis', new Symbol('\\llparenthesis', '\u2987'));
         delimiter.add('\\rrparenthesis', new Symbol('\\rrparenthesis', '\u2988'));
         delimiter.add('\\llangle', new Symbol('\\llangle', '\u2989'));
         delimiter.add('\\rrangle', new Symbol('\\rrangle', '\u298A'));
         delimiter.add('\\Lbrbrak', new Symbol('\\Lbrbrak', '\u27EC'));
         delimiter.add('\\Rbrbrak', new Symbol('\\Rbrbrak', '\u27ED'));
         delimiter.add('\\lBrace', new Symbol('\\lBrace', '\u2983'));
         delimiter.add('\\rBrace', new Symbol('\\rBrace', '\u2984'));
         delimiter.add('\\lParen', new Symbol('\\lParen', '\u2985'));
         delimiter.add('\\rParen', new Symbol('\\rParen', '\u2986'));
         delimiter.add('\\lbrackubar', new Symbol('\\lbrackubar', '\u298B'));
         delimiter.add('\\rbrackubar', new Symbol('\\rbrackubar', '\u298C'));
         delimiter.add('\\lbrackultick', new Symbol('\\lbrackultick', '\u298D'));
         delimiter.add('\\rbracklrtick', new Symbol('\\rbracklrtick', '\u298E'));
         delimiter.add('\\lbracklltick', new Symbol('\\lbracklltick', '\u298F'));
         delimiter.add('\\rbrackurtick', new Symbol('\\rbrackurtick', '\u2990'));
         delimiter.add('\\langledot', new Symbol('\\langledot', '\u2991'));
         delimiter.add('\\rangledot', new Symbol('\\rangledot', '\u2992'));
         delimiter.add('\\lparenless', new Symbol('\\lparenless', '\u2993'));
         delimiter.add('\\rparengtr', new Symbol('\\rparengtr', '\u2994'));
         delimiter.add('\\Lparengtr', new Symbol('\\Lparengtr', '\u2995'));
         delimiter.add('\\Rparenless', new Symbol('\\Rparenless', '\u2996'));
         delimiter.add('\\lblkbrbrak', new Symbol('\\lblkbrbrak', '\u2997'));
         delimiter.add('\\rblkbrbrak', new Symbol('\\rblkbrbrak', '\u2998'));
         delimiter.add('\\lvzigzag', new Symbol('\\lvzigzag', '\u29D8'));
         delimiter.add('\\rvzigzag', new Symbol('\\rvzigzag', '\u29D9'));
         delimiter.add('\\Lvzigzag', new Symbol('\\Lvzigzag', '\u29DA'));
         delimiter.add('\\Rvzigzag', new Symbol('\\Rvzigzag', '\u29DB'));
         delimiter.add('\\lcurvyangle', new Symbol('\\lcurvyangle', '\u29FC'));
         delimiter.add('\\rcurvyangle', new Symbol('\\rcurvyangle', '\u29FD'));
         delimiter.add('\\Vvert', new Symbol('\\Vvert', '\u2980'));
   }     // ready
 },      // startup

 tex: {
   packages: {'[+]': ['tagformat', 'Lwarp-macros', 'textmacros']},
   tags: "ams",
        tagformat: {
            number: function (n) {
                if(MathJax.config.subequations==0)
                    return(MathJax.config.section + n);
                else
                    return(MathJax.config.section + String.fromCharCode(96+n));
            },
        },
 }
}
</script>

<script
    id="MathJax-script"
    src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"
></script>

<script
  src="pgfmanual.js">
</script>

</head>
<body>


<a id="pgfmanual-autopage-22"></a>
<nav class="topnavigation"><a href="home.html" class="linkhome" >
Home</a></nav>



<div class="bodyandsidetoc">
<div class="sidetoccontainer">



<nav class="sidetoc">



<div class="sidetoctitle">

<p>
<span class="sidetocthetitle">The Ti<em>k</em>Z and PGF Packages<br />
Manual for version 3.1.9a</span>
</p>

<p>
Contents
</p>
</div>



<div class="sidetoccontents">

<p>
<a href="home.html" class="linkhome" >
Home</a>
</p>

<p>
<a href="index-0.html#autosec-7" class="tocsection" >
<span class="sectionnumber">1</span>&#x2003;Introduction</a>
</p>


<p>
<a href="tutorials-guidelines.html#autosec-23" class="tocpart" >
<span class="sectionnumber">I</span>&#x2003;Tutorials and Guidelines</a>
</p>


<p>
<a href="tutorial.html#autosec-28" class="tocsection" >
<span class="sectionnumber">2</span>&#x2003;Tutorial: A Picture for Karl’s Students</a>
</p>


<p>
<a href="tutorial-nodes.html#autosec-165" class="tocsection" >
<span class="sectionnumber">3</span>&#x2003;Tutorial: A Petri-Net for Hagen</a>
</p>


<p>
<a href="tutorial-Euclid.html#autosec-248" class="tocsection" >
<span class="sectionnumber">4</span>&#x2003;Tutorial: Euclid’s Amber Version of the <em>Elements</em></a>
</p>


</div>

</nav>

</div>



<main class="bodycontainer">



<section class="textbody">

<h1>The Ti<em>k</em>Z and PGF Packages<br />
Manual for version 3.1.9a</h1>

<!--MathJax customizations:-->



<div class="hidden">

\(\newcommand{\footnotename}{footnote}\)

\(\def \LWRfootnote {1}\)

\(\newcommand {\footnote }[2][\LWRfootnote ]{{}^{\mathrm {#1}}}\)

\(\newcommand {\footnotemark }[1][\LWRfootnote ]{{}^{\mathrm {#1}}}\)

\(\let \LWRorighspace \hspace \)

\(\renewcommand {\hspace }{\ifstar \LWRorighspace \LWRorighspace }\)

\(\newcommand {\mathnormal }[1]{{#1}}\)

\(\newcommand \ensuremath [1]{#1}\)

\(\newcommand {\LWRframebox }[2][]{\fbox {#2}} \newcommand {\framebox }[1][]{\LWRframebox } \)

\(\newcommand {\setlength }[2]{}\)

\(\newcommand {\addtolength }[2]{}\)

\(\newcommand {\setcounter }[2]{}\)

\(\newcommand {\addtocounter }[2]{}\)

\(\newcommand {\arabic }[1]{}\)

\(\newcommand {\number }[1]{}\)

\(\newcommand {\noalign }[1]{\text {#1}\notag \\}\)

\(\newcommand {\cline }[1]{}\)

\(\newcommand {\directlua }[1]{\text {(directlua)}}\)

\(\newcommand {\luatexdirectlua }[1]{\text {(directlua)}}\)

\(\newcommand {\protect }{}\)

\(\def \LWRabsorbnumber #1 {}\)

\(\def \LWRabsorbquotenumber &quot;#1 {}\)

\(\newcommand {\LWRabsorboption }[1][]{}\)

\(\newcommand {\LWRabsorbtwooptions }[1][]{\LWRabsorboption }\)

\(\def \mathchar {\ifnextchar &quot;\LWRabsorbquotenumber \LWRabsorbnumber }\)

\(\def \mathcode #1={\mathchar }\)

\(\let \delcode \mathcode \)

\(\let \delimiter \mathchar \)

\(\def \oe {\unicode {x0153}}\)

\(\def \OE {\unicode {x0152}}\)

\(\def \ae {\unicode {x00E6}}\)

\(\def \AE {\unicode {x00C6}}\)

\(\def \aa {\unicode {x00E5}}\)

\(\def \AA {\unicode {x00C5}}\)

\(\def \o {\unicode {x00F8}}\)

\(\def \O {\unicode {x00D8}}\)

\(\def \l {\unicode {x0142}}\)

\(\def \L {\unicode {x0141}}\)

\(\def \ss {\unicode {x00DF}}\)

\(\def \SS {\unicode {x1E9E}}\)

\(\def \dag {\unicode {x2020}}\)

\(\def \ddag {\unicode {x2021}}\)

\(\def \P {\unicode {x00B6}}\)

\(\def \copyright {\unicode {x00A9}}\)

\(\def \pounds {\unicode {x00A3}}\)

\(\let \LWRref \ref \)

\(\renewcommand {\ref }{\ifstar \LWRref \LWRref }\)

\( \newcommand {\multicolumn }[3]{#3}\)

\(\require {textcomp}\)

\( \newcommand {\meta }[1]{\langle \textit {#1}\rangle } \)

\(\newcommand {\intertext }[1]{\text {#1}\notag \\}\)

\(\let \Hat \hat \)

\(\let \Check \check \)

\(\let \Tilde \tilde \)

\(\let \Acute \acute \)

\(\let \Grave \grave \)

\(\let \Dot \dot \)

\(\let \Ddot \ddot \)

\(\let \Breve \breve \)

\(\let \Bar \bar \)

\(\let \Vec \vec \)

</div>

<p>
<h2 id="autosec-23">Part&nbsp;<span class="sectionnumber">I&#x2003;</span>Tutorials and Guidelines</h2>
<a id="pgfmanual-autopage-23"></a>
<a id="pgfmanual-autofile-2"></a>

<p>
<em>by Till Tantau</em>
</p>

<p>
To help you get started with Ti<em>k</em>Z, instead of a long installation and configuration section, this manual starts with tutorials. They explain all the basic and some of the more advanced features of the system, without going into
all the details. This part also contains some guidelines on how you should proceed when creating graphics using Ti<em>k</em>Z.
</p>




<div class="example">



<div class="example-image">

<p>
<span
      id="lateximage-pgfmanual-4"
      class="lateximagesource"
><!--
--> <img
      src="pgfmanual-images/image-4.svg"
      alt="(-tikz-&nbsp;diagram)"
      style=""
      class="lateximage"
></span>
</p>
</div>



<div class="example-code">

<p>                                        <br />
<span
      class="textcolor"
      style="color:#0000B2"
>\tikz</span>&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\draw</span>[<span
      class="textcolor"
      style="color:#008000"
>thick</span>,<span
      class="textcolor"
      style="color:#008000"
>rounded corners</span>=<span
      class="textcolor"
      style="color:#008000"
>8pt</span>]<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(0,0)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>--</span> <span
      class="textcolor"
      style="color:#800080"
>(0,2)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>--</span> <span
      class="textcolor"
      style="color:#800080"
>(1,3.25)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>--</span> <span
      class="textcolor"
      style="color:#800080"
>(2,2)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>--</span> <span
      class="textcolor"
      style="color:#800080"
>(2,0)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>--</span> <span
      class="textcolor"
      style="color:#800080"
>(0,2)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>--</span> <span
      class="textcolor"
      style="color:#800080"
>(2,2)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>--</span> <span
      class="textcolor"
      style="color:#800080"
>(0,0)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>--</span> <span
      class="textcolor"
      style="color:#800080"
>(2,0)</span>;<br />


</p>
</div>

</div>
</section>

</main>

</div>



<nav class="botnavigation"><a href="home.html" class="linkhome" >
Home</a></nav>

</body>
</html>
<!--|Start file|tutorial.html|-->

<!DOCTYPE html>
<html lang="en-US">
<head>
<meta charset="UTF-8" />
<meta name="generator" content="LaTeX Lwarp package" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<!--[if lt IE 9]>
<script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
<![endif]-->
<title>tutorial — TikZ and PGF Manual</title>
<link rel="stylesheet" type="text/css" href="style.css" />

<script>
// Lwarp MathJax emulation code
//
// Based on code by Davide P. Cervone.
// Equation numbering: https://github.com/mathjax/MathJax/issues/2427
// Starred and ifnextchar macros: https://github.com/mathjax/MathJax/issues/2428
// \left, \right delimiters: https://github.com/mathjax/MathJax/issues/2535
//
// Modified by Brian Dunn to adjust equation numbering and add subequations.
//
// LaTeX can use \seteqnumber{subequations?}{section}{number} before each equation.
// subequations? is 0 usually, 1 if inside subequations.
// section is a string printed as-is, or empty.
// number is auto-incremented by MathJax between equations.
//
MathJax = {
  subequations: "0",
  section: "",
  loader: {
    load: ['[tex]/tagformat', '[tex]/textmacros'],
  },
  startup: {
    ready() {
      // These would be replaced by import commands if you wanted to make
      // a proper extension.
      const Configuration = MathJax._.input.tex.Configuration.Configuration;
      const CommandMap = MathJax._.input.tex.SymbolMap.CommandMap;
      const Macro = MathJax._.input.tex.Symbol.Macro;
      const TexError = MathJax._.input.tex.TexError.default;
      const ParseUtil = MathJax._.input.tex.ParseUtil.default;
      const expandable = MathJax._.util.Options.expandable;

       // Insert the replacement string into the TeX string, and check
       // that there haven't been too many maxro substitutions (prevents
       // infinite loops).
       const useArgument = (parser, text) => {
         parser.string = ParseUtil.addArgs(parser, text, parser.string.slice(parser.i));
         parser.i = 0;
         if (++parser.macroCount > parser.configuration.options.maxMacros) {
           throw new TexError('MaxMacroSub1',
           'MathJax maximum macro substitution count exceeded; ' +
           'is there a recursive macro call?');
         }
       }

       // Create the command map for:
       //     \ifstar, \ifnextchar, \ifblank, \ifstrequal, \seteqnumber
       new CommandMap('Lwarp-macros', {
         ifstar: 'IfstarFunction',
         ifnextchar: 'IfnextcharFunction',
         ifblank: 'IfblankFunction',
         ifstrequal: 'IfstrequalFunction',
         seteqnumber: 'SeteqnumberFunction'
       }, {
         // This function implements an ifstar macro.
         IfstarFunction(parser, name) {
            const resultstar = parser.GetArgument(name);
            const resultnostar = parser.GetArgument(name);
            const star = parser.GetStar();                 // true if there is a *
            useArgument(parser, star ? resultstar : resultnostar);
         },

          // This function implements an ifnextchar macro.
          IfnextcharFunction(parser, name) {
            let whichchar = parser.GetArgument(name);
            if (whichchar.match(/^(?:0x[0-9A-F]+|[0-9]+)$/i)) {
              // $ syntax highlighting
              whichchar = String.fromCodePoint(parseInt(whichchar));
            }
            const resultnextchar = parser.GetArgument(name);
            const resultnotnextchar = parser.GetArgument(name);
            const gotchar = (parser.GetNext() === whichchar);
            useArgument(parser, gotchar ? resultnextchar : resultnotnextchar);
          },

          // This function implements an ifblank macro.
          IfblankFunction(parser, name) {
            const blankarg = parser.GetArgument(name);
            const resultblank = parser.GetArgument(name);
            const resultnotblank = parser.GetArgument(name);
            const isblank = (blankarg.trim() == "");
            useArgument(parser, isblank ? resultblank : resultnotblank);
          },

          // This function implements an ifstrequal macro.
          IfstrequalFunction(parser, name) {
            const strequalfirst = parser.GetArgument(name);
            const strequalsecond = parser.GetArgument(name);
            const resultequal = parser.GetArgument(name);
            const resultnotequal = parser.GetArgument(name);
            const isequal = (strequalfirst == strequalsecond);
            useArgument(parser, isequal ? resultequal : resultnotequal);
          },

          // This function modifies the equation numbers.
          SeteqnumberFunction(parser, name) {
              // Get the macro parameters
              const star = parser.GetStar();                  // true if there is a *
              const optBrackets = parser.GetBrackets(name);   // contents of optional brackets
              const newsubequations = parser.GetArgument(name); // the subequations argument
              const neweqsection = parser.GetArgument(name); // the eq section argument
              const neweqnumber = parser.GetArgument(name);   // the eq number argument
              MathJax.config.subequations=newsubequations ;   // a string with boolean meaning
              MathJax.config.section=neweqsection ;           // a string with numeric meaning
              parser.tags.counter = parser.tags.allCounter = neweqnumber ;
          }

       });

       // Create the Lwarp-macros package
       Configuration.create('Lwarp-macros', {
         handler: {macro: ['Lwarp-macros']}
       });

       MathJax.startup.defaultReady();

       // For forward references:
       MathJax.startup.input[0].preFilters.add(({math}) => {
         if (math.inputData.recompile){
             MathJax.config.subequations = math.inputData.recompile.subequations;
             MathJax.config.section = math.inputData.recompile.section;
         }
       });
       MathJax.startup.input[0].postFilters.add(({math}) => {
         if (math.inputData.recompile){
             math.inputData.recompile.subequations = MathJax.config.subequations;
             math.inputData.recompile.section = MathJax.config.section;
         }
       });

         // For \left, \right with unicode-math:
         const {DelimiterMap} = MathJax._.input.tex.SymbolMap;
         const {Symbol} = MathJax._.input.tex.Symbol;
         const {MapHandler} = MathJax._.input.tex.MapHandler;
         const delimiter = MapHandler.getMap('delimiter');
         delimiter.add('\\lBrack', new Symbol('\\lBrack', '\u27E6'));
         delimiter.add('\\rBrack', new Symbol('\\rBrack', '\u27E7'));
         delimiter.add('\\lAngle', new Symbol('\\lAngle', '\u27EA'));
         delimiter.add('\\rAngle', new Symbol('\\rAngle', '\u27EB'));
         delimiter.add('\\lbrbrak', new Symbol('\\lbrbrak', '\u2772'));
         delimiter.add('\\rbrbrak', new Symbol('\\rbrbrak', '\u2773'));
         delimiter.add('\\lbag', new Symbol('\\lbag', '\u27C5'));
         delimiter.add('\\rbag', new Symbol('\\rbag', '\u27C6'));
         delimiter.add('\\llparenthesis', new Symbol('\\llparenthesis', '\u2987'));
         delimiter.add('\\rrparenthesis', new Symbol('\\rrparenthesis', '\u2988'));
         delimiter.add('\\llangle', new Symbol('\\llangle', '\u2989'));
         delimiter.add('\\rrangle', new Symbol('\\rrangle', '\u298A'));
         delimiter.add('\\Lbrbrak', new Symbol('\\Lbrbrak', '\u27EC'));
         delimiter.add('\\Rbrbrak', new Symbol('\\Rbrbrak', '\u27ED'));
         delimiter.add('\\lBrace', new Symbol('\\lBrace', '\u2983'));
         delimiter.add('\\rBrace', new Symbol('\\rBrace', '\u2984'));
         delimiter.add('\\lParen', new Symbol('\\lParen', '\u2985'));
         delimiter.add('\\rParen', new Symbol('\\rParen', '\u2986'));
         delimiter.add('\\lbrackubar', new Symbol('\\lbrackubar', '\u298B'));
         delimiter.add('\\rbrackubar', new Symbol('\\rbrackubar', '\u298C'));
         delimiter.add('\\lbrackultick', new Symbol('\\lbrackultick', '\u298D'));
         delimiter.add('\\rbracklrtick', new Symbol('\\rbracklrtick', '\u298E'));
         delimiter.add('\\lbracklltick', new Symbol('\\lbracklltick', '\u298F'));
         delimiter.add('\\rbrackurtick', new Symbol('\\rbrackurtick', '\u2990'));
         delimiter.add('\\langledot', new Symbol('\\langledot', '\u2991'));
         delimiter.add('\\rangledot', new Symbol('\\rangledot', '\u2992'));
         delimiter.add('\\lparenless', new Symbol('\\lparenless', '\u2993'));
         delimiter.add('\\rparengtr', new Symbol('\\rparengtr', '\u2994'));
         delimiter.add('\\Lparengtr', new Symbol('\\Lparengtr', '\u2995'));
         delimiter.add('\\Rparenless', new Symbol('\\Rparenless', '\u2996'));
         delimiter.add('\\lblkbrbrak', new Symbol('\\lblkbrbrak', '\u2997'));
         delimiter.add('\\rblkbrbrak', new Symbol('\\rblkbrbrak', '\u2998'));
         delimiter.add('\\lvzigzag', new Symbol('\\lvzigzag', '\u29D8'));
         delimiter.add('\\rvzigzag', new Symbol('\\rvzigzag', '\u29D9'));
         delimiter.add('\\Lvzigzag', new Symbol('\\Lvzigzag', '\u29DA'));
         delimiter.add('\\Rvzigzag', new Symbol('\\Rvzigzag', '\u29DB'));
         delimiter.add('\\lcurvyangle', new Symbol('\\lcurvyangle', '\u29FC'));
         delimiter.add('\\rcurvyangle', new Symbol('\\rcurvyangle', '\u29FD'));
         delimiter.add('\\Vvert', new Symbol('\\Vvert', '\u2980'));
   }     // ready
 },      // startup

 tex: {
   packages: {'[+]': ['tagformat', 'Lwarp-macros', 'textmacros']},
   tags: "ams",
        tagformat: {
            number: function (n) {
                if(MathJax.config.subequations==0)
                    return(MathJax.config.section + n);
                else
                    return(MathJax.config.section + String.fromCharCode(96+n));
            },
        },
 }
}
</script>

<script
    id="MathJax-script"
    src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"
></script>

<script
  src="pgfmanual.js">
</script>

</head>
<body>


<a id="pgfmanual-autopage-27"></a>
<nav class="topnavigation"><a href="home.html" class="linkhome" >
Home</a></nav>



<div class="bodyandsidetoc">
<div class="sidetoccontainer">



<nav class="sidetoc">



<div class="sidetoctitle">

<p>
<span class="sidetocthetitle">The Ti<em>k</em>Z and PGF Packages<br />
Manual for version 3.1.9a</span>
</p>

<p>
Contents
</p>
</div>



<div class="sidetoccontents">

<p>
<a href="home.html" class="linkhome" >
Home</a>
</p>

<p>
<a href="index-0.html#autosec-7" class="tocsection" >
<span class="sectionnumber">1</span>&#x2003;Introduction</a>
</p>


<p>
<a href="tutorials-guidelines.html#autosec-23" class="tocpart" >
<span class="sectionnumber">I</span>&#x2003;Tutorials and Guidelines</a>
</p>


<p>
<a href="tutorial.html#autosec-28" class="tocsection" >
<span class="sectionnumber">2</span>&#x2003;Tutorial: A Picture for Karl’s Students</a>
</p>


<p>
<a href="tutorial-nodes.html#autosec-165" class="tocsection" >
<span class="sectionnumber">3</span>&#x2003;Tutorial: A Petri-Net for Hagen</a>
</p>


<p>
<a href="tutorial-Euclid.html#autosec-248" class="tocsection" >
<span class="sectionnumber">4</span>&#x2003;Tutorial: Euclid’s Amber Version of the <em>Elements</em></a>
</p>


</div>

</nav>

</div>



<main class="bodycontainer">



<section class="textbody">

<h1>The Ti<em>k</em>Z and PGF Packages<br />
Manual for version 3.1.9a</h1>

<!--MathJax customizations:-->



<div class="hidden">

\(\newcommand{\footnotename}{footnote}\)

\(\def \LWRfootnote {1}\)

\(\newcommand {\footnote }[2][\LWRfootnote ]{{}^{\mathrm {#1}}}\)

\(\newcommand {\footnotemark }[1][\LWRfootnote ]{{}^{\mathrm {#1}}}\)

\(\let \LWRorighspace \hspace \)

\(\renewcommand {\hspace }{\ifstar \LWRorighspace \LWRorighspace }\)

\(\newcommand {\mathnormal }[1]{{#1}}\)

\(\newcommand \ensuremath [1]{#1}\)

\(\newcommand {\LWRframebox }[2][]{\fbox {#2}} \newcommand {\framebox }[1][]{\LWRframebox } \)

\(\newcommand {\setlength }[2]{}\)

\(\newcommand {\addtolength }[2]{}\)

\(\newcommand {\setcounter }[2]{}\)

\(\newcommand {\addtocounter }[2]{}\)

\(\newcommand {\arabic }[1]{}\)

\(\newcommand {\number }[1]{}\)

\(\newcommand {\noalign }[1]{\text {#1}\notag \\}\)

\(\newcommand {\cline }[1]{}\)

\(\newcommand {\directlua }[1]{\text {(directlua)}}\)

\(\newcommand {\luatexdirectlua }[1]{\text {(directlua)}}\)

\(\newcommand {\protect }{}\)

\(\def \LWRabsorbnumber #1 {}\)

\(\def \LWRabsorbquotenumber &quot;#1 {}\)

\(\newcommand {\LWRabsorboption }[1][]{}\)

\(\newcommand {\LWRabsorbtwooptions }[1][]{\LWRabsorboption }\)

\(\def \mathchar {\ifnextchar &quot;\LWRabsorbquotenumber \LWRabsorbnumber }\)

\(\def \mathcode #1={\mathchar }\)

\(\let \delcode \mathcode \)

\(\let \delimiter \mathchar \)

\(\def \oe {\unicode {x0153}}\)

\(\def \OE {\unicode {x0152}}\)

\(\def \ae {\unicode {x00E6}}\)

\(\def \AE {\unicode {x00C6}}\)

\(\def \aa {\unicode {x00E5}}\)

\(\def \AA {\unicode {x00C5}}\)

\(\def \o {\unicode {x00F8}}\)

\(\def \O {\unicode {x00D8}}\)

\(\def \l {\unicode {x0142}}\)

\(\def \L {\unicode {x0141}}\)

\(\def \ss {\unicode {x00DF}}\)

\(\def \SS {\unicode {x1E9E}}\)

\(\def \dag {\unicode {x2020}}\)

\(\def \ddag {\unicode {x2021}}\)

\(\def \P {\unicode {x00B6}}\)

\(\def \copyright {\unicode {x00A9}}\)

\(\def \pounds {\unicode {x00A3}}\)

\(\let \LWRref \ref \)

\(\renewcommand {\ref }{\ifstar \LWRref \LWRref }\)

\( \newcommand {\multicolumn }[3]{#3}\)

\(\require {textcomp}\)

\( \newcommand {\meta }[1]{\langle \textit {#1}\rangle } \)

\(\newcommand {\intertext }[1]{\text {#1}\notag \\}\)

\(\let \Hat \hat \)

\(\let \Check \check \)

\(\let \Tilde \tilde \)

\(\let \Acute \acute \)

\(\let \Grave \grave \)

\(\let \Dot \dot \)

\(\let \Ddot \ddot \)

\(\let \Breve \breve \)

\(\let \Bar \bar \)

\(\let \Vec \vec \)

</div>

<p>
<h4 id="autosec-28"><span class="sectionnumber">2&#x2003;</span>Tutorial: A Picture for Karl’s Students</h4>
<a id="pgfmanual-autopage-28"></a>
<a id="pgfmanual-autofile-3"></a>

<p>
This tutorial is intended for new users of Ti<em>k</em>Z. It does not give an exhaustive account of all the features of Ti<em>k</em>Z, just of those that you are likely to use right away.
</p>

<p>
Karl is a math and chemistry high-school teacher. He used to create the graphics in his worksheets and exams using <span class="latexlogofont"><span class="latexlogo">L<span class="latexlogosup">a</span>T<span
class="latexlogosub">e</span>X</span></span>’s <span class="texttt">{picture}</span> environment. While the results were acceptable, creating the graphics often turned out to be a lengthy process. Also, there tended to be problems with
lines having slightly wrong angles and circles also seemed to be hard to get right. Naturally, his students could not care less whether the lines had the exact right angles and they find Karl’s exams too difficult no matter how nicely they
were drawn. But Karl was never entirely satisfied with the result.
</p>

<p>
Karl’s son, who was even less satisfied with the results (he did not have to take the exams, after all), told Karl that he might wish to try out a new package for creating graphics. A bit confusingly, this package seems to have two names:
First, Karl had to download and install a package called <span class="textsc">pgf</span>. Then it turns out that inside this package there is another package called Ti<em>k</em>Z, which is supposed to stand for “Ti<em>k</em>Z ist
<em>kein</em> Zeichenprogramm”. Karl finds this all a bit strange and Ti<em>k</em>Z seems to indicate that the package does not do what he needs. However, having used <span class="textsc">gnu</span> software for quite some time and
“<span class="textsc">gnu</span> not being Unix”, there seems to be hope yet. His son assures him that Ti<em>k</em>Z’s name is intended to warn people that Ti<em>k</em>Z is not a program that you can use to draw graphics with your
mouse or tablet. Rather, it is more like a “graphics language”.
</p>
<h5 id="autosec-29"><span class="sectionnumber">2.1&#x2003;</span>Problem Statement</h5>
<a id="pgfmanual-autopage-29"></a>


<p>
Karl wants to put a graphic on the next worksheet for his students. He is currently teaching his students about sine and cosine. What he would like to have is something that looks like this (ideally): <span
      id="lateximage-pgfmanual-5"
      class="lateximagesource"
><!--
                   y



                                                                 The angle α is 30◦ in the example
              1                                                  (π/6 in radians). The sine of α,
                                                                 which is the height of the red line,
                                                                 is
              1                                                               sin α = 1/2.
              2

                                               tan α =
                                                         sin α   By the Theorem of Pythagoras
                                   sin α                 cos α   we have cos2 α + sin2 α = 1. Thus
                       α                                 x       the length of the blue line, which
−1                         cos α           1                     is the cosine of α, must be
     − 12
                                                                               p            √
                                                                        cos α = 1 − 1/4 = 12 3.
            − 12
                                                                 This shows that tan α, which is
                                                                 the height of the orange line, is

            −1                                                                    sin α     √
                                                                        tan α =         = 1/ 3.
                                                                                  cos α
--> <img
   src="pgfmanual-images/image-5.svg"
   alt="(-tikz-&nbsp;diagram)"
   style=""
   class="lateximage"
></span>
</p>
<h5 id="autosec-32"><span class="sectionnumber">2.2&#x2003;</span>Setting up the Environment</h5>
<a id="pgfmanual-autopage-32"></a>


<p>
In Ti<em>k</em>Z, to draw a picture, at the start of the picture you need to tell <span class="latexlogofont"><span class="latexlogo">T<span class="latexlogosub">e</span>X</span></span> or <span class="latexlogofont"><span
class="latexlogo">L<span class="latexlogosup">a</span>T<span class="latexlogosub">e</span>X</span></span> that you want to start a picture. In <span class="latexlogofont"><span class="latexlogo">L<span
class="latexlogosup">a</span>T<span class="latexlogosub">e</span>X</span></span> this is done using the environment <span class="texttt">{tikzpicture}</span>, in plain <span class="latexlogofont"><span class="latexlogo">T<span
class="latexlogosub">e</span>X</span></span> you just use <span class="texttt">\tikzpicture</span> to start the picture and <span class="texttt">\endtikzpicture</span> to end it.
</p>
<h6 id="autosec-33"><span class="sectionnumber">2.2.1&#x2003;</span>Setting up the Environment in <span class="latexlogofont"><span class="latexlogo">L<span class="latexlogosup">a</span>T<span
class="latexlogosub">e</span>X</span></span></h6>
<a id="pgfmanual-autopage-33"></a>


<p>
Karl, being a <span class="latexlogofont"><span class="latexlogo">L<span class="latexlogosup">a</span>T<span class="latexlogosub">e</span>X</span></span> user, thus sets up his file as follows:
</p>



<div class="example">



<div class="example-code">

<p>                                                                             <br />
<span
      class="textcolor"
      style="color:#0000B2"
>\documentclass</span>{<span
      class="textcolor"
      style="color:#000000"
>article</span>}&#x2007;<span class="example-code-comment">% say</span><br />
<span
      class="textcolor"
      style="color:#0000B2"
>\usepackage</span>{<span
      class="textcolor"
      style="color:#000000"
>tikz</span>}<br />
<span
      class="textcolor"
      style="color:#000000"
>\begin</span>{<span
      class="textcolor"
      style="color:#0000B2"
>document</span>}<br />
<span
      class="textcolor"
      style="color:#000000"
>We</span> <span
      class="textcolor"
      style="color:#000000"
>are</span> <span
      class="textcolor"
      style="color:#000000"
>working</span> <span
      class="textcolor"
      style="color:#000000"
>on</span><br />
<span
      class="textcolor"
      style="color:#000000"
>\begin</span>{<span
      class="textcolor"
      style="color:#0000B2"
>tikzpicture</span>}<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\draw</span>&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(-1.5,0)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>--</span> <span
      class="textcolor"
      style="color:#800080"
>(1.5,0)</span>;<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\draw</span>&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(0,-1.5)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>--</span> <span
      class="textcolor"
      style="color:#800080"
>(0,1.5)</span>;<br />
<span
      class="textcolor"
      style="color:#000000"
>\end</span>{<span
      class="textcolor"
      style="color:#0000B2"
>tikzpicture</span>}.<br />
<span
      class="textcolor"
      style="color:#000000"
>\end</span>{<span
      class="textcolor"
      style="color:#0000B2"
>document</span>}<br />


</p>
</div>

</div>

<p>
When executed, that is, run via <span class="texttt">pdflatex</span> or via <span class="texttt">latex</span> followed by <span class="texttt">dvips</span>, the resulting will contain something that looks like this:
</p>



<div class="example">



<div class="example-image">

<p>
We are working on<span
      id="lateximage-pgfmanual-6"
      class="lateximagesource"
><!--
--> <img
      src="pgfmanual-images/image-6.svg"
      alt="(-tikz-&nbsp;diagram)"
      style=""
      class="lateximage"
></span>.
</p>
</div>



<div class="example-code">

<p>                                                                             <br />
<span
      class="textcolor"
      style="color:#000000"
>We</span> <span
      class="textcolor"
      style="color:#000000"
>are</span> <span
      class="textcolor"
      style="color:#000000"
>working</span> <span
      class="textcolor"
      style="color:#000000"
>on</span><br />
<span
      class="textcolor"
      style="color:#000000"
>\begin</span>{<span
      class="textcolor"
      style="color:#0000B2"
>tikzpicture</span>}<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\draw</span>&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(-1.5,0)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>--</span> <span
      class="textcolor"
      style="color:#800080"
>(1.5,0)</span>;<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\draw</span>&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(0,-1.5)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>--</span> <span
      class="textcolor"
      style="color:#800080"
>(0,1.5)</span>;<br />
<span
      class="textcolor"
      style="color:#000000"
>\end</span>{<span
      class="textcolor"
      style="color:#0000B2"
>tikzpicture</span>}.<br />


</p>
</div>

</div>

<p>
Admittedly, not quite the whole picture, yet, but we do have the axes established. Well, not quite, but we have the lines that make up the axes drawn. Karl suddenly has a sinking feeling that the picture is still some way off.
</p>

<p>
Let’s have a more detailed look at the code. First, the package <span class="texttt">tikz</span> is loaded. This package is a so-called “frontend” to the basic <span class="textsc">pgf</span> system. The basic layer, which is also
described in this manual, is somewhat more, well, basic and thus harder to use. The frontend makes things easier by providing a simpler syntax.
</p>

<p>
Inside the environment there are two <span class="texttt">\draw</span> commands. They mean: “The path, which is specified following the command up to the semicolon, should be drawn.” The first path is specified as <span
class="texttt">(-1.5,0) -- (1.5,0)</span>, which means “a straight line from the point at position \((-1.5,0)\) to the point at position \((1.5,0)\)”. Here, the positions are specified within a special coordinate system in which, initially,
one unit is 1cm.
</p>

<p>
Karl is quite pleased to note that the environment automatically reserves enough space to encompass the picture.
</p>
<h6 id="autosec-36"><span class="sectionnumber">2.2.2&#x2003;</span>Setting up the Environment in Plain <span class="latexlogofont"><span class="latexlogo">T<span class="latexlogosub">e</span>X</span></span></h6>
<a id="pgfmanual-autopage-36"></a>


<p>
Karl’s wife Gerda, who also happens to be a math teacher, is not a <span class="latexlogofont"><span class="latexlogo">L<span class="latexlogosup">a</span>T<span class="latexlogosub">e</span>X</span></span> user, but uses plain <span
class="latexlogofont"><span class="latexlogo">T<span class="latexlogosub">e</span>X</span></span> since she prefers to do things “the old way”. She can also use Ti<em>k</em>Z. Instead of <span class="texttt">\usepackage{tikz}</span> she
has to write <span class="texttt">\input tikz.tex</span> and instead of <span class="texttt">\begin{tikzpicture}</span> she writes <span class="texttt">\tikzpicture</span> and instead of <span class="texttt">\end{tikzpicture}</span> she
writes <span class="texttt">\endtikzpicture</span>.
</p>

<p>
Thus, she would use:
</p>



<div class="example">



<div class="example-code">

<p>                                                                             <br />
<span class="example-code-comment">%% Plain TeX file</span><br />
<span
      class="textcolor"
      style="color:#0000B2"
>\input</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>tikz</span>.<span
      class="textcolor"
      style="color:#000000"
>tex</span><br />
<span
      class="textcolor"
      style="color:#0000B2"
>\baselineskip</span><span
      class="textcolor"
      style="color:#000000"
>=12pt</span><br />
<span
      class="textcolor"
      style="color:#0000B2"
>\hsize</span><span
      class="textcolor"
      style="color:#000000"
>=6</span>.<span
      class="textcolor"
      style="color:#000000"
>3truein</span><br />
<span
      class="textcolor"
      style="color:#0000B2"
>\vsize</span><span
      class="textcolor"
      style="color:#000000"
>=8</span>.<span
      class="textcolor"
      style="color:#000000"
>7truein</span><br />
<span
      class="textcolor"
      style="color:#000000"
>We</span> <span
      class="textcolor"
      style="color:#000000"
>are</span> <span
      class="textcolor"
      style="color:#000000"
>working</span> <span
      class="textcolor"
      style="color:#000000"
>on</span><br />
<span
      class="textcolor"
      style="color:#0000B2"
>\tikzpicture</span><br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\draw</span>&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(-1.5,0)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>--</span> <span
      class="textcolor"
      style="color:#800080"
>(1.5,0)</span>;<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\draw</span>&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(0,-1.5)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>--</span> <span
      class="textcolor"
      style="color:#800080"
>(0,1.5)</span>;<br />
<span
      class="textcolor"
      style="color:#0000B2"
>\endtikzpicture</span>.<br />
<span
      class="textcolor"
      style="color:#0000B2"
>\bye</span><br />


</p>
</div>

</div>

<p>
Gerda can typeset this file using either <span class="texttt">pdftex</span> or <span class="texttt">tex</span> together with <span class="texttt">dvips</span>. Ti<em>k</em>Z will automatically discern which driver she is using. If she
wishes to use <span class="texttt">dvipdfm</span> together with <span class="texttt">tex</span>, she either needs to modify the file <span class="texttt">pgf.cfg</span> or can write <span
class="texttt">\def\pgfsysdriver{pgfsys-dvipdfm.def}</span> somewhere <em>before</em> she inputs <span class="texttt">tikz.tex</span> or <span class="texttt">pgf.tex</span>.
</p>
<h6 id="autosec-37"><span class="sectionnumber">2.2.3&#x2003;</span>Setting up the Environment in Con<span class="latexlogofont"><span class="latexlogo">T<span class="latexlogosub">e</span>X</span></span>t</h6>
<a id="pgfmanual-autopage-37"></a>


<p>
Karl’s uncle Hans uses Con<span class="latexlogofont"><span class="latexlogo">T<span class="latexlogosub">e</span>X</span></span>t. Like Gerda, Hans can also use Ti<em>k</em>Z. Instead of <span class="texttt">\usepackage{tikz}</span>
he says <span class="texttt">\usemodule[tikz]</span>. Instead of <span class="texttt">\begin{tikzpicture}</span> he writes <span class="texttt">\starttikzpicture</span> and instead of <span class="texttt">\end{tikzpicture}</span> he writes
<span class="texttt">\stoptikzpicture</span>.
</p>

<p>
His version of the example looks like this:
</p>



<div class="example">



<div class="example-code">

<p>                                                                             <br />
<span class="example-code-comment">%% ConTeXt file</span><br />
<span
      class="textcolor"
      style="color:#0000B2"
>\usemodule</span>[<span
      class="textcolor"
      style="color:#008000"
>tikz</span>]<br />
<br />
<span
      class="textcolor"
      style="color:#0000B2"
>\starttext</span><br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#000000"
>We</span> <span
      class="textcolor"
      style="color:#000000"
>are</span> <span
      class="textcolor"
      style="color:#000000"
>working</span> <span
      class="textcolor"
      style="color:#000000"
>on</span><br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\starttikzpicture</span><br />
&#x2007;&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\draw</span>&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(-1.5,0)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>--</span> <span
      class="textcolor"
      style="color:#800080"
>(1.5,0)</span>;<br />
&#x2007;&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\draw</span>&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(0,-1.5)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>--</span> <span
      class="textcolor"
      style="color:#800080"
>(0,1.5)</span>;<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\stoptikzpicture</span>.<br />
<span
      class="textcolor"
      style="color:#0000B2"
>\stoptext</span><br />


</p>
</div>

</div>

<p>
Hans will now typeset this file in the usual way using <span class="texttt">texexec</span> or <span class="texttt">context</span>.
</p>
<h5 id="autosec-38"><span class="sectionnumber">2.3&#x2003;</span>Straight Path Construction</h5>
<a id="pgfmanual-autopage-38"></a>


<p>
The basic building block of all pictures in Ti<em>k</em>Z is the path. A <em>path</em> is a series of straight lines and curves that are connected (that is not the whole picture, but let us ignore the complications for the moment). You start
a path by specifying the coordinates of the start position as a point in round brackets, as in <span class="texttt">(0,0)</span>. This is followed by a series of “path extension operations”. The simplest is <span class="texttt">--</span>,
which we used already. It must be followed by another coordinate and it extends the path in a straight line to this new position. For example, if we were to turn the two paths of the axes into one path, the following would result:
</p>



<div class="example">



<div class="example-image">

<p>
<span
      id="lateximage-pgfmanual-7"
      class="lateximagesource"
><!--
--> <img
      src="pgfmanual-images/image-7.svg"
      alt="(-tikz-&nbsp;diagram)"
      style=""
      class="lateximage"
></span>
</p>
</div>



<div class="example-code">

<p>                                                                            <br />
<span
      class="textcolor"
      style="color:#0000B2"
>\tikz</span>&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\draw</span>&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(-1.5,0)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>--</span> <span
      class="textcolor"
      style="color:#800080"
>(1.5,0)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>--</span> <span
      class="textcolor"
      style="color:#800080"
>(0,-1.5)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>--</span> <span
      class="textcolor"
      style="color:#800080"
>(0,1.5)</span>;<br />


</p>
</div>

</div>

<p>
Karl is a bit confused by the fact that there is no <span class="texttt">{tikzpicture}</span> environment, here. Instead, the little command <span class="texttt">\tikz</span> is used. This command either takes one argument (starting
with an opening brace as in <span class="texttt">\tikz{\draw (0,0) -- (1.5,0)}</span>, which yields <span
      id="lateximage-pgfmanual-8"
      class="lateximagesource"
><!--
--> <img
   src="pgfmanual-images/image-8.svg"
   alt="(-tikz-&nbsp;diagram)"
   style=""
   class="lateximage"
></span>) or collects everything up to the next semicolon and puts it inside a <span class="texttt">{tikzpicture}</span> environment. As a rule of thumb, all Ti<em>k</em>Z graphic drawing commands must occur as an argument of <span
class="texttt">\tikz</span> or inside a <span class="texttt">{tikzpicture}</span> environment. Fortunately, the command <span class="texttt">\draw</span> will only be defined inside this environment, so there is little chance that you will
accidentally do something wrong here.
</p>
<h5 id="autosec-43"><span class="sectionnumber">2.4&#x2003;</span>Curved Path Construction</h5>
<a id="pgfmanual-autopage-43"></a>


<p>
The next thing Karl wants to do is to draw the circle. For this, straight lines obviously will not do. Instead, we need some way to draw curves. For this, Ti<em>k</em>Z provides a special syntax. One or two “control points” are needed.
The math behind them is not quite trivial, but here is the basic idea: Suppose you are at point \(x\) and the first control point is \(y\). Then the curve will start “going in the direction of&nbsp;\(y\) at&nbsp;\(x\)”, that is, the tangent
of the curve at \(x\) will point toward&nbsp;\(y\). Next, suppose the curve should end at \(z\) and the second support point is \(w\). Then the curve will, indeed, end at \(z\) and the tangent of the curve at point \(z\) will go through
\(w\).
</p>

<p>
Here is an example (the control points have been added for clarity):
</p>



<div class="example">



<div class="example-image">

<p>
<span
      id="lateximage-pgfmanual-9"
      class="lateximagesource"
><!--
--> <img
      src="pgfmanual-images/image-9.svg"
      alt="(-tikz-&nbsp;diagram)"
      style=""
      class="lateximage"
></span>
</p>
</div>



<div class="example-code">

<p>                                                                            <br />
<span
      class="textcolor"
      style="color:#000000"
>\begin</span>{<span
      class="textcolor"
      style="color:#0000B2"
>tikzpicture</span>}<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\filldraw</span>&#x2007;[<span
      class="textcolor"
      style="color:#008000"
>gray</span>]&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(0,0)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>circle</span> [<span
      class="textcolor"
      style="color:#008000"
>radius</span>=<span
      class="textcolor"
      style="color:#008000"
>2pt</span>]<br />
&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(1,1)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>circle</span> [<span
      class="textcolor"
      style="color:#008000"
>radius</span>=<span
      class="textcolor"
      style="color:#008000"
>2pt</span>]<br />
&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(2,1)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>circle</span> [<span
      class="textcolor"
      style="color:#008000"
>radius</span>=<span
      class="textcolor"
      style="color:#008000"
>2pt</span>]<br />
&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(2,0)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>circle</span> [<span
      class="textcolor"
      style="color:#008000"
>radius</span>=<span
      class="textcolor"
      style="color:#008000"
>2pt</span>];<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\draw</span>&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(0,0)</span>&#x2007;..&#x2007;<span
      class="textcolor"
      style="color:#000000"
>controls</span> <span
      class="textcolor"
      style="color:#800080"
>(1,1)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>and</span> <span
      class="textcolor"
      style="color:#800080"
>(2,1)</span>&#x2007;..&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(2,0)</span>;<br />
<span
      class="textcolor"
      style="color:#000000"
>\end</span>{<span
      class="textcolor"
      style="color:#0000B2"
>tikzpicture</span>}<br />


</p>
</div>

</div>

<p>
The general syntax for extending a path in a “curved” way is <span class="texttt">.. controls</span> <span class="angle">&langle;</span><i>first control point</i><span class="angle">&rangle;</span> <span class="texttt">and</span> <span
class="angle">&langle;</span><i>second control point</i><span class="angle">&rangle;</span> <span class="texttt">..</span> <span class="angle">&langle;</span><i>end point</i><span class="angle">&rangle;</span>. You can leave out the
<span class="texttt">and</span> <span class="angle">&langle;</span><i>second control point</i><span class="angle">&rangle;</span>, which causes the first one to be used twice.
</p>

<p>
So, Karl can now add the first half circle to the picture:
</p>



<div class="example">



<div class="example-image">

<p>
<span
      id="lateximage-pgfmanual-10"
      class="lateximagesource"
><!--
--> <img
      src="pgfmanual-images/image-10.svg"
      alt="(-tikz-&nbsp;diagram)"
      style=""
      class="lateximage"
></span>
</p>
</div>



<div class="example-code">

<p>                                                                            <br />
<span
      class="textcolor"
      style="color:#000000"
>\begin</span>{<span
      class="textcolor"
      style="color:#0000B2"
>tikzpicture</span>}<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\draw</span>&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(-1.5,0)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>--</span> <span
      class="textcolor"
      style="color:#800080"
>(1.5,0)</span>;<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\draw</span>&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(0,-1.5)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>--</span> <span
      class="textcolor"
      style="color:#800080"
>(0,1.5)</span>;<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\draw</span>&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(-1,0)</span>&#x2007;..&#x2007;<span
      class="textcolor"
      style="color:#000000"
>controls</span> <span
      class="textcolor"
      style="color:#800080"
>(-1,0.555)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>and</span> <span
      class="textcolor"
      style="color:#800080"
>(-0.555,1)</span>&#x2007;..&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(0,1)</span><br />
&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;..&#x2007;<span
      class="textcolor"
      style="color:#000000"
>controls</span> <span
      class="textcolor"
      style="color:#800080"
>(0.555,1)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>and</span> <span
      class="textcolor"
      style="color:#800080"
>(1,0.555)</span>&#x2007;..&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(1,0)</span>;<br />
<span
      class="textcolor"
      style="color:#000000"
>\end</span>{<span
      class="textcolor"
      style="color:#0000B2"
>tikzpicture</span>}<br />


</p>
</div>

</div>

<p>
Karl is happy with the result, but finds specifying circles in this way to be extremely awkward. Fortunately, there is a much simpler way.
</p>
<h5 id="autosec-48"><span class="sectionnumber">2.5&#x2003;</span>Circle Path Construction</h5>
<a id="pgfmanual-autopage-48"></a>


<p>
In order to draw a circle, the path construction operation <span class="texttt">circle</span> can be used. This operation is followed by a radius in brackets as in the following example: (Note that the previous position is used as the
<em>center</em> of the circle.)
</p>



<div class="example">



<div class="example-image">

<p>
<span
      id="lateximage-pgfmanual-11"
      class="lateximagesource"
><!--
--> <img
      src="pgfmanual-images/image-11.svg"
      alt="(-tikz-&nbsp;diagram)"
      style=""
      class="lateximage"
></span>
</p>
</div>



<div class="example-code">

<p>                                                                           <br />
<span
      class="textcolor"
      style="color:#0000B2"
>\tikz</span>&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\draw</span>&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(0,0)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>circle</span> [<span
      class="textcolor"
      style="color:#008000"
>radius</span>=<span
      class="textcolor"
      style="color:#008000"
>10pt</span>];<br />


</p>
</div>

</div>

<p>
You can also append an ellipse to the path using the <span class="texttt">ellipse</span> operation. Instead of a single radius you can specify two of them:
</p>



<div class="example">



<div class="example-image">

<p>
<span
      id="lateximage-pgfmanual-12"
      class="lateximagesource"
><!--
--> <img
      src="pgfmanual-images/image-12.svg"
      alt="(-tikz-&nbsp;diagram)"
      style=""
      class="lateximage"
></span>
</p>
</div>



<div class="example-code">

<p>                                                                             <br />
<span
      class="textcolor"
      style="color:#0000B2"
>\tikz</span>&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\draw</span>&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(0,0)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>ellipse</span> [<span
      class="textcolor"
      style="color:#008000"
>x radius</span>=<span
      class="textcolor"
      style="color:#008000"
>20pt</span>,&#x2007;<span
      class="textcolor"
      style="color:#008000"
>y radius</span>=<span
      class="textcolor"
      style="color:#008000"
>10pt</span>];<br />


</p>
</div>

</div>

<p>
To draw an ellipse whose axes are not horizontal and vertical, but point in an arbitrary direction (a “turned ellipse” like <span
      id="lateximage-pgfmanual-13"
      class="lateximagesource"
><!--
--> <img
      src="pgfmanual-images/image-13.svg"
      alt="(-tikz-&nbsp;diagram)"
      style=""
      class="lateximage"
></span>) you can use transformations, which are explained later. The code for the little ellipse is <span class="texttt">\tikz \draw[rotate=30] (0,0) ellipse [x radius=6pt, y radius=3pt];</span>, by the way.
</p>

<p>
So, returning to Karl’s problem, he can write <span class="texttt">\draw (0,0) circle [radius=1cm];</span> to draw the circle:
</p>



<div class="example">



<div class="example-image">

<p>
<span
      id="lateximage-pgfmanual-14"
      class="lateximagesource"
><!--
--> <img
      src="pgfmanual-images/image-14.svg"
      alt="(-tikz-&nbsp;diagram)"
      style=""
      class="lateximage"
></span>
</p>
</div>



<div class="example-code">

<p>                                                                             <br />
<span
      class="textcolor"
      style="color:#000000"
>\begin</span>{<span
      class="textcolor"
      style="color:#0000B2"
>tikzpicture</span>}<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\draw</span>&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(-1.5,0)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>--</span> <span
      class="textcolor"
      style="color:#800080"
>(1.5,0)</span>;<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\draw</span>&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(0,-1.5)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>--</span> <span
      class="textcolor"
      style="color:#800080"
>(0,1.5)</span>;<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\draw</span>&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(0,0)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>circle</span> [<span
      class="textcolor"
      style="color:#008000"
>radius</span>=<span
      class="textcolor"
      style="color:#008000"
>1cm</span>];<br />
<span
      class="textcolor"
      style="color:#000000"
>\end</span>{<span
      class="textcolor"
      style="color:#0000B2"
>tikzpicture</span>}<br />


</p>
</div>

</div>

<p>
At this point, Karl is a bit alarmed that the circle is so small when he wants the final picture to be much bigger. He is pleased to learn that Ti<em>k</em>Z has powerful transformation options and scaling everything by a factor of three
is very easy. But let us leave the size as it is for the moment to save some space.
</p>
<h5 id="autosec-57"><span class="sectionnumber">2.6&#x2003;</span>Rectangle Path Construction</h5>
<a id="pgfmanual-autopage-57"></a>


<p>
The next things we would like to have is the grid in the background. There are several ways to produce it. For example, one might draw lots of rectangles. Since rectangles are so common, there is a special syntax for them: To add a
rectangle to the current path, use the <span class="texttt">rectangle</span> path construction operation. This operation should be followed by another coordinate and will append a rectangle to the path such that the previous
coordinate and the next coordinates are corners of the rectangle. So, let us add two rectangles to the picture:
</p>



<div class="example">



<div class="example-image">

<p>
<span
      id="lateximage-pgfmanual-15"
      class="lateximagesource"
><!--
--> <img
      src="pgfmanual-images/image-15.svg"
      alt="(-tikz-&nbsp;diagram)"
      style=""
      class="lateximage"
></span>
</p>
</div>



<div class="example-code">

<p>                                                                            <br />
<span
      class="textcolor"
      style="color:#000000"
>\begin</span>{<span
      class="textcolor"
      style="color:#0000B2"
>tikzpicture</span>}<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\draw</span>&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(-1.5,0)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>--</span> <span
      class="textcolor"
      style="color:#800080"
>(1.5,0)</span>;<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\draw</span>&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(0,-1.5)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>--</span> <span
      class="textcolor"
      style="color:#800080"
>(0,1.5)</span>;<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\draw</span>&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(0,0)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>circle</span> [<span
      class="textcolor"
      style="color:#008000"
>radius</span>=<span
      class="textcolor"
      style="color:#008000"
>1cm</span>];<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\draw</span>&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(0,0)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>rectangle</span> <span
      class="textcolor"
      style="color:#800080"
>(0.5,0.5)</span>;<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\draw</span>&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(-0.5,-0.5)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>rectangle</span> <span
      class="textcolor"
      style="color:#800080"
>(-1,-1)</span>;<br />
<span
      class="textcolor"
      style="color:#000000"
>\end</span>{<span
      class="textcolor"
      style="color:#0000B2"
>tikzpicture</span>}<br />


</p>
</div>

</div>

<p>
While this may be nice in other situations, this is not really leading anywhere with Karl’s problem: First, we would need an awful lot of these rectangles and then there is the border that is not “closed”.
</p>

<p>
So, Karl is about to resort to simply drawing four vertical and four horizontal lines using the nice <span class="texttt">\draw</span> command, when he learns that there is a <span class="texttt">grid</span> path construction operation.
</p>
<h5 id="autosec-60"><span class="sectionnumber">2.7&#x2003;</span>Grid Path Construction</h5>
<a id="pgfmanual-autopage-60"></a>


<p>
The <span class="texttt">grid</span> path operation adds a grid to the current path. It will add lines making up a grid that fills the rectangle whose one corner is the current point and whose other corner is the point following the <span
class="texttt">grid</span> operation. For example, the code <span class="texttt">\tikz \draw[step=2pt] (0,0) grid (10pt,10pt);</span> produces <span
      id="lateximage-pgfmanual-16"
      class="lateximagesource"
><!--
--> <img
      src="pgfmanual-images/image-16.svg"
      alt="(-tikz-&nbsp;diagram)"
      style=""
      class="lateximage"
></span>. Note how the optional argument for <span class="texttt">\draw</span> can be used to specify a grid width (there are also <span class="texttt">xstep</span> and <span class="texttt">ystep</span> to define the steppings
independently). As Karl will learn soon, there are <em>lots</em> of things that can be influenced using such options.
</p>

<p>
For Karl, the following code could be used:
</p>



<div class="example">



<div class="example-image">

<p>
<span
      id="lateximage-pgfmanual-17"
      class="lateximagesource"
><!--
--> <img
      src="pgfmanual-images/image-17.svg"
      alt="(-tikz-&nbsp;diagram)"
      style=""
      class="lateximage"
></span>
</p>
</div>



<div class="example-code">

<p>                                                                            <br />
<span
      class="textcolor"
      style="color:#000000"
>\begin</span>{<span
      class="textcolor"
      style="color:#0000B2"
>tikzpicture</span>}<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\draw</span>&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(-1.5,0)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>--</span> <span
      class="textcolor"
      style="color:#800080"
>(1.5,0)</span>;<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\draw</span>&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(0,-1.5)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>--</span> <span
      class="textcolor"
      style="color:#800080"
>(0,1.5)</span>;<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\draw</span>&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(0,0)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>circle</span> [<span
      class="textcolor"
      style="color:#008000"
>radius</span>=<span
      class="textcolor"
      style="color:#008000"
>1cm</span>];<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\draw</span>[<span
      class="textcolor"
      style="color:#008000"
>step</span>=<span
      class="textcolor"
      style="color:#008000"
>.5cm</span>]&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(-1.4,-1.4)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>grid</span> <span
      class="textcolor"
      style="color:#800080"
>(1.4,1.4)</span>;<br />
<span
      class="textcolor"
      style="color:#000000"
>\end</span>{<span
      class="textcolor"
      style="color:#0000B2"
>tikzpicture</span>}<br />


</p>
</div>

</div>

<p>
Having another look at the desired picture, Karl notices that it would be nice for the grid to be more subdued. (His son told him that grids tend to be distracting if they are not subdued.) To subdue the grid, Karl adds two more
options to the <span class="texttt">\draw</span> command that draws the grid. First, he uses the color <span class="texttt">gray</span> for the grid lines. Second, he reduces the line width to <span class="texttt">very thin</span>.
Finally, he swaps the ordering of the commands so that the grid is drawn first and everything else on top.
</p>



<div class="example">



<div class="example-image">

<p>
<span
      id="lateximage-pgfmanual-18"
      class="lateximagesource"
><!--
--> <img
      src="pgfmanual-images/image-18.svg"
      alt="(-tikz-&nbsp;diagram)"
      style=""
      class="lateximage"
></span>
</p>
</div>



<div class="example-code">

<p>                                         <br />
<span
      class="textcolor"
      style="color:#000000"
>\begin</span>{<span
      class="textcolor"
      style="color:#0000B2"
>tikzpicture</span>}<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\draw</span>[<span
      class="textcolor"
      style="color:#008000"
>step</span>=<span
      class="textcolor"
      style="color:#008000"
>.5cm</span>,<span
      class="textcolor"
      style="color:#008000"
>gray</span>,<span
      class="textcolor"
      style="color:#008000"
>very thin</span>]&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(-1.4,-1.4)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>grid</span> <span
      class="textcolor"
      style="color:#800080"
>(1.4,1.4)</span>;<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\draw</span>&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(-1.5,0)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>--</span> <span
      class="textcolor"
      style="color:#800080"
>(1.5,0)</span>;<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\draw</span>&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(0,-1.5)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>--</span> <span
      class="textcolor"
      style="color:#800080"
>(0,1.5)</span>;<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\draw</span>&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(0,0)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>circle</span> [<span
      class="textcolor"
      style="color:#008000"
>radius</span>=<span
      class="textcolor"
      style="color:#008000"
>1cm</span>];<br />
<span
      class="textcolor"
      style="color:#000000"
>\end</span>{<span
      class="textcolor"
      style="color:#0000B2"
>tikzpicture</span>}<br />


</p>
</div>

</div>
<h5 id="autosec-67"><span class="sectionnumber">2.8&#x2003;</span>Adding a Touch of Style</h5>
<a id="pgfmanual-autopage-67"></a>


<p>
Instead of the options <span class="texttt">gray,very thin</span> Karl could also have said <span class="texttt">help lines</span>. <em>Styles</em> are predefined sets of options that can be used to organize how a graphic is drawn. By
saying <span class="texttt">help lines</span> you say “use the style that I (or someone else) has set for drawing help lines”. If Karl decides, at some later point, that grids should be drawn, say, using the color <span
class="texttt">blue!50</span> instead of <span class="texttt">gray</span>, he could provide the following option somewhere:
</p>



<div class="example">



<div class="example-code">

<p>                                                                             <br />
<span
      class="textcolor"
      style="color:#000000"
>help</span> <span
      class="textcolor"
      style="color:#000000"
>lines/</span>.<span
      class="textcolor"
      style="color:#000000"
>style=</span>{<span
      class="textcolor"
      style="color:#000000"
>color=blue!50</span>,<span
      class="textcolor"
      style="color:#000000"
>very</span> <span
      class="textcolor"
      style="color:#000000"
>thin</span>}<br />


</p>
</div>

</div>

<p>
The effect of this “style setter” is that in the current scope or environment the <span class="texttt">help lines</span> option has the same effect as <span class="texttt">color=blue!50,very thin</span>.
</p>

<p>
Using styles makes your graphics code more flexible. You can change the way things look easily in a consistent manner. Normally, styles are defined at the beginning of a picture. However, you may sometimes wish to define a style
globally, so that all pictures of your document can use this style. Then you can easily change the way all graphics look by changing this one style. In this situation you can use the <span class="texttt">\tikzset</span> command at the
beginning of the document as in
</p>



<div class="example">



<div class="example-code">

<p>                                                                             <br />
\tikzset{<span
      class="textcolor"
      style="color:#008000"
>help lines</span>/<span
      class="textcolor"
      style="color:#0000B2"
>.style</span>=<span
      class="textcolor"
      style="color:#008000"
>very thin</span>}<br />


</p>
</div>

</div>

<p>
To build a hierarchy of styles you can have one style use another. So in order to define a style <span class="texttt">Karl's grid</span> that is based on the <span class="texttt">grid</span> style Karl could say
</p>



<div class="example">



<div class="example-code">

<p>                                                                             <br />
\tikzset{<span
      class="textcolor"
      style="color:#008000"
>Karl's grid</span>/<span
      class="textcolor"
      style="color:#0000B2"
>.style</span>={<span
      class="textcolor"
      style="color:#008000"
>help lines</span>,<span
      class="textcolor"
      style="color:#008000"
>color</span>=<span
      class="textcolor"
      style="color:#008000"
>blue!50}</span>}<br />
...<br />
<span
      class="textcolor"
      style="color:#0000B2"
>\draw</span>[<span
      class="textcolor"
      style="color:#008000"
>Karl's grid</span>]&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(0,0)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>grid</span> <span
      class="textcolor"
      style="color:#800080"
>(5,5)</span>;<br />


</p>
</div>

</div>

<p>
Styles are made even more powerful by parametrization. This means that, like other options, styles can also be used with a parameter. For instance, Karl could parameterize his grid so that, by default, it is blue, but he could also use
another color.
</p>



<div class="example">



<div class="example-code">

<p>                                                                             <br />
<span
      class="textcolor"
      style="color:#000000"
>\begin</span>{<span
      class="textcolor"
      style="color:#0000B2"
>tikzpicture</span>}<br />
&#x2007;&#x2007;[<span
      class="textcolor"
      style="color:#008000"
>Karl's grid</span>/<span
      class="textcolor"
      style="color:#0000B2"
>.style    </span>={<span
      class="textcolor"
      style="color:#008000"
>help lines</span>,<span
      class="textcolor"
      style="color:#008000"
>color</span>=<span
      class="textcolor"
      style="color:#008000"
>#1!50}</span>,<br />
&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#008000"
>Karl's grid</span>/<span
      class="textcolor"
      style="color:#0000B2"
>.default</span>=<span
      class="textcolor"
      style="color:#008000"
>blue</span>]<br />
<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\draw</span>[<span
      class="textcolor"
      style="color:#008000"
>Karl's grid</span>]&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(0,0)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>grid</span> <span
      class="textcolor"
      style="color:#800080"
>(1.5,2)</span>;<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\draw</span>[<span
      class="textcolor"
      style="color:#008000"
>Karl's grid</span>=<span
      class="textcolor"
      style="color:#008000"
>red</span>]&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(2,0)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>grid</span> <span
      class="textcolor"
      style="color:#800080"
>(3.5,2)</span>;<br />
<span
      class="textcolor"
      style="color:#000000"
>\end</span>{<span
      class="textcolor"
      style="color:#0000B2"
>tikzpicture</span>}<br />


</p>
</div>

</div>

<p>
In this example, the definition of the style <span class="texttt">Karl's grid</span> is given as an optional argument to the <span class="texttt">{tikzpicture}</span> environment. Additional styles for other elements would follow after a
comma. With many styles in effect, the optional argument of the environment may easily happen to be longer than the actual contents.
</p>
<h5 id="autosec-68"><span class="sectionnumber">2.9&#x2003;</span>Drawing Options</h5>
<a id="pgfmanual-autopage-68"></a>


<p>
Karl wonders what other options there are that influence how a path is drawn. He saw already that the <span class="texttt">color=</span><span class="angle">&langle;</span><i>color</i><span class="angle">&rangle;</span> option can be
used to set the line’s color. The option <span class="texttt">draw=</span><span class="angle">&langle;</span><i>color</i><span class="angle">&rangle;</span> does nearly the same, only it sets the color for the lines only and a different color
can be used for filling (Karl will need this when he fills the arc for the angle).
</p>

<p>
He saw that the style <span class="texttt">very thin</span> yields very thin lines. Karl is not really surprised by this and neither is he surprised to learn that <span class="texttt">thin</span> yields thin lines, <span
class="texttt">thick</span> yields thick lines, <span class="texttt">very thick</span> yields very thick lines, <span class="texttt">ultra thick</span> yields really, really thick lines and <span class="texttt">ultra thin</span> yields lines that
are so thin that low-resolution printers and displays will have trouble showing them. He wonders what gives lines of “normal” thickness. It turns out that <span class="texttt">thin</span> is the correct choice, since it gives the same
thickness as <span class="latexlogofont"><span class="latexlogo">T<span class="latexlogosub">e</span>X</span></span>’s <span class="texttt">\hrule</span> command. Nevertheless, Karl would like to know whether there is anything “in the
middle” between <span class="texttt">thin</span> and <span class="texttt">thick</span>. There is: <span class="texttt">semithick</span>.
</p>

<p>
Another useful thing one can do with lines is to dash or dot them. For this, the two styles <span class="texttt">dashed</span> and <span class="texttt">dotted</span> can be used, yielding <span
      id="lateximage-pgfmanual-19"
      class="lateximagesource"
><!--
--> <img
   src="pgfmanual-images/image-19.svg"
   alt="(-tikz-&nbsp;diagram)"
   style=""
   class="lateximage"
></span> and <span
   id="lateximage-pgfmanual-20"
   class="lateximagesource"
><!--
--> <img
   src="pgfmanual-images/image-20.svg"
   alt="(-tikz-&nbsp;diagram)"
   style=""
   class="lateximage"
></span>. Both options also exist in a loose and a dense version, called <span class="texttt">loosely dashed</span>, <span class="texttt">densely dashed</span>, <span class="texttt">loosely dotted</span>, and <span
class="texttt">densely dotted</span>. If he really, really needs to, Karl can also define much more complex dashing patterns with the <span class="texttt">dash pattern</span> option, but his son insists that dashing is to be used with
utmost care and mostly distracts. Karl’s son claims that complicated dashing patterns are evil. Karl’s students do not care about dashing patterns.
</p>
<h5 id="autosec-73"><span class="sectionnumber">2.10&#x2003;</span>Arc Path Construction</h5>
<a id="pgfmanual-autopage-73"></a>


<p>
Our next obstacle is to draw the arc for the angle. For this, the <span class="texttt">arc</span> path construction operation is useful, which draws part of a circle or ellipse. This <span class="texttt">arc</span> operation is followed by
options in brackets that specify the arc. An example would be <kbd>arc[start angle=10, end angle=80, radius=10pt]</kbd>, which means exactly what it says. Karl obviously needs an arc from \(0^\circ \) to \(30^\circ \). The radius
should be something relatively small, perhaps around one third of the circle’s radius. When one uses the arc path construction operation, the specified arc will be added with its starting point at the current position. So, we first have to
“get there”.
</p>



<div class="example">



<div class="example-image">

<p>
<span
      id="lateximage-pgfmanual-21"
      class="lateximagesource"
><!--
--> <img
      src="pgfmanual-images/image-21.svg"
      alt="(-tikz-&nbsp;diagram)"
      style=""
      class="lateximage"
></span>
</p>
</div>



<div class="example-code">

<p>                                                                            <br />
<span
      class="textcolor"
      style="color:#000000"
>\begin</span>{<span
      class="textcolor"
      style="color:#0000B2"
>tikzpicture</span>}<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\draw</span>[<span
      class="textcolor"
      style="color:#008000"
>step</span>=<span
      class="textcolor"
      style="color:#008000"
>.5cm</span>,<span
      class="textcolor"
      style="color:#008000"
>gray</span>,<span
      class="textcolor"
      style="color:#008000"
>very thin</span>]&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(-1.4,-1.4)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>grid</span> <span
      class="textcolor"
      style="color:#800080"
>(1.4,1.4)</span>;<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\draw</span>&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(-1.5,0)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>--</span> <span
      class="textcolor"
      style="color:#800080"
>(1.5,0)</span>;<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\draw</span>&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(0,-1.5)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>--</span> <span
      class="textcolor"
      style="color:#800080"
>(0,1.5)</span>;<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\draw</span>&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(0,0)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>circle</span> [<span
      class="textcolor"
      style="color:#008000"
>radius</span>=<span
      class="textcolor"
      style="color:#008000"
>1cm</span>];<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\draw</span>&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(3mm,0mm)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>arc</span> [<span
      class="textcolor"
      style="color:#008000"
>start angle</span>=<span
      class="textcolor"
      style="color:#008000"
>0</span>,&#x2007;<span
      class="textcolor"
      style="color:#008000"
>end angle</span>=<span
      class="textcolor"
      style="color:#008000"
>30</span>,&#x2007;<span
      class="textcolor"
      style="color:#008000"
>radius</span>=<span
      class="textcolor"
      style="color:#008000"
>3mm</span>];<br />
<span
      class="textcolor"
      style="color:#000000"
>\end</span>{<span
      class="textcolor"
      style="color:#0000B2"
>tikzpicture</span>}<br />


</p>
</div>

</div>

<p>
Karl thinks this is really a bit small and he cannot continue unless he learns how to do scaling. For this, he can add the <span class="texttt">[scale=3]</span> option. He could add this option to each <span class="texttt">\draw</span>
command, but that would be awkward. Instead, he adds it to the whole environment, which causes this option to apply to everything within.
</p>



<div class="example">



<div class="example-image">

<p>
<span
      id="lateximage-pgfmanual-22"
      class="lateximagesource"
><!--
--> <img
      src="pgfmanual-images/image-22.svg"
      alt="(-tikz-&nbsp;diagram)"
      style=""
      class="lateximage"
></span>
</p>
</div>



<div class="example-code">

<p>                                                                              <br />
<span
      class="textcolor"
      style="color:#000000"
>\begin</span>{<span
      class="textcolor"
      style="color:#0000B2"
>tikzpicture</span>}[<span
      class="textcolor"
      style="color:#008000"
>scale</span>=<span
      class="textcolor"
      style="color:#008000"
>3</span>]<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\draw</span>[<span
      class="textcolor"
      style="color:#008000"
>step</span>=<span
      class="textcolor"
      style="color:#008000"
>.5cm</span>,<span
      class="textcolor"
      style="color:#008000"
>gray</span>,<span
      class="textcolor"
      style="color:#008000"
>very thin</span>]&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(-1.4,-1.4)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>grid</span> <span
      class="textcolor"
      style="color:#800080"
>(1.4,1.4)</span>;<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\draw</span>&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(-1.5,0)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>--</span> <span
      class="textcolor"
      style="color:#800080"
>(1.5,0)</span>;<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\draw</span>&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(0,-1.5)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>--</span> <span
      class="textcolor"
      style="color:#800080"
>(0,1.5)</span>;<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\draw</span>&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(0,0)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>circle</span> [<span
      class="textcolor"
      style="color:#008000"
>radius</span>=<span
      class="textcolor"
      style="color:#008000"
>1cm</span>];<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\draw</span>&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(3mm,0mm)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>arc</span> [<span
      class="textcolor"
      style="color:#008000"
>start angle</span>=<span
      class="textcolor"
      style="color:#008000"
>0</span>,&#x2007;<span
      class="textcolor"
      style="color:#008000"
>end angle</span>=<span
      class="textcolor"
      style="color:#008000"
>30</span>,&#x2007;<span
      class="textcolor"
      style="color:#008000"
>radius</span>=<span
      class="textcolor"
      style="color:#008000"
>3mm</span>];<br />
<span
      class="textcolor"
      style="color:#000000"
>\end</span>{<span
      class="textcolor"
      style="color:#0000B2"
>tikzpicture</span>}<br />


</p>
</div>

</div>

<p>
As for circles, you can specify “two” radii in order to get an elliptical arc.
</p>



<div class="example">



<div class="example-image">

<p>
<span
      id="lateximage-pgfmanual-23"
      class="lateximagesource"
><!--
--> <img
      src="pgfmanual-images/image-23.svg"
      alt="(-tikz-&nbsp;diagram)"
      style=""
      class="lateximage"
></span>
</p>
</div>



<div class="example-code">

<p>                                                                             <br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\tikz</span>&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\draw</span>&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(0,0)</span><br />
&#x2007;&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#000000"
>arc</span> [<span
      class="textcolor"
      style="color:#008000"
>start angle</span>=<span
      class="textcolor"
      style="color:#008000"
>0</span>,&#x2007;<span
      class="textcolor"
      style="color:#008000"
>end angle</span>=<span
      class="textcolor"
      style="color:#008000"
>315</span>,<br />
&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#008000"
>x radius</span>=<span
      class="textcolor"
      style="color:#008000"
>1.75cm</span>,&#x2007;<span
      class="textcolor"
      style="color:#008000"
>y radius</span>=<span
      class="textcolor"
      style="color:#008000"
>1cm</span>];<br />


</p>
</div>

</div>
<h5 id="autosec-80"><span class="sectionnumber">2.11&#x2003;</span>Clipping a Path</h5>
<a id="pgfmanual-autopage-80"></a>


<p>
In order to save space in this manual, it would be nice to clip Karl’s graphics a bit so that we can focus on the “interesting” parts. Clipping is pretty easy in Ti<em>k</em>Z. You can use the <span class="texttt">\clip</span> command to
clip all subsequent drawing. It works like <span class="texttt">\draw</span>, only it does not draw anything, but uses the given path to clip everything subsequently.
</p>



<div class="example">



<div class="example-image">

<p>
<span
      id="lateximage-pgfmanual-24"
      class="lateximagesource"
><!--
--> <img
      src="pgfmanual-images/image-24.svg"
      alt="(-tikz-&nbsp;diagram)"
      style=""
      class="lateximage"
></span>
</p>
</div>



<div class="example-code">

<p>                                                                            <br />
<span
      class="textcolor"
      style="color:#000000"
>\begin</span>{<span
      class="textcolor"
      style="color:#0000B2"
>tikzpicture</span>}[<span
      class="textcolor"
      style="color:#008000"
>scale</span>=<span
      class="textcolor"
      style="color:#008000"
>3</span>]<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\clip</span>&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(-0.1,-0.2)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>rectangle</span> <span
      class="textcolor"
      style="color:#800080"
>(1.1,0.75)</span>;<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\draw</span>[<span
      class="textcolor"
      style="color:#008000"
>step</span>=<span
      class="textcolor"
      style="color:#008000"
>.5cm</span>,<span
      class="textcolor"
      style="color:#008000"
>gray</span>,<span
      class="textcolor"
      style="color:#008000"
>very thin</span>]&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(-1.4,-1.4)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>grid</span> <span
      class="textcolor"
      style="color:#800080"
>(1.4,1.4)</span>;<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\draw</span>&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(-1.5,0)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>--</span> <span
      class="textcolor"
      style="color:#800080"
>(1.5,0)</span>;<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\draw</span>&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(0,-1.5)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>--</span> <span
      class="textcolor"
      style="color:#800080"
>(0,1.5)</span>;<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\draw</span>&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(0,0)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>circle</span> [<span
      class="textcolor"
      style="color:#008000"
>radius</span>=<span
      class="textcolor"
      style="color:#008000"
>1cm</span>];<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\draw</span>&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(3mm,0mm)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>arc</span> [<span
      class="textcolor"
      style="color:#008000"
>start angle</span>=<span
      class="textcolor"
      style="color:#008000"
>0</span>,&#x2007;<span
      class="textcolor"
      style="color:#008000"
>end angle</span>=<span
      class="textcolor"
      style="color:#008000"
>30</span>,&#x2007;<span
      class="textcolor"
      style="color:#008000"
>radius</span>=<span
      class="textcolor"
      style="color:#008000"
>3mm</span>];<br />
<span
      class="textcolor"
      style="color:#000000"
>\end</span>{<span
      class="textcolor"
      style="color:#0000B2"
>tikzpicture</span>}<br />


</p>
</div>

</div>

<p>
You can also do both at the same time: Draw <em>and</em> clip a path. For this, use the <span class="texttt">\draw</span> command and add the <span class="texttt">clip</span> option. (This is not the whole picture: You can also use
the <span class="texttt">\clip</span> command and add the <span class="texttt">draw</span> option. Well, that is also not the whole picture: In reality, <span class="texttt">\draw</span> is just a shorthand for <span
class="texttt">\path[draw]</span> and <span class="texttt">\clip</span> is a shorthand for <span class="texttt">\path[clip]</span> and you could also say <span class="texttt">\path[draw,clip]</span>.) Here is an example:
</p>



<div class="example">



<div class="example-image">

<p>
<span
      id="lateximage-pgfmanual-25"
      class="lateximagesource"
><!--
--> <img
      src="pgfmanual-images/image-25.svg"
      alt="(-tikz-&nbsp;diagram)"
      style=""
      class="lateximage"
></span>
</p>
</div>



<div class="example-code">

<p>                                         <br />
<span
      class="textcolor"
      style="color:#000000"
>\begin</span>{<span
      class="textcolor"
      style="color:#0000B2"
>tikzpicture</span>}[<span
      class="textcolor"
      style="color:#008000"
>scale</span>=<span
      class="textcolor"
      style="color:#008000"
>3</span>]<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\clip</span>[<span
      class="textcolor"
      style="color:#008000"
>draw</span>]&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(0.5,0.5)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>circle</span> <span
      class="textcolor"
      style="color:#800080"
>(.6cm)</span>;<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\draw</span>[<span
      class="textcolor"
      style="color:#008000"
>step</span>=<span
      class="textcolor"
      style="color:#008000"
>.5cm</span>,<span
      class="textcolor"
      style="color:#008000"
>gray</span>,<span
      class="textcolor"
      style="color:#008000"
>very thin</span>]&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(-1.4,-1.4)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>grid</span> <span
      class="textcolor"
      style="color:#800080"
>(1.4,1.4)</span>;<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\draw</span>&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(-1.5,0)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>--</span> <span
      class="textcolor"
      style="color:#800080"
>(1.5,0)</span>;<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\draw</span>&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(0,-1.5)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>--</span> <span
      class="textcolor"
      style="color:#800080"
>(0,1.5)</span>;<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\draw</span>&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(0,0)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>circle</span> [<span
      class="textcolor"
      style="color:#008000"
>radius</span>=<span
      class="textcolor"
      style="color:#008000"
>1cm</span>];<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\draw</span>&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(3mm,0mm)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>arc</span> [<span
      class="textcolor"
      style="color:#008000"
>start angle</span>=<span
      class="textcolor"
      style="color:#008000"
>0</span>,&#x2007;<span
      class="textcolor"
      style="color:#008000"
>end angle</span>=<span
      class="textcolor"
      style="color:#008000"
>30</span>,&#x2007;<span
      class="textcolor"
      style="color:#008000"
>radius</span>=<span
      class="textcolor"
      style="color:#008000"
>3mm</span>];<br />
<span
      class="textcolor"
      style="color:#000000"
>\end</span>{<span
      class="textcolor"
      style="color:#0000B2"
>tikzpicture</span>}<br />


</p>
</div>

</div>
<h5 id="autosec-85"><span class="sectionnumber">2.12&#x2003;</span>Parabola and Sine Path Construction</h5>
<a id="pgfmanual-autopage-85"></a>


<p>
Although Karl does not need them for his picture, he is pleased to learn that there are <span class="texttt">parabola</span> and <span class="texttt">sin</span> and <span class="texttt">cos</span> path operations for adding parabolas and
sine and cosine curves to the current path. For the <span class="texttt">parabola</span> operation, the current point will lie on the parabola as well as the point given after the parabola operation. Consider the following example:
</p>



<div class="example">



<div class="example-image">

<p>
<span
      id="lateximage-pgfmanual-26"
      class="lateximagesource"
><!--
--> <img
      src="pgfmanual-images/image-26.svg"
      alt="(-tikz-&nbsp;diagram)"
      style=""
      class="lateximage"
></span>
</p>
</div>



<div class="example-code">

<p>                                                     <br />
<span
      class="textcolor"
      style="color:#0000B2"
>\tikz</span>&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\draw</span>&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(0,0)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>rectangle</span> <span
      class="textcolor"
      style="color:#800080"
>(1,1)</span>&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(0,0)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>parabola</span> <span
      class="textcolor"
      style="color:#800080"
>(1,1)</span>;<br />


</p>
</div>

</div>

<p>
It is also possible to place the bend somewhere else:
</p>



<div class="example">



<div class="example-image">

<p>
<span
      id="lateximage-pgfmanual-27"
      class="lateximagesource"
><!--
--> <img
      src="pgfmanual-images/image-27.svg"
      alt="(-tikz-&nbsp;diagram)"
      style=""
      class="lateximage"
></span>
</p>
</div>



<div class="example-code">

<p>                                                                            <br />
<span
      class="textcolor"
      style="color:#0000B2"
>\tikz</span>&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\draw</span>[<span
      class="textcolor"
      style="color:#008000"
>x</span>=<span
      class="textcolor"
      style="color:#008000"
>1pt</span>,<span
      class="textcolor"
      style="color:#008000"
>y</span>=<span
      class="textcolor"
      style="color:#008000"
>1pt</span>]&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(0,0)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>parabola</span> <span
      class="textcolor"
      style="color:#000000"
>bend</span> <span
      class="textcolor"
      style="color:#800080"
>(4,16)</span>&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(6,12)</span>;<br />


</p>
</div>

</div>

<p>
The operations <span class="texttt">sin</span> and <span class="texttt">cos</span> add a sine or cosine curve in the interval \([0,\pi /2]\) such that the previous current point is at the start of the curve and the curve ends at the given
end point. Here are two examples:
</p>



<div class="example">



<div class="example-image">

<p>
A sine <span
      id="lateximage-pgfmanual-28"
      class="lateximagesource"
><!--
--> <img
      src="pgfmanual-images/image-28.svg"
      alt="(-tikz-&nbsp;diagram)"
      style=""
      class="lateximage"
></span> curve.
</p>
</div>



<div class="example-code">

<p>                                         <br />
<span
      class="textcolor"
      style="color:#000000"
>A</span> <span
      class="textcolor"
      style="color:#000000"
>sine</span> <span
      class="textcolor"
      style="color:#0000B2"
>\tikz</span>&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\draw</span>[<span
      class="textcolor"
      style="color:#008000"
>x</span>=<span
      class="textcolor"
      style="color:#008000"
>1ex</span>,<span
      class="textcolor"
      style="color:#008000"
>y</span>=<span
      class="textcolor"
      style="color:#008000"
>1ex</span>]&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(0,0)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>sin</span> <span
      class="textcolor"
      style="color:#800080"
>(1.57,1)</span>;&#x2007;<span
      class="textcolor"
      style="color:#000000"
>curve</span>.<br />


</p>
</div>

</div>



<div class="example">



<div class="example-image">

<p>
<span
      id="lateximage-pgfmanual-29"
      class="lateximagesource"
><!--
--> <img
      src="pgfmanual-images/image-29.svg"
      alt="(-tikz-&nbsp;diagram)"
      style=""
      class="lateximage"
></span>
</p>
</div>



<div class="example-code">

<p>                                                                            <br />
<span
      class="textcolor"
      style="color:#0000B2"
>\tikz</span>&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\draw</span>[<span
      class="textcolor"
      style="color:#008000"
>x</span>=<span
      class="textcolor"
      style="color:#008000"
>1.57ex</span>,<span
      class="textcolor"
      style="color:#008000"
>y</span>=<span
      class="textcolor"
      style="color:#008000"
>1ex</span>]&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(0,0)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>sin</span> <span
      class="textcolor"
      style="color:#800080"
>(1,1)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>cos</span> <span
      class="textcolor"
      style="color:#800080"
>(2,0)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>sin</span> <span
      class="textcolor"
      style="color:#800080"
>(3,-1)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>cos</span> <span
      class="textcolor"
      style="color:#800080"
>(4,0)</span><br />
&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(0,1)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>cos</span> <span
      class="textcolor"
      style="color:#800080"
>(1,0)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>sin</span> <span
      class="textcolor"
      style="color:#800080"
>(2,-1)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>cos</span> <span
      class="textcolor"
      style="color:#800080"
>(3,0)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>sin</span> <span
      class="textcolor"
      style="color:#800080"
>(4,1)</span>;<br />


</p>
</div>

</div>
<h5 id="autosec-94"><span class="sectionnumber">2.13&#x2003;</span>Filling and Drawing</h5>
<a id="pgfmanual-autopage-94"></a>


<p>
Returning to the picture, Karl now wants the angle to be “filled” with a very light green. For this he uses <span class="texttt">\fill</span> instead of <span class="texttt">\draw</span>. Here is what Karl does:
</p>



<div class="example">



<div class="example-image">

<p>
<span
      id="lateximage-pgfmanual-30"
      class="lateximagesource"
><!--
--> <img
      src="pgfmanual-images/image-30.svg"
      alt="(-tikz-&nbsp;diagram)"
      style=""
      class="lateximage"
></span>
</p>
</div>



<div class="example-code">

<p>                                                                            <br />
<span
      class="textcolor"
      style="color:#000000"
>\begin</span>{<span
      class="textcolor"
      style="color:#0000B2"
>tikzpicture</span>}[<span
      class="textcolor"
      style="color:#008000"
>scale</span>=<span
      class="textcolor"
      style="color:#008000"
>3</span>]<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\clip</span>&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(-0.1,-0.2)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>rectangle</span> <span
      class="textcolor"
      style="color:#800080"
>(1.1,0.75)</span>;<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\draw</span>[<span
      class="textcolor"
      style="color:#008000"
>step</span>=<span
      class="textcolor"
      style="color:#008000"
>.5cm</span>,<span
      class="textcolor"
      style="color:#008000"
>gray</span>,<span
      class="textcolor"
      style="color:#008000"
>very thin</span>]&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(-1.4,-1.4)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>grid</span> <span
      class="textcolor"
      style="color:#800080"
>(1.4,1.4)</span>;<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\draw</span>&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(-1.5,0)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>--</span> <span
      class="textcolor"
      style="color:#800080"
>(1.5,0)</span>;<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\draw</span>&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(0,-1.5)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>--</span> <span
      class="textcolor"
      style="color:#800080"
>(0,1.5)</span>;<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\draw</span>&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(0,0)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>circle</span> [<span
      class="textcolor"
      style="color:#008000"
>radius</span>=<span
      class="textcolor"
      style="color:#008000"
>1cm</span>];<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\fill</span>[<span
      class="textcolor"
      style="color:#008000"
>green!20!white</span>]&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(0,0)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>--</span> <span
      class="textcolor"
      style="color:#800080"
>(3mm,0mm)</span><br />
&#x2007;&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#000000"
>arc</span> [<span
      class="textcolor"
      style="color:#008000"
>start angle</span>=<span
      class="textcolor"
      style="color:#008000"
>0</span>,&#x2007;<span
      class="textcolor"
      style="color:#008000"
>end angle</span>=<span
      class="textcolor"
      style="color:#008000"
>30</span>,&#x2007;<span
      class="textcolor"
      style="color:#008000"
>radius</span>=<span
      class="textcolor"
      style="color:#008000"
>3mm</span>]&#x2007;<span
      class="textcolor"
      style="color:#000000"
>--</span> <span
      class="textcolor"
      style="color:#800080"
>(0,0)</span>;<br />
<span
      class="textcolor"
      style="color:#000000"
>\end</span>{<span
      class="textcolor"
      style="color:#0000B2"
>tikzpicture</span>}<br />


</p>
</div>

</div>

<p>
The color <span class="texttt">green!20!white</span> means 20% green and 80% white mixed together. Such color expression are possible since Ti<em>k</em>Z uses Uwe Kern’s <span class="texttt">xcolor</span> package, see the
documentation of that package for details on color expressions.
</p>

<p>
What would have happened, if Karl had not “closed” the path using <span class="texttt">--(0,0)</span> at the end? In this case, the path is closed automatically, so this could have been omitted. Indeed, it would even have been better
to write the following, instead:
</p>



<div class="example">



<div class="example-code">

<p>                                                                            <br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\fill</span>[<span
      class="textcolor"
      style="color:#008000"
>green!20!white</span>]&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(0,0)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>--</span> <span
      class="textcolor"
      style="color:#800080"
>(3mm,0mm)</span><br />
&#x2007;&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#000000"
>arc</span> [<span
      class="textcolor"
      style="color:#008000"
>start angle</span>=<span
      class="textcolor"
      style="color:#008000"
>0</span>,&#x2007;<span
      class="textcolor"
      style="color:#008000"
>end angle</span>=<span
      class="textcolor"
      style="color:#008000"
>30</span>,&#x2007;<span
      class="textcolor"
      style="color:#008000"
>radius</span>=<span
      class="textcolor"
      style="color:#008000"
>3mm</span>]&#x2007;<span
      class="textcolor"
      style="color:#000000"
>--</span> <span
      class="textcolor"
      style="color:#000000"
>cycle</span>;<br />


</p>
</div>

</div>

<p>
The <span class="texttt">--cycle</span> causes the current path to be closed (actually the current part of the current path) by smoothly joining the first and last point. To appreciate the difference, consider the following example:
</p>



<div class="example">



<div class="example-image">

<p>
<span
      id="lateximage-pgfmanual-31"
      class="lateximagesource"
><!--
--> <img
      src="pgfmanual-images/image-31.svg"
      alt="(-tikz-&nbsp;diagram)"
      style=""
      class="lateximage"
></span>
</p>
</div>



<div class="example-code">

<p>                                                                              <br />
<span
      class="textcolor"
      style="color:#000000"
>\begin</span>{<span
      class="textcolor"
      style="color:#0000B2"
>tikzpicture</span>}[<span
      class="textcolor"
      style="color:#008000"
>line width</span>=<span
      class="textcolor"
      style="color:#008000"
>5pt</span>]<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\draw</span>&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(0,0)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>--</span> <span
      class="textcolor"
      style="color:#800080"
>(1,0)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>--</span> <span
      class="textcolor"
      style="color:#800080"
>(1,1)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>--</span> <span
      class="textcolor"
      style="color:#800080"
>(0,0)</span>;<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\draw</span>&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(2,0)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>--</span> <span
      class="textcolor"
      style="color:#800080"
>(3,0)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>--</span> <span
      class="textcolor"
      style="color:#800080"
>(3,1)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>--</span> <span
      class="textcolor"
      style="color:#000000"
>cycle</span>;<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\useasboundingbox</span>&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(0,1.5)</span>;&#x2007;<span class="example-code-comment">% make bounding box higher</span><br />
<span
      class="textcolor"
      style="color:#000000"
>\end</span>{<span
      class="textcolor"
      style="color:#0000B2"
>tikzpicture</span>}<br />


</p>
</div>

</div>

<p>
You can also fill and draw a path at the same time using the <span class="texttt">\filldraw</span> command. This will first draw the path, then fill it. This may not seem too useful, but you can specify different colors to be used for
filling and for stroking. These are specified as optional arguments like this:
</p>



<div class="example">



<div class="example-image">

<p>
<span
      id="lateximage-pgfmanual-32"
      class="lateximagesource"
><!--
--> <img
      src="pgfmanual-images/image-32.svg"
      alt="(-tikz-&nbsp;diagram)"
      style=""
      class="lateximage"
></span>
</p>
</div>



<div class="example-code">

<p>                                         <br />
<span
      class="textcolor"
      style="color:#000000"
>\begin</span>{<span
      class="textcolor"
      style="color:#0000B2"
>tikzpicture</span>}[<span
      class="textcolor"
      style="color:#008000"
>scale</span>=<span
      class="textcolor"
      style="color:#008000"
>3</span>]<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\clip</span>&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(-0.1,-0.2)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>rectangle</span> <span
      class="textcolor"
      style="color:#800080"
>(1.1,0.75)</span>;<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\draw</span>[<span
      class="textcolor"
      style="color:#008000"
>step</span>=<span
      class="textcolor"
      style="color:#008000"
>.5cm</span>,<span
      class="textcolor"
      style="color:#008000"
>gray</span>,<span
      class="textcolor"
      style="color:#008000"
>very thin</span>]&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(-1.4,-1.4)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>grid</span> <span
      class="textcolor"
      style="color:#800080"
>(1.4,1.4)</span>;<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\draw</span>&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(-1.5,0)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>--</span> <span
      class="textcolor"
      style="color:#800080"
>(1.5,0)</span>;<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\draw</span>&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(0,-1.5)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>--</span> <span
      class="textcolor"
      style="color:#800080"
>(0,1.5)</span>;<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\draw</span>&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(0,0)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>circle</span> [<span
      class="textcolor"
      style="color:#008000"
>radius</span>=<span
      class="textcolor"
      style="color:#008000"
>1cm</span>];<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\filldraw</span>[<span
      class="textcolor"
      style="color:#008000"
>fill</span>=<span
      class="textcolor"
      style="color:#008000"
>green!20!white</span>,&#x2007;<span
      class="textcolor"
      style="color:#008000"
>draw</span>=<span
      class="textcolor"
      style="color:#008000"
>green!50!black</span>]&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(0,0)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>--</span> <span
      class="textcolor"
      style="color:#800080"
>(3mm,0mm)</span><br />
&#x2007;&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#000000"
>arc</span> [<span
      class="textcolor"
      style="color:#008000"
>start angle</span>=<span
      class="textcolor"
      style="color:#008000"
>0</span>,&#x2007;<span
      class="textcolor"
      style="color:#008000"
>end angle</span>=<span
      class="textcolor"
      style="color:#008000"
>30</span>,&#x2007;<span
      class="textcolor"
      style="color:#008000"
>radius</span>=<span
      class="textcolor"
      style="color:#008000"
>3mm</span>]&#x2007;<span
      class="textcolor"
      style="color:#000000"
>--</span> <span
      class="textcolor"
      style="color:#000000"
>cycle</span>;<br />
<span
      class="textcolor"
      style="color:#000000"
>\end</span>{<span
      class="textcolor"
      style="color:#0000B2"
>tikzpicture</span>}<br />


</p>
</div>

</div>
<h5 id="autosec-101"><span class="sectionnumber">2.14&#x2003;</span>Shading</h5>
<a id="pgfmanual-autopage-101"></a>


<p>
Karl briefly considers the possibility of making the angle “more fancy” by <em>shading</em> it. Instead of filling the area with a uniform color, a smooth transition between different colors is used. For this, <span
class="texttt">\shade</span> and <span class="texttt">\shadedraw</span>, for shading and drawing at the same time, can be used:
</p>



<div class="example">



<div class="example-image">

<p>
<span
      id="lateximage-pgfmanual-33"
      class="lateximagesource"
><!--
--> <img
      src="pgfmanual-images/image-33.svg"
      alt="(-tikz-&nbsp;diagram)"
      style=""
      class="lateximage"
></span>
</p>
</div>



<div class="example-code">

<p>                                                                            <br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\tikz</span>&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\shade</span>&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(0,0)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>rectangle</span> <span
      class="textcolor"
      style="color:#800080"
>(2,1)</span>&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(3,0.5)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>circle</span> <span
      class="textcolor"
      style="color:#800080"
>(.5cm)</span>;<br />


</p>
</div>

</div>

<p>
The default shading is a smooth transition from gray to white. To specify different colors, you can use options:
</p>



<div class="example">



<div class="example-image">

<p>
<span
      id="lateximage-pgfmanual-34"
      class="lateximagesource"
><!--
--> <img
      src="pgfmanual-images/image-34.svg"
      alt="(-tikz-&nbsp;diagram)"
      style=""
      class="lateximage"
></span>
</p>
</div>



<div class="example-code">

<p>                                             <br />
<span
      class="textcolor"
      style="color:#000000"
>\begin</span>{<span
      class="textcolor"
      style="color:#0000B2"
>tikzpicture</span>}[<span
      class="textcolor"
      style="color:#008000"
>rounded corners</span>,<span
      class="textcolor"
      style="color:#008000"
>ultra thick</span>]<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\shade</span>[<span
      class="textcolor"
      style="color:#008000"
>top color</span>=<span
      class="textcolor"
      style="color:#008000"
>yellow</span>,<span
      class="textcolor"
      style="color:#008000"
>bottom color</span>=<span
      class="textcolor"
      style="color:#008000"
>black</span>]&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(0,0)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>rectangle</span> <span
      class="textcolor"
      style="color:#000000"
>+</span><span
      class="textcolor"
      style="color:#800080"
>(2,1)</span>;<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\shade</span>[<span
      class="textcolor"
      style="color:#008000"
>left color</span>=<span
      class="textcolor"
      style="color:#008000"
>yellow</span>,<span
      class="textcolor"
      style="color:#008000"
>right color</span>=<span
      class="textcolor"
      style="color:#008000"
>black</span>]&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(3,0)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>rectangle</span> <span
      class="textcolor"
      style="color:#000000"
>+</span><span
      class="textcolor"
      style="color:#800080"
>(2,1)</span>;<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\shadedraw</span>[<span
      class="textcolor"
      style="color:#008000"
>inner color</span>=<span
      class="textcolor"
      style="color:#008000"
>yellow</span>,<span
      class="textcolor"
      style="color:#008000"
>outer color</span>=<span
      class="textcolor"
      style="color:#008000"
>black</span>,<span
      class="textcolor"
      style="color:#008000"
>draw</span>=<span
      class="textcolor"
      style="color:#008000"
>yellow</span>]&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(6,0)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>rectangle</span> <span
      class="textcolor"
      style="color:#000000"
>+</span><span
      class="textcolor"
      style="color:#800080"
>(2,1)</span>;<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\shade</span>[<span
      class="textcolor"
      style="color:#008000"
>ball color</span>=<span
      class="textcolor"
      style="color:#008000"
>green</span>]&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(9,.5)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>circle</span> <span
      class="textcolor"
      style="color:#800080"
>(.5cm)</span>;<br />
<span
      class="textcolor"
      style="color:#000000"
>\end</span>{<span
      class="textcolor"
      style="color:#0000B2"
>tikzpicture</span>}<br />


</p>
</div>

</div>

<p>
For Karl, the following might be appropriate:
</p>



<div class="example">



<div class="example-image">

<p>
<span
      id="lateximage-pgfmanual-35"
      class="lateximagesource"
><!--
--> <img
      src="pgfmanual-images/image-35.svg"
      alt="(-tikz-&nbsp;diagram)"
      style=""
      class="lateximage"
></span>
</p>
</div>



<div class="example-code">

<p>                                                                          <br />
<span
      class="textcolor"
      style="color:#000000"
>\begin</span>{<span
      class="textcolor"
      style="color:#0000B2"
>tikzpicture</span>}[<span
      class="textcolor"
      style="color:#008000"
>scale</span>=<span
      class="textcolor"
      style="color:#008000"
>3</span>]<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\clip</span>&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(-0.1,-0.2)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>rectangle</span> <span
      class="textcolor"
      style="color:#800080"
>(1.1,0.75)</span>;<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\draw</span>[<span
      class="textcolor"
      style="color:#008000"
>step</span>=<span
      class="textcolor"
      style="color:#008000"
>.5cm</span>,<span
      class="textcolor"
      style="color:#008000"
>gray</span>,<span
      class="textcolor"
      style="color:#008000"
>very thin</span>]&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(-1.4,-1.4)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>grid</span> <span
      class="textcolor"
      style="color:#800080"
>(1.4,1.4)</span>;<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\draw</span>&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(-1.5,0)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>--</span> <span
      class="textcolor"
      style="color:#800080"
>(1.5,0)</span>;<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\draw</span>&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(0,-1.5)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>--</span> <span
      class="textcolor"
      style="color:#800080"
>(0,1.5)</span>;<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\draw</span>&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(0,0)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>circle</span> [<span
      class="textcolor"
      style="color:#008000"
>radius</span>=<span
      class="textcolor"
      style="color:#008000"
>1cm</span>];<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\shadedraw</span>[<span
      class="textcolor"
      style="color:#008000"
>left color</span>=<span
      class="textcolor"
      style="color:#008000"
>gray</span>,<span
      class="textcolor"
      style="color:#008000"
>right color</span>=<span
      class="textcolor"
      style="color:#008000"
>green</span>,&#x2007;<span
      class="textcolor"
      style="color:#008000"
>draw</span>=<span
      class="textcolor"
      style="color:#008000"
>green!50!black</span>]<br />
&#x2007;&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(0,0)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>--</span> <span
      class="textcolor"
      style="color:#800080"
>(3mm,0mm)</span><br />
&#x2007;&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#000000"
>arc</span> [<span
      class="textcolor"
      style="color:#008000"
>start angle</span>=<span
      class="textcolor"
      style="color:#008000"
>0</span>,&#x2007;<span
      class="textcolor"
      style="color:#008000"
>end angle</span>=<span
      class="textcolor"
      style="color:#008000"
>30</span>,&#x2007;<span
      class="textcolor"
      style="color:#008000"
>radius</span>=<span
      class="textcolor"
      style="color:#008000"
>3mm</span>]&#x2007;<span
      class="textcolor"
      style="color:#000000"
>--</span> <span
      class="textcolor"
      style="color:#000000"
>cycle</span>;<br />
<span
      class="textcolor"
      style="color:#000000"
>\end</span>{<span
      class="textcolor"
      style="color:#0000B2"
>tikzpicture</span>}<br />


</p>
</div>

</div>

<p>
However, he wisely decides that shadings usually only distract without adding anything to the picture.
</p>
<h5 id="autosec-108"><span class="sectionnumber">2.15&#x2003;</span>Specifying Coordinates</h5>
<a id="pgfmanual-autopage-108"></a>


<p>
Karl now wants to add the sine and cosine lines. He knows already that he can use the <span class="texttt">color=</span> option to set the lines’ colors. So, what is the best way to specify the coordinates?
</p>

<p>
There are different ways of specifying coordinates. The easiest way is to say something like <span class="texttt">(10pt,2cm)</span>. This means 10pt in \(x\)-direction and 2cm in \(y\)-directions. Alternatively, you can also leave out the
units as in <span class="texttt">(1,2)</span>, which means “one times the current \(x\)-vector plus twice the current \(y\)-vector”. These vectors default to 1cm in the \(x\)-direction and 1cm in the \(y\)-direction, respectively.
</p>

<p>
In order to specify points in polar coordinates, use the notation <span class="texttt">(30:1cm)</span>, which means 1cm in direction 30 degree. This is obviously quite useful to “get to the point \((\cos 30^\circ ,\sin 30^\circ )\) on the
circle”.
</p>

<p>
You can add a single <span class="texttt">+</span> sign in front of a coordinate or two of them as in <span class="texttt">+(0cm,1cm)</span> or <span class="texttt">++(2cm,0cm)</span>. Such coordinates are interpreted differently: The first
form means “1cm upwards from the previous specified position” and the second means “2cm to the right of the previous specified position, making this the new specified position”. For example, we can draw the sine line as follows:
</p>



<div class="example">



<div class="example-image">

<p>
<span
      id="lateximage-pgfmanual-36"
      class="lateximagesource"
><!--
--> <img
      src="pgfmanual-images/image-36.svg"
      alt="(-tikz-&nbsp;diagram)"
      style=""
      class="lateximage"
></span>
</p>
</div>



<div class="example-code">

<p>                                                                            <br />
<span
      class="textcolor"
      style="color:#000000"
>\begin</span>{<span
      class="textcolor"
      style="color:#0000B2"
>tikzpicture</span>}[<span
      class="textcolor"
      style="color:#008000"
>scale</span>=<span
      class="textcolor"
      style="color:#008000"
>3</span>]<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\clip</span>&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(-0.1,-0.2)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>rectangle</span> <span
      class="textcolor"
      style="color:#800080"
>(1.1,0.75)</span>;<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\draw</span>[<span
      class="textcolor"
      style="color:#008000"
>step</span>=<span
      class="textcolor"
      style="color:#008000"
>.5cm</span>,<span
      class="textcolor"
      style="color:#008000"
>gray</span>,<span
      class="textcolor"
      style="color:#008000"
>very thin</span>]&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(-1.4,-1.4)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>grid</span> <span
      class="textcolor"
      style="color:#800080"
>(1.4,1.4)</span>;<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\draw</span>&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(-1.5,0)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>--</span> <span
      class="textcolor"
      style="color:#800080"
>(1.5,0)</span>;<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\draw</span>&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(0,-1.5)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>--</span> <span
      class="textcolor"
      style="color:#800080"
>(0,1.5)</span>;<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\draw</span>&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(0,0)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>circle</span> [<span
      class="textcolor"
      style="color:#008000"
>radius</span>=<span
      class="textcolor"
      style="color:#008000"
>1cm</span>];<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\filldraw</span>[<span
      class="textcolor"
      style="color:#008000"
>fill</span>=<span
      class="textcolor"
      style="color:#008000"
>green!20</span>,<span
      class="textcolor"
      style="color:#008000"
>draw</span>=<span
      class="textcolor"
      style="color:#008000"
>green!50!black</span>]&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(0,0)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>--</span> <span
      class="textcolor"
      style="color:#800080"
>(3mm,0mm)</span><br />
&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#000000"
>arc</span> [<span
      class="textcolor"
      style="color:#008000"
>start angle</span>=<span
      class="textcolor"
      style="color:#008000"
>0</span>,&#x2007;<span
      class="textcolor"
      style="color:#008000"
>end angle</span>=<span
      class="textcolor"
      style="color:#008000"
>30</span>,&#x2007;<span
      class="textcolor"
      style="color:#008000"
>radius</span>=<span
      class="textcolor"
      style="color:#008000"
>3mm</span>]&#x2007;<span
      class="textcolor"
      style="color:#000000"
>--</span> <span
      class="textcolor"
      style="color:#000000"
>cycle</span>;<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\draw</span>[<span
      class="textcolor"
      style="color:#008000"
>red</span>,<span
      class="textcolor"
      style="color:#008000"
>very thick</span>]&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(30:1cm)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>--</span> <span
      class="textcolor"
      style="color:#000000"
>+</span><span
      class="textcolor"
      style="color:#800080"
>(0,-0.5)</span>;<br />
<span
      class="textcolor"
      style="color:#000000"
>\end</span>{<span
      class="textcolor"
      style="color:#0000B2"
>tikzpicture</span>}<br />


</p>
</div>

</div>

<p>
Karl used the fact \(\sin 30^\circ = 1/2\). However, he very much doubts that his students know this, so it would be nice to have a way of specifying “the point straight down from <span class="texttt">(30:1cm)</span> that lies on the
\(x\)-axis”. This is, indeed, possible using a special syntax: Karl can write <span class="texttt">(30:1cm |- 0,0)</span>. In general, the meaning of <span class="texttt">(</span><span class="angle">&langle;</span><i>p</i><span
class="angle">&rangle;</span><span class="texttt"> |- </span><span class="angle">&langle;</span><i>q</i><span class="angle">&rangle;</span><span class="texttt">)</span> is “the intersection of a vertical line through \(p\) and a horizontal
line through \(q\)”.
</p>

<p>
Next, let us draw the cosine line. One way would be to say <span class="texttt">(30:1cm |- 0,0) -- (0,0)</span>. Another way is the following: we “continue” from where the sine ends:
</p>



<div class="example">



<div class="example-image">

<p>
<span
      id="lateximage-pgfmanual-37"
      class="lateximagesource"
><!--
--> <img
      src="pgfmanual-images/image-37.svg"
      alt="(-tikz-&nbsp;diagram)"
      style=""
      class="lateximage"
></span>
</p>
</div>



<div class="example-code">

<p>                                                                             <br />
<span
      class="textcolor"
      style="color:#000000"
>\begin</span>{<span
      class="textcolor"
      style="color:#0000B2"
>tikzpicture</span>}[<span
      class="textcolor"
      style="color:#008000"
>scale</span>=<span
      class="textcolor"
      style="color:#008000"
>3</span>]<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\clip</span>&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(-0.1,-0.2)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>rectangle</span> <span
      class="textcolor"
      style="color:#800080"
>(1.1,0.75)</span>;<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\draw</span>[<span
      class="textcolor"
      style="color:#008000"
>step</span>=<span
      class="textcolor"
      style="color:#008000"
>.5cm</span>,<span
      class="textcolor"
      style="color:#008000"
>gray</span>,<span
      class="textcolor"
      style="color:#008000"
>very thin</span>]&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(-1.4,-1.4)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>grid</span> <span
      class="textcolor"
      style="color:#800080"
>(1.4,1.4)</span>;<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\draw</span>&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(-1.5,0)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>--</span> <span
      class="textcolor"
      style="color:#800080"
>(1.5,0)</span>;<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\draw</span>&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(0,-1.5)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>--</span> <span
      class="textcolor"
      style="color:#800080"
>(0,1.5)</span>;<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\draw</span>&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(0,0)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>circle</span> [<span
      class="textcolor"
      style="color:#008000"
>radius</span>=<span
      class="textcolor"
      style="color:#008000"
>1cm</span>];<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\filldraw</span>[<span
      class="textcolor"
      style="color:#008000"
>fill</span>=<span
      class="textcolor"
      style="color:#008000"
>green!20</span>,<span
      class="textcolor"
      style="color:#008000"
>draw</span>=<span
      class="textcolor"
      style="color:#008000"
>green!50!black</span>]&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(0,0)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>--</span> <span
      class="textcolor"
      style="color:#800080"
>(3mm,0mm)</span><br />
&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#000000"
>arc</span> [<span
      class="textcolor"
      style="color:#008000"
>start angle</span>=<span
      class="textcolor"
      style="color:#008000"
>0</span>,&#x2007;<span
      class="textcolor"
      style="color:#008000"
>end angle</span>=<span
      class="textcolor"
      style="color:#008000"
>30</span>,&#x2007;<span
      class="textcolor"
      style="color:#008000"
>radius</span>=<span
      class="textcolor"
      style="color:#008000"
>3mm</span>]&#x2007;<span
      class="textcolor"
      style="color:#000000"
>--</span> <span
      class="textcolor"
      style="color:#000000"
>cycle</span>;<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\draw</span>[<span
      class="textcolor"
      style="color:#008000"
>red</span>,<span
      class="textcolor"
      style="color:#008000"
>very thick</span>]&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(30:1cm)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>--</span> <span
      class="textcolor"
      style="color:#000000"
>+</span><span
      class="textcolor"
      style="color:#800080"
>(0,-0.5)</span>;<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\draw</span>[<span
      class="textcolor"
      style="color:#008000"
>blue</span>,<span
      class="textcolor"
      style="color:#008000"
>very thick</span>]&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(30:1cm)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>++</span><span
      class="textcolor"
      style="color:#800080"
>(0,-0.5)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>--</span> <span
      class="textcolor"
      style="color:#800080"
>(0,0)</span>;<br />
<span
      class="textcolor"
      style="color:#000000"
>\end</span>{<span
      class="textcolor"
      style="color:#0000B2"
>tikzpicture</span>}<br />


</p>
</div>

</div>

<p>
Note that there is no <span class="texttt">--</span> between <span class="texttt">(30:1cm)</span> and <span class="texttt">++(0,-0.5)</span>. In detail, this path is interpreted as follows: “First, the <span class="texttt">(30:1cm)</span>
tells me to move my pen to \((\cos 30^\circ ,1/2)\). Next, there comes another coordinate specification, so I move my pen there without drawing anything. This new point is half a unit down from the last position, thus it is at \((\cos
30^\circ ,0)\). Finally, I move the pen to the origin, but this time drawing something (because of the <span class="texttt">--</span>).”
</p>

<p>
To appreciate the difference between <span class="texttt">+</span> and <span class="texttt">++</span> consider the following example:
</p>



<div class="example">



<div class="example-image">

<p>
<span
      id="lateximage-pgfmanual-38"
      class="lateximagesource"
><!--
--> <img
      src="pgfmanual-images/image-38.svg"
      alt="(-tikz-&nbsp;diagram)"
      style=""
      class="lateximage"
></span>
</p>
</div>



<div class="example-code">

<p>                                                                           <br />
<span
      class="textcolor"
      style="color:#000000"
>\begin</span>{<span
      class="textcolor"
      style="color:#0000B2"
>tikzpicture</span>}<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\def</span><span
      class="textcolor"
      style="color:#0000B2"
>\rectanglepath</span>{<span
      class="textcolor"
      style="color:#000000"
>--</span> <span
      class="textcolor"
      style="color:#000000"
>++</span><span
      class="textcolor"
      style="color:#800080"
>(1cm,0cm)</span>&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#000000"
>--</span> <span
      class="textcolor"
      style="color:#000000"
>++</span><span
      class="textcolor"
      style="color:#800080"
>(0cm,1cm)</span>&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#000000"
>--</span> <span
      class="textcolor"
      style="color:#000000"
>++</span><span
      class="textcolor"
      style="color:#800080"
>(-1cm,0cm)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>--</span> <span
      class="textcolor"
      style="color:#000000"
>cycle</span>}<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\draw</span>&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(0,0)</span>&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\rectanglepath</span>;<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\draw</span>&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(1.5,0)</span>&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\rectanglepath</span>;<br />
<span
      class="textcolor"
      style="color:#000000"
>\end</span>{<span
      class="textcolor"
      style="color:#0000B2"
>tikzpicture</span>}<br />


</p>
</div>

</div>

<p>
By comparison, when using a single <span class="texttt">+</span>, the coordinates are different:
</p>



<div class="example">



<div class="example-image">

<p>
<span
      id="lateximage-pgfmanual-39"
      class="lateximagesource"
><!--
--> <img
      src="pgfmanual-images/image-39.svg"
      alt="(-tikz-&nbsp;diagram)"
      style=""
      class="lateximage"
></span>
</p>
</div>



<div class="example-code">

<p>                                                                            <br />
<span
      class="textcolor"
      style="color:#000000"
>\begin</span>{<span
      class="textcolor"
      style="color:#0000B2"
>tikzpicture</span>}<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\def</span><span
      class="textcolor"
      style="color:#0000B2"
>\rectanglepath</span>{<span
      class="textcolor"
      style="color:#000000"
>--</span> <span
      class="textcolor"
      style="color:#000000"
>+</span><span
      class="textcolor"
      style="color:#800080"
>(1cm,0cm)</span>&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#000000"
>--</span> <span
      class="textcolor"
      style="color:#000000"
>+</span><span
      class="textcolor"
      style="color:#800080"
>(1cm,1cm)</span>&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#000000"
>--</span> <span
      class="textcolor"
      style="color:#000000"
>+</span><span
      class="textcolor"
      style="color:#800080"
>(0cm,1cm)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>--</span> <span
      class="textcolor"
      style="color:#000000"
>cycle</span>}<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\draw</span>&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(0,0)</span>&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\rectanglepath</span>;<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\draw</span>&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(1.5,0)</span>&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\rectanglepath</span>;<br />
<span
      class="textcolor"
      style="color:#000000"
>\end</span>{<span
      class="textcolor"
      style="color:#0000B2"
>tikzpicture</span>}<br />


</p>
</div>

</div>

<p>
Naturally, all of this could have been written more clearly and more economically like this (either with a single or a double <span class="texttt">+</span>):
</p>



<div class="example">



<div class="example-image">

<p>
<span
      id="lateximage-pgfmanual-40"
      class="lateximagesource"
><!--
--> <img
      src="pgfmanual-images/image-40.svg"
      alt="(-tikz-&nbsp;diagram)"
      style=""
      class="lateximage"
></span>
</p>
</div>



<div class="example-code">

<p>                                         <br />
<span
      class="textcolor"
      style="color:#0000B2"
>\tikz</span>&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\draw</span>&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(0,0)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>rectangle</span> <span
      class="textcolor"
      style="color:#000000"
>+</span><span
      class="textcolor"
      style="color:#800080"
>(1,1)</span>&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(1.5,0)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>rectangle</span> <span
      class="textcolor"
      style="color:#000000"
>+</span><span
      class="textcolor"
      style="color:#800080"
>(1,1)</span>;<br />


</p>
</div>

</div>
<h5 id="autosec-119"><span class="sectionnumber">2.16&#x2003;</span>Intersecting Paths</h5>
<a id="pgfmanual-autopage-119"></a>


<p>
Karl is left with the line for \(\tan \alpha \), which seems difficult to specify using transformations and polar coordinates. The first – and easiest – thing he can do is so simply use the coordinate <span class="texttt">(1,{tan(30)})</span>
since Ti<em>k</em>Z’s math engine knows how to compute things like <span class="texttt">tan(30)</span>. Note the added braces since, otherwise, Ti<em>k</em>Z’s parser would think that the first closing parenthesis ends the coordinate
(in general, you need to add braces around components of coordinates when these components contain parentheses).
</p>

<p>
Karl can, however, also use a more elaborate, but also more “geometric” way of computing the length of the orange line: He can specify intersections of paths as coordinates. The line for \(\tan \alpha \) starts at \((1,0)\) and goes
upward to a point that is at the intersection of a line going “up” and a line going from the origin through <span class="texttt">(30:1cm)</span>. Such computations are made available by the <span class="texttt">intersections</span>
library.
</p>

<p>
What Karl must do is to create two “invisible” paths that intersect at the position of interest. Creating paths that are not otherwise seen can be done using the <span class="texttt">\path</span> command without any options like <span
class="texttt">draw</span> or <span class="texttt">fill</span>. Then, Karl can add the <span class="texttt">name path</span> option to the path for later reference. Once the paths have been constructed, Karl can use the <span
class="texttt">name intersections</span> to assign names to the coordinate for later reference.
</p>



<div class="example">



<div class="example-code">

<p>                                                                             <br />
<span
      class="textcolor"
      style="color:#0000B2"
>\path</span>&#x2007;[<span
      class="textcolor"
      style="color:#008000"
>name path</span>=<span
      class="textcolor"
      style="color:#008000"
>upward line</span>]&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(1,0)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>--</span> <span
      class="textcolor"
      style="color:#800080"
>(1,1)</span>;<br />
<span
      class="textcolor"
      style="color:#0000B2"
>\path</span>&#x2007;[<span
      class="textcolor"
      style="color:#008000"
>name path</span>=<span
      class="textcolor"
      style="color:#008000"
>sloped line</span>]&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(0,0)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>--</span> <span
      class="textcolor"
      style="color:#800080"
>(30:1.5cm)</span>;&#x2007;<span class="example-code-comment">% a bit longer, so that there is an intersection</span><br />
<br />
<span class="example-code-comment">% (add `\usetikzlibrary{intersections}' after loading tikz in the preamble)</span><br />
<span
      class="textcolor"
      style="color:#0000B2"
>\draw</span>&#x2007;[<span
      class="textcolor"
      style="color:#008000"
>name intersections</span>=<span
      class="textcolor"
      style="color:#008000"
>{of=upward line and sloped line,&#x2007;by=x}</span>]<br />
&#x2007;&#x2007;[<span
      class="textcolor"
      style="color:#008000"
>very thick</span>,<span
      class="textcolor"
      style="color:#008000"
>orange</span>]&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(1,0)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>--</span> <span
      class="textcolor"
      style="color:#800080"
>(x)</span>;<br />


</p>
</div>

</div>
<h5 id="autosec-120"><span class="sectionnumber">2.17&#x2003;</span>Adding Arrow Tips</h5>
<a id="pgfmanual-autopage-120"></a>


<p>
Karl now wants to add the little arrow tips at the end of the axes. He has noticed that in many plots, even in scientific journals, these arrow tips seem to be missing, presumably because the generating programs cannot produce them.
Karl thinks arrow tips belong at the end of axes. His son agrees. His students do not care about arrow tips.
</p>

<p>
It turns out that adding arrow tips is pretty easy: Karl adds the option <span class="texttt">-></span> to the drawing commands for the axes:
</p>



<div class="example">



<div class="example-image">

<p>
<span
      id="lateximage-pgfmanual-41"
      class="lateximagesource"
><!--
--> <img
      src="pgfmanual-images/image-41.svg"
      alt="(-tikz-&nbsp;diagram)"
      style=""
      class="lateximage"
></span>
</p>
</div>



<div class="example-code">

<p>
<span class="c-
preamble">\usetikzlibrary {intersections}                                                                                                                                                                                                    </span><br
/>
<span
      class="textcolor"
      style="color:#000000"
>\begin</span>{<span
      class="textcolor"
      style="color:#0000B2"
>tikzpicture</span>}[<span
      class="textcolor"
      style="color:#008000"
>scale</span>=<span
      class="textcolor"
      style="color:#008000"
>3</span>]<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\clip</span>&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(-0.1,-0.2)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>rectangle</span> <span
      class="textcolor"
      style="color:#800080"
>(1.1,1.51)</span>;<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\draw</span>[<span
      class="textcolor"
      style="color:#008000"
>step</span>=<span
      class="textcolor"
      style="color:#008000"
>.5cm</span>,<span
      class="textcolor"
      style="color:#008000"
>gray</span>,<span
      class="textcolor"
      style="color:#008000"
>very thin</span>]&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(-1.4,-1.4)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>grid</span> <span
      class="textcolor"
      style="color:#800080"
>(1.4,1.4)</span>;<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\draw</span>[<span
      class="textcolor"
      style="color:#008000"
>-></span>]&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(-1.5,0)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>--</span> <span
      class="textcolor"
      style="color:#800080"
>(1.5,0)</span>;<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\draw</span>[<span
      class="textcolor"
      style="color:#008000"
>-></span>]&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(0,-1.5)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>--</span> <span
      class="textcolor"
      style="color:#800080"
>(0,1.5)</span>;<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\draw</span>&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(0,0)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>circle</span> [<span
      class="textcolor"
      style="color:#008000"
>radius</span>=<span
      class="textcolor"
      style="color:#008000"
>1cm</span>];<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\filldraw</span>[<span
      class="textcolor"
      style="color:#008000"
>fill</span>=<span
      class="textcolor"
      style="color:#008000"
>green!20</span>,<span
      class="textcolor"
      style="color:#008000"
>draw</span>=<span
      class="textcolor"
      style="color:#008000"
>green!50!black</span>]&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(0,0)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>--</span> <span
      class="textcolor"
      style="color:#800080"
>(3mm,0mm)</span><br />
&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#000000"
>arc</span> [<span
      class="textcolor"
      style="color:#008000"
>start angle</span>=<span
      class="textcolor"
      style="color:#008000"
>0</span>,&#x2007;<span
      class="textcolor"
      style="color:#008000"
>end angle</span>=<span
      class="textcolor"
      style="color:#008000"
>30</span>,&#x2007;<span
      class="textcolor"
      style="color:#008000"
>radius</span>=<span
      class="textcolor"
      style="color:#008000"
>3mm</span>]&#x2007;<span
      class="textcolor"
      style="color:#000000"
>--</span> <span
      class="textcolor"
      style="color:#000000"
>cycle</span>;<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\draw</span>[<span
      class="textcolor"
      style="color:#008000"
>red</span>,<span
      class="textcolor"
      style="color:#008000"
>very thick</span>]&#x2007;&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(30:1cm)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>--</span> <span
      class="textcolor"
      style="color:#000000"
>+</span><span
      class="textcolor"
      style="color:#800080"
>(0,-0.5)</span>;<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\draw</span>[<span
      class="textcolor"
      style="color:#008000"
>blue</span>,<span
      class="textcolor"
      style="color:#008000"
>very thick</span>]&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(30:1cm)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>++</span><span
      class="textcolor"
      style="color:#800080"
>(0,-0.5)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>--</span> <span
      class="textcolor"
      style="color:#800080"
>(0,0)</span>;<br />
<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\path</span>&#x2007;[<span
      class="textcolor"
      style="color:#008000"
>name path</span>=<span
      class="textcolor"
      style="color:#008000"
>upward line</span>]&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(1,0)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>--</span> <span
      class="textcolor"
      style="color:#800080"
>(1,1)</span>;<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\path</span>&#x2007;[<span
      class="textcolor"
      style="color:#008000"
>name path</span>=<span
      class="textcolor"
      style="color:#008000"
>sloped line</span>]&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(0,0)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>--</span> <span
      class="textcolor"
      style="color:#800080"
>(30:1.5cm)</span>;<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\draw</span>&#x2007;[<span
      class="textcolor"
      style="color:#008000"
>name intersections</span>=<span
      class="textcolor"
      style="color:#008000"
>{of=upward line and sloped line,&#x2007;by=x}</span>]<br />
&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;[<span
      class="textcolor"
      style="color:#008000"
>very thick</span>,<span
      class="textcolor"
      style="color:#008000"
>orange</span>]&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(1,0)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>--</span> <span
      class="textcolor"
      style="color:#800080"
>(x)</span>;<br />
<span
      class="textcolor"
      style="color:#000000"
>\end</span>{<span
      class="textcolor"
      style="color:#0000B2"
>tikzpicture</span>}<br />


</p>
</div>

</div>

<p>
If Karl had used the option <span class="texttt"><-</span> instead of <span class="texttt">-></span>, arrow tips would have been put at the beginning of the path. The option <span class="texttt"><-></span> puts arrow tips at both ends
of the path.
</p>

<p>
There are certain restrictions to the kind of paths to which arrow tips can be added. As a rule of thumb, you can add arrow tips only to a single open “line”. For example, you cannot add tips to, say, a rectangle or a circle. However,
you can add arrow tips to curved paths and to paths that have several segments, as in the following examples:
</p>



<div class="example">



<div class="example-image">

<p>
<span
      id="lateximage-pgfmanual-42"
      class="lateximagesource"
><!--
--> <img
      src="pgfmanual-images/image-42.svg"
      alt="(-tikz-&nbsp;diagram)"
      style=""
      class="lateximage"
></span>
</p>
</div>



<div class="example-code">

<p>                                                                           <br />
<span
      class="textcolor"
      style="color:#000000"
>\begin</span>{<span
      class="textcolor"
      style="color:#0000B2"
>tikzpicture</span>}<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\draw</span>&#x2007;[<span
      class="textcolor"
      style="color:#008000"
><-></span>]&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(0,0)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>arc</span> [<span
      class="textcolor"
      style="color:#008000"
>start angle</span>=<span
      class="textcolor"
      style="color:#008000"
>180</span>,&#x2007;<span
      class="textcolor"
      style="color:#008000"
>end angle</span>=<span
      class="textcolor"
      style="color:#008000"
>30</span>,&#x2007;<span
      class="textcolor"
      style="color:#008000"
>radius</span>=<span
      class="textcolor"
      style="color:#008000"
>10pt</span>];<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\draw</span>&#x2007;[<span
      class="textcolor"
      style="color:#008000"
><-></span>]&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(1,0)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>--</span> <span
      class="textcolor"
      style="color:#800080"
>(1.5cm,10pt)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>--</span> <span
      class="textcolor"
      style="color:#800080"
>(2cm,0pt)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>--</span> <span
      class="textcolor"
      style="color:#800080"
>(2.5cm,10pt)</span>;<br />
<span
      class="textcolor"
      style="color:#000000"
>\end</span>{<span
      class="textcolor"
      style="color:#0000B2"
>tikzpicture</span>}<br />


</p>
</div>

</div>

<p>
Karl has a more detailed look at the arrow that Ti<em>k</em>Z puts at the end. It looks like this when he zooms it: <span
      id="lateximage-pgfmanual-43"
      class="lateximagesource"
><!--
--> <img
      src="pgfmanual-images/image-43.svg"
      alt="(-tikz-&nbsp;diagram)"
      style=""
      class="lateximage"
></span>. The shape seems vaguely familiar and, indeed, this is exactly the end of <span class="latexlogofont"><span class="latexlogo">T<span class="latexlogosub">e</span>X</span></span>’s standard arrow used in something like \(f\colon
A \to B\).
</p>

<p>
Karl likes the arrow, especially since it is not “as thick” as the arrows offered by many other packages. However, he expects that, sometimes, he might need to use some other kinds of arrow. To do so, Karl can say <span
class="texttt">>=</span><span class="angle">&langle;</span><i>kind of end arrow tip</i><span class="angle">&rangle;</span>, where <span class="angle">&langle;</span><i>kind of end arrow tip</i><span class="angle">&rangle;</span> is a
special arrow tip specification. For example, if Karl says <span class="texttt">>=Stealth</span>, then he tells Ti<em>k</em>Z that he would like “stealth-fighter-like” arrow tips:
</p>



<div class="example">



<div class="example-image">

<p>
<span
      id="lateximage-pgfmanual-44"
      class="lateximagesource"
><!--
--> <img
      src="pgfmanual-images/image-44.svg"
      alt="(-tikz-&nbsp;diagram)"
      style=""
      class="lateximage"
></span>
</p>
</div>



<div class="example-code">

<p>
<span class="c-
preamble">\usetikzlibrary {arrows.meta}                                                                                                                                                                                                        </span><br
/>
<span
      class="textcolor"
      style="color:#000000"
>\begin</span>{<span
      class="textcolor"
      style="color:#0000B2"
>tikzpicture</span>}[<span
      class="textcolor"
      style="color:#008000"
>></span>=<span
      class="textcolor"
      style="color:#008000"
>Stealth</span>]<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\draw</span>&#x2007;[<span
      class="textcolor"
      style="color:#008000"
>-></span>]&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(0,0)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>arc</span> [<span
      class="textcolor"
      style="color:#008000"
>start angle</span>=<span
      class="textcolor"
      style="color:#008000"
>180</span>,&#x2007;<span
      class="textcolor"
      style="color:#008000"
>end angle</span>=<span
      class="textcolor"
      style="color:#008000"
>30</span>,&#x2007;<span
      class="textcolor"
      style="color:#008000"
>radius</span>=<span
      class="textcolor"
      style="color:#008000"
>10pt</span>];<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\draw</span>&#x2007;[<span
      class="textcolor"
      style="color:#008000"
><<-</span>,<span
      class="textcolor"
      style="color:#008000"
>very thick</span>]&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(1,0)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>--</span> <span
      class="textcolor"
      style="color:#800080"
>(1.5cm,10pt)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>--</span> <span
      class="textcolor"
      style="color:#800080"
>(2cm,0pt)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>--</span> <span
      class="textcolor"
      style="color:#800080"
>(2.5cm,10pt)</span>;<br />
<span
      class="textcolor"
      style="color:#000000"
>\end</span>{<span
      class="textcolor"
      style="color:#0000B2"
>tikzpicture</span>}<br />


</p>
</div>

</div>

<p>
Karl wonders whether such a military name for the arrow type is really necessary. He is not really mollified when his son tells him that Microsoft’s PowerPoint uses the same name. He decides to have his students discuss this at some
point.
</p>

<p>
In addition to <span class="texttt">Stealth</span> there are several other predefined kinds of arrow tips Karl can choose from, see Section&nbsp;<a href="home.html#??">??</a>. Furthermore, he can define arrows types himself, if he needs
new ones.
</p>
<h5 id="autosec-129"><span class="sectionnumber">2.18&#x2003;</span>Scoping</h5>
<a id="pgfmanual-autopage-129"></a>


<p>
Karl saw already that there are numerous graphic options that affect how paths are rendered. Often, he would like to apply certain options to a whole set of graphic commands. For example, Karl might wish to draw three paths using a
<span class="texttt">thick</span> pen, but would like everything else to be drawn “normally”.
</p>

<p>
If Karl wishes to set a certain graphic option for the whole picture, he can simply pass this option to the <span class="texttt">\tikz</span> command or to the <span class="texttt">{tikzpicture}</span> environment (Gerda would pass the
options to <span class="texttt">\tikzpicture</span> and Hans passes them to <span class="texttt">\starttikzpicture</span>). However, if Karl wants to apply graphic options to a local group, he put these commands inside a <span
class="texttt">{scope}</span> environment (Gerda uses <span class="texttt">\scope</span> and <span class="texttt">\endscope</span>, Hans uses <span class="texttt">\startscope</span> and <span class="texttt">\stopscope</span>). This
environment takes graphic options as an optional argument and these options apply to everything inside the scope, but not to anything outside.
</p>

<p>
Here is an example:
</p>



<div class="example">



<div class="example-image">

<p>
<span
      id="lateximage-pgfmanual-45"
      class="lateximagesource"
><!--
--> <img
      src="pgfmanual-images/image-45.svg"
      alt="(-tikz-&nbsp;diagram)"
      style=""
      class="lateximage"
></span>
</p>
</div>



<div class="example-code">

<p>                                                                             <br />
<span
      class="textcolor"
      style="color:#000000"
>\begin</span>{<span
      class="textcolor"
      style="color:#0000B2"
>tikzpicture</span>}[<span
      class="textcolor"
      style="color:#008000"
>ultra thick</span>]<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\draw</span>&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(0,0)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>--</span> <span
      class="textcolor"
      style="color:#800080"
>(0,1)</span>;<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#000000"
>\begin</span>{<span
      class="textcolor"
      style="color:#0000B2"
>scope</span>}[<span
      class="textcolor"
      style="color:#008000"
>thin</span>]<br />
&#x2007;&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\draw</span>&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(1,0)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>--</span> <span
      class="textcolor"
      style="color:#800080"
>(1,1)</span>;<br />
&#x2007;&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\draw</span>&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(2,0)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>--</span> <span
      class="textcolor"
      style="color:#800080"
>(2,1)</span>;<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#000000"
>\end</span>{<span
      class="textcolor"
      style="color:#0000B2"
>scope</span>}<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\draw</span>&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(3,0)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>--</span> <span
      class="textcolor"
      style="color:#800080"
>(3,1)</span>;<br />
<span
      class="textcolor"
      style="color:#000000"
>\end</span>{<span
      class="textcolor"
      style="color:#0000B2"
>tikzpicture</span>}<br />


</p>
</div>

</div>

<p>
Scoping has another interesting effect: Any changes to the clipping area are local to the scope. Thus, if you say <span class="texttt">\clip</span> somewhere inside a scope, the effect of the <span class="texttt">\clip</span> command
ends at the end of the scope. This is useful since there is no other way of “enlarging” the clipping area.
</p>

<p>
Karl has also already seen that giving options to commands like <span class="texttt">\draw</span> apply only to that command. It turns out that the situation is slightly more complex. First, options to a command like <span
class="texttt">\draw</span> are not really options to the command, but they are “path options” and can be given anywhere on the path. So, instead of <span class="texttt">\draw[thin] (0,0) -- (1,0);</span> one can also write <span
class="texttt">\draw (0,0) [thin] -- (1,0);</span> or <span class="texttt">\draw (0,0) -- (1,0) [thin];</span>; all of these have the same effect. This might seem strange since in the last case, it would appear that the <span
class="texttt">thin</span> should take effect only “after” the line from \((0,0)\) to \((1,0)\) has been drawn. However, most graphic options only apply to the whole path. Indeed, if you say both <span class="texttt">thin</span> and
<span class="texttt">thick</span> on the same path, the last option given will “win”.
</p>

<p>
When reading the above, Karl notices that only “most” graphic options apply to the whole path. Indeed, all transformation options do <em>not</em> apply to the whole path, but only to “everything following them on the path”. We will
have a more detailed look at this in a moment. Nevertheless, all options given during a path construction apply only to this path.
</p>
<h5 id="autosec-132"><span class="sectionnumber">2.19&#x2003;</span>Transformations</h5>
<a id="pgfmanual-autopage-132"></a>


<p>
When you specify a coordinate like <span class="texttt">(1cm,1cm)</span>, where is that coordinate placed on the page? To determine the position, Ti<em>k</em>Z, <span class="latexlogofont"><span class="latexlogo">T<span
class="latexlogosub">e</span>X</span></span>, and <span class="textsc">pdf</span> or PostScript all apply certain transformations to the given coordinate in order to determine the final position on the page.
</p>

<p>
Ti<em>k</em>Z provides numerous options that allow you to transform coordinates in Ti<em>k</em>Z’s private coordinate system. For example, the <span class="texttt">xshift</span> option allows you to shift all subsequent points by a
certain amount:
</p>



<div class="example">



<div class="example-image">

<p>
<span
      id="lateximage-pgfmanual-46"
      class="lateximagesource"
><!--
--> <img
      src="pgfmanual-images/image-46.svg"
      alt="(-tikz-&nbsp;diagram)"
      style=""
      class="lateximage"
></span>
</p>
</div>



<div class="example-code">

<p>                                                                           <br />
<span
      class="textcolor"
      style="color:#0000B2"
>\tikz</span>&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\draw</span>&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(0,0)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>--</span> <span
      class="textcolor"
      style="color:#800080"
>(0,0.5)</span>&#x2007;[<span
      class="textcolor"
      style="color:#008000"
>xshift</span>=<span
      class="textcolor"
      style="color:#008000"
>2pt</span>]&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(0,0)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>--</span> <span
      class="textcolor"
      style="color:#800080"
>(0,0.5)</span>;<br />


</p>
</div>

</div>

<p>
It is important to note that you can change transformation “in the middle of a path”, a feature that is not supported by <span class="textsc">pdf</span> or PostScript. The reason is that Ti<em>k</em>Z keeps track of its own
transformation matrix.
</p>

<p>
Here is a more complicated example:
</p>



<div class="example">



<div class="example-image">

<p>
<span
      id="lateximage-pgfmanual-47"
      class="lateximagesource"
><!--
--> <img
      src="pgfmanual-images/image-47.svg"
      alt="(-tikz-&nbsp;diagram)"
      style=""
      class="lateximage"
></span>
</p>
</div>



<div class="example-code">

<p>                                                                              <br />
<span
      class="textcolor"
      style="color:#000000"
>\begin</span>{<span
      class="textcolor"
      style="color:#0000B2"
>tikzpicture</span>}[<span
      class="textcolor"
      style="color:#008000"
>even odd rule</span>,<span
      class="textcolor"
      style="color:#008000"
>rounded corners</span>=<span
      class="textcolor"
      style="color:#008000"
>2pt</span>,<span
      class="textcolor"
      style="color:#008000"
>x</span>=<span
      class="textcolor"
      style="color:#008000"
>10pt</span>,<span
      class="textcolor"
      style="color:#008000"
>y</span>=<span
      class="textcolor"
      style="color:#008000"
>10pt</span>]<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\filldraw</span>[<span
      class="textcolor"
      style="color:#008000"
>fill</span>=<span
      class="textcolor"
      style="color:#008000"
>yellow!80!black</span>]&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(0,0)</span>&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#000000"
>rectangle</span> <span
      class="textcolor"
      style="color:#800080"
>(1,1)</span><br />
&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;[<span
      class="textcolor"
      style="color:#008000"
>xshift</span>=<span
      class="textcolor"
      style="color:#008000"
>5pt</span>,<span
      class="textcolor"
      style="color:#008000"
>yshift</span>=<span
      class="textcolor"
      style="color:#008000"
>5pt</span>]&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(0,0)</span>&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#000000"
>rectangle</span> <span
      class="textcolor"
      style="color:#800080"
>(1,1)</span><br />
&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;[<span
      class="textcolor"
      style="color:#008000"
>rotate</span>=<span
      class="textcolor"
      style="color:#008000"
>30</span>]&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(-1,-1)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>rectangle</span> <span
      class="textcolor"
      style="color:#800080"
>(2,2)</span>;<br />
<span
      class="textcolor"
      style="color:#000000"
>\end</span>{<span
      class="textcolor"
      style="color:#0000B2"
>tikzpicture</span>}<br />


</p>
</div>

</div>

<p>
The most useful transformations are <span class="texttt">xshift</span> and <span class="texttt">yshift</span> for shifting, <span class="texttt">shift</span> for shifting to a given point as in <span class="texttt">shift={(1,0)}</span> or
<span class="texttt">shift={+(0,0)}</span> (the braces are necessary so that <span class="latexlogofont"><span class="latexlogo">T<span class="latexlogosub">e</span>X</span></span> does not mistake the comma for separating options),
<span class="texttt">rotate</span> for rotating by a certain angle (there is also a <span class="texttt">rotate around</span> for rotating around a given point), <span class="texttt">scale</span> for scaling by a certain factor, <span
class="texttt">xscale</span> and <span class="texttt">yscale</span> for scaling only in the \(x\)- or \(y\)-direction (<span class="texttt">xscale=-1</span> is a flip), and <span class="texttt">xslant</span> and <span
class="texttt">yslant</span> for slanting. If these transformation and those that I have not mentioned are not sufficient, the <span class="texttt">cm</span> option allows you to apply an arbitrary transformation matrix. Karl’s students,
by the way, do not know what a transformation matrix is.
</p>
<h5 id="autosec-137"><span class="sectionnumber">2.20&#x2003;</span>Repeating Things: For-Loops</h5>
<a id="pgfmanual-autopage-137"></a>


<p>
Karl’s next aim is to add little ticks on the axes at positions \(-1\), \(-1/2\), \(1/2\), and \(1\). For this, it would be nice to use some kind of “loop”, especially since he wishes to do the same thing at each of these positions. There are
different packages for doing this. <span class="latexlogofont"><span class="latexlogo">L<span class="latexlogosup">a</span>T<span class="latexlogosub">e</span>X</span></span> has its own internal command for this, <span
class="texttt">pstricks</span> comes along with the powerful <span class="texttt">\multido</span> command. All of these can be used together with Ti<em>k</em>Z, so if you are familiar with them, feel free to use them. Ti<em>k</em>Z
introduces yet another command, called <span class="texttt">\foreach</span>, which I introduced since I could never remember the syntax of the other packages. <span class="texttt">\foreach</span> is defined in the package <span
class="texttt">pgffor</span> and can be used independently of Ti<em>k</em>Z, but Ti<em>k</em>Z includes it automatically.
</p>

<p>
In its basic form, the <span class="texttt">\foreach</span> command is easy to use:
</p>



<div class="example">



<div class="example-image">

<p>
<span
      id="lateximage-pgfmanual-48"
      class="lateximagesource"
><!--
x = 1, x = 2, x = 3,
--> <img
      src="pgfmanual-images/image-48.svg"
      alt="(image)"
      style=""
      class="lateximage"
></span>
</p>
</div>



<div class="example-code">

<p>                                                                            <br />
<span
      class="textcolor"
      style="color:#0000B2"
>\foreach</span>&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\x</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>in</span> {<span
      class="textcolor"
      style="color:#000000"
>1</span>,<span
      class="textcolor"
      style="color:#000000"
>2</span>,<span
      class="textcolor"
      style="color:#000000"
>3</span>}&#x2007;{<span
      class="textcolor"
      style="color:#000000"
>$x</span> <span
      class="textcolor"
      style="color:#000000"
>=</span><span
      class="textcolor"
      style="color:#0000B2"
>\x</span><span
      class="textcolor"
      style="color:#000000"
>$</span>,&#x2007;}<br />


</p>
</div>

</div>

<p>
The general syntax is <span class="texttt">\foreach</span> <span class="angle">&langle;</span><i>variable</i><span class="angle">&rangle;</span><span class="texttt"> in {</span><span class="angle">&langle;</span><i>list of values</i><span
class="angle">&rangle;</span><span class="texttt">} </span><span class="angle">&langle;</span><i>commands</i><span class="angle">&rangle;</span>. Inside the <span class="angle">&langle;</span><i>commands</i><span
class="angle">&rangle;</span>, the <span class="angle">&langle;</span><i>variable</i><span class="angle">&rangle;</span> will be assigned to the different values. If the <span class="angle">&langle;</span><i>commands</i><span
class="angle">&rangle;</span> do not start with a brace, everything up to the next semicolon is used as <span class="angle">&langle;</span><i>commands</i><span class="angle">&rangle;</span>.
</p>

<p>
For Karl and the ticks on the axes, he could use the following code:
</p>



<div class="example">



<div class="example-image">

<p>
<span
      id="lateximage-pgfmanual-49"
      class="lateximagesource"
><!--
--> <img
      src="pgfmanual-images/image-49.svg"
      alt="(-tikz-&nbsp;diagram)"
      style=""
      class="lateximage"
></span>
</p>
</div>



<div class="example-code">

<p>                                                                            <br />
<span
      class="textcolor"
      style="color:#000000"
>\begin</span>{<span
      class="textcolor"
      style="color:#0000B2"
>tikzpicture</span>}[<span
      class="textcolor"
      style="color:#008000"
>scale</span>=<span
      class="textcolor"
      style="color:#008000"
>3</span>]<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\clip</span>&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(-0.1,-0.2)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>rectangle</span> <span
      class="textcolor"
      style="color:#800080"
>(1.1,1.51)</span>;<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\draw</span>[<span
      class="textcolor"
      style="color:#008000"
>step</span>=<span
      class="textcolor"
      style="color:#008000"
>.5cm</span>,<span
      class="textcolor"
      style="color:#008000"
>gray</span>,<span
      class="textcolor"
      style="color:#008000"
>very thin</span>]&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(-1.4,-1.4)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>grid</span> <span
      class="textcolor"
      style="color:#800080"
>(1.4,1.4)</span>;<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\filldraw</span>[<span
      class="textcolor"
      style="color:#008000"
>fill</span>=<span
      class="textcolor"
      style="color:#008000"
>green!20</span>,<span
      class="textcolor"
      style="color:#008000"
>draw</span>=<span
      class="textcolor"
      style="color:#008000"
>green!50!black</span>]&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(0,0)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>--</span> <span
      class="textcolor"
      style="color:#800080"
>(3mm,0mm)</span><br />
&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#000000"
>arc</span> [<span
      class="textcolor"
      style="color:#008000"
>start angle</span>=<span
      class="textcolor"
      style="color:#008000"
>0</span>,&#x2007;<span
      class="textcolor"
      style="color:#008000"
>end angle</span>=<span
      class="textcolor"
      style="color:#008000"
>30</span>,&#x2007;<span
      class="textcolor"
      style="color:#008000"
>radius</span>=<span
      class="textcolor"
      style="color:#008000"
>3mm</span>]&#x2007;<span
      class="textcolor"
      style="color:#000000"
>--</span> <span
      class="textcolor"
      style="color:#000000"
>cycle</span>;<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\draw</span>[<span
      class="textcolor"
      style="color:#008000"
>-></span>]&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(-1.5,0)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>--</span> <span
      class="textcolor"
      style="color:#800080"
>(1.5,0)</span>;<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\draw</span>[<span
      class="textcolor"
      style="color:#008000"
>-></span>]&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(0,-1.5)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>--</span> <span
      class="textcolor"
      style="color:#800080"
>(0,1.5)</span>;<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\draw</span>&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(0,0)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>circle</span> [<span
      class="textcolor"
      style="color:#008000"
>radius</span>=<span
      class="textcolor"
      style="color:#008000"
>1cm</span>];<br />
<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\foreach</span>&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\x</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>in</span> {<span
      class="textcolor"
      style="color:#000000"
>-1cm</span>,<span
      class="textcolor"
      style="color:#000000"
>-0</span>.<span
      class="textcolor"
      style="color:#000000"
>5cm</span>,<span
      class="textcolor"
      style="color:#000000"
>1cm</span>}<br />
&#x2007;&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\draw</span>&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(\x,-1pt)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>--</span> <span
      class="textcolor"
      style="color:#800080"
>(\x,1pt)</span>;<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\foreach</span>&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\y</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>in</span> {<span
      class="textcolor"
      style="color:#000000"
>-1cm</span>,<span
      class="textcolor"
      style="color:#000000"
>-0</span>.<span
      class="textcolor"
      style="color:#000000"
>5cm</span>,<span
      class="textcolor"
      style="color:#000000"
>0</span>.<span
      class="textcolor"
      style="color:#000000"
>5cm</span>,<span
      class="textcolor"
      style="color:#000000"
>1cm</span>}<br />
&#x2007;&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\draw</span>&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(-1pt,\y)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>--</span> <span
      class="textcolor"
      style="color:#800080"
>(1pt,\y)</span>;<br />
<span
      class="textcolor"
      style="color:#000000"
>\end</span>{<span
      class="textcolor"
      style="color:#0000B2"
>tikzpicture</span>}<br />


</p>
</div>

</div>

<p>
As a matter of fact, there are many different ways of creating the ticks. For example, Karl could have put the <span class="texttt">\draw ...;</span> inside curly braces. He could also have used, say,
</p>



<div class="example">



<div class="example-code">

<p>                                                                            <br />
<span
      class="textcolor"
      style="color:#0000B2"
>\foreach</span>&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\x</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>in</span> {<span
      class="textcolor"
      style="color:#000000"
>-1</span>,<span
      class="textcolor"
      style="color:#000000"
>-0</span>.<span
      class="textcolor"
      style="color:#000000"
>5</span>,<span
      class="textcolor"
      style="color:#000000"
>1</span>}<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\draw</span>[<span
      class="textcolor"
      style="color:#008000"
>xshift</span>=<span
      class="textcolor"
      style="color:#008000"
><span
      class="textcolor"
      style="color:#0000B2"
>\x</span>&#x2007;cm</span>]&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(0pt,-1pt)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>--</span> <span
      class="textcolor"
      style="color:#800080"
>(0pt,1pt)</span>;<br />


</p>
</div>

</div>

<p>
Karl is curious what would happen in a more complicated situation where there are, say, 20 ticks. It seems bothersome to explicitly mention all these numbers in the set for <span class="texttt">\foreach</span>. Indeed, it is possible to
use <span class="texttt">...</span> inside the <span class="texttt">\foreach</span> statement to iterate over a large number of values (which must, however, be dimensionless real numbers) as in the following example:
</p>



<div class="example">



<div class="example-image">

<p>
<span
      id="lateximage-pgfmanual-50"
      class="lateximagesource"
><!--
--> <img
      src="pgfmanual-images/image-50.svg"
      alt="(-tikz-&nbsp;diagram)"
      style=""
      class="lateximage"
></span>
</p>
</div>



<div class="example-code">

<p>                                                                            <br />
<span
      class="textcolor"
      style="color:#0000B2"
>\tikz</span>&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\foreach</span>&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\x</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>in</span> {<span
      class="textcolor"
      style="color:#000000"
>1</span>,...,<span
      class="textcolor"
      style="color:#000000"
>10</span>}<br />
&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\draw</span>&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(\x,0)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>circle</span> <span
      class="textcolor"
      style="color:#800080"
>(0.4cm)</span>;<br />


</p>
</div>

</div>

<p>
If you provide <em>two</em> numbers before the <span class="texttt">...</span>, the <span class="texttt">\foreach</span> statement will use their difference for the stepping:
</p>



<div class="example">



<div class="example-image">

<p>
<span
      id="lateximage-pgfmanual-51"
      class="lateximagesource"
><!--
--> <img
      src="pgfmanual-images/image-51.svg"
      alt="(-tikz-&nbsp;diagram)"
      style=""
      class="lateximage"
></span>
</p>
</div>



<div class="example-code">

<p>                                                             <br />
<span
      class="textcolor"
      style="color:#0000B2"
>\tikz</span>&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\foreach</span>&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\x</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>in</span> {<span
      class="textcolor"
      style="color:#000000"
>-1</span>,<span
      class="textcolor"
      style="color:#000000"
>-0</span>.<span
      class="textcolor"
      style="color:#000000"
>5</span>,...,<span
      class="textcolor"
      style="color:#000000"
>1</span>}<br />
&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\draw</span>&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(\x cm,-1pt)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>--</span> <span
      class="textcolor"
      style="color:#800080"
>(\x cm,1pt)</span>;<br />


</p>
</div>

</div>

<p>
We can also nest loops to create interesting effects:
</p>



<div class="example">



<div class="example-image">

<p>
<span
      id="lateximage-pgfmanual-52"
      class="lateximagesource"
><!--
1,5   2,5   3,5   4,5   5,5   7,5   8,5   9,5   10,5 11,5 12,5

1,4   2,4   3,4   4,4   5,4   7,4   8,4   9,4   10,4 11,4 12,4

1,3   2,3   3,3   4,3   5,3   7,3   8,3   9,3   10,3 11,3 12,3

1,2   2,2   3,2   4,2   5,2   7,2   8,2   9,2   10,2 11,2 12,2

1,1   2,1   3,1   4,1   5,1   7,1   8,1   9,1   10,1 11,1 12,1
--> <img
      src="pgfmanual-images/image-52.svg"
      alt="(-tikz-&nbsp;diagram)"
      style=""
      class="lateximage"
></span>
</p>
</div>



<div class="example-code">

<p>                                                                            <br />
<span
      class="textcolor"
      style="color:#000000"
>\begin</span>{<span
      class="textcolor"
      style="color:#0000B2"
>tikzpicture</span>}<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\foreach</span>&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\x</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>in</span> {<span
      class="textcolor"
      style="color:#000000"
>1</span>,<span
      class="textcolor"
      style="color:#000000"
>2</span>,...,<span
      class="textcolor"
      style="color:#000000"
>5</span>,<span
      class="textcolor"
      style="color:#000000"
>7</span>,<span
      class="textcolor"
      style="color:#000000"
>8</span>,...,<span
      class="textcolor"
      style="color:#000000"
>12</span>}<br />
&#x2007;&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\foreach</span>&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\y</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>in</span> {<span
      class="textcolor"
      style="color:#000000"
>1</span>,...,<span
      class="textcolor"
      style="color:#000000"
>5</span>}<br />
&#x2007;&#x2007;&#x2007;&#x2007;{<br />
&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\draw</span>&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(\x,\y)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>+</span><span
      class="textcolor"
      style="color:#800080"
>(-.5,-.5)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>rectangle</span> <span
      class="textcolor"
      style="color:#000000"
>++</span><span
      class="textcolor"
      style="color:#800080"
>(.5,.5)</span>;<br />
&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\draw</span>&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(\x,\y)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>node</span>{<span
      class="textcolor"
      style="color:#0000B2"
>\x</span>,<span
      class="textcolor"
      style="color:#0000B2"
>\y</span>};<br />
&#x2007;&#x2007;&#x2007;&#x2007;}<br />
<span
      class="textcolor"
      style="color:#000000"
>\end</span>{<span
      class="textcolor"
      style="color:#0000B2"
>tikzpicture</span>}<br />


</p>
</div>

</div>

<p>
The <span class="texttt">\foreach</span> statement can do even trickier stuff, but the above gives the idea.
</p>
<h5 id="autosec-148"><span class="sectionnumber">2.21&#x2003;</span>Adding Text</h5>
<a id="pgfmanual-autopage-148"></a>


<p>
Karl is, by now, quite satisfied with the picture. However, the most important parts, namely the labels, are still missing!
</p>

<p>
Ti<em>k</em>Z offers an easy-to-use and powerful system for adding text and, more generally, complex shapes to a picture at specific positions. The basic idea is the following: When Ti<em>k</em>Z is constructing a path and encounters
the keyword <span class="texttt">node</span> in the middle of a path, it reads a <em>node specification</em>. The keyword <span class="texttt">node</span> is typically followed by some options and then some text between curly braces.
This text is put inside a normal <span class="latexlogofont"><span class="latexlogo">T<span class="latexlogosub">e</span>X</span></span> box (if the node specification directly follows a coordinate, which is usually the case, Ti<em>k</em>Z
is able to perform some magic so that it is even possible to use verbatim text inside the boxes) and then placed at the current position, that is, at the last specified position (possibly shifted a bit, according to the given options).
However, all nodes are drawn only after the path has been completely drawn/filled/shaded/clipped/whatever.
</p>



<div class="example">



<div class="example-image">

<p>
<span
      id="lateximage-pgfmanual-53"
      class="lateximagesource"
><!--
     Text at node 2

Text at node 1
--> <img
      src="pgfmanual-images/image-53.svg"
      alt="(-tikz-&nbsp;diagram)"
      style=""
      class="lateximage"
></span>
</p>
</div>



<div class="example-code">

<p>                                                                             <br />
<span
      class="textcolor"
      style="color:#000000"
>\begin</span>{<span
      class="textcolor"
      style="color:#0000B2"
>tikzpicture</span>}<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\draw</span>&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(0,0)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>rectangle</span> <span
      class="textcolor"
      style="color:#800080"
>(2,2)</span>;<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\draw</span>&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(0.5,0.5)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>node</span> [<span
      class="textcolor"
      style="color:#008000"
>fill</span>=<span
      class="textcolor"
      style="color:#008000"
>yellow!80!black</span>]<br />
&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;{<span
      class="textcolor"
      style="color:#000000"
>Text</span> <span
      class="textcolor"
      style="color:#000000"
>at</span> <span
      class="textcolor"
      style="color:#0000B2"
>\texttt</span>{<span
      class="textcolor"
      style="color:#000000"
>node</span> <span
      class="textcolor"
      style="color:#000000"
>1</span>}}<br />
&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#000000"
>--</span> <span
      class="textcolor"
      style="color:#800080"
>(1.5,1.5)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>node</span> {<span
      class="textcolor"
      style="color:#000000"
>Text</span> <span
      class="textcolor"
      style="color:#000000"
>at</span> <span
      class="textcolor"
      style="color:#0000B2"
>\texttt</span>{<span
      class="textcolor"
      style="color:#000000"
>node</span> <span
      class="textcolor"
      style="color:#000000"
>2</span>}};<br />
<span
      class="textcolor"
      style="color:#000000"
>\end</span>{<span
      class="textcolor"
      style="color:#0000B2"
>tikzpicture</span>}<br />


</p>
</div>

</div>

<p>
Obviously, Karl would not only like to place nodes <em>on</em> the last specified position, but also to the left or the right of these positions. For this, every node object that you put in your picture is equipped with several
<em>anchors</em>. For example, the <span class="texttt">north</span> anchor is in the middle at the upper end of the shape, the <span class="texttt">south</span> anchor is at the bottom and the <span class="texttt">north east</span>
anchor is in the upper right corner. When you give the option <span class="texttt">anchor=north</span>, the text will be placed such that this northern anchor will lie on the current position and the text is, thus, below the current
position. Karl uses this to draw the ticks as follows:
</p>



<div class="example">



<div class="example-image">

<p>
<span
      id="lateximage-pgfmanual-54"
      class="lateximagesource"
><!--
               1



             0.5




−1   −0.5          1


            −0.5



             −1
--> <img
      src="pgfmanual-images/image-54.svg"
      alt="(-tikz-&nbsp;diagram)"
      style=""
      class="lateximage"
></span>
</p>
</div>



<div class="example-code">

<p>                                                                             <br />
<span
      class="textcolor"
      style="color:#000000"
>\begin</span>{<span
      class="textcolor"
      style="color:#0000B2"
>tikzpicture</span>}[<span
      class="textcolor"
      style="color:#008000"
>scale</span>=<span
      class="textcolor"
      style="color:#008000"
>3</span>]<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\clip</span>&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(-0.6,-0.2)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>rectangle</span> <span
      class="textcolor"
      style="color:#800080"
>(0.6,1.51)</span>;<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\draw</span>[<span
      class="textcolor"
      style="color:#008000"
>step</span>=<span
      class="textcolor"
      style="color:#008000"
>.5cm</span>,<span
      class="textcolor"
      style="color:#008000"
>help lines</span>]&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(-1.4,-1.4)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>grid</span> <span
      class="textcolor"
      style="color:#800080"
>(1.4,1.4)</span>;<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\filldraw</span>[<span
      class="textcolor"
      style="color:#008000"
>fill</span>=<span
      class="textcolor"
      style="color:#008000"
>green!20</span>,<span
      class="textcolor"
      style="color:#008000"
>draw</span>=<span
      class="textcolor"
      style="color:#008000"
>green!50!black</span>]&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(0,0)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>--</span> <span
      class="textcolor"
      style="color:#800080"
>(3mm,0mm)</span><br />
&#x2007;&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#000000"
>arc</span> [<span
      class="textcolor"
      style="color:#008000"
>start angle</span>=<span
      class="textcolor"
      style="color:#008000"
>0</span>,&#x2007;<span
      class="textcolor"
      style="color:#008000"
>end angle</span>=<span
      class="textcolor"
      style="color:#008000"
>30</span>,&#x2007;<span
      class="textcolor"
      style="color:#008000"
>radius</span>=<span
      class="textcolor"
      style="color:#008000"
>3mm</span>]&#x2007;<span
      class="textcolor"
      style="color:#000000"
>--</span> <span
      class="textcolor"
      style="color:#000000"
>cycle</span>;<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\draw</span>[<span
      class="textcolor"
      style="color:#008000"
>-></span>]&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(-1.5,0)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>--</span> <span
      class="textcolor"
      style="color:#800080"
>(1.5,0)</span>;&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\draw</span>[<span
      class="textcolor"
      style="color:#008000"
>-></span>]&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(0,-1.5)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>--</span> <span
      class="textcolor"
      style="color:#800080"
>(0,1.5)</span>;<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\draw</span>&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(0,0)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>circle</span> [<span
      class="textcolor"
      style="color:#008000"
>radius</span>=<span
      class="textcolor"
      style="color:#008000"
>1cm</span>];<br />
<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\foreach</span>&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\x</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>in</span> {<span
      class="textcolor"
      style="color:#000000"
>-1</span>,<span
      class="textcolor"
      style="color:#000000"
>-0</span>.<span
      class="textcolor"
      style="color:#000000"
>5</span>,<span
      class="textcolor"
      style="color:#000000"
>1</span>}<br />
&#x2007;&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\draw</span>&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(\x cm,1pt)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>--</span> <span
      class="textcolor"
      style="color:#800080"
>(\x cm,-1pt)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>node</span>[<span
      class="textcolor"
      style="color:#008000"
>anchor</span>=<span
      class="textcolor"
      style="color:#008000"
>north</span>]&#x2007;{<span
      class="textcolor"
      style="color:#000000"
>$</span><span
      class="textcolor"
      style="color:#0000B2"
>\x</span><span
      class="textcolor"
      style="color:#000000"
>$</span>};<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\foreach</span>&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\y</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>in</span> {<span
      class="textcolor"
      style="color:#000000"
>-1</span>,<span
      class="textcolor"
      style="color:#000000"
>-0</span>.<span
      class="textcolor"
      style="color:#000000"
>5</span>,<span
      class="textcolor"
      style="color:#000000"
>0</span>.<span
      class="textcolor"
      style="color:#000000"
>5</span>,<span
      class="textcolor"
      style="color:#000000"
>1</span>}<br />
&#x2007;&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\draw</span>&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(1pt,\y cm)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>--</span> <span
      class="textcolor"
      style="color:#800080"
>(-1pt,\y cm)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>node</span>[<span
      class="textcolor"
      style="color:#008000"
>anchor</span>=<span
      class="textcolor"
      style="color:#008000"
>east</span>]&#x2007;{<span
      class="textcolor"
      style="color:#000000"
>$</span><span
      class="textcolor"
      style="color:#0000B2"
>\y</span><span
      class="textcolor"
      style="color:#000000"
>$</span>};<br />
<span
      class="textcolor"
      style="color:#000000"
>\end</span>{<span
      class="textcolor"
      style="color:#0000B2"
>tikzpicture</span>}<br />


</p>
</div>

</div>

<p>
This is quite nice, already. Using these anchors, Karl can now add most of the other text elements. However, Karl thinks that, though “correct”, it is quite counter-intuitive that in order to place something <em>below</em> a given point,
he has to use the <em>north</em> anchor. For this reason, there is an option called <span class="texttt">below</span>, which does the same as <span class="texttt">anchor=north</span>. Similarly, <span class="texttt">above right</span> does
the same as <span class="texttt">anchor=south west</span>. In addition, <span class="texttt">below</span> takes an optional dimension argument. If given, the shape will additionally be shifted downwards by the given amount. So, <span
class="texttt">below=1pt</span> can be used to put a text label below some point and, additionally shift it 1pt downwards.
</p>

<p>
Karl is not quite satisfied with the ticks. He would like to have \(1/2\) or \(\frac {1}{2}\) shown instead of \(0.5\), partly to show off the nice capabilities of <span class="latexlogofont"><span class="latexlogo">T<span
class="latexlogosub">e</span>X</span></span> and Ti<em>k</em>Z, partly because for positions like \(1/3\) or \(\pi \) it is certainly very much preferable to have the “mathematical” tick there instead of just the “numeric” tick. His
students, on the other hand, prefer \(0.5\) over \(1/2\) since they are not too fond of fractions in general.
</p>

<p>
Karl now faces a problem: For the <span class="texttt">\foreach</span> statement, the position <span class="texttt">\x</span> should still be given as <span class="texttt">0.5</span> since Ti<em>k</em>Z will not know where <span
class="texttt">\frac{1}{2}</span> is supposed to be. On the other hand, the typeset text should really be <span class="texttt">\frac{1}{2}</span>. To solve this problem, <span class="texttt">\foreach</span> offers a special syntax: Instead
of having one variable <span class="texttt">\x</span>, Karl can specify two (or even more) variables separated by a slash as in <span class="texttt">\x / \xtext</span>. Then, the elements in the set over which <span
class="texttt">\foreach</span> iterates must also be of the form <span class="angle">&langle;</span><i>first</i><span class="angle">&rangle;</span><span class="texttt">/</span><span class="angle">&langle;</span><i>second</i><span
class="angle">&rangle;</span>. In each iteration, <span class="texttt">\x</span> will be set to <span class="angle">&langle;</span><i>first</i><span class="angle">&rangle;</span> and <span class="texttt">\xtext</span> will be set to <span
class="angle">&langle;</span><i>second</i><span class="angle">&rangle;</span>. If no <span class="angle">&langle;</span><i>second</i><span class="angle">&rangle;</span> is given, the <span class="angle">&langle;</span><i>first</i><span
class="angle">&rangle;</span> will be used again. So, here is the new code for the ticks:
</p>



<div class="example">



<div class="example-image">

<p>
<span
      id="lateximage-pgfmanual-55"
      class="lateximagesource"
><!--
              1


              1
              2




−1   − 12          1


            − 12



            −1
--> <img
      src="pgfmanual-images/image-55.svg"
      alt="(-tikz-&nbsp;diagram)"
      style=""
      class="lateximage"
></span>
</p>
</div>



<div class="example-code">

<p>                                                                              <br />
<span
      class="textcolor"
      style="color:#000000"
>\begin</span>{<span
      class="textcolor"
      style="color:#0000B2"
>tikzpicture</span>}[<span
      class="textcolor"
      style="color:#008000"
>scale</span>=<span
      class="textcolor"
      style="color:#008000"
>3</span>]<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\clip</span>&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(-0.6,-0.2)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>rectangle</span> <span
      class="textcolor"
      style="color:#800080"
>(0.6,1.51)</span>;<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\draw</span>[<span
      class="textcolor"
      style="color:#008000"
>step</span>=<span
      class="textcolor"
      style="color:#008000"
>.5cm</span>,<span
      class="textcolor"
      style="color:#008000"
>help lines</span>]&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(-1.4,-1.4)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>grid</span> <span
      class="textcolor"
      style="color:#800080"
>(1.4,1.4)</span>;<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\filldraw</span>[<span
      class="textcolor"
      style="color:#008000"
>fill</span>=<span
      class="textcolor"
      style="color:#008000"
>green!20</span>,<span
      class="textcolor"
      style="color:#008000"
>draw</span>=<span
      class="textcolor"
      style="color:#008000"
>green!50!black</span>]&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(0,0)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>--</span> <span
      class="textcolor"
      style="color:#800080"
>(3mm,0mm)</span><br />
&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#000000"
>arc</span> [<span
      class="textcolor"
      style="color:#008000"
>start angle</span>=<span
      class="textcolor"
      style="color:#008000"
>0</span>,&#x2007;<span
      class="textcolor"
      style="color:#008000"
>end angle</span>=<span
      class="textcolor"
      style="color:#008000"
>30</span>,&#x2007;<span
      class="textcolor"
      style="color:#008000"
>radius</span>=<span
      class="textcolor"
      style="color:#008000"
>3mm</span>]&#x2007;<span
      class="textcolor"
      style="color:#000000"
>--</span> <span
      class="textcolor"
      style="color:#000000"
>cycle</span>;<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\draw</span>[<span
      class="textcolor"
      style="color:#008000"
>-></span>]&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(-1.5,0)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>--</span> <span
      class="textcolor"
      style="color:#800080"
>(1.5,0)</span>;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\draw</span>[<span
      class="textcolor"
      style="color:#008000"
>-></span>]&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(0,-1.5)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>--</span> <span
      class="textcolor"
      style="color:#800080"
>(0,1.5)</span>;<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\draw</span>&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(0,0)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>circle</span> [<span
      class="textcolor"
      style="color:#008000"
>radius</span>=<span
      class="textcolor"
      style="color:#008000"
>1cm</span>];<br />
<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\foreach</span>&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\x/</span><span
      class="textcolor"
      style="color:#0000B2"
>\xtext</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>in</span> {<span
      class="textcolor"
      style="color:#000000"
>-1</span>,&#x2007;<span
      class="textcolor"
      style="color:#000000"
>-0</span>.<span
      class="textcolor"
      style="color:#000000"
>5/-</span><span
      class="textcolor"
      style="color:#0000B2"
>\frac</span>{<span
      class="textcolor"
      style="color:#000000"
>1</span>}{<span
      class="textcolor"
      style="color:#000000"
>2</span>},&#x2007;<span
      class="textcolor"
      style="color:#000000"
>1</span>}<br />
&#x2007;&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\draw</span>&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(\x cm,1pt)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>--</span> <span
      class="textcolor"
      style="color:#800080"
>(\x cm,-1pt)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>node</span>[<span
      class="textcolor"
      style="color:#008000"
>anchor</span>=<span
      class="textcolor"
      style="color:#008000"
>north</span>]&#x2007;{<span
      class="textcolor"
      style="color:#000000"
>$</span><span
      class="textcolor"
      style="color:#0000B2"
>\xtext</span><span
      class="textcolor"
      style="color:#000000"
>$</span>};<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\foreach</span>&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\y/</span><span
      class="textcolor"
      style="color:#0000B2"
>\ytext</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>in</span> {<span
      class="textcolor"
      style="color:#000000"
>-1</span>,&#x2007;<span
      class="textcolor"
      style="color:#000000"
>-0</span>.<span
      class="textcolor"
      style="color:#000000"
>5/-</span><span
      class="textcolor"
      style="color:#0000B2"
>\frac</span>{<span
      class="textcolor"
      style="color:#000000"
>1</span>}{<span
      class="textcolor"
      style="color:#000000"
>2</span>},&#x2007;<span
      class="textcolor"
      style="color:#000000"
>0</span>.<span
      class="textcolor"
      style="color:#000000"
>5/</span><span
      class="textcolor"
      style="color:#0000B2"
>\frac</span>{<span
      class="textcolor"
      style="color:#000000"
>1</span>}{<span
      class="textcolor"
      style="color:#000000"
>2</span>},&#x2007;<span
      class="textcolor"
      style="color:#000000"
>1</span>}<br />
&#x2007;&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\draw</span>&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(1pt,\y cm)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>--</span> <span
      class="textcolor"
      style="color:#800080"
>(-1pt,\y cm)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>node</span>[<span
      class="textcolor"
      style="color:#008000"
>anchor</span>=<span
      class="textcolor"
      style="color:#008000"
>east</span>]&#x2007;{<span
      class="textcolor"
      style="color:#000000"
>$</span><span
      class="textcolor"
      style="color:#0000B2"
>\ytext</span><span
      class="textcolor"
      style="color:#000000"
>$</span>};<br />
<span
      class="textcolor"
      style="color:#000000"
>\end</span>{<span
      class="textcolor"
      style="color:#0000B2"
>tikzpicture</span>}<br />


</p>
</div>

</div>

<p>
Karl is quite pleased with the result, but his son points out that this is still not perfectly satisfactory: The grid and the circle interfere with the numbers and decrease their legibility. Karl is not very concerned by this (his students do
not even notice), but his son insists that there is an easy solution: Karl can add the <span class="texttt">[fill=white]</span> option to fill out the background of the text shape with a white color.
</p>

<p>
The next thing Karl wants to do is to add the labels like \(\sin \alpha \). For this, he would like to place a label “in the middle of the line”. To do so, instead of specifying the label <span class="texttt">node {$\sin\alpha$}</span> directly
after one of the endpoints of the line (which would place the label at that endpoint), Karl can give the label directly after the <span class="texttt">--</span>, before the coordinate. By default, this places the label in the middle of the
line, but the <span class="texttt">pos=</span> options can be used to modify this. Also, options like <span class="texttt">near start</span> and <span class="texttt">near end</span> can be used to modify this position:
</p>



<div class="example">



<div class="example-image">

<p>
<span
      id="lateximage-pgfmanual-56"
      class="lateximagesource"
><!--
              1


              1
              2
                                                 sin α
                           sin α       tan α =
                                                 cos α

−1   − 12          cos α           1


            − 12



            −1
--> <img
      src="pgfmanual-images/image-56.svg"
      alt="(-tikz-&nbsp;diagram)"
      style=""
      class="lateximage"
></span>
</p>
</div>



<div class="example-code">

<p>
<span class="c-
preamble">\usetikzlibrary {intersections}                                                                                                                                           </span><br
/>
<span
      class="textcolor"
      style="color:#000000"
>\begin</span>{<span
      class="textcolor"
      style="color:#0000B2"
>tikzpicture</span>}[<span
      class="textcolor"
      style="color:#008000"
>scale</span>=<span
      class="textcolor"
      style="color:#008000"
>3</span>]<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\clip</span>&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(-2,-0.2)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>rectangle</span> <span
      class="textcolor"
      style="color:#800080"
>(2,0.8)</span>;<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\draw</span>[<span
      class="textcolor"
      style="color:#008000"
>step</span>=<span
      class="textcolor"
      style="color:#008000"
>.5cm</span>,<span
      class="textcolor"
      style="color:#008000"
>gray</span>,<span
      class="textcolor"
      style="color:#008000"
>very thin</span>]&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(-1.4,-1.4)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>grid</span> <span
      class="textcolor"
      style="color:#800080"
>(1.4,1.4)</span>;<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\filldraw</span>[<span
      class="textcolor"
      style="color:#008000"
>fill</span>=<span
      class="textcolor"
      style="color:#008000"
>green!20</span>,<span
      class="textcolor"
      style="color:#008000"
>draw</span>=<span
      class="textcolor"
      style="color:#008000"
>green!50!black</span>]&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(0,0)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>--</span> <span
      class="textcolor"
      style="color:#800080"
>(3mm,0mm)</span><br />
&#x2007;&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#000000"
>arc</span> [<span
      class="textcolor"
      style="color:#008000"
>start angle</span>=<span
      class="textcolor"
      style="color:#008000"
>0</span>,&#x2007;<span
      class="textcolor"
      style="color:#008000"
>end angle</span>=<span
      class="textcolor"
      style="color:#008000"
>30</span>,&#x2007;<span
      class="textcolor"
      style="color:#008000"
>radius</span>=<span
      class="textcolor"
      style="color:#008000"
>3mm</span>]&#x2007;<span
      class="textcolor"
      style="color:#000000"
>--</span> <span
      class="textcolor"
      style="color:#000000"
>cycle</span>;<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\draw</span>[<span
      class="textcolor"
      style="color:#008000"
>-></span>]&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(-1.5,0)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>--</span> <span
      class="textcolor"
      style="color:#800080"
>(1.5,0)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>coordinate</span> <span
      class="textcolor"
      style="color:#800080"
>(x axis)</span>;<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\draw</span>[<span
      class="textcolor"
      style="color:#008000"
>-></span>]&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(0,-1.5)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>--</span> <span
      class="textcolor"
      style="color:#800080"
>(0,1.5)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>coordinate</span> <span
      class="textcolor"
      style="color:#800080"
>(y axis)</span>;<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\draw</span>&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(0,0)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>circle</span> [<span
      class="textcolor"
      style="color:#008000"
>radius</span>=<span
      class="textcolor"
      style="color:#008000"
>1cm</span>];<br />
<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\draw</span>[<span
      class="textcolor"
      style="color:#008000"
>very thick</span>,<span
      class="textcolor"
      style="color:#008000"
>red</span>]<br />
&#x2007;&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(30:1cm)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>--</span> <span
      class="textcolor"
      style="color:#000000"
>node</span>[<span
      class="textcolor"
      style="color:#008000"
>left</span>=<span
      class="textcolor"
      style="color:#008000"
>1pt</span>,<span
      class="textcolor"
      style="color:#008000"
>fill</span>=<span
      class="textcolor"
      style="color:#008000"
>white</span>]&#x2007;{<span
      class="textcolor"
      style="color:#000000"
>$</span><span
      class="textcolor"
      style="color:#0000B2"
>\sin</span>&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\alpha</span><span
      class="textcolor"
      style="color:#000000"
>$</span>}&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(30:1cm |- x axis)</span>;<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\draw</span>[<span
      class="textcolor"
      style="color:#008000"
>very thick</span>,<span
      class="textcolor"
      style="color:#008000"
>blue</span>]<br />
&#x2007;&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(30:1cm |- x axis)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>--</span> <span
      class="textcolor"
      style="color:#000000"
>node</span>[<span
      class="textcolor"
      style="color:#008000"
>below</span>=<span
      class="textcolor"
      style="color:#008000"
>2pt</span>,<span
      class="textcolor"
      style="color:#008000"
>fill</span>=<span
      class="textcolor"
      style="color:#008000"
>white</span>]&#x2007;{<span
      class="textcolor"
      style="color:#000000"
>$</span><span
      class="textcolor"
      style="color:#0000B2"
>\cos</span>&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\alpha</span><span
      class="textcolor"
      style="color:#000000"
>$</span>}&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(0,0)</span>;<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\path</span>&#x2007;[<span
      class="textcolor"
      style="color:#008000"
>name path</span>=<span
      class="textcolor"
      style="color:#008000"
>upward line</span>]&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(1,0)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>--</span> <span
      class="textcolor"
      style="color:#800080"
>(1,1)</span>;<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\path</span>&#x2007;[<span
      class="textcolor"
      style="color:#008000"
>name path</span>=<span
      class="textcolor"
      style="color:#008000"
>sloped line</span>]&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(0,0)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>--</span> <span
      class="textcolor"
      style="color:#800080"
>(30:1.5cm)</span>;<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\draw</span>&#x2007;[<span
      class="textcolor"
      style="color:#008000"
>name intersections</span>=<span
      class="textcolor"
      style="color:#008000"
>{of=upward line and sloped line,&#x2007;by=t}</span>]<br />
&#x2007;&#x2007;&#x2007;&#x2007;[<span
      class="textcolor"
      style="color:#008000"
>very thick</span>,<span
      class="textcolor"
      style="color:#008000"
>orange</span>]&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(1,0)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>--</span> <span
      class="textcolor"
      style="color:#000000"
>node</span> [<span
      class="textcolor"
      style="color:#008000"
>right</span>=<span
      class="textcolor"
      style="color:#008000"
>1pt</span>,<span
      class="textcolor"
      style="color:#008000"
>fill</span>=<span
      class="textcolor"
      style="color:#008000"
>white</span>]<br />
&#x2007;&#x2007;&#x2007;&#x2007;{<span
      class="textcolor"
      style="color:#000000"
>$</span><span
      class="textcolor"
      style="color:#0000B2"
>\displaystyle</span>&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\tan</span>&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\alpha</span>&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\color</span>{<span
      class="textcolor"
      style="color:#000000"
>black</span>}<span
      class="textcolor"
      style="color:#000000"
>=</span><br />
&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\frac</span>{{<span
      class="textcolor"
      style="color:#0000B2"
>\color</span>{<span
      class="textcolor"
      style="color:#000000"
>red</span>}<span
      class="textcolor"
      style="color:#0000B2"
>\sin</span>&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\alpha</span>}}{<span
      class="textcolor"
      style="color:#0000B2"
>\color</span>{<span
      class="textcolor"
      style="color:#000000"
>blue</span>}<span
      class="textcolor"
      style="color:#0000B2"
>\cos</span>&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\alpha</span>}<span
      class="textcolor"
      style="color:#000000"
>$</span>}&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(t)</span>;<br />
<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\draw</span>&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(0,0)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>--</span> <span
      class="textcolor"
      style="color:#800080"
>(t)</span>;<br />
<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\foreach</span>&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\x/</span><span
      class="textcolor"
      style="color:#0000B2"
>\xtext</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>in</span> {<span
      class="textcolor"
      style="color:#000000"
>-1</span>,&#x2007;<span
      class="textcolor"
      style="color:#000000"
>-0</span>.<span
      class="textcolor"
      style="color:#000000"
>5/-</span><span
      class="textcolor"
      style="color:#0000B2"
>\frac</span>{<span
      class="textcolor"
      style="color:#000000"
>1</span>}{<span
      class="textcolor"
      style="color:#000000"
>2</span>},&#x2007;<span
      class="textcolor"
      style="color:#000000"
>1</span>}<br />
&#x2007;&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\draw</span>&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(\x cm,1pt)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>--</span> <span
      class="textcolor"
      style="color:#800080"
>(\x cm,-1pt)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>node</span>[<span
      class="textcolor"
      style="color:#008000"
>anchor</span>=<span
      class="textcolor"
      style="color:#008000"
>north</span>,<span
      class="textcolor"
      style="color:#008000"
>fill</span>=<span
      class="textcolor"
      style="color:#008000"
>white</span>]&#x2007;{<span
      class="textcolor"
      style="color:#000000"
>$</span><span
      class="textcolor"
      style="color:#0000B2"
>\xtext</span><span
      class="textcolor"
      style="color:#000000"
>$</span>};<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\foreach</span>&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\y/</span><span
      class="textcolor"
      style="color:#0000B2"
>\ytext</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>in</span> {<span
      class="textcolor"
      style="color:#000000"
>-1</span>,&#x2007;<span
      class="textcolor"
      style="color:#000000"
>-0</span>.<span
      class="textcolor"
      style="color:#000000"
>5/-</span><span
      class="textcolor"
      style="color:#0000B2"
>\frac</span>{<span
      class="textcolor"
      style="color:#000000"
>1</span>}{<span
      class="textcolor"
      style="color:#000000"
>2</span>},&#x2007;<span
      class="textcolor"
      style="color:#000000"
>0</span>.<span
      class="textcolor"
      style="color:#000000"
>5/</span><span
      class="textcolor"
      style="color:#0000B2"
>\frac</span>{<span
      class="textcolor"
      style="color:#000000"
>1</span>}{<span
      class="textcolor"
      style="color:#000000"
>2</span>},&#x2007;<span
      class="textcolor"
      style="color:#000000"
>1</span>}<br />
&#x2007;&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\draw</span>&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(1pt,\y cm)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>--</span> <span
      class="textcolor"
      style="color:#800080"
>(-1pt,\y cm)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>node</span>[<span
      class="textcolor"
      style="color:#008000"
>anchor</span>=<span
      class="textcolor"
      style="color:#008000"
>east</span>,<span
      class="textcolor"
      style="color:#008000"
>fill</span>=<span
      class="textcolor"
      style="color:#008000"
>white</span>]&#x2007;{<span
      class="textcolor"
      style="color:#000000"
>$</span><span
      class="textcolor"
      style="color:#0000B2"
>\ytext</span><span
      class="textcolor"
      style="color:#000000"
>$</span>};<br />
<span
      class="textcolor"
      style="color:#000000"
>\end</span>{<span
      class="textcolor"
      style="color:#0000B2"
>tikzpicture</span>}<br />


</p>
</div>

</div>

<p>
You can also position labels on curves and, by adding the <span class="texttt">sloped</span> option, have them rotated such that they match the line’s slope. Here is an example:
</p>



<div class="example">



<div class="example-image">

<p>
<span
      id="lateximage-pgfmanual-57"
      class="lateximagesource"
><!--
near start   midway
                      very
                           near
                                end
--> <img
      src="pgfmanual-images/image-57.svg"
      alt="(-tikz-&nbsp;diagram)"
      style=""
      class="lateximage"
></span>
</p>
</div>



<div class="example-code">

<p>                                                                               <br />
<span
      class="textcolor"
      style="color:#000000"
>\begin</span>{<span
      class="textcolor"
      style="color:#0000B2"
>tikzpicture</span>}<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\draw</span>&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(0,0)</span>&#x2007;..&#x2007;<span
      class="textcolor"
      style="color:#000000"
>controls</span> <span
      class="textcolor"
      style="color:#800080"
>(6,1)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>and</span> <span
      class="textcolor"
      style="color:#800080"
>(9,1)</span>&#x2007;..<br />
&#x2007;&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#000000"
>node</span>[<span
      class="textcolor"
      style="color:#008000"
>near start</span>,<span
      class="textcolor"
      style="color:#008000"
>sloped</span>,<span
      class="textcolor"
      style="color:#008000"
>above</span>]&#x2007;{<span
      class="textcolor"
      style="color:#000000"
>near</span> <span
      class="textcolor"
      style="color:#000000"
>start</span>}<br />
&#x2007;&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#000000"
>node</span> {<span
      class="textcolor"
      style="color:#000000"
>midway</span>}<br />
&#x2007;&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#000000"
>node</span>[<span
      class="textcolor"
      style="color:#008000"
>very near end</span>,<span
      class="textcolor"
      style="color:#008000"
>sloped</span>,<span
      class="textcolor"
      style="color:#008000"
>below</span>]&#x2007;{<span
      class="textcolor"
      style="color:#000000"
>very</span> <span
      class="textcolor"
      style="color:#000000"
>near</span> <span
      class="textcolor"
      style="color:#000000"
>end</span>}&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(12,0)</span>;<br />
<span
      class="textcolor"
      style="color:#000000"
>\end</span>{<span
      class="textcolor"
      style="color:#0000B2"
>tikzpicture</span>}<br />


</p>
</div>

</div>

<p>
It remains to draw the explanatory text at the right of the picture. The main difficulty here lies in limiting the width of the text “label”, which is quite long, so that line breaking is used. Fortunately, Karl can use the option <span
class="texttt">text width=6cm</span> to get the desired effect. So, here is the full code:
</p>



<div class="example">



<div class="example-code">

<p>                                                                               <br />
<span
      class="textcolor"
      style="color:#000000"
>\begin</span>{<span
      class="textcolor"
      style="color:#0000B2"
>tikzpicture</span>}<br />
&#x2007;&#x2007;[<span
      class="textcolor"
      style="color:#008000"
>scale</span>=<span
      class="textcolor"
      style="color:#008000"
>3</span>,<span
      class="textcolor"
      style="color:#008000"
>line cap</span>=<span
      class="textcolor"
      style="color:#008000"
>round</span>,<br />
&#x2007;&#x2007;<span class="example-code-comment">% Styles</span><br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#008000"
>axes</span>/<span
      class="textcolor"
      style="color:#0000B2"
>.style</span>=,<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#008000"
>important line</span>/<span
      class="textcolor"
      style="color:#0000B2"
>.style</span>={<span
      class="textcolor"
      style="color:#008000"
>very thick</span>},<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#008000"
>information text</span>/<span
      class="textcolor"
      style="color:#0000B2"
>.style</span>={<span
      class="textcolor"
      style="color:#008000"
>rounded corners</span>,<span
      class="textcolor"
      style="color:#008000"
>fill</span>=<span
      class="textcolor"
      style="color:#008000"
>red!10</span>,<span
      class="textcolor"
      style="color:#008000"
>inner sep</span>=<span
      class="textcolor"
      style="color:#008000"
>1ex}</span>]<br />
<br />
&#x2007;&#x2007;<span class="example-code-comment">% Colors</span><br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\colorlet</span>{<span
      class="textcolor"
      style="color:#000000"
>anglecolor</span>}{<span
      class="textcolor"
      style="color:#000000"
>green!50!black</span>}<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\colorlet</span>{<span
      class="textcolor"
      style="color:#000000"
>sincolor</span>}{<span
      class="textcolor"
      style="color:#000000"
>red</span>}<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\colorlet</span>{<span
      class="textcolor"
      style="color:#000000"
>tancolor</span>}{<span
      class="textcolor"
      style="color:#000000"
>orange!80!black</span>}<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\colorlet</span>{<span
      class="textcolor"
      style="color:#000000"
>coscolor</span>}{<span
      class="textcolor"
      style="color:#000000"
>blue</span>}<br />
<br />
&#x2007;&#x2007;<span class="example-code-comment">% The graphic</span><br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\draw</span>[<span
      class="textcolor"
      style="color:#008000"
>help lines</span>,<span
      class="textcolor"
      style="color:#008000"
>step</span>=<span
      class="textcolor"
      style="color:#008000"
>0.5cm</span>]&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(-1.4,-1.4)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>grid</span> <span
      class="textcolor"
      style="color:#800080"
>(1.4,1.4)</span>;<br />
<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\draw</span>&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(0,0)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>circle</span> [<span
      class="textcolor"
      style="color:#008000"
>radius</span>=<span
      class="textcolor"
      style="color:#008000"
>1cm</span>];<br />
<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#000000"
>\begin</span>{<span
      class="textcolor"
      style="color:#0000B2"
>scope</span>}[<span
      class="textcolor"
      style="color:#008000"
>axes</span>]<br />
&#x2007;&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\draw</span>[<span
      class="textcolor"
      style="color:#008000"
>-></span>]&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(-1.5,0)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>--</span> <span
      class="textcolor"
      style="color:#800080"
>(1.5,0)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>node</span>[<span
      class="textcolor"
      style="color:#008000"
>right</span>]&#x2007;{<span
      class="textcolor"
      style="color:#000000"
>$x$</span>}&#x2007;<span
      class="textcolor"
      style="color:#000000"
>coordinate</span><span
      class="textcolor"
      style="color:#800080"
>(x axis)</span>;<br />
&#x2007;&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\draw</span>[<span
      class="textcolor"
      style="color:#008000"
>-></span>]&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(0,-1.5)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>--</span> <span
      class="textcolor"
      style="color:#800080"
>(0,1.5)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>node</span>[<span
      class="textcolor"
      style="color:#008000"
>above</span>]&#x2007;{<span
      class="textcolor"
      style="color:#000000"
>$y$</span>}&#x2007;<span
      class="textcolor"
      style="color:#000000"
>coordinate</span><span
      class="textcolor"
      style="color:#800080"
>(y axis)</span>;<br />
<br />
&#x2007;&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\foreach</span>&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\x/</span><span
      class="textcolor"
      style="color:#0000B2"
>\xtext</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>in</span> {<span
      class="textcolor"
      style="color:#000000"
>-1</span>,&#x2007;<span
      class="textcolor"
      style="color:#000000"
>-</span>.<span
      class="textcolor"
      style="color:#000000"
>5/-</span><span
      class="textcolor"
      style="color:#0000B2"
>\frac</span>{<span
      class="textcolor"
      style="color:#000000"
>1</span>}{<span
      class="textcolor"
      style="color:#000000"
>2</span>},&#x2007;<span
      class="textcolor"
      style="color:#000000"
>1</span>}<br />
&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\draw</span>[<span
      class="textcolor"
      style="color:#008000"
>xshift</span>=<span
      class="textcolor"
      style="color:#008000"
><span
      class="textcolor"
      style="color:#0000B2"
>\x</span>&#x2007;cm</span>]&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(0pt,1pt)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>--</span> <span
      class="textcolor"
      style="color:#800080"
>(0pt,-1pt)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>node</span>[<span
      class="textcolor"
      style="color:#008000"
>below</span>,<span
      class="textcolor"
      style="color:#008000"
>fill</span>=<span
      class="textcolor"
      style="color:#008000"
>white</span>]&#x2007;{<span
      class="textcolor"
      style="color:#000000"
>$</span><span
      class="textcolor"
      style="color:#0000B2"
>\xtext</span><span
      class="textcolor"
      style="color:#000000"
>$</span>};<br />
<br />
&#x2007;&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\foreach</span>&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\y/</span><span
      class="textcolor"
      style="color:#0000B2"
>\ytext</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>in</span> {<span
      class="textcolor"
      style="color:#000000"
>-1</span>,&#x2007;<span
      class="textcolor"
      style="color:#000000"
>-</span>.<span
      class="textcolor"
      style="color:#000000"
>5/-</span><span
      class="textcolor"
      style="color:#0000B2"
>\frac</span>{<span
      class="textcolor"
      style="color:#000000"
>1</span>}{<span
      class="textcolor"
      style="color:#000000"
>2</span>},&#x2007;.<span
      class="textcolor"
      style="color:#000000"
>5/</span><span
      class="textcolor"
      style="color:#0000B2"
>\frac</span>{<span
      class="textcolor"
      style="color:#000000"
>1</span>}{<span
      class="textcolor"
      style="color:#000000"
>2</span>},&#x2007;<span
      class="textcolor"
      style="color:#000000"
>1</span>}<br />
&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\draw</span>[<span
      class="textcolor"
      style="color:#008000"
>yshift</span>=<span
      class="textcolor"
      style="color:#008000"
><span
      class="textcolor"
      style="color:#0000B2"
>\y</span>&#x2007;cm</span>]&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(1pt,0pt)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>--</span> <span
      class="textcolor"
      style="color:#800080"
>(-1pt,0pt)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>node</span>[<span
      class="textcolor"
      style="color:#008000"
>left</span>,<span
      class="textcolor"
      style="color:#008000"
>fill</span>=<span
      class="textcolor"
      style="color:#008000"
>white</span>]&#x2007;{<span
      class="textcolor"
      style="color:#000000"
>$</span><span
      class="textcolor"
      style="color:#0000B2"
>\ytext</span><span
      class="textcolor"
      style="color:#000000"
>$</span>};<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#000000"
>\end</span>{<span
      class="textcolor"
      style="color:#0000B2"
>scope</span>}<br />
<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\filldraw</span>[<span
      class="textcolor"
      style="color:#008000"
>fill</span>=<span
      class="textcolor"
      style="color:#008000"
>green!20</span>,<span
      class="textcolor"
      style="color:#008000"
>draw</span>=<span
      class="textcolor"
      style="color:#008000"
>anglecolor</span>]&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(0,0)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>--</span> <span
      class="textcolor"
      style="color:#800080"
>(3mm,0pt)</span><br />
&#x2007;&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#000000"
>arc</span> [<span
      class="textcolor"
      style="color:#008000"
>start angle</span>=<span
      class="textcolor"
      style="color:#008000"
>0</span>,&#x2007;<span
      class="textcolor"
      style="color:#008000"
>end angle</span>=<span
      class="textcolor"
      style="color:#008000"
>30</span>,&#x2007;<span
      class="textcolor"
      style="color:#008000"
>radius</span>=<span
      class="textcolor"
      style="color:#008000"
>3mm</span>];<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\draw</span>&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(15:2mm)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>node</span>[<span
      class="textcolor"
      style="color:#008000"
>anglecolor</span>]&#x2007;{<span
      class="textcolor"
      style="color:#000000"
>$</span><span
      class="textcolor"
      style="color:#0000B2"
>\alpha</span><span
      class="textcolor"
      style="color:#000000"
>$</span>};<br />
<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\draw</span>[<span
      class="textcolor"
      style="color:#008000"
>important line</span>,<span
      class="textcolor"
      style="color:#008000"
>sincolor</span>]<br />
&#x2007;&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(30:1cm)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>--</span> <span
      class="textcolor"
      style="color:#000000"
>node</span>[<span
      class="textcolor"
      style="color:#008000"
>left</span>=<span
      class="textcolor"
      style="color:#008000"
>1pt</span>,<span
      class="textcolor"
      style="color:#008000"
>fill</span>=<span
      class="textcolor"
      style="color:#008000"
>white</span>]&#x2007;{<span
      class="textcolor"
      style="color:#000000"
>$</span><span
      class="textcolor"
      style="color:#0000B2"
>\sin</span>&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\alpha</span><span
      class="textcolor"
      style="color:#000000"
>$</span>}&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(30:1cm |- x axis)</span>;<br />
<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\draw</span>[<span
      class="textcolor"
      style="color:#008000"
>important line</span>,<span
      class="textcolor"
      style="color:#008000"
>coscolor</span>]<br />
&#x2007;&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(30:1cm |- x axis)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>--</span> <span
      class="textcolor"
      style="color:#000000"
>node</span>[<span
      class="textcolor"
      style="color:#008000"
>below</span>=<span
      class="textcolor"
      style="color:#008000"
>2pt</span>,<span
      class="textcolor"
      style="color:#008000"
>fill</span>=<span
      class="textcolor"
      style="color:#008000"
>white</span>]&#x2007;{<span
      class="textcolor"
      style="color:#000000"
>$</span><span
      class="textcolor"
      style="color:#0000B2"
>\cos</span>&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\alpha</span><span
      class="textcolor"
      style="color:#000000"
>$</span>}&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(0,0)</span>;<br />
<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\path</span>&#x2007;[<span
      class="textcolor"
      style="color:#008000"
>name path</span>=<span
      class="textcolor"
      style="color:#008000"
>upward line</span>]&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(1,0)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>--</span> <span
      class="textcolor"
      style="color:#800080"
>(1,1)</span>;<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\path</span>&#x2007;[<span
      class="textcolor"
      style="color:#008000"
>name path</span>=<span
      class="textcolor"
      style="color:#008000"
>sloped line</span>]&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(0,0)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>--</span> <span
      class="textcolor"
      style="color:#800080"
>(30:1.5cm)</span>;<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\draw</span>&#x2007;[<span
      class="textcolor"
      style="color:#008000"
>name intersections</span>=<span
      class="textcolor"
      style="color:#008000"
>{of=upward line and sloped line,&#x2007;by=t}</span>]<br />
&#x2007;&#x2007;&#x2007;&#x2007;[<span
      class="textcolor"
      style="color:#008000"
>very thick</span>,<span
      class="textcolor"
      style="color:#008000"
>orange</span>]&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(1,0)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>--</span> <span
      class="textcolor"
      style="color:#000000"
>node</span> [<span
      class="textcolor"
      style="color:#008000"
>right</span>=<span
      class="textcolor"
      style="color:#008000"
>1pt</span>,<span
      class="textcolor"
      style="color:#008000"
>fill</span>=<span
      class="textcolor"
      style="color:#008000"
>white</span>]<br />
&#x2007;&#x2007;&#x2007;&#x2007;{<span
      class="textcolor"
      style="color:#000000"
>$</span><span
      class="textcolor"
      style="color:#0000B2"
>\displaystyle</span>&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\tan</span>&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\alpha</span>&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\color</span>{<span
      class="textcolor"
      style="color:#000000"
>black</span>}<span
      class="textcolor"
      style="color:#000000"
>=</span><br />
&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\frac</span>{{<span
      class="textcolor"
      style="color:#0000B2"
>\color</span>{<span
      class="textcolor"
      style="color:#000000"
>red</span>}<span
      class="textcolor"
      style="color:#0000B2"
>\sin</span>&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\alpha</span>}}{<span
      class="textcolor"
      style="color:#0000B2"
>\color</span>{<span
      class="textcolor"
      style="color:#000000"
>blue</span>}<span
      class="textcolor"
      style="color:#0000B2"
>\cos</span>&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\alpha</span>}<span
      class="textcolor"
      style="color:#000000"
>$</span>}&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(t)</span>;<br />
<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\draw</span>&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(0,0)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>--</span> <span
      class="textcolor"
      style="color:#800080"
>(t)</span>;<br />
<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\draw</span>[<span
      class="textcolor"
      style="color:#008000"
>xshift</span>=<span
      class="textcolor"
      style="color:#008000"
>1.85cm</span>]<br />
&#x2007;&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#000000"
>node</span>[<span
      class="textcolor"
      style="color:#008000"
>right</span>,<span
      class="textcolor"
      style="color:#008000"
>text width</span>=<span
      class="textcolor"
      style="color:#008000"
>6cm</span>,<span
      class="textcolor"
      style="color:#008000"
>information text</span>]<br />
&#x2007;&#x2007;&#x2007;&#x2007;{<br />
&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#000000"
>The</span> {<span
      class="textcolor"
      style="color:#0000B2"
>\color</span>{<span
      class="textcolor"
      style="color:#000000"
>anglecolor</span>}&#x2007;<span
      class="textcolor"
      style="color:#000000"
>angle</span> <span
      class="textcolor"
      style="color:#000000"
>$</span><span
      class="textcolor"
      style="color:#0000B2"
>\alpha</span><span
      class="textcolor"
      style="color:#000000"
>$</span>}&#x2007;<span
      class="textcolor"
      style="color:#000000"
>is</span> <span
      class="textcolor"
      style="color:#000000"
>$30^</span><span
      class="textcolor"
      style="color:#0000B2"
>\circ</span><span
      class="textcolor"
      style="color:#000000"
>$</span> <span
      class="textcolor"
      style="color:#000000"
>in</span> <span
      class="textcolor"
      style="color:#000000"
>the</span><br />
&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#000000"
>example</span> <span
   class="textcolor"
   style="color:#800080"
>($\pi/6$ in radians)</span>.&#x2007;<span
   class="textcolor"
   style="color:#000000"
>The</span> {<span
   class="textcolor"
   style="color:#0000B2"
>\color</span>{<span
   class="textcolor"
   style="color:#000000"
>sincolor</span>}<span
   class="textcolor"
   style="color:#000000"
>sine</span> <span
   class="textcolor"
   style="color:#000000"
>of</span><br />
&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;<span
   class="textcolor"
   style="color:#000000"
>$</span><span
   class="textcolor"
   style="color:#0000B2"
>\alpha</span><span
   class="textcolor"
   style="color:#000000"
>$</span>},&#x2007;<span
   class="textcolor"
   style="color:#000000"
>which</span> <span
   class="textcolor"
   style="color:#000000"
>is</span> <span
   class="textcolor"
   style="color:#000000"
>the</span> <span
   class="textcolor"
   style="color:#000000"
>height</span> <span
   class="textcolor"
   style="color:#000000"
>of</span> <span
   class="textcolor"
   style="color:#000000"
>the</span> <span
   class="textcolor"
   style="color:#000000"
>red</span> <span
   class="textcolor"
   style="color:#000000"
>line</span>,&#x2007;<span
   class="textcolor"
   style="color:#000000"
>is</span><br />
&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;<span
   class="textcolor"
   style="color:#0000B2"
>\</span>[<br />
&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;{<span
   class="textcolor"
   style="color:#0000B2"
>\color</span>{<span
   class="textcolor"
   style="color:#008000"
>sincolor</span>}&#x2007;<span
   class="textcolor"
   style="color:#0000B2"
>\sin</span>&#x2007;<span
   class="textcolor"
   style="color:#0000B2"
>\alpha</span>}&#x2007;<span
   class="textcolor"
   style="color:#008000"
></span>= <span
   class="textcolor"
   style="color:#008000"
>1/2.<br />
&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;<span
   class="textcolor"
   style="color:#0000B2"
>\</span></span>]<br />
&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;<span
   class="textcolor"
   style="color:#000000"
>By</span> <span
   class="textcolor"
   style="color:#000000"
>the</span> <span
   class="textcolor"
   style="color:#000000"
>Theorem</span> <span
   class="textcolor"
   style="color:#000000"
>of</span> <span
   class="textcolor"
   style="color:#000000"
>Pythagoras</span> ...<br />
&#x2007;&#x2007;&#x2007;&#x2007;};<br />
<span
   class="textcolor"
   style="color:#000000"
>\end</span>{<span
   class="textcolor"
   style="color:#0000B2"
>tikzpicture</span>}<br />


</p>
</div>

</div>
<h5 id="autosec-160"><span class="sectionnumber">2.22&#x2003;</span>Pics: The Angle Revisited</h5>
<a id="pgfmanual-autopage-160"></a>


<p>
Karl expects that the code of certain parts of the picture he created might be so useful that he might wish to reuse them in the future. A natural thing to do is to create <span class="latexlogofont"><span class="latexlogo">T<span
class="latexlogosub">e</span>X</span></span> macros that store the code he wishes to reuse. However, Ti<em>k</em>Z offers another way that is integrated directly into its parser: pics!
</p>

<p>
A “pic” is “not quite a full picture”, hence the short name. The idea is that a pic is simply some code that you can add to a picture at different places using the <span class="texttt">pic</span> command whose syntax is almost identical
to the <span class="texttt">node</span> command. The main difference is that instead of specifying some text in curly braces that should be shown, you specify the name of a predefined picture that should be shown.
</p>

<p>
Defining new pics is easy enough, see Section&nbsp;<a href="home.html#??">??</a>, but right now we just want to use one such predefined pic: the <span class="texttt">angle</span> pic. As the name suggests, it is a small drawing of an
angle consisting of a little wedge and an arc together with some text (Karl needs to load the <span class="texttt">angles</span> library and the <span class="texttt">quotes</span> for the following examples). What makes this pic useful is
the fact that the size of the wedge will be computed automatically.
</p>

<p>
The <span class="texttt">angle</span> pic draws an angle between the two lines \(BA\) and \(BC\), where \(A\), \(B\), and \(C\) are three coordinates. In our case, \(B\) is the origin, \(A\) is somewhere on the \(x\)-axis and \(C\) is
somewhere on a line at \(30^\circ \).
</p>



<div class="example">



<div class="example-image">

<p>
<span
      id="lateximage-pgfmanual-58"
      class="lateximagesource"
><!--
α
--> <img
      src="pgfmanual-images/image-58.svg"
      alt="(-tikz-&nbsp;diagram)"
      style=""
      class="lateximage"
></span>
</p>
</div>



<div class="example-code">

<p>
<span class="c-
preamble">\usetikzlibrary {angles,quotes}                                                                                                                                                                                                 </span><br
/>
<span
      class="textcolor"
      style="color:#000000"
>\begin</span>{<span
      class="textcolor"
      style="color:#0000B2"
>tikzpicture</span>}[<span
      class="textcolor"
      style="color:#008000"
>scale</span>=<span
      class="textcolor"
      style="color:#008000"
>3</span>]<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\coordinate</span>&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(A)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>at</span> <span
      class="textcolor"
      style="color:#800080"
>(1,0)</span>;<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\coordinate</span>&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(B)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>at</span> <span
      class="textcolor"
      style="color:#800080"
>(0,0)</span>;<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\coordinate</span>&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(C)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>at</span> <span
      class="textcolor"
      style="color:#800080"
>(30:1cm)</span>;<br />
<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\draw</span>&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(A)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>--</span> <span
      class="textcolor"
      style="color:#800080"
>(B)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>--</span> <span
      class="textcolor"
      style="color:#800080"
>(C)</span><br />
&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#000000"
>pic</span> [<span
      class="textcolor"
      style="color:#008000"
>draw</span>=<span
      class="textcolor"
      style="color:#008000"
>green!50!black</span>,&#x2007;<span
      class="textcolor"
      style="color:#008000"
>fill</span>=<span
      class="textcolor"
      style="color:#008000"
>green!20</span>,&#x2007;<span
      class="textcolor"
      style="color:#008000"
>angle radius</span>=<span
      class="textcolor"
      style="color:#008000"
>9mm</span>,<br />
&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#008000"
>"$</span><span
      class="textcolor"
      style="color:#0000B2"
>\alpha</span><span
      class="textcolor"
      style="color:#008000"
>$"</span>]&#x2007;{<span
      class="textcolor"
      style="color:#000000"
>angle</span> <span
      class="textcolor"
      style="color:#000000"
>=</span> <span
      class="textcolor"
      style="color:#000000"
>A--B--C</span>};<br />
<span
      class="textcolor"
      style="color:#000000"
>\end</span>{<span
      class="textcolor"
      style="color:#0000B2"
>tikzpicture</span>}<br />


</p>
</div>

</div>

<p>
Let us see, what is happening here. First we have specified three <em>coordinates</em> using the <span class="texttt">\coordinate</span> command. It allows us to name a specific coordinate in the picture. Then comes something that
starts as a normal <span class="texttt">\draw</span>, but then comes the <span class="texttt">pic</span> command. This command gets lots of options and, in curly braces, comes the most important point: We specify that we want to
add an <span class="texttt">angle</span> pic and this angle should be between the points we named <span class="texttt">A</span>, <span class="texttt">B</span>, and <span class="texttt">C</span> (we could use other names). Note that
the text that we want to be shown in the pic is specified in quotes inside the options of the <span class="texttt">pic</span>, not inside the curly braces.
</p>

<p>
To learn more about pics, please see Section&nbsp;<a href="home.html#??">??</a>.
</p>
</section>

</main>

</div>



<nav class="botnavigation"><a href="home.html" class="linkhome" >
Home</a></nav>

</body>
</html>
<!--|Start file|tutorial-nodes.html|-->

<!DOCTYPE html>
<html lang="en-US">
<head>
<meta charset="UTF-8" />
<meta name="generator" content="LaTeX Lwarp package" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<!--[if lt IE 9]>
<script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
<![endif]-->
<title>tutorial-nodes — TikZ and PGF Manual</title>
<link rel="stylesheet" type="text/css" href="style.css" />

<script>
// Lwarp MathJax emulation code
//
// Based on code by Davide P. Cervone.
// Equation numbering: https://github.com/mathjax/MathJax/issues/2427
// Starred and ifnextchar macros: https://github.com/mathjax/MathJax/issues/2428
// \left, \right delimiters: https://github.com/mathjax/MathJax/issues/2535
//
// Modified by Brian Dunn to adjust equation numbering and add subequations.
//
// LaTeX can use \seteqnumber{subequations?}{section}{number} before each equation.
// subequations? is 0 usually, 1 if inside subequations.
// section is a string printed as-is, or empty.
// number is auto-incremented by MathJax between equations.
//
MathJax = {
  subequations: "0",
  section: "",
  loader: {
    load: ['[tex]/tagformat', '[tex]/textmacros'],
  },
  startup: {
    ready() {
      // These would be replaced by import commands if you wanted to make
      // a proper extension.
      const Configuration = MathJax._.input.tex.Configuration.Configuration;
      const CommandMap = MathJax._.input.tex.SymbolMap.CommandMap;
      const Macro = MathJax._.input.tex.Symbol.Macro;
      const TexError = MathJax._.input.tex.TexError.default;
      const ParseUtil = MathJax._.input.tex.ParseUtil.default;
      const expandable = MathJax._.util.Options.expandable;

       // Insert the replacement string into the TeX string, and check
       // that there haven't been too many maxro substitutions (prevents
       // infinite loops).
       const useArgument = (parser, text) => {
         parser.string = ParseUtil.addArgs(parser, text, parser.string.slice(parser.i));
         parser.i = 0;
         if (++parser.macroCount > parser.configuration.options.maxMacros) {
           throw new TexError('MaxMacroSub1',
           'MathJax maximum macro substitution count exceeded; ' +
           'is there a recursive macro call?');
         }
       }

       // Create the command map for:
       //     \ifstar, \ifnextchar, \ifblank, \ifstrequal, \seteqnumber
       new CommandMap('Lwarp-macros', {
         ifstar: 'IfstarFunction',
         ifnextchar: 'IfnextcharFunction',
         ifblank: 'IfblankFunction',
         ifstrequal: 'IfstrequalFunction',
         seteqnumber: 'SeteqnumberFunction'
       }, {
         // This function implements an ifstar macro.
         IfstarFunction(parser, name) {
            const resultstar = parser.GetArgument(name);
            const resultnostar = parser.GetArgument(name);
            const star = parser.GetStar();                 // true if there is a *
            useArgument(parser, star ? resultstar : resultnostar);
         },

          // This function implements an ifnextchar macro.
          IfnextcharFunction(parser, name) {
            let whichchar = parser.GetArgument(name);
            if (whichchar.match(/^(?:0x[0-9A-F]+|[0-9]+)$/i)) {
              // $ syntax highlighting
              whichchar = String.fromCodePoint(parseInt(whichchar));
            }
            const resultnextchar = parser.GetArgument(name);
            const resultnotnextchar = parser.GetArgument(name);
            const gotchar = (parser.GetNext() === whichchar);
            useArgument(parser, gotchar ? resultnextchar : resultnotnextchar);
          },

          // This function implements an ifblank macro.
          IfblankFunction(parser, name) {
            const blankarg = parser.GetArgument(name);
            const resultblank = parser.GetArgument(name);
            const resultnotblank = parser.GetArgument(name);
            const isblank = (blankarg.trim() == "");
            useArgument(parser, isblank ? resultblank : resultnotblank);
          },

          // This function implements an ifstrequal macro.
          IfstrequalFunction(parser, name) {
            const strequalfirst = parser.GetArgument(name);
            const strequalsecond = parser.GetArgument(name);
            const resultequal = parser.GetArgument(name);
            const resultnotequal = parser.GetArgument(name);
            const isequal = (strequalfirst == strequalsecond);
            useArgument(parser, isequal ? resultequal : resultnotequal);
          },

          // This function modifies the equation numbers.
          SeteqnumberFunction(parser, name) {
              // Get the macro parameters
              const star = parser.GetStar();                  // true if there is a *
              const optBrackets = parser.GetBrackets(name);   // contents of optional brackets
              const newsubequations = parser.GetArgument(name); // the subequations argument
              const neweqsection = parser.GetArgument(name); // the eq section argument
              const neweqnumber = parser.GetArgument(name);   // the eq number argument
              MathJax.config.subequations=newsubequations ;   // a string with boolean meaning
              MathJax.config.section=neweqsection ;           // a string with numeric meaning
              parser.tags.counter = parser.tags.allCounter = neweqnumber ;
          }

       });

       // Create the Lwarp-macros package
       Configuration.create('Lwarp-macros', {
         handler: {macro: ['Lwarp-macros']}
       });

       MathJax.startup.defaultReady();

       // For forward references:
       MathJax.startup.input[0].preFilters.add(({math}) => {
         if (math.inputData.recompile){
             MathJax.config.subequations = math.inputData.recompile.subequations;
             MathJax.config.section = math.inputData.recompile.section;
         }
       });
       MathJax.startup.input[0].postFilters.add(({math}) => {
         if (math.inputData.recompile){
             math.inputData.recompile.subequations = MathJax.config.subequations;
             math.inputData.recompile.section = MathJax.config.section;
         }
       });

         // For \left, \right with unicode-math:
         const {DelimiterMap} = MathJax._.input.tex.SymbolMap;
         const {Symbol} = MathJax._.input.tex.Symbol;
         const {MapHandler} = MathJax._.input.tex.MapHandler;
         const delimiter = MapHandler.getMap('delimiter');
         delimiter.add('\\lBrack', new Symbol('\\lBrack', '\u27E6'));
         delimiter.add('\\rBrack', new Symbol('\\rBrack', '\u27E7'));
         delimiter.add('\\lAngle', new Symbol('\\lAngle', '\u27EA'));
         delimiter.add('\\rAngle', new Symbol('\\rAngle', '\u27EB'));
         delimiter.add('\\lbrbrak', new Symbol('\\lbrbrak', '\u2772'));
         delimiter.add('\\rbrbrak', new Symbol('\\rbrbrak', '\u2773'));
         delimiter.add('\\lbag', new Symbol('\\lbag', '\u27C5'));
         delimiter.add('\\rbag', new Symbol('\\rbag', '\u27C6'));
         delimiter.add('\\llparenthesis', new Symbol('\\llparenthesis', '\u2987'));
         delimiter.add('\\rrparenthesis', new Symbol('\\rrparenthesis', '\u2988'));
         delimiter.add('\\llangle', new Symbol('\\llangle', '\u2989'));
         delimiter.add('\\rrangle', new Symbol('\\rrangle', '\u298A'));
         delimiter.add('\\Lbrbrak', new Symbol('\\Lbrbrak', '\u27EC'));
         delimiter.add('\\Rbrbrak', new Symbol('\\Rbrbrak', '\u27ED'));
         delimiter.add('\\lBrace', new Symbol('\\lBrace', '\u2983'));
         delimiter.add('\\rBrace', new Symbol('\\rBrace', '\u2984'));
         delimiter.add('\\lParen', new Symbol('\\lParen', '\u2985'));
         delimiter.add('\\rParen', new Symbol('\\rParen', '\u2986'));
         delimiter.add('\\lbrackubar', new Symbol('\\lbrackubar', '\u298B'));
         delimiter.add('\\rbrackubar', new Symbol('\\rbrackubar', '\u298C'));
         delimiter.add('\\lbrackultick', new Symbol('\\lbrackultick', '\u298D'));
         delimiter.add('\\rbracklrtick', new Symbol('\\rbracklrtick', '\u298E'));
         delimiter.add('\\lbracklltick', new Symbol('\\lbracklltick', '\u298F'));
         delimiter.add('\\rbrackurtick', new Symbol('\\rbrackurtick', '\u2990'));
         delimiter.add('\\langledot', new Symbol('\\langledot', '\u2991'));
         delimiter.add('\\rangledot', new Symbol('\\rangledot', '\u2992'));
         delimiter.add('\\lparenless', new Symbol('\\lparenless', '\u2993'));
         delimiter.add('\\rparengtr', new Symbol('\\rparengtr', '\u2994'));
         delimiter.add('\\Lparengtr', new Symbol('\\Lparengtr', '\u2995'));
         delimiter.add('\\Rparenless', new Symbol('\\Rparenless', '\u2996'));
         delimiter.add('\\lblkbrbrak', new Symbol('\\lblkbrbrak', '\u2997'));
         delimiter.add('\\rblkbrbrak', new Symbol('\\rblkbrbrak', '\u2998'));
         delimiter.add('\\lvzigzag', new Symbol('\\lvzigzag', '\u29D8'));
         delimiter.add('\\rvzigzag', new Symbol('\\rvzigzag', '\u29D9'));
         delimiter.add('\\Lvzigzag', new Symbol('\\Lvzigzag', '\u29DA'));
         delimiter.add('\\Rvzigzag', new Symbol('\\Rvzigzag', '\u29DB'));
         delimiter.add('\\lcurvyangle', new Symbol('\\lcurvyangle', '\u29FC'));
         delimiter.add('\\rcurvyangle', new Symbol('\\rcurvyangle', '\u29FD'));
         delimiter.add('\\Vvert', new Symbol('\\Vvert', '\u2980'));
   }     // ready
 },      // startup

 tex: {
   packages: {'[+]': ['tagformat', 'Lwarp-macros', 'textmacros']},
   tags: "ams",
        tagformat: {
            number: function (n) {
                if(MathJax.config.subequations==0)
                    return(MathJax.config.section + n);
                else
                    return(MathJax.config.section + String.fromCharCode(96+n));
            },
        },
 }
}
</script>

<script
    id="MathJax-script"
    src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"
></script>

<script
  src="pgfmanual.js">
</script>

</head>
<body>


<a id="pgfmanual-autopage-164"></a>
<nav class="topnavigation"><a href="home.html" class="linkhome" >
Home</a></nav>



<div class="bodyandsidetoc">
<div class="sidetoccontainer">



<nav class="sidetoc">



<div class="sidetoctitle">

<p>
<span class="sidetocthetitle">The Ti<em>k</em>Z and PGF Packages<br />
Manual for version 3.1.9a</span>
</p>

<p>
Contents
</p>
</div>



<div class="sidetoccontents">

<p>
<a href="home.html" class="linkhome" >
Home</a>
</p>

<p>
<a href="index-0.html#autosec-7" class="tocsection" >
<span class="sectionnumber">1</span>&#x2003;Introduction</a>
</p>


<p>
<a href="tutorials-guidelines.html#autosec-23" class="tocpart" >
<span class="sectionnumber">I</span>&#x2003;Tutorials and Guidelines</a>
</p>


<p>
<a href="tutorial.html#autosec-28" class="tocsection" >
<span class="sectionnumber">2</span>&#x2003;Tutorial: A Picture for Karl’s Students</a>
</p>


<p>
<a href="tutorial-nodes.html#autosec-165" class="tocsection" >
<span class="sectionnumber">3</span>&#x2003;Tutorial: A Petri-Net for Hagen</a>
</p>


<p>
<a href="tutorial-Euclid.html#autosec-248" class="tocsection" >
<span class="sectionnumber">4</span>&#x2003;Tutorial: Euclid’s Amber Version of the <em>Elements</em></a>
</p>


</div>

</nav>

</div>



<main class="bodycontainer">



<section class="textbody">

<h1>The Ti<em>k</em>Z and PGF Packages<br />
Manual for version 3.1.9a</h1>

<!--MathJax customizations:-->



<div class="hidden">

\(\newcommand{\footnotename}{footnote}\)

\(\def \LWRfootnote {1}\)

\(\newcommand {\footnote }[2][\LWRfootnote ]{{}^{\mathrm {#1}}}\)

\(\newcommand {\footnotemark }[1][\LWRfootnote ]{{}^{\mathrm {#1}}}\)

\(\let \LWRorighspace \hspace \)

\(\renewcommand {\hspace }{\ifstar \LWRorighspace \LWRorighspace }\)

\(\newcommand {\mathnormal }[1]{{#1}}\)

\(\newcommand \ensuremath [1]{#1}\)

\(\newcommand {\LWRframebox }[2][]{\fbox {#2}} \newcommand {\framebox }[1][]{\LWRframebox } \)

\(\newcommand {\setlength }[2]{}\)

\(\newcommand {\addtolength }[2]{}\)

\(\newcommand {\setcounter }[2]{}\)

\(\newcommand {\addtocounter }[2]{}\)

\(\newcommand {\arabic }[1]{}\)

\(\newcommand {\number }[1]{}\)

\(\newcommand {\noalign }[1]{\text {#1}\notag \\}\)

\(\newcommand {\cline }[1]{}\)

\(\newcommand {\directlua }[1]{\text {(directlua)}}\)

\(\newcommand {\luatexdirectlua }[1]{\text {(directlua)}}\)

\(\newcommand {\protect }{}\)

\(\def \LWRabsorbnumber #1 {}\)

\(\def \LWRabsorbquotenumber &quot;#1 {}\)

\(\newcommand {\LWRabsorboption }[1][]{}\)

\(\newcommand {\LWRabsorbtwooptions }[1][]{\LWRabsorboption }\)

\(\def \mathchar {\ifnextchar &quot;\LWRabsorbquotenumber \LWRabsorbnumber }\)

\(\def \mathcode #1={\mathchar }\)

\(\let \delcode \mathcode \)

\(\let \delimiter \mathchar \)

\(\def \oe {\unicode {x0153}}\)

\(\def \OE {\unicode {x0152}}\)

\(\def \ae {\unicode {x00E6}}\)

\(\def \AE {\unicode {x00C6}}\)

\(\def \aa {\unicode {x00E5}}\)

\(\def \AA {\unicode {x00C5}}\)

\(\def \o {\unicode {x00F8}}\)

\(\def \O {\unicode {x00D8}}\)

\(\def \l {\unicode {x0142}}\)

\(\def \L {\unicode {x0141}}\)

\(\def \ss {\unicode {x00DF}}\)

\(\def \SS {\unicode {x1E9E}}\)

\(\def \dag {\unicode {x2020}}\)

\(\def \ddag {\unicode {x2021}}\)

\(\def \P {\unicode {x00B6}}\)

\(\def \copyright {\unicode {x00A9}}\)

\(\def \pounds {\unicode {x00A3}}\)

\(\let \LWRref \ref \)

\(\renewcommand {\ref }{\ifstar \LWRref \LWRref }\)

\( \newcommand {\multicolumn }[3]{#3}\)

\(\require {textcomp}\)

\( \newcommand {\meta }[1]{\langle \textit {#1}\rangle } \)

\(\newcommand {\intertext }[1]{\text {#1}\notag \\}\)

\(\let \Hat \hat \)

\(\let \Check \check \)

\(\let \Tilde \tilde \)

\(\let \Acute \acute \)

\(\let \Grave \grave \)

\(\let \Dot \dot \)

\(\let \Ddot \ddot \)

\(\let \Breve \breve \)

\(\let \Bar \bar \)

\(\let \Vec \vec \)

</div>

<p>
<h4 id="autosec-165"><span class="sectionnumber">3&#x2003;</span>Tutorial: A Petri-Net for Hagen</h4>
<a id="pgfmanual-autopage-165"></a>
<a id="pgfmanual-autofile-4"></a>

<p>
In this second tutorial we explore the node mechanism of Ti<em>k</em>Z and <span class="textsc">pgf</span>.
</p>

<p>
Hagen must give a talk tomorrow about his favorite formalism for distributed systems: Petri nets! Hagen used to give his talks using a blackboard and everyone seemed to be perfectly content with this. Unfortunately, his audience has
been spoiled recently with fancy projector-based presentations and there seems to be a certain amount of peer pressure that his Petri nets should also be drawn using a graphic program. One of the professors at his institute
recommends Ti<em>k</em>Z for this and Hagen decides to give it a try.
</p>
<h5 id="autosec-166"><span class="sectionnumber">3.1&#x2003;</span>Problem Statement</h5>
<a id="pgfmanual-autopage-166"></a>


<p>
For his talk, Hagen wishes to create a graphic that demonstrates how a net with place capacities can be simulated by a net without capacities. The graphic should look like this, ideally:
</p>
<blockquote>

<p>
<span
      id="lateximage-pgfmanual-59"
      class="lateximagesource"
><!--
      2                              2


           replacement
          of the capacity
s≤3
           by two places
                            s   s̄




      2                              2
--> <img
   src="pgfmanual-images/image-59.svg"
   alt="(-tikz-&nbsp;diagram)"
   style=""
   class="lateximage"
></span>
</p>
</blockquote>
<h5 id="autosec-170"><span class="sectionnumber">3.2&#x2003;</span>Setting up the Environment</h5>
<a id="pgfmanual-autopage-170"></a>


<p>
For the picture Hagen will need to load the Ti<em>k</em>Z package as did Karl in the previous tutorial. However, Hagen will also need to load some additional <em>library packages</em> that Karl did not need. These library packages
contain additional definitions like extra arrow tips that are typically not needed in a picture and that need to be loaded explicitly.
</p>

<p>
Hagen will need to load several libraries: The <span class="texttt">arrows.meta</span> library for the special arrow tip used in the graphic, the <span class="texttt">decorations.pathmorphing</span> library for the “snaking line” in the
middle, the <span class="texttt">backgrounds</span> library for the two rectangular areas that are behind the two main parts of the picture, the <span class="texttt">fit</span> library to easily compute the sizes of these rectangles, and
the <span class="texttt">positioning</span> library for placing nodes relative to other nodes.
</p>
<h6 id="autosec-171"><span class="sectionnumber">3.2.1&#x2003;</span>Setting up the Environment in <span class="latexlogofont"><span class="latexlogo">L<span class="latexlogosup">a</span>T<span
class="latexlogosub">e</span>X</span></span></h6>
<a id="pgfmanual-autopage-171"></a>


<p>
When using <span class="latexlogofont"><span class="latexlogo">L<span class="latexlogosup">a</span>T<span class="latexlogosub">e</span>X</span></span> use:
</p>



<div class="example">



<div class="example-code">

<p>                                                                             <br />
<span
      class="textcolor"
      style="color:#0000B2"
>\documentclass</span>{<span
      class="textcolor"
      style="color:#000000"
>article</span>}&#x2007;<span class="example-code-comment">% say</span><br />
<br />
<span
      class="textcolor"
      style="color:#0000B2"
>\usepackage</span>{<span
      class="textcolor"
      style="color:#000000"
>tikz</span>}<br />
\usetikzlibrary{arrows.meta,decorations.pathmorphing,backgrounds,positioning,fit,petri}<br />
<br />
<span
      class="textcolor"
      style="color:#000000"
>\begin</span>{<span
      class="textcolor"
      style="color:#0000B2"
>document</span>}<br />
<span
      class="textcolor"
      style="color:#000000"
>\begin</span>{<span
      class="textcolor"
      style="color:#0000B2"
>tikzpicture</span>}<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\draw</span>&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(0,0)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>--</span> <span
      class="textcolor"
      style="color:#800080"
>(1,1)</span>;<br />
<span
      class="textcolor"
      style="color:#000000"
>\end</span>{<span
      class="textcolor"
      style="color:#0000B2"
>tikzpicture</span>}<br />
<span
      class="textcolor"
      style="color:#000000"
>\end</span>{<span
      class="textcolor"
      style="color:#0000B2"
>document</span>}<br />


</p>
</div>

</div>
<h6 id="autosec-172"><span class="sectionnumber">3.2.2&#x2003;</span>Setting up the Environment in Plain <span class="latexlogofont"><span class="latexlogo">T<span class="latexlogosub">e</span>X</span></span></h6>
<a id="pgfmanual-autopage-172"></a>


<p>
When using plain <span class="latexlogofont"><span class="latexlogo">T<span class="latexlogosub">e</span>X</span></span> use:
</p>



<div class="example">



<div class="example-code">

<p>                                                                            <br />
<span class="example-code-comment">%% Plain TeX file</span><br />
<span
      class="textcolor"
      style="color:#0000B2"
>\input</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>tikz</span>.<span
      class="textcolor"
      style="color:#000000"
>tex</span><br />
\usetikzlibrary{arrows.meta,decorations.pathmorphing,backgrounds,positioning,fit,petri}<br />
<span
      class="textcolor"
      style="color:#0000B2"
>\baselineskip</span><span
      class="textcolor"
      style="color:#000000"
>=12pt</span><br />
<span
      class="textcolor"
      style="color:#0000B2"
>\hsize</span><span
      class="textcolor"
      style="color:#000000"
>=6</span>.<span
      class="textcolor"
      style="color:#000000"
>3truein</span><br />
<span
      class="textcolor"
      style="color:#0000B2"
>\vsize</span><span
      class="textcolor"
      style="color:#000000"
>=8</span>.<span
      class="textcolor"
      style="color:#000000"
>7truein</span><br />
<span
      class="textcolor"
      style="color:#0000B2"
>\tikzpicture</span><br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\draw</span>&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(0,0)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>--</span> <span
      class="textcolor"
      style="color:#800080"
>(1,1)</span>;<br />
<span
      class="textcolor"
      style="color:#0000B2"
>\endtikzpicture</span><br />
<span
      class="textcolor"
      style="color:#0000B2"
>\bye</span><br />


</p>
</div>

</div>
<h6 id="autosec-173"><span class="sectionnumber">3.2.3&#x2003;</span>Setting up the Environment in Con<span class="latexlogofont"><span class="latexlogo">T<span class="latexlogosub">e</span>X</span></span>t</h6>
<a id="pgfmanual-autopage-173"></a>


<p>
When using Con<span class="latexlogofont"><span class="latexlogo">T<span class="latexlogosub">e</span>X</span></span>t, use:
</p>



<div class="example">



<div class="example-code">

<p>                                                                          <br />
<span class="example-code-comment">%% ConTeXt file</span><br />
<span
      class="textcolor"
      style="color:#0000B2"
>\usemodule</span>[<span
      class="textcolor"
      style="color:#008000"
>tikz</span>]<br />
<span
      class="textcolor"
      style="color:#0000B2"
>\usetikzlibrary</span>[<span
      class="textcolor"
      style="color:#008000"
>arrows.meta</span>,<span
      class="textcolor"
      style="color:#008000"
>decorations.pathmorphing</span>,<span
      class="textcolor"
      style="color:#008000"
>backgrounds</span>,<span
      class="textcolor"
      style="color:#008000"
>positioning</span>,<span
      class="textcolor"
      style="color:#008000"
>fit</span>,<span
      class="textcolor"
      style="color:#008000"
>petri</span>]<br />
<br />
<span
      class="textcolor"
      style="color:#0000B2"
>\starttext</span><br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\starttikzpicture</span><br />
&#x2007;&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\draw</span>&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(0,0)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>--</span> <span
      class="textcolor"
      style="color:#800080"
>(1,1)</span>;<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\stoptikzpicture</span><br />
<span
      class="textcolor"
      style="color:#0000B2"
>\stoptext</span><br />


</p>
</div>

</div>
<h5 id="autosec-174"><span class="sectionnumber">3.3&#x2003;</span>Introduction to Nodes</h5>
<a id="pgfmanual-autopage-174"></a>


<p>
In principle, we already know how to create the graphics that Hagen desires (except perhaps for the snaked line, we will come to that): We start with big light gray rectangle and then add lots of circles and small rectangle, plus some
arrows.
</p>

<p>
However, this approach has numerous disadvantages: First, it is hard to change anything at a later stage. For example, if we decide to add more places to the Petri nets (the circles are called places in Petri net theory), all of the
coordinates change and we need to recalculate everything. Second, it is hard to read the code for the Petri net as it is just a long and complicated list of coordinates and drawing commands – the underlying structure of the Petri net is
lost.
</p>

<p>
Fortunately, Ti<em>k</em>Z offers a powerful mechanism for avoiding the above problems: nodes. We already came across nodes in the previous tutorial, where we used them to add labels to Karl’s graphic. In the present tutorial we will
see that nodes are much more powerful.
</p>

<p>
A node is a small part of a picture. When a node is created, you provide a position where the node should be drawn and a <em>shape</em>. A node of shape <span class="texttt">circle</span> will be drawn as a circle, a node of shape
<span class="texttt">rectangle</span> as a rectangle, and so on. A node may also contain some text, which is why Karl used nodes to show text. Finally, a node can get a <em>name</em> for later reference.
</p>

<p>
In Hagen’s picture we will use nodes for the places and for the transitions of the Petri net (the places are the circles, the transitions are the rectangles). Let us start with the upper half of the left Petri net. In this upper half we have
three places and two transitions. Instead of drawing three circles and two rectangles, we use three nodes of shape <span class="texttt">circle</span> and two nodes of shape <span class="texttt">rectangle</span>.
</p>



<div class="example">



<div class="example-image">

<p>
<span
      id="lateximage-pgfmanual-60"
      class="lateximagesource"
><!--
--> <img
      src="pgfmanual-images/image-60.svg"
      alt="(-tikz-&nbsp;diagram)"
      style=""
      class="lateximage"
></span>
</p>
</div>



<div class="example-code">

<p>                                                                              <br />
<span
      class="textcolor"
      style="color:#000000"
>\begin</span>{<span
      class="textcolor"
      style="color:#0000B2"
>tikzpicture</span>}<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\path</span>&#x2007;<span
      class="textcolor"
      style="color:#800080"
>( 0,2)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>node</span> [<span
      class="textcolor"
      style="color:#008000"
>shape</span>=<span
      class="textcolor"
      style="color:#008000"
>circle</span>,<span
      class="textcolor"
      style="color:#008000"
>draw</span>]&#x2007;{}<br />
&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#800080"
>( 0,1)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>node</span> [<span
      class="textcolor"
      style="color:#008000"
>shape</span>=<span
      class="textcolor"
      style="color:#008000"
>circle</span>,<span
      class="textcolor"
      style="color:#008000"
>draw</span>]&#x2007;{}<br />
&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#800080"
>( 0,0)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>node</span> [<span
      class="textcolor"
      style="color:#008000"
>shape</span>=<span
      class="textcolor"
      style="color:#008000"
>circle</span>,<span
      class="textcolor"
      style="color:#008000"
>draw</span>]&#x2007;{}<br />
&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#800080"
>( 1,1)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>node</span> [<span
      class="textcolor"
      style="color:#008000"
>shape</span>=<span
      class="textcolor"
      style="color:#008000"
>rectangle</span>,<span
      class="textcolor"
      style="color:#008000"
>draw</span>]&#x2007;{}<br />
&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(-1,1)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>node</span> [<span
      class="textcolor"
      style="color:#008000"
>shape</span>=<span
      class="textcolor"
      style="color:#008000"
>rectangle</span>,<span
      class="textcolor"
      style="color:#008000"
>draw</span>]&#x2007;{};<br />
<span
      class="textcolor"
      style="color:#000000"
>\end</span>{<span
      class="textcolor"
      style="color:#0000B2"
>tikzpicture</span>}<br />


</p>
</div>

</div>

<p>
Hagen notes that this does not quite look like the final picture, but it seems like a good first step.
</p>

<p>
Let us have a more detailed look at the code. The whole picture consists of a single path. Ignoring the <span class="texttt">node</span> operations, there is not much going on in this path: It is just a sequence of coordinates with
nothing “happening” between them. Indeed, even if something were to happen like a line-to or a curve-to, the <span class="texttt">\path</span> command would not “do” anything with the resulting path. So, all the magic must be in
the <span class="texttt">node</span> commands.
</p>

<p>
In the previous tutorial we learned that a <span class="texttt">node</span> will add a piece of text at the last coordinate. Thus, each of the five nodes is added at a different position. In the above code, this text is empty (because of the
empty <span class="texttt">{}</span>). So, why do we see anything at all? The answer is the <span class="texttt">draw</span> option for the <span class="texttt">node</span> operation: It causes the “shape around the text” to be drawn.
</p>

<p>
So, the code <span class="texttt">(0,2) node [shape=circle,draw] {}</span> means the following: “In the main path, add a move-to to the coordinate <span class="texttt">(0,2)</span>. Then, temporarily suspend the construction of the
main path while the node is built. This node will be a <span class="texttt">circle</span> around an empty text. This circle is to be <span class="texttt">draw</span>n, but not filled or otherwise used. Once this whole node is constructed,
it is saved until after the main path is finished. Then, it is drawn.” The following <span class="texttt">(0,1) node [shape=circle,draw] {}</span> then has the following effect: “Continue the main path with a move-to to <span
class="texttt">(0,1)</span>. Then construct a node at this position also. This node is also shown after the main path is finished.” And so on.
</p>
<h5 id="autosec-177"><span class="sectionnumber">3.4&#x2003;</span>Placing Nodes Using the At Syntax</h5>
<a id="pgfmanual-autopage-177"></a>


<p>
Hagen now understands how the <span class="texttt">node</span> operation adds nodes to the path, but it seems a bit silly to create a path using the <span class="texttt">\path</span> operation, consisting of numerous superfluous
move-to operations, only to place nodes. He is pleased to learn that there are ways to add nodes in a more sensible manner.
</p>

<p>
First, the <span class="texttt">node</span> operation allows one to add <span class="texttt">at (</span><span class="angle">&langle;</span><i>coordinate</i><span class="angle">&rangle;</span><span class="texttt">)</span> in order to
directly specify where the node should be placed, sidestepping the rule that nodes are placed on the last coordinate. Hagen can then write the following:
</p>



<div class="example">



<div class="example-image">

<p>
<span
      id="lateximage-pgfmanual-61"
      class="lateximagesource"
><!--
--> <img
      src="pgfmanual-images/image-61.svg"
      alt="(-tikz-&nbsp;diagram)"
      style=""
      class="lateximage"
></span>
</p>
</div>



<div class="example-code">

<p>                                                                           <br />
<span
      class="textcolor"
      style="color:#000000"
>\begin</span>{<span
      class="textcolor"
      style="color:#0000B2"
>tikzpicture</span>}<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\path</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>node</span> <span
      class="textcolor"
      style="color:#000000"
>at</span> <span
      class="textcolor"
      style="color:#800080"
>( 0,2)</span>&#x2007;[<span
      class="textcolor"
      style="color:#008000"
>shape</span>=<span
      class="textcolor"
      style="color:#008000"
>circle</span>,<span
      class="textcolor"
      style="color:#008000"
>draw</span>]&#x2007;{}<br />
&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#000000"
>node</span> <span
      class="textcolor"
      style="color:#000000"
>at</span> <span
      class="textcolor"
      style="color:#800080"
>( 0,1)</span>&#x2007;[<span
      class="textcolor"
      style="color:#008000"
>shape</span>=<span
      class="textcolor"
      style="color:#008000"
>circle</span>,<span
      class="textcolor"
      style="color:#008000"
>draw</span>]&#x2007;{}<br />
&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#000000"
>node</span> <span
      class="textcolor"
      style="color:#000000"
>at</span> <span
      class="textcolor"
      style="color:#800080"
>( 0,0)</span>&#x2007;[<span
      class="textcolor"
      style="color:#008000"
>shape</span>=<span
      class="textcolor"
      style="color:#008000"
>circle</span>,<span
      class="textcolor"
      style="color:#008000"
>draw</span>]&#x2007;{}<br />
&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#000000"
>node</span> <span
      class="textcolor"
      style="color:#000000"
>at</span> <span
      class="textcolor"
      style="color:#800080"
>( 1,1)</span>&#x2007;[<span
      class="textcolor"
      style="color:#008000"
>shape</span>=<span
      class="textcolor"
      style="color:#008000"
>rectangle</span>,<span
      class="textcolor"
      style="color:#008000"
>draw</span>]&#x2007;{}<br />
&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#000000"
>node</span> <span
      class="textcolor"
      style="color:#000000"
>at</span> <span
      class="textcolor"
      style="color:#800080"
>(-1,1)</span>&#x2007;[<span
      class="textcolor"
      style="color:#008000"
>shape</span>=<span
      class="textcolor"
      style="color:#008000"
>rectangle</span>,<span
      class="textcolor"
      style="color:#008000"
>draw</span>]&#x2007;{};<br />
<span
      class="textcolor"
      style="color:#000000"
>\end</span>{<span
      class="textcolor"
      style="color:#0000B2"
>tikzpicture</span>}<br />


</p>
</div>

</div>

<p>
Now Hagen is still left with a single empty path, but at least the path no longer contains strange move-to’s. It turns out that this can be improved further: The <span class="texttt">\node</span> command is an abbreviation for <span
class="texttt">\path node</span>, which allows Hagen to write:
</p>



<div class="example">



<div class="example-image">

<p>
<span
      id="lateximage-pgfmanual-62"
      class="lateximagesource"
><!--
--> <img
      src="pgfmanual-images/image-62.svg"
      alt="(-tikz-&nbsp;diagram)"
      style=""
      class="lateximage"
></span>
</p>
</div>



<div class="example-code">

<p>                                                                           <br />
<span
      class="textcolor"
      style="color:#000000"
>\begin</span>{<span
      class="textcolor"
      style="color:#0000B2"
>tikzpicture</span>}<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\node</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>at</span> <span
      class="textcolor"
      style="color:#800080"
>( 0,2)</span>&#x2007;[<span
      class="textcolor"
      style="color:#008000"
>circle</span>,<span
      class="textcolor"
      style="color:#008000"
>draw</span>]&#x2007;{};<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\node</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>at</span> <span
      class="textcolor"
      style="color:#800080"
>( 0,1)</span>&#x2007;[<span
      class="textcolor"
      style="color:#008000"
>circle</span>,<span
      class="textcolor"
      style="color:#008000"
>draw</span>]&#x2007;{};<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\node</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>at</span> <span
      class="textcolor"
      style="color:#800080"
>( 0,0)</span>&#x2007;[<span
      class="textcolor"
      style="color:#008000"
>circle</span>,<span
      class="textcolor"
      style="color:#008000"
>draw</span>]&#x2007;{};<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\node</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>at</span> <span
      class="textcolor"
      style="color:#800080"
>( 1,1)</span>&#x2007;[<span
      class="textcolor"
      style="color:#008000"
>rectangle</span>,<span
      class="textcolor"
      style="color:#008000"
>draw</span>]&#x2007;{};<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\node</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>at</span> <span
      class="textcolor"
      style="color:#800080"
>(-1,1)</span>&#x2007;[<span
      class="textcolor"
      style="color:#008000"
>rectangle</span>,<span
      class="textcolor"
      style="color:#008000"
>draw</span>]&#x2007;{};<br />
<span
      class="textcolor"
      style="color:#000000"
>\end</span>{<span
      class="textcolor"
      style="color:#0000B2"
>tikzpicture</span>}<br />


</p>
</div>

</div>

<p>
Hagen likes this syntax much better than the previous one. Note that Hagen has also omitted the <span class="texttt">shape=</span> since, like <span class="texttt">color=</span>, Ti<em>k</em>Z allows you to omit the <span
class="texttt">shape=</span> if there is no confusion.
</p>
<h5 id="autosec-182"><span class="sectionnumber">3.5&#x2003;</span>Using Styles</h5>
<a id="pgfmanual-autopage-182"></a>


<p>
Feeling adventurous, Hagen tries to make the nodes look nicer. In the final picture, the circles and rectangle should be filled with different colors, resulting in the following code:
</p>



<div class="example">



<div class="example-image">

<p>
<span
      id="lateximage-pgfmanual-63"
      class="lateximagesource"
><!--
--> <img
      src="pgfmanual-images/image-63.svg"
      alt="(-tikz-&nbsp;diagram)"
      style=""
      class="lateximage"
></span>
</p>
</div>



<div class="example-code">

<p>                                                                             <br />
<span
      class="textcolor"
      style="color:#000000"
>\begin</span>{<span
      class="textcolor"
      style="color:#0000B2"
>tikzpicture</span>}[<span
      class="textcolor"
      style="color:#008000"
>thick</span>]<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\node</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>at</span> <span
      class="textcolor"
      style="color:#800080"
>( 0,2)</span>&#x2007;[<span
      class="textcolor"
      style="color:#008000"
>circle</span>,<span
      class="textcolor"
      style="color:#008000"
>draw</span>=<span
      class="textcolor"
      style="color:#008000"
>blue!50</span>,<span
      class="textcolor"
      style="color:#008000"
>fill</span>=<span
      class="textcolor"
      style="color:#008000"
>blue!20</span>]&#x2007;{};<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\node</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>at</span> <span
      class="textcolor"
      style="color:#800080"
>( 0,1)</span>&#x2007;[<span
      class="textcolor"
      style="color:#008000"
>circle</span>,<span
      class="textcolor"
      style="color:#008000"
>draw</span>=<span
      class="textcolor"
      style="color:#008000"
>blue!50</span>,<span
      class="textcolor"
      style="color:#008000"
>fill</span>=<span
      class="textcolor"
      style="color:#008000"
>blue!20</span>]&#x2007;{};<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\node</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>at</span> <span
      class="textcolor"
      style="color:#800080"
>( 0,0)</span>&#x2007;[<span
      class="textcolor"
      style="color:#008000"
>circle</span>,<span
      class="textcolor"
      style="color:#008000"
>draw</span>=<span
      class="textcolor"
      style="color:#008000"
>blue!50</span>,<span
      class="textcolor"
      style="color:#008000"
>fill</span>=<span
      class="textcolor"
      style="color:#008000"
>blue!20</span>]&#x2007;{};<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\node</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>at</span> <span
      class="textcolor"
      style="color:#800080"
>( 1,1)</span>&#x2007;[<span
      class="textcolor"
      style="color:#008000"
>rectangle</span>,<span
      class="textcolor"
      style="color:#008000"
>draw</span>=<span
      class="textcolor"
      style="color:#008000"
>black!50</span>,<span
      class="textcolor"
      style="color:#008000"
>fill</span>=<span
      class="textcolor"
      style="color:#008000"
>black!20</span>]&#x2007;{};<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\node</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>at</span> <span
      class="textcolor"
      style="color:#800080"
>(-1,1)</span>&#x2007;[<span
      class="textcolor"
      style="color:#008000"
>rectangle</span>,<span
      class="textcolor"
      style="color:#008000"
>draw</span>=<span
      class="textcolor"
      style="color:#008000"
>black!50</span>,<span
      class="textcolor"
      style="color:#008000"
>fill</span>=<span
      class="textcolor"
      style="color:#008000"
>black!20</span>]&#x2007;{};<br />
<span
      class="textcolor"
      style="color:#000000"
>\end</span>{<span
      class="textcolor"
      style="color:#0000B2"
>tikzpicture</span>}<br />


</p>
</div>

</div>

<p>
While this looks nicer in the picture, the code starts to get a bit ugly. Ideally, we would like our code to transport the message “there are three places and two transitions” and not so much which filling colors should be used.
</p>

<p>
To solve this problem, Hagen uses styles. He defines a style for places and another style for transitions:
</p>



<div class="example">



<div class="example-image">

<p>
<span
      id="lateximage-pgfmanual-64"
      class="lateximagesource"
><!--
--> <img
      src="pgfmanual-images/image-64.svg"
      alt="(-tikz-&nbsp;diagram)"
      style=""
      class="lateximage"
></span>
</p>
</div>



<div class="example-code">

<p>                                         <br />
<span
      class="textcolor"
      style="color:#000000"
>\begin</span>{<span
      class="textcolor"
      style="color:#0000B2"
>tikzpicture</span>}<br />
&#x2007;&#x2007;[<span
      class="textcolor"
      style="color:#008000"
>place</span>/<span
      class="textcolor"
      style="color:#0000B2"
>.style</span>={<span
      class="textcolor"
      style="color:#008000"
>circle</span>,<span
      class="textcolor"
      style="color:#008000"
>draw</span>=<span
      class="textcolor"
      style="color:#008000"
>blue!50</span>,<span
      class="textcolor"
      style="color:#008000"
>fill</span>=<span
      class="textcolor"
      style="color:#008000"
>blue!20</span>,<span
      class="textcolor"
      style="color:#008000"
>thick</span>},<br />
&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#008000"
>transition</span>/<span
      class="textcolor"
      style="color:#0000B2"
>.style</span>={<span
      class="textcolor"
      style="color:#008000"
>rectangle</span>,<span
      class="textcolor"
      style="color:#008000"
>draw</span>=<span
      class="textcolor"
      style="color:#008000"
>black!50</span>,<span
      class="textcolor"
      style="color:#008000"
>fill</span>=<span
      class="textcolor"
      style="color:#008000"
>black!20</span>,<span
      class="textcolor"
      style="color:#008000"
>thick</span>}]<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\node</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>at</span> <span
      class="textcolor"
      style="color:#800080"
>( 0,2)</span>&#x2007;[<span
      class="textcolor"
      style="color:#008000"
>place</span>]&#x2007;{};<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\node</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>at</span> <span
      class="textcolor"
      style="color:#800080"
>( 0,1)</span>&#x2007;[<span
      class="textcolor"
      style="color:#008000"
>place</span>]&#x2007;{};<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\node</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>at</span> <span
      class="textcolor"
      style="color:#800080"
>( 0,0)</span>&#x2007;[<span
      class="textcolor"
      style="color:#008000"
>place</span>]&#x2007;{};<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\node</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>at</span> <span
      class="textcolor"
      style="color:#800080"
>( 1,1)</span>&#x2007;[<span
      class="textcolor"
      style="color:#008000"
>transition</span>]&#x2007;{};<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\node</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>at</span> <span
      class="textcolor"
      style="color:#800080"
>(-1,1)</span>&#x2007;[<span
      class="textcolor"
      style="color:#008000"
>transition</span>]&#x2007;{};<br />
<span
      class="textcolor"
      style="color:#000000"
>\end</span>{<span
      class="textcolor"
      style="color:#0000B2"
>tikzpicture</span>}<br />


</p>
</div>

</div>
<h5 id="autosec-187"><span class="sectionnumber">3.6&#x2003;</span>Node Size</h5>
<a id="pgfmanual-autopage-187"></a>


<p>
Before Hagen starts naming and connecting the nodes, let us first make sure that the nodes get their final appearance. They are still too small. Indeed, Hagen wonders why they have any size at all, after all, the text is empty. The
reason is that Ti<em>k</em>Z automatically adds some space around the text. The amount is set using the option <span class="texttt">inner sep</span>. So, to increase the size of the nodes, Hagen could write:
</p>



<div class="example">



<div class="example-image">

<p>
<span
      id="lateximage-pgfmanual-65"
      class="lateximagesource"
><!--
--> <img
      src="pgfmanual-images/image-65.svg"
      alt="(-tikz-&nbsp;diagram)"
      style=""
      class="lateximage"
></span>
</p>
</div>



<div class="example-code">

<p>                                                                             <br />
<span
      class="textcolor"
      style="color:#000000"
>\begin</span>{<span
      class="textcolor"
      style="color:#0000B2"
>tikzpicture</span>}<br />
&#x2007;&#x2007;[<span
      class="textcolor"
      style="color:#008000"
>inner sep</span>=<span
      class="textcolor"
      style="color:#008000"
>2mm</span>,<br />
&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#008000"
>place</span>/<span
      class="textcolor"
      style="color:#0000B2"
>.style</span>={<span
      class="textcolor"
      style="color:#008000"
>circle</span>,<span
      class="textcolor"
      style="color:#008000"
>draw</span>=<span
      class="textcolor"
      style="color:#008000"
>blue!50</span>,<span
      class="textcolor"
      style="color:#008000"
>fill</span>=<span
      class="textcolor"
      style="color:#008000"
>blue!20</span>,<span
      class="textcolor"
      style="color:#008000"
>thick</span>},<br />
&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#008000"
>transition</span>/<span
      class="textcolor"
      style="color:#0000B2"
>.style</span>={<span
      class="textcolor"
      style="color:#008000"
>rectangle</span>,<span
      class="textcolor"
      style="color:#008000"
>draw</span>=<span
      class="textcolor"
      style="color:#008000"
>black!50</span>,<span
      class="textcolor"
      style="color:#008000"
>fill</span>=<span
      class="textcolor"
      style="color:#008000"
>black!20</span>,<span
      class="textcolor"
      style="color:#008000"
>thick</span>}]<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\node</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>at</span> <span
      class="textcolor"
      style="color:#800080"
>( 0,2)</span>&#x2007;[<span
      class="textcolor"
      style="color:#008000"
>place</span>]&#x2007;{};<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\node</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>at</span> <span
      class="textcolor"
      style="color:#800080"
>( 0,1)</span>&#x2007;[<span
      class="textcolor"
      style="color:#008000"
>place</span>]&#x2007;{};<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\node</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>at</span> <span
      class="textcolor"
      style="color:#800080"
>( 0,0)</span>&#x2007;[<span
      class="textcolor"
      style="color:#008000"
>place</span>]&#x2007;{};<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\node</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>at</span> <span
      class="textcolor"
      style="color:#800080"
>( 1,1)</span>&#x2007;[<span
      class="textcolor"
      style="color:#008000"
>transition</span>]&#x2007;{};<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\node</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>at</span> <span
      class="textcolor"
      style="color:#800080"
>(-1,1)</span>&#x2007;[<span
      class="textcolor"
      style="color:#008000"
>transition</span>]&#x2007;{};<br />
<span
      class="textcolor"
      style="color:#000000"
>\end</span>{<span
      class="textcolor"
      style="color:#0000B2"
>tikzpicture</span>}<br />


</p>
</div>

</div>

<p>
However, this is not really the best way to achieve the desired effect. It is much better to use the <span class="texttt">minimum size</span> option instead. This option allows Hagen to specify a minimum size that the node should have. If
the node actually needs to be bigger because of a longer text, it will be larger, but if the text is empty, then the node will have <span class="texttt">minimum size</span>. This option is also useful to ensure that several nodes containing
different amounts of text have the same size. The options <span class="texttt">minimum height</span> and <span class="texttt">minimum width</span> allow you to specify the minimum height and width independently.
</p>

<p>
So, what Hagen needs to do is to provide <span class="texttt">minimum size</span> for the nodes. To be on the safe side, he also sets <span class="texttt">inner sep=0pt</span>. This ensures that the nodes will really have size <span
class="texttt">minimum size</span> and not, for very small minimum sizes, the minimal size necessary to encompass the automatically added space.
</p>



<div class="example">



<div class="example-image">

<p>
<span
      id="lateximage-pgfmanual-66"
      class="lateximagesource"
><!--
--> <img
      src="pgfmanual-images/image-66.svg"
      alt="(-tikz-&nbsp;diagram)"
      style=""
      class="lateximage"
></span>
</p>
</div>



<div class="example-code">

<p>                                                                            <br />
<span
      class="textcolor"
      style="color:#000000"
>\begin</span>{<span
      class="textcolor"
      style="color:#0000B2"
>tikzpicture</span>}<br />
&#x2007;&#x2007;[<span
      class="textcolor"
      style="color:#008000"
>place</span>/<span
      class="textcolor"
      style="color:#0000B2"
>.style</span>={<span
      class="textcolor"
      style="color:#008000"
>circle</span>,<span
      class="textcolor"
      style="color:#008000"
>draw</span>=<span
      class="textcolor"
      style="color:#008000"
>blue!50</span>,<span
      class="textcolor"
      style="color:#008000"
>fill</span>=<span
      class="textcolor"
      style="color:#008000"
>blue!20</span>,<span
      class="textcolor"
      style="color:#008000"
>thick</span>,<br />
&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#008000"
>inner sep</span>=<span
      class="textcolor"
      style="color:#008000"
>0pt</span>,<span
      class="textcolor"
      style="color:#008000"
>minimum size</span>=<span
      class="textcolor"
      style="color:#008000"
>6mm}</span>,<br />
&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#008000"
>transition</span>/<span
      class="textcolor"
      style="color:#0000B2"
>.style</span>={<span
      class="textcolor"
      style="color:#008000"
>rectangle</span>,<span
      class="textcolor"
      style="color:#008000"
>draw</span>=<span
      class="textcolor"
      style="color:#008000"
>black!50</span>,<span
      class="textcolor"
      style="color:#008000"
>fill</span>=<span
      class="textcolor"
      style="color:#008000"
>black!20</span>,<span
      class="textcolor"
      style="color:#008000"
>thick</span>,<br />
&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#008000"
>inner sep</span>=<span
      class="textcolor"
      style="color:#008000"
>0pt</span>,<span
      class="textcolor"
      style="color:#008000"
>minimum size</span>=<span
      class="textcolor"
      style="color:#008000"
>4mm}</span>]<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\node</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>at</span> <span
      class="textcolor"
      style="color:#800080"
>( 0,2)</span>&#x2007;[<span
      class="textcolor"
      style="color:#008000"
>place</span>]&#x2007;{};<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\node</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>at</span> <span
      class="textcolor"
      style="color:#800080"
>( 0,1)</span>&#x2007;[<span
      class="textcolor"
      style="color:#008000"
>place</span>]&#x2007;{};<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\node</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>at</span> <span
      class="textcolor"
      style="color:#800080"
>( 0,0)</span>&#x2007;[<span
      class="textcolor"
      style="color:#008000"
>place</span>]&#x2007;{};<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\node</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>at</span> <span
      class="textcolor"
      style="color:#800080"
>( 1,1)</span>&#x2007;[<span
      class="textcolor"
      style="color:#008000"
>transition</span>]&#x2007;{};<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\node</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>at</span> <span
      class="textcolor"
      style="color:#800080"
>(-1,1)</span>&#x2007;[<span
      class="textcolor"
      style="color:#008000"
>transition</span>]&#x2007;{};<br />
<span
      class="textcolor"
      style="color:#000000"
>\end</span>{<span
      class="textcolor"
      style="color:#0000B2"
>tikzpicture</span>}<br />


</p>
</div>

</div>
<h5 id="autosec-192"><span class="sectionnumber">3.7&#x2003;</span>Naming Nodes</h5>
<a id="pgfmanual-autopage-192"></a>


<p>
Hagen’s next aim is to connect the nodes using arrows. This seems like a tricky business since the arrows should not start in the middle of the nodes, but somewhere on the border and Hagen would very much like to avoid computing
these positions by hand.
</p>

<p>
Fortunately, <span class="textsc">pgf</span> will perform all the necessary calculations for him. However, he first has to assign names to the nodes so that he can reference them later on.
</p>

<p>
There are two ways to name a node. The first is to use the <span class="texttt">name=</span> option. The second method is to write the desired name in parentheses after the <span class="texttt">node</span> operation. Hagen thinks that
this second method seems strange, but he will soon change his opinion.
</p>



<div class="hidden"></div>



<div class="example">



<div class="example-image">

<p>
<span
      id="lateximage-pgfmanual-67"
      class="lateximagesource"
><!--
--> <img
      src="pgfmanual-images/image-67.svg"
      alt="(-tikz-&nbsp;diagram)"
      style=""
      class="lateximage"
></span>
</p>
</div>



<div class="example-code">

<p>                                                                           <br />
<span class="example-code-comment">% ... set up styles</span><br />
<span
      class="textcolor"
      style="color:#000000"
>\begin</span>{<span
      class="textcolor"
      style="color:#0000B2"
>tikzpicture</span>}<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\node</span>&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(waiting 1)</span>&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#000000"
>at</span> <span
      class="textcolor"
      style="color:#800080"
>( 0,2)</span>&#x2007;[<span
      class="textcolor"
      style="color:#008000"
>place</span>]&#x2007;{};<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\node</span>&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(critical 1)</span>&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#000000"
>at</span> <span
      class="textcolor"
      style="color:#800080"
>( 0,1)</span>&#x2007;[<span
      class="textcolor"
      style="color:#008000"
>place</span>]&#x2007;{};<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\node</span>&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(semaphore)</span>&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#000000"
>at</span> <span
      class="textcolor"
      style="color:#800080"
>( 0,0)</span>&#x2007;[<span
      class="textcolor"
      style="color:#008000"
>place</span>]&#x2007;{};<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\node</span>&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(leave critical)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>at</span> <span
      class="textcolor"
      style="color:#800080"
>( 1,1)</span>&#x2007;[<span
      class="textcolor"
      style="color:#008000"
>transition</span>]&#x2007;{};<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\node</span>&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(enter critical)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>at</span> <span
      class="textcolor"
      style="color:#800080"
>(-1,1)</span>&#x2007;[<span
      class="textcolor"
      style="color:#008000"
>transition</span>]&#x2007;{};<br />
<span
      class="textcolor"
      style="color:#000000"
>\end</span>{<span
      class="textcolor"
      style="color:#0000B2"
>tikzpicture</span>}<br />


</p>
</div>

</div>

<p>
Hagen is pleased to note that the names help in understanding the code. Names for nodes can be pretty arbitrary, but they should not contain commas, periods, parentheses, colons, and some other special characters. However, they
can contain underscores and hyphens.
</p>

<p>
The syntax for the <span class="texttt">node</span> operation is quite liberal with respect to the order in which node names, the <span class="texttt">at</span> specifier, and the options must come. Indeed, you can even have multiple
option blocks between the <span class="texttt">node</span> and the text in curly braces, they accumulate. You can rearrange them arbitrarily and perhaps the following might be preferable:
</p>



<div class="example">



<div class="example-image">

<p>
<span
      id="lateximage-pgfmanual-68"
      class="lateximagesource"
><!--
--> <img
      src="pgfmanual-images/image-68.svg"
      alt="(-tikz-&nbsp;diagram)"
      style=""
      class="lateximage"
></span>
</p>
</div>



<div class="example-code">

<p>                                                                        <br />
<span
      class="textcolor"
      style="color:#000000"
>\begin</span>{<span
      class="textcolor"
      style="color:#0000B2"
>tikzpicture</span>}<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\node</span>[<span
      class="textcolor"
      style="color:#008000"
>place</span>]&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(waiting 1)</span>&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#000000"
>at</span> <span
      class="textcolor"
      style="color:#800080"
>( 0,2)</span>&#x2007;{};<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\node</span>[<span
      class="textcolor"
      style="color:#008000"
>place</span>]&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(critical 1)</span>&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#000000"
>at</span> <span
      class="textcolor"
      style="color:#800080"
>( 0,1)</span>&#x2007;{};<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\node</span>[<span
      class="textcolor"
      style="color:#008000"
>place</span>]&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(semaphore)</span>&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#000000"
>at</span> <span
      class="textcolor"
      style="color:#800080"
>( 0,0)</span>&#x2007;{};<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\node</span>[<span
      class="textcolor"
      style="color:#008000"
>transition</span>]&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(leave critical)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>at</span> <span
      class="textcolor"
      style="color:#800080"
>( 1,1)</span>&#x2007;{};<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\node</span>[<span
      class="textcolor"
      style="color:#008000"
>transition</span>]&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(enter critical)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>at</span> <span
      class="textcolor"
      style="color:#800080"
>(-1,1)</span>&#x2007;{};<br />
<span
      class="textcolor"
      style="color:#000000"
>\end</span>{<span
      class="textcolor"
      style="color:#0000B2"
>tikzpicture</span>}<br />


</p>
</div>

</div>
<h5 id="autosec-197"><span class="sectionnumber">3.8&#x2003;</span>Placing Nodes Using Relative Placement</h5>
<a id="pgfmanual-autopage-197"></a>


<p>
Although Hagen still wishes to connect the nodes, he first wishes to address another problem again: The placement of the nodes. Although he likes the <span class="texttt">at</span> syntax, in this particular case he would prefer
placing the nodes “relative to each other”. So, Hagen would like to say that the <span class="texttt">critical 1</span> node should be below the <span class="texttt">waiting 1</span> node, wherever the <span
class="texttt">waiting 1</span> node might be. There are different ways of achieving this, but the nicest one in Hagen’s case is the <span class="texttt">below</span> option:
</p>



<div class="example">



<div class="example-image">

<p>
<span
      id="lateximage-pgfmanual-69"
      class="lateximagesource"
><!--
--> <img
      src="pgfmanual-images/image-69.svg"
      alt="(-tikz-&nbsp;diagram)"
      style=""
      class="lateximage"
></span>
</p>
</div>



<div class="example-code">

<p>
<span class="c-
preamble">\usetikzlibrary {positioning}                                                                                                                                                                                                                   </span><br
/>
<span
      class="textcolor"
      style="color:#000000"
>\begin</span>{<span
      class="textcolor"
      style="color:#0000B2"
>tikzpicture</span>}<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\node</span>[<span
      class="textcolor"
      style="color:#008000"
>place</span>]&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(waiting)</span>&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;{};<br
/>
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\node</span>[<span
      class="textcolor"
      style="color:#008000"
>place</span>]&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(critical)</span>&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;[<span
      class="textcolor"
      style="color:#008000"
>below</span>=<span
      class="textcolor"
      style="color:#008000"
>of waiting</span>]&#x2007;&#x2007;{};<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\node</span>[<span
      class="textcolor"
      style="color:#008000"
>place</span>]&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(semaphore)</span>&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;[<span
      class="textcolor"
      style="color:#008000"
>below</span>=<span
      class="textcolor"
      style="color:#008000"
>of critical</span>]&#x2007;{};<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\node</span>[<span
      class="textcolor"
      style="color:#008000"
>transition</span>]&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(leave critical)</span>&#x2007;[<span
      class="textcolor"
      style="color:#008000"
>right</span>=<span
      class="textcolor"
      style="color:#008000"
>of critical</span>]&#x2007;{};<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\node</span>[<span
      class="textcolor"
      style="color:#008000"
>transition</span>]&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(enter critical)</span>&#x2007;[<span
      class="textcolor"
      style="color:#008000"
>left</span>=<span
      class="textcolor"
      style="color:#008000"
>of critical</span>]&#x2007;&#x2007;{};<br />
<span
      class="textcolor"
      style="color:#000000"
>\end</span>{<span
      class="textcolor"
      style="color:#0000B2"
>tikzpicture</span>}<br />


</p>
</div>

</div>

<p>
With the <span class="texttt">positioning</span> library loaded, when an option like <span class="texttt">below</span> is followed by <span class="texttt">of</span>, then the position of the node is shifted in such a manner that it is
placed at the distance <span class="texttt">node distance</span> in the specified direction of the given direction. The <span class="texttt">node distance</span> is either the distance between the centers of the nodes (when the <span
class="texttt">on grid</span> option is set to true) or the distance between the borders (when the <span class="texttt">on grid</span> option is set to false, which is the default).
</p>

<p>
Even though the above code has the same effect as the earlier code, Hagen can pass it to his colleagues who will be able to just read and understand it, perhaps without even having to see the picture.
</p>
<h5 id="autosec-200"><span class="sectionnumber">3.9&#x2003;</span>Adding Labels Next to Nodes</h5>
<a id="pgfmanual-autopage-200"></a>


<p>
Before we have a look at how Hagen can connect the nodes, let us add the capacity “\(s \le 3\)” to the bottom node. For this, two approaches are possible:
</p>
<ul style="list-style-type:none">


<li>
<p>
1. Hagen can just add a new node above the <span class="texttt">north</span> anchor of the <span class="texttt">semaphore</span> node.
</p>


<div class="example">


<div class="example-image">
<p>
<span
      id="lateximage-pgfmanual-70"
      class="lateximagesource"
><!--
s≤3
--> <img
      src="pgfmanual-images/image-70.svg"
      alt="(-tikz-&nbsp;diagram)"
      style=""
      class="lateximage"
></span>
</p>
</div>


<div class="example-code">
<p>
<span class="c-
preamble">\usetikzlibrary {positioning}                                                                                                                                                                                                                   </span><br
/>
<span
      class="textcolor"
      style="color:#000000"
>\begin</span>{<span
      class="textcolor"
      style="color:#0000B2"
>tikzpicture</span>}<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\node</span>[<span
      class="textcolor"
      style="color:#008000"
>place</span>]&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(waiting)</span>&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;{};<br
/>
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\node</span>[<span
      class="textcolor"
      style="color:#008000"
>place</span>]&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(critical)</span>&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;[<span
      class="textcolor"
      style="color:#008000"
>below</span>=<span
      class="textcolor"
      style="color:#008000"
>of waiting</span>]&#x2007;&#x2007;{};<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\node</span>[<span
      class="textcolor"
      style="color:#008000"
>place</span>]&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(semaphore)</span>&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;[<span
      class="textcolor"
      style="color:#008000"
>below</span>=<span
      class="textcolor"
      style="color:#008000"
>of critical</span>]&#x2007;{};<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\node</span>[<span
      class="textcolor"
      style="color:#008000"
>transition</span>]&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(leave critical)</span>&#x2007;[<span
      class="textcolor"
      style="color:#008000"
>right</span>=<span
      class="textcolor"
      style="color:#008000"
>of critical</span>]&#x2007;{};<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\node</span>[<span
      class="textcolor"
      style="color:#008000"
>transition</span>]&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(enter critical)</span>&#x2007;[<span
      class="textcolor"
      style="color:#008000"
>left</span>=<span
      class="textcolor"
      style="color:#008000"
>of critical</span>]&#x2007;&#x2007;{};<br />
<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\node</span>&#x2007;[<span
      class="textcolor"
      style="color:#008000"
>red</span>,<span
      class="textcolor"
      style="color:#008000"
>above</span>]&#x2007;<span
      class="textcolor"
      style="color:#000000"
>at</span> <span
      class="textcolor"
      style="color:#800080"
>(semaphore.north)</span>&#x2007;{<span
      class="textcolor"
      style="color:#000000"
>$s</span><span
      class="textcolor"
      style="color:#0000B2"
>\le</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>3$</span>};<br />
<span
      class="textcolor"
      style="color:#000000"
>\end</span>{<span
      class="textcolor"
      style="color:#0000B2"
>tikzpicture</span>}<br />


</p>
</div>
</div>
<p>
This is a general approach that will “always work”.
</p>
</li>
<li>
<p>
2. Hagen can use the special <span class="texttt">label</span> option. This option is given to a <span class="texttt">node</span> and it causes <em>another</em> node to be added next to the node where the option is given. Here is the
idea: When we construct the <span class="texttt">semaphore</span> node, we wish to indicate that we want another node with the capacity above it. For this, we use the option <span class="texttt">label=above:$s\le 3$</span>. This
option is interpreted as follows: We want a node above the <span class="texttt">semaphore</span> node and this node should read “\(s \le 3\)”. Instead of <span class="texttt">above</span> we could also use things like <span
class="texttt">below left</span> before the colon or a number like <span class="texttt">60</span>.
</p>


<div class="example">


<div class="example-image">
<p>
<span
      id="lateximage-pgfmanual-71"
      class="lateximagesource"
><!--
s≤3
--> <img
      src="pgfmanual-images/image-71.svg"
      alt="(-tikz-&nbsp;diagram)"
      style=""
      class="lateximage"
></span>
</p>
</div>


<div class="example-code">
<p>
<span class="c-
preamble">\usetikzlibrary {positioning}                                                                                                                                                                                                                   </span><br
/>
<span
      class="textcolor"
      style="color:#000000"
>\begin</span>{<span
      class="textcolor"
      style="color:#0000B2"
>tikzpicture</span>}<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\node</span>[<span
      class="textcolor"
      style="color:#008000"
>place</span>]&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(waiting)</span>&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;{};<br
/>
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\node</span>[<span
      class="textcolor"
      style="color:#008000"
>place</span>]&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(critical)</span>&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;[<span
      class="textcolor"
      style="color:#008000"
>below</span>=<span
      class="textcolor"
      style="color:#008000"
>of waiting</span>]&#x2007;&#x2007;{};<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\node</span>[<span
      class="textcolor"
      style="color:#008000"
>place</span>]&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(semaphore)</span>&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;[<span
      class="textcolor"
      style="color:#008000"
>below</span>=<span
      class="textcolor"
      style="color:#008000"
>of critical</span>,<br />
&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;<sp
      class="textcolor"
      style="color:#008000"
>label</span>=<span
      class="textcolor"
      style="color:#008000"
>above:$s<span
      class="textcolor"
      style="color:#0000B2"
>\le</span>3$</span>]&#x2007;{};<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\node</span>[<span
      class="textcolor"
      style="color:#008000"
>transition</span>]&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(leave critical)</span>&#x2007;[<span
      class="textcolor"
      style="color:#008000"
>right</span>=<span
      class="textcolor"
      style="color:#008000"
>of critical</span>]&#x2007;{};<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\node</span>[<span
      class="textcolor"
      style="color:#008000"
>transition</span>]&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(enter critical)</span>&#x2007;[<span
      class="textcolor"
      style="color:#008000"
>left</span>=<span
      class="textcolor"
      style="color:#008000"
>of critical</span>]&#x2007;&#x2007;{};<br />
<span
      class="textcolor"
      style="color:#000000"
>\end</span>{<span
      class="textcolor"
      style="color:#0000B2"
>tikzpicture</span>}<br />


</p>
</div>
</div>
<p>
It is also possible to give multiple <span class="texttt">label</span> options, this causes multiple labels to be drawn.
</p>


<div class="example">


<div class="example-image">
<p>
<span
      id="lateximage-pgfmanual-72"
      class="lateximagesource"
><!--
         60◦

my circle


  −90◦
--> <img
      src="pgfmanual-images/image-72.svg"
      alt="(-tikz-&nbsp;diagram)"
      style=""
      class="lateximage"
></span>
</p>
</div>


<div class="example-code">
<p><br />
<span
      class="textcolor"
      style="color:#0000B2"
>\tikz</span><br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\node</span>&#x2007;[<span
      class="textcolor"
      style="color:#008000"
>circle</span>,<span
      class="textcolor"
      style="color:#008000"
>draw</span>,<span
      class="textcolor"
      style="color:#008000"
>label</span>=<span
      class="textcolor"
      style="color:#008000"
>60:$60^<span
      class="textcolor"
      style="color:#0000B2"
>\circ</span>$</span>,<span
      class="textcolor"
      style="color:#008000"
>label</span>=<span
      class="textcolor"
      style="color:#008000"
>below:$-90^<span
      class="textcolor"
      style="color:#0000B2"
>\circ</span>$</span>]&#x2007;{<span
      class="textcolor"
      style="color:#000000"
>my</span> <span
      class="textcolor"
      style="color:#000000"
>circle</span>};<br />


</p>
</div>
</div>
<p>
Hagen is not fully satisfied with the <span class="texttt">label</span> option since the label is not red. To achieve this, he has two options: First, he can redefine the <span class="texttt">every label</span> style. Second, he can add
options to the label’s node. These options are given following the <span class="texttt">label=</span>, so he would write <span class="texttt">label=[red]above:$s\le3$</span>. However, this does not quite work since <span
class="latexlogofont"><span class="latexlogo">T<span class="latexlogosub">e</span>X</span></span> thinks that the <span class="texttt">]</span> closes the whole option list of the <span class="texttt">semaphore</span> node. So, Hagen has
to add braces and writes <span class="texttt">label={[red]above:$s\le3$}</span>. Since this looks a bit ugly, Hagen decides to redefine the <span class="texttt">every label</span> style.
</p>


<div class="example">


<div class="example-image">
<p>
<span
      id="lateximage-pgfmanual-73"
      class="lateximagesource"
><!--
s≤3
--> <img
      src="pgfmanual-images/image-73.svg"
      alt="(-tikz-&nbsp;diagram)"
      style=""
      class="lateximage"
></span>
</p>
</div>


<div class="example-code">
<p>
<span class="c-
preamble">\usetikzlibrary {positioning}                                                                                                                                                                                                                   </span><br
/>
<span
      class="textcolor"
      style="color:#000000"
>\begin</span>{<span
      class="textcolor"
      style="color:#0000B2"
>tikzpicture</span>}[<span
      class="textcolor"
      style="color:#008000"
>every label</span>/<span
      class="textcolor"
      style="color:#0000B2"
>.style</span>={<span
      class="textcolor"
      style="color:#008000"
>red</span>}]<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\node</span>[<span
      class="textcolor"
      style="color:#008000"
>place</span>]&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(waiting)</span>&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;{};<br
/>
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\node</span>[<span
      class="textcolor"
      style="color:#008000"
>place</span>]&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(critical)</span>&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;[<span
      class="textcolor"
      style="color:#008000"
>below</span>=<span
      class="textcolor"
      style="color:#008000"
>of waiting</span>]&#x2007;&#x2007;{};<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\node</span>[<span
      class="textcolor"
      style="color:#008000"
>place</span>]&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(semaphore)</span>&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;[<span
      class="textcolor"
      style="color:#008000"
>below</span>=<span
      class="textcolor"
      style="color:#008000"
>of critical</span>,<br />
&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;<sp
      class="textcolor"
      style="color:#008000"
>label</span>=<span
      class="textcolor"
      style="color:#008000"
>above:$s<span
      class="textcolor"
      style="color:#0000B2"
>\le</span>3$</span>]&#x2007;{};<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\node</span>[<span
      class="textcolor"
      style="color:#008000"
>transition</span>]&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(leave critical)</span>&#x2007;[<span
      class="textcolor"
      style="color:#008000"
>right</span>=<span
      class="textcolor"
      style="color:#008000"
>of critical</span>]&#x2007;{};<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\node</span>[<span
      class="textcolor"
      style="color:#008000"
>transition</span>]&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(enter critical)</span>&#x2007;[<span
      class="textcolor"
      style="color:#008000"
>left</span>=<span
      class="textcolor"
      style="color:#008000"
>of critical</span>]&#x2007;&#x2007;{};<br />
<span
      class="textcolor"
      style="color:#000000"
>\end</span>{<span
      class="textcolor"
      style="color:#0000B2"
>tikzpicture</span>}<br />


</p>
</div>
</div>
</li>
</ul>
<h5 id="autosec-209"><span class="sectionnumber">3.10&#x2003;</span>Connecting Nodes</h5>
<a id="pgfmanual-autopage-209"></a>


<p>
It is now high time to connect the nodes. Let us start with something simple, namely with the straight line from <span class="texttt">enter critical</span> to <span class="texttt">critical</span>. We want this line to start at the right
side of <span class="texttt">enter critical</span> and to end at the left side of <span class="texttt">critical</span>. For this, we can use the <em>anchors</em> of the nodes. Every node defines a whole bunch of anchors that lie on its
border or inside it. For example, the <span class="texttt">center</span> anchor is at the center of the node, the <span class="texttt">west</span> anchor is on the left of the node, and so on. To access the coordinate of a node, we use a
coordinate that contains the node’s name followed by a dot, followed by the anchor’s name:
</p>



<div class="example">



<div class="example-image">

<p>
<span
      id="lateximage-pgfmanual-74"
      class="lateximagesource"
><!--
--> <img
      src="pgfmanual-images/image-74.svg"
      alt="(-tikz-&nbsp;diagram)"
      style=""
      class="lateximage"
></span>
</p>
</div>



<div class="example-code">

<p>
<span class="c-
preamble">\usetikzlibrary {positioning}                                                                                                                                                                                                                   </span><br
/>
<span
      class="textcolor"
      style="color:#000000"
>\begin</span>{<span
      class="textcolor"
      style="color:#0000B2"
>tikzpicture</span>}<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\node</span>[<span
      class="textcolor"
      style="color:#008000"
>place</span>]&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(waiting)</span>&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;{};<br
/>
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\node</span>[<span
      class="textcolor"
      style="color:#008000"
>place</span>]&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(critical)</span>&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;[<span
      class="textcolor"
      style="color:#008000"
>below</span>=<span
      class="textcolor"
      style="color:#008000"
>of waiting</span>]&#x2007;&#x2007;{};<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\node</span>[<span
      class="textcolor"
      style="color:#008000"
>place</span>]&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(semaphore)</span>&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;[<span
      class="textcolor"
      style="color:#008000"
>below</span>=<span
      class="textcolor"
      style="color:#008000"
>of critical</span>]&#x2007;{};<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\node</span>[<span
      class="textcolor"
      style="color:#008000"
>transition</span>]&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(leave critical)</span>&#x2007;[<span
      class="textcolor"
      style="color:#008000"
>right</span>=<span
      class="textcolor"
      style="color:#008000"
>of critical</span>]&#x2007;{};<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\node</span>[<span
      class="textcolor"
      style="color:#008000"
>transition</span>]&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(enter critical)</span>&#x2007;[<span
      class="textcolor"
      style="color:#008000"
>left</span>=<span
      class="textcolor"
      style="color:#008000"
>of critical</span>]&#x2007;&#x2007;{};<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\draw</span>&#x2007;[<span
      class="textcolor"
      style="color:#008000"
>-></span>]&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(enter critical.east)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>--</span> <span
      class="textcolor"
      style="color:#800080"
>(critical.west)</span>;<br />
<span
      class="textcolor"
      style="color:#000000"
>\end</span>{<span
      class="textcolor"
      style="color:#0000B2"
>tikzpicture</span>}<br />


</p>
</div>

</div>

<p>
Next, let us tackle the curve from <span class="texttt">waiting</span> to <span class="texttt">enter critical</span>. This can be specified using curves and controls:
</p>



<div class="example">



<div class="example-image">

<p>
<span
      id="lateximage-pgfmanual-75"
      class="lateximagesource"
><!--
--> <img
      src="pgfmanual-images/image-75.svg"
      alt="(-tikz-&nbsp;diagram)"
      style=""
      class="lateximage"
></span>
</p>
</div>



<div class="example-code">

<p>
<span class="c-
preamble">\usetikzlibrary {positioning}                                                                                                                                                                                                                   </span><br
/>
<span
      class="textcolor"
      style="color:#000000"
>\begin</span>{<span
      class="textcolor"
      style="color:#0000B2"
>tikzpicture</span>}<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\node</span>[<span
      class="textcolor"
      style="color:#008000"
>place</span>]&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(waiting)</span>&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;{};<br
/>
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\node</span>[<span
      class="textcolor"
      style="color:#008000"
>place</span>]&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(critical)</span>&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;[<span
      class="textcolor"
      style="color:#008000"
>below</span>=<span
      class="textcolor"
      style="color:#008000"
>of waiting</span>]&#x2007;&#x2007;{};<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\node</span>[<span
      class="textcolor"
      style="color:#008000"
>place</span>]&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(semaphore)</span>&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;[<span
      class="textcolor"
      style="color:#008000"
>below</span>=<span
      class="textcolor"
      style="color:#008000"
>of critical</span>]&#x2007;{};<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\node</span>[<span
      class="textcolor"
      style="color:#008000"
>transition</span>]&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(leave critical)</span>&#x2007;[<span
      class="textcolor"
      style="color:#008000"
>right</span>=<span
      class="textcolor"
      style="color:#008000"
>of critical</span>]&#x2007;{};<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\node</span>[<span
      class="textcolor"
      style="color:#008000"
>transition</span>]&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(enter critical)</span>&#x2007;[<span
      class="textcolor"
      style="color:#008000"
>left</span>=<span
      class="textcolor"
      style="color:#008000"
>of critical</span>]&#x2007;&#x2007;{};<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\draw</span>&#x2007;[<span
      class="textcolor"
      style="color:#008000"
>-></span>]&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(enter critical.east)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>--</span> <span
      class="textcolor"
      style="color:#800080"
>(critical.west)</span>;<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\draw</span>&#x2007;[<span
      class="textcolor"
      style="color:#008000"
>-></span>]&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(waiting.west)</span>&#x2007;..&#x2007;<span
      class="textcolor"
      style="color:#000000"
>controls</span> <span
      class="textcolor"
      style="color:#000000"
>+</span><span
      class="textcolor"
      style="color:#800080"
>(left:5mm)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>and</span> <span
      class="textcolor"
      style="color:#000000"
>+</span><span
      class="textcolor"
      style="color:#800080"
>(up:5mm)</span><br />
&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;..&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(enter critical.north)</span>;<br />
<span
      class="textcolor"
      style="color:#000000"
>\end</span>{<span
      class="textcolor"
      style="color:#0000B2"
>tikzpicture</span>}<br />


</p>
</div>

</div>

<p>
Hagen sees how he can now add all his edges, but the whole process seems a but awkward and not very flexible. Again, the code seems to obscure the structure of the graphic rather than showing it.
</p>

<p>
So, let us start improving the code for the edges. First, Hagen can leave out the anchors:
</p>



<div class="example">



<div class="example-image">

<p>
<span
      id="lateximage-pgfmanual-76"
      class="lateximagesource"
><!--
--> <img
      src="pgfmanual-images/image-76.svg"
      alt="(-tikz-&nbsp;diagram)"
      style=""
      class="lateximage"
></span>
</p>
</div>



<div class="example-code">

<p>
<span class="c-
preamble">\usetikzlibrary {positioning}                                                                                                                                                                                                                   </span><br
/>
<span
      class="textcolor"
      style="color:#000000"
>\begin</span>{<span
      class="textcolor"
      style="color:#0000B2"
>tikzpicture</span>}<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\node</span>[<span
      class="textcolor"
      style="color:#008000"
>place</span>]&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(waiting)</span>&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;{};<br
/>
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\node</span>[<span
      class="textcolor"
      style="color:#008000"
>place</span>]&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(critical)</span>&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;[<span
      class="textcolor"
      style="color:#008000"
>below</span>=<span
      class="textcolor"
      style="color:#008000"
>of waiting</span>]&#x2007;&#x2007;{};<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\node</span>[<span
      class="textcolor"
      style="color:#008000"
>place</span>]&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(semaphore)</span>&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;[<span
      class="textcolor"
      style="color:#008000"
>below</span>=<span
      class="textcolor"
      style="color:#008000"
>of critical</span>]&#x2007;{};<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\node</span>[<span
      class="textcolor"
      style="color:#008000"
>transition</span>]&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(leave critical)</span>&#x2007;[<span
      class="textcolor"
      style="color:#008000"
>right</span>=<span
      class="textcolor"
      style="color:#008000"
>of critical</span>]&#x2007;{};<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\node</span>[<span
      class="textcolor"
      style="color:#008000"
>transition</span>]&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(enter critical)</span>&#x2007;[<span
      class="textcolor"
      style="color:#008000"
>left</span>=<span
      class="textcolor"
      style="color:#008000"
>of critical</span>]&#x2007;&#x2007;{};<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\draw</span>&#x2007;[<span
      class="textcolor"
      style="color:#008000"
>-></span>]&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(enter critical)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>--</span> <span
      class="textcolor"
      style="color:#800080"
>(critical)</span>;<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\draw</span>&#x2007;[<span
      class="textcolor"
      style="color:#008000"
>-></span>]&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(waiting)</span>&#x2007;..&#x2007;<span
      class="textcolor"
      style="color:#000000"
>controls</span> <span
      class="textcolor"
      style="color:#000000"
>+</span><span
      class="textcolor"
      style="color:#800080"
>(left:8mm)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>and</span> <span
      class="textcolor"
      style="color:#000000"
>+</span><span
      class="textcolor"
      style="color:#800080"
>(up:8mm)</span><br />
&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;..&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(enter critical)</span>;<br />
<span
      class="textcolor"
      style="color:#000000"
>\end</span>{<span
      class="textcolor"
      style="color:#0000B2"
>tikzpicture</span>}<br />


</p>
</div>

</div>

<p>
Hagen is a bit surprised that this works. After all, how did Ti<em>k</em>Z know that the line from <span class="texttt">enter critical</span> to <span class="texttt">critical</span> should actually start on the borders? Whenever
Ti<em>k</em>Z encounters a whole node name as a “coordinate”, it tries to “be smart” about the anchor that it should choose for this node. Depending on what happens next, Ti<em>k</em>Z will choose an anchor that lies on the border
of the node on a line to the next coordinate or control point. The exact rules are a bit complex, but the chosen point will usually be correct – and when it is not, Hagen can still specify the desired anchor by hand.
</p>

<p>
Hagen would now like to simplify the curve operation somehow. It turns out that this can be accomplished using a special path operation: the <span class="texttt">to</span> operation. This operation takes many options (you can even
define new ones yourself). One pair of options is useful for Hagen: The pair <span class="texttt">in</span> and <span class="texttt">out</span>. These options take angles at which a curve should leave or reach the start or target
coordinates. Without these options, a straight line is drawn:
</p>



<div class="example">



<div class="example-image">

<p>
<span
      id="lateximage-pgfmanual-77"
      class="lateximagesource"
><!--
--> <img
      src="pgfmanual-images/image-77.svg"
      alt="(-tikz-&nbsp;diagram)"
      style=""
      class="lateximage"
></span>
</p>
</div>



<div class="example-code">

<p>
<span class="c-
preamble">\usetikzlibrary {positioning}                                                                                                                                                                                                                   </span><br
/>
<span
      class="textcolor"
      style="color:#000000"
>\begin</span>{<span
      class="textcolor"
      style="color:#0000B2"
>tikzpicture</span>}<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\node</span>[<span
      class="textcolor"
      style="color:#008000"
>place</span>]&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(waiting)</span>&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;{};<br
/>
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\node</span>[<span
      class="textcolor"
      style="color:#008000"
>place</span>]&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(critical)</span>&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;[<span
      class="textcolor"
      style="color:#008000"
>below</span>=<span
      class="textcolor"
      style="color:#008000"
>of waiting</span>]&#x2007;&#x2007;{};<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\node</span>[<span
      class="textcolor"
      style="color:#008000"
>place</span>]&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(semaphore)</span>&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;[<span
      class="textcolor"
      style="color:#008000"
>below</span>=<span
      class="textcolor"
      style="color:#008000"
>of critical</span>]&#x2007;{};<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\node</span>[<span
      class="textcolor"
      style="color:#008000"
>transition</span>]&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(leave critical)</span>&#x2007;[<span
      class="textcolor"
      style="color:#008000"
>right</span>=<span
      class="textcolor"
      style="color:#008000"
>of critical</span>]&#x2007;{};<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\node</span>[<span
      class="textcolor"
      style="color:#008000"
>transition</span>]&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(enter critical)</span>&#x2007;[<span
      class="textcolor"
      style="color:#008000"
>left</span>=<span
      class="textcolor"
      style="color:#008000"
>of critical</span>]&#x2007;&#x2007;{};<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\draw</span>&#x2007;[<span
      class="textcolor"
      style="color:#008000"
>-></span>]&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(enter critical)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>to</span> &#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(critical)</span>;<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\draw</span>&#x2007;[<span
      class="textcolor"
      style="color:#008000"
>-></span>]&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(waiting)</span>&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#000000"
>to</span> [<span
      class="textcolor"
      style="color:#008000"
>out</span>=<span
      class="textcolor"
      style="color:#008000"
>180</span>,<span
      class="textcolor"
      style="color:#008000"
>in</span>=<span
      class="textcolor"
      style="color:#008000"
>90</span>]&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(enter critical)</span>;<br />
<span
      class="textcolor"
      style="color:#000000"
>\end</span>{<span
      class="textcolor"
      style="color:#0000B2"
>tikzpicture</span>}<br />


</p>
</div>

</div>

<p>
There is another option for the <span class="texttt">to</span> operation, that is even better suited to Hagen’s problem: The <span class="texttt">bend right</span> option. This option also takes an angle, but this angle only specifies the
angle by which the curve is bent to the right:
</p>



<div class="example">



<div class="example-image">

<p>
<span
      id="lateximage-pgfmanual-78"
      class="lateximagesource"
><!--
--> <img
      src="pgfmanual-images/image-78.svg"
      alt="(-tikz-&nbsp;diagram)"
      style=""
      class="lateximage"
></span>
</p>
</div>



<div class="example-code">

<p>
<span class="c-
preamble">\usetikzlibrary {positioning}                                                                                                                                                                                                                   </span><br
/>
<span
      class="textcolor"
      style="color:#000000"
>\begin</span>{<span
      class="textcolor"
      style="color:#0000B2"
>tikzpicture</span>}<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\node</span>[<span
      class="textcolor"
      style="color:#008000"
>place</span>]&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(waiting)</span>&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;{};<br
/>
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\node</span>[<span
      class="textcolor"
      style="color:#008000"
>place</span>]&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(critical)</span>&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;[<span
      class="textcolor"
      style="color:#008000"
>below</span>=<span
      class="textcolor"
      style="color:#008000"
>of waiting</span>]&#x2007;&#x2007;{};<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\node</span>[<span
      class="textcolor"
      style="color:#008000"
>place</span>]&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(semaphore)</span>&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;[<span
      class="textcolor"
      style="color:#008000"
>below</span>=<span
      class="textcolor"
      style="color:#008000"
>of critical</span>]&#x2007;{};<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\node</span>[<span
      class="textcolor"
      style="color:#008000"
>transition</span>]&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(leave critical)</span>&#x2007;[<span
      class="textcolor"
      style="color:#008000"
>right</span>=<span
      class="textcolor"
      style="color:#008000"
>of critical</span>]&#x2007;{};<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\node</span>[<span
      class="textcolor"
      style="color:#008000"
>transition</span>]&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(enter critical)</span>&#x2007;[<span
      class="textcolor"
      style="color:#008000"
>left</span>=<span
      class="textcolor"
      style="color:#008000"
>of critical</span>]&#x2007;&#x2007;{};<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\draw</span>&#x2007;[<span
      class="textcolor"
      style="color:#008000"
>-></span>]&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(enter critical)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>to</span> &#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(critical)</span>;<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\draw</span>&#x2007;[<span
      class="textcolor"
      style="color:#008000"
>-></span>]&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(waiting)</span>&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#000000"
>to</span> [<span
      class="textcolor"
      style="color:#008000"
>bend right</span>=<span
      class="textcolor"
      style="color:#008000"
>45</span>]&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(enter critical)</span>;<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\draw</span>&#x2007;[<span
      class="textcolor"
      style="color:#008000"
>-></span>]&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(enter critical)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>to</span> [<span
      class="textcolor"
      style="color:#008000"
>bend right</span>=<span
      class="textcolor"
      style="color:#008000"
>45</span>]&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(semaphore)</span>;<br />
<span
      class="textcolor"
      style="color:#000000"
>\end</span>{<span
      class="textcolor"
      style="color:#0000B2"
>tikzpicture</span>}<br />


</p>
</div>

</div>

<p>
It is now time for Hagen to learn about yet another way of specifying edges: Using the <span class="texttt">edge</span> path operation. This operation is very similar to the <span class="texttt">to</span> operation, but there is one
important difference: Like a node the edge generated by the <span class="texttt">edge</span> operation is not part of the main path, but is added only later. This may not seem very important, but it has some nice consequences. For
example, every edge can have its own arrow tips and its own color and so on and, still, all the edges can be given on the same path. This allows Hagen to write the following:
</p>



<div class="example">



<div class="example-image">

<p>
<span
      id="lateximage-pgfmanual-79"
      class="lateximagesource"
><!--
--> <img
      src="pgfmanual-images/image-79.svg"
      alt="(-tikz-&nbsp;diagram)"
      style=""
      class="lateximage"
></span>
</p>
</div>



<div class="example-code">

<p>
<span class="c-
preamble">\usetikzlibrary {positioning}                                                                                                                                                                                                                   </span><br
/>
<span
      class="textcolor"
      style="color:#000000"
>\begin</span>{<span
      class="textcolor"
      style="color:#0000B2"
>tikzpicture</span>}<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\node</span>[<span
      class="textcolor"
      style="color:#008000"
>place</span>]&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(waiting)</span>&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;{};<br
/>
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\node</span>[<span
      class="textcolor"
      style="color:#008000"
>place</span>]&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(critical)</span>&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;[<span
      class="textcolor"
      style="color:#008000"
>below</span>=<span
      class="textcolor"
      style="color:#008000"
>of waiting</span>]&#x2007;&#x2007;{};<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\node</span>[<span
      class="textcolor"
      style="color:#008000"
>place</span>]&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(semaphore)</span>&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;[<span
      class="textcolor"
      style="color:#008000"
>below</span>=<span
      class="textcolor"
      style="color:#008000"
>of critical</span>]&#x2007;{};<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\node</span>[<span
      class="textcolor"
      style="color:#008000"
>transition</span>]&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(leave critical)</span>&#x2007;[<span
      class="textcolor"
      style="color:#008000"
>right</span>=<span
      class="textcolor"
      style="color:#008000"
>of critical</span>]&#x2007;{};<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\node</span>[<span
      class="textcolor"
      style="color:#008000"
>transition</span>]&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(enter critical)</span>&#x2007;[<span
      class="textcolor"
      style="color:#008000"
>left</span>=<span
      class="textcolor"
      style="color:#008000"
>of critical</span>]&#x2007;&#x2007;{}<br />
&#x2007;&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#000000"
>edge</span> [<span
      class="textcolor"
      style="color:#008000"
>-></span>]&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(critical)</span><br />
&#x2007;&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#000000"
>edge</span> [<span
      class="textcolor"
      style="color:#008000"
><-</span>,<span
      class="textcolor"
      style="color:#008000"
>bend left</span>=<span
      class="textcolor"
      style="color:#008000"
>45</span>]&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(waiting)</span><br />
&#x2007;&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#000000"
>edge</span> [<span
      class="textcolor"
      style="color:#008000"
>-></span>,<span
      class="textcolor"
      style="color:#008000"
>bend right</span>=<span
      class="textcolor"
      style="color:#008000"
>45</span>]&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(semaphore)</span>;<br />
<span
      class="textcolor"
      style="color:#000000"
>\end</span>{<span
      class="textcolor"
      style="color:#0000B2"
>tikzpicture</span>}<br />


</p>
</div>

</div>

<p>
Each <span class="texttt">edge</span> caused a new path to be constructed, consisting of a <span class="texttt">to</span> between the node <span class="texttt">enter critical</span> and the node following the <span
class="texttt">edge</span> command.
</p>

<p>
The finishing touch is to introduce two styles <span class="texttt">pre</span> and <span class="texttt">post</span> and to use the <span class="texttt">bend angle=45</span> option to set the bend angle once and for all:
</p>



<div class="example">



<div class="example-image">

<p>
<span
      id="lateximage-pgfmanual-80"
      class="lateximagesource"
><!--
--> <img
      src="pgfmanual-images/image-80.svg"
      alt="(-tikz-&nbsp;diagram)"
      style=""
      class="lateximage"
></span>
</p>
</div>



<div class="example-code">

<p>
<span class="c-
preamble">\usetikzlibrary {arrows.meta,positioning}                                                                                                                                                                                                       </span><br
/>
<span class="example-code-comment">% Styles place and transition as before</span><br />
<span
      class="textcolor"
      style="color:#000000"
>\begin</span>{<span
      class="textcolor"
      style="color:#0000B2"
>tikzpicture</span>}<br />
&#x2007;&#x2007;[<span
      class="textcolor"
      style="color:#008000"
>bend angle</span>=<span
      class="textcolor"
      style="color:#008000"
>45</span>,<br />
&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#008000"
>pre</span>/<span
      class="textcolor"
      style="color:#0000B2"
>.style</span>={<span
      class="textcolor"
      style="color:#008000"
><-</span>,<span
      class="textcolor"
      style="color:#008000"
>shorten <</span>=<span
      class="textcolor"
      style="color:#008000"
>1pt</span>,<span
      class="textcolor"
      style="color:#008000"
>></span>=<span
      class="textcolor"
      style="color:#008000"
>{Stealth[<span
      class="textcolor"
      style="color:#008000"
>round</span>]}</span>,<span
      class="textcolor"
      style="color:#008000"
>semithick</span>},<br />
&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#008000"
>post</span>/<span
      class="textcolor"
      style="color:#0000B2"
>.style</span>={<span
      class="textcolor"
      style="color:#008000"
>-></span>,<span
      class="textcolor"
      style="color:#008000"
>shorten ></span>=<span
      class="textcolor"
      style="color:#008000"
>1pt</span>,<span
      class="textcolor"
      style="color:#008000"
>></span>=<span
      class="textcolor"
      style="color:#008000"
>{Stealth[<span
      class="textcolor"
      style="color:#008000"
>round</span>]}</span>,<span
      class="textcolor"
      style="color:#008000"
>semithick</span>}]<br />
<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\node</span>[<span
      class="textcolor"
      style="color:#008000"
>place</span>]&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(waiting)</span>&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;{};<br
/>
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\node</span>[<span
      class="textcolor"
      style="color:#008000"
>place</span>]&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(critical)</span>&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;[<span
      class="textcolor"
      style="color:#008000"
>below</span>=<span
      class="textcolor"
      style="color:#008000"
>of waiting</span>]&#x2007;&#x2007;{};<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\node</span>[<span
      class="textcolor"
      style="color:#008000"
>place</span>]&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(semaphore)</span>&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;[<span
      class="textcolor"
      style="color:#008000"
>below</span>=<span
      class="textcolor"
      style="color:#008000"
>of critical</span>]&#x2007;{};<br />
<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\node</span>[<span
      class="textcolor"
      style="color:#008000"
>transition</span>]&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(leave critical)</span>&#x2007;[<span
      class="textcolor"
      style="color:#008000"
>right</span>=<span
      class="textcolor"
      style="color:#008000"
>of critical</span>]&#x2007;{}<br />
&#x2007;&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#000000"
>edge</span> [<span
      class="textcolor"
      style="color:#008000"
>pre</span>]&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(critical)</span><br />
&#x2007;&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#000000"
>edge</span> [<span
      class="textcolor"
      style="color:#008000"
>post</span>,<span
      class="textcolor"
      style="color:#008000"
>bend right</span>]&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(waiting)</span><br />
&#x2007;&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#000000"
>edge</span> [<span
      class="textcolor"
      style="color:#008000"
>pre</span>,&#x2007;<span
      class="textcolor"
      style="color:#008000"
>bend left</span>]&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(semaphore)</span>;<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\node</span>[<span
      class="textcolor"
      style="color:#008000"
>transition</span>]&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(enter critical)</span>&#x2007;[<span
      class="textcolor"
      style="color:#008000"
>left</span>=<span
      class="textcolor"
      style="color:#008000"
>of critical</span>]&#x2007;&#x2007;{}<br />
&#x2007;&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#000000"
>edge</span> [<span
      class="textcolor"
      style="color:#008000"
>post</span>]&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(critical)</span><br />
&#x2007;&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#000000"
>edge</span> [<span
      class="textcolor"
      style="color:#008000"
>pre</span>,&#x2007;<span
      class="textcolor"
      style="color:#008000"
>bend left</span>]&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(waiting)</span><br />
&#x2007;&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#000000"
>edge</span> [<span
      class="textcolor"
      style="color:#008000"
>post</span>,<span
      class="textcolor"
      style="color:#008000"
>bend right</span>]&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(semaphore)</span>;<br />
<span
      class="textcolor"
      style="color:#000000"
>\end</span>{<span
      class="textcolor"
      style="color:#0000B2"
>tikzpicture</span>}<br />


</p>
</div>

</div>
<h5 id="autosec-224"><span class="sectionnumber">3.11&#x2003;</span>Adding Labels Next to Lines</h5>
<a id="pgfmanual-autopage-224"></a>


<p>
The next thing that Hagen needs to add is the “\(2\)” at the arcs. For this Hagen can use Ti<em>k</em>Z’s automatic node placement: By adding the option <span class="texttt">auto</span>, Ti<em>k</em>Z will position nodes on curves
and lines in such a way that they are not on the curve but next to it. Adding <span class="texttt">swap</span> will mirror the label with respect to the line. Here is a general example:
</p>



<div class="example">



<div class="example-image">

<p>
<span
      id="lateximage-pgfmanual-81"
      class="lateximagesource"
><!--
  120◦       1’
         1
2’ 2          0◦
         3
  240◦       3’
--> <img
      src="pgfmanual-images/image-81.svg"
      alt="(-tikz-&nbsp;diagram)"
      style=""
      class="lateximage"
></span>
</p>
</div>



<div class="example-code">

<p>                                                                          <br />
<span
      class="textcolor"
      style="color:#000000"
>\begin</span>{<span
      class="textcolor"
      style="color:#0000B2"
>tikzpicture</span>}[<span
      class="textcolor"
      style="color:#008000"
>auto</span>,<span
      class="textcolor"
      style="color:#008000"
>bend right</span>]<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\node</span>&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(a)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>at</span> <span
      class="textcolor"
      style="color:#800080"
>(0:1)</span>&#x2007;{<span
      class="textcolor"
      style="color:#000000"
>$0^</span><span
      class="textcolor"
      style="color:#0000B2"
>\circ</span><span
      class="textcolor"
      style="color:#000000"
>$</span>};<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\node</span>&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(b)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>at</span> <span
      class="textcolor"
      style="color:#800080"
>(120:1)</span>&#x2007;{<span
      class="textcolor"
      style="color:#000000"
>$120^</span><span
      class="textcolor"
      style="color:#0000B2"
>\circ</span><span
      class="textcolor"
      style="color:#000000"
>$</span>};<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\node</span>&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(c)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>at</span> <span
      class="textcolor"
      style="color:#800080"
>(240:1)</span>&#x2007;{<span
      class="textcolor"
      style="color:#000000"
>$240^</span><span
      class="textcolor"
      style="color:#0000B2"
>\circ</span><span
      class="textcolor"
      style="color:#000000"
>$</span>};<br />
<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\draw</span>&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(a)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>to</span> <span
      class="textcolor"
      style="color:#000000"
>node</span> {<span
      class="textcolor"
      style="color:#000000"
>1</span>}&#x2007;<span
      class="textcolor"
      style="color:#000000"
>node</span> [<span
      class="textcolor"
      style="color:#008000"
>swap</span>]&#x2007;{<span
      class="textcolor"
      style="color:#000000"
>1'</span>}&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(b)</span><br />
&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(b)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>to</span> <span
      class="textcolor"
      style="color:#000000"
>node</span> {<span
      class="textcolor"
      style="color:#000000"
>2</span>}&#x2007;<span
      class="textcolor"
      style="color:#000000"
>node</span> [<span
      class="textcolor"
      style="color:#008000"
>swap</span>]&#x2007;{<span
      class="textcolor"
      style="color:#000000"
>2'</span>}&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(c)</span><br />
&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(c)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>to</span> <span
      class="textcolor"
      style="color:#000000"
>node</span> {<span
      class="textcolor"
      style="color:#000000"
>3</span>}&#x2007;<span
      class="textcolor"
      style="color:#000000"
>node</span> [<span
      class="textcolor"
      style="color:#008000"
>swap</span>]&#x2007;{<span
      class="textcolor"
      style="color:#000000"
>3'</span>}&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(a)</span>;<br />
<span
      class="textcolor"
      style="color:#000000"
>\end</span>{<span
      class="textcolor"
      style="color:#0000B2"
>tikzpicture</span>}<br />


</p>
</div>

</div>

<p>
What is happening here? The nodes are given somehow inside the <span class="texttt">to</span> operation! When this is done, the node is placed on the middle of the curve or line created by the <span class="texttt">to</span> operation.
The <span class="texttt">auto</span> option then causes the node to be moved in such a way that it does not lie on the curve, but next to it. In the example we provide even two nodes on each <span class="texttt">to</span> operation.
</p>

<p>
For Hagen that <span class="texttt">auto</span> option is not really necessary since the two “2” labels could also easily be placed “by hand”. However, in a complicated plot with numerous edges automatic placement can be a blessing.


</p>



<div class="example">



<div class="example-image">

<p>
<span
      id="lateximage-pgfmanual-82"
      class="lateximagesource"
><!--
2
--> <img
      src="pgfmanual-images/image-82.svg"
      alt="(-tikz-&nbsp;diagram)"
      style=""
      class="lateximage"
></span>
</p>
</div>



<div class="example-code">

<p>
<span class="c-
preamble">\usetikzlibrary {arrows.meta,positioning}                                                                                                                                                                                                       </span><br
/>
<span class="example-code-comment">% Styles as before</span><br />
<span
      class="textcolor"
      style="color:#000000"
>\begin</span>{<span
      class="textcolor"
      style="color:#0000B2"
>tikzpicture</span>}[<span
      class="textcolor"
      style="color:#008000"
>bend angle</span>=<span
      class="textcolor"
      style="color:#008000"
>45</span>]<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\node</span>[<span
      class="textcolor"
      style="color:#008000"
>place</span>]&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(waiting)</span>&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;{};<br
/>
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\node</span>[<span
      class="textcolor"
      style="color:#008000"
>place</span>]&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(critical)</span>&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;[<span
      class="textcolor"
      style="color:#008000"
>below</span>=<span
      class="textcolor"
      style="color:#008000"
>of waiting</span>]&#x2007;&#x2007;{};<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\node</span>[<span
      class="textcolor"
      style="color:#008000"
>place</span>]&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(semaphore)</span>&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;[<span
      class="textcolor"
      style="color:#008000"
>below</span>=<span
      class="textcolor"
      style="color:#008000"
>of critical</span>]&#x2007;{};<br />
<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\node</span>[<span
      class="textcolor"
      style="color:#008000"
>transition</span>]&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(leave critical)</span>&#x2007;[<span
      class="textcolor"
      style="color:#008000"
>right</span>=<span
      class="textcolor"
      style="color:#008000"
>of critical</span>]&#x2007;{}<br />
&#x2007;&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#000000"
>edge</span> [<span
      class="textcolor"
      style="color:#008000"
>pre</span>]&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(critical)</span><br />
&#x2007;&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#000000"
>edge</span> [<span
      class="textcolor"
      style="color:#008000"
>post</span>,<span
      class="textcolor"
      style="color:#008000"
>bend right</span>]&#x2007;<span
      class="textcolor"
      style="color:#000000"
>node</span>[<span
      class="textcolor"
      style="color:#008000"
>auto</span>,<span
      class="textcolor"
      style="color:#008000"
>swap</span>]&#x2007;{<span
      class="textcolor"
      style="color:#000000"
>2</span>}&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(waiting)</span><br />
&#x2007;&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#000000"
>edge</span> [<span
      class="textcolor"
      style="color:#008000"
>pre</span>,&#x2007;<span
      class="textcolor"
      style="color:#008000"
>bend left</span>]&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(semaphore)</span>;<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\node</span>[<span
      class="textcolor"
      style="color:#008000"
>transition</span>]&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(enter critical)</span>&#x2007;[<span
      class="textcolor"
      style="color:#008000"
>left</span>=<span
      class="textcolor"
      style="color:#008000"
>of critical</span>]&#x2007;&#x2007;{}<br />
&#x2007;&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#000000"
>edge</span> [<span
      class="textcolor"
      style="color:#008000"
>post</span>]&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(critical)</span><br />
&#x2007;&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#000000"
>edge</span> [<span
      class="textcolor"
      style="color:#008000"
>pre</span>,&#x2007;<span
      class="textcolor"
      style="color:#008000"
>bend left</span>]&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(waiting)</span><br />
&#x2007;&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#000000"
>edge</span> [<span
      class="textcolor"
      style="color:#008000"
>post</span>,<span
      class="textcolor"
      style="color:#008000"
>bend right</span>]&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(semaphore)</span>;<br />
<span
      class="textcolor"
      style="color:#000000"
>\end</span>{<span
      class="textcolor"
      style="color:#0000B2"
>tikzpicture</span>}<br />


</p>
</div>

</div>
<h5 id="autosec-229"><span class="sectionnumber">3.12&#x2003;</span>Adding the Snaked Line and Multi-Line Text</h5>
<a id="pgfmanual-autopage-229"></a>


<p>
With the node mechanism Hagen can now easily create the two Petri nets. What he is unsure of is how he can create the snaked line between the nets.
</p>

<p>
For this he can use a <em>decoration</em>. To draw the snaked line, Hagen only needs to set the two options <span class="texttt">decoration=snake</span> and <span class="texttt">decorate</span> on the path. This causes all lines of the
path to be replaced by snakes. It is also possible to use snakes only in certain parts of a path, but Hagen will not need this.
</p>



<div class="example">



<div class="example-image">

<p>
<span
      id="lateximage-pgfmanual-83"
      class="lateximagesource"
><!--
--> <img
      src="pgfmanual-images/image-83.svg"
      alt="(-tikz-&nbsp;diagram)"
      style=""
      class="lateximage"
></span>
</p>
</div>



<div class="example-code">

<p>
<span class="c-
preamble">\usetikzlibrary {decorations.pathmorphing}                                                                                                                                                                                          </span><br
/>
<span
      class="textcolor"
      style="color:#000000"
>\begin</span>{<span
      class="textcolor"
      style="color:#0000B2"
>tikzpicture</span>}<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\draw</span>&#x2007;[<span
      class="textcolor"
      style="color:#008000"
>-></span>,<span
      class="textcolor"
      style="color:#008000"
>decorate</span>,<span
      class="textcolor"
      style="color:#008000"
>decoration</span>=<span
      class="textcolor"
      style="color:#008000"
>snake</span>]&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(0,0)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>--</span> <span
      class="textcolor"
      style="color:#800080"
>(2,0)</span>;<br />
<span
      class="textcolor"
      style="color:#000000"
>\end</span>{<span
      class="textcolor"
      style="color:#0000B2"
>tikzpicture</span>}<br />


</p>
</div>

</div>

<p>
Well, that does not look quite right, yet. The problem is that the snake happens to end exactly at the position where the arrow begins. Fortunately, there is an option that helps here. Also, the snake should be a bit smaller, which can
be influenced by even more options.
</p>



<div class="example">



<div class="example-image">

<p>
<span
      id="lateximage-pgfmanual-84"
      class="lateximagesource"
><!--
--> <img
      src="pgfmanual-images/image-84.svg"
      alt="(-tikz-&nbsp;diagram)"
      style=""
      class="lateximage"
></span>
</p>
</div>



<div class="example-code">

<p>
<span class="c-
preamble">\usetikzlibrary {decorations.pathmorphing}                                                                                                                                                                                      </span><br
/>
<span
      class="textcolor"
      style="color:#000000"
>\begin</span>{<span
      class="textcolor"
      style="color:#0000B2"
>tikzpicture</span>}<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\draw</span>&#x2007;[<span
      class="textcolor"
      style="color:#008000"
>-></span>,<span
      class="textcolor"
      style="color:#008000"
>decorate</span>,<br />
&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#008000"
>decoration</span>=<span
      class="textcolor"
      style="color:#008000"
>{snake,amplitude=.4mm,segment length=2mm,post length=1mm}</span>]<br />
&#x2007;&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(0,0)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>--</span> <span
      class="textcolor"
      style="color:#800080"
>(3,0)</span>;<br />
<span
      class="textcolor"
      style="color:#000000"
>\end</span>{<span
      class="textcolor"
      style="color:#0000B2"
>tikzpicture</span>}<br />


</p>
</div>

</div>

<p>
Now Hagen needs to add the text above the snake. This text is a bit challenging since it is a multi-line text. Hagen has two options for this: First, he can specify an <span class="texttt">align=center</span> and then use the <span
class="texttt">\\</span> command to enforce the line breaks at the desired positions.
</p>



<div class="example">



<div class="example-image">

<p>
<span
      id="lateximage-pgfmanual-85"
      class="lateximagesource"
><!--
replacement of
  the capacity
 by two places
--> <img
      src="pgfmanual-images/image-85.svg"
      alt="(-tikz-&nbsp;diagram)"
      style=""
      class="lateximage"
></span>
</p>
</div>



<div class="example-code">

<p>
<span class="c-
preamble">\usetikzlibrary {decorations.pathmorphing}                                                                                                                                                                                         </span><br
/>
<span
      class="textcolor"
      style="color:#000000"
>\begin</span>{<span
      class="textcolor"
      style="color:#0000B2"
>tikzpicture</span>}<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\draw</span>&#x2007;[<span
      class="textcolor"
      style="color:#008000"
>-></span>,<span
      class="textcolor"
      style="color:#008000"
>decorate</span>,<br />
&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#008000"
>decoration</span>=<span
      class="textcolor"
      style="color:#008000"
>{snake,amplitude=.4mm,segment length=2mm,post length=1mm}</span>]<br />
&#x2007;&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(0,0)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>--</span> <span
      class="textcolor"
      style="color:#800080"
>(3,0)</span><br />
&#x2007;&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#000000"
>node</span> [<span
      class="textcolor"
      style="color:#008000"
>above</span>,<span
      class="textcolor"
      style="color:#008000"
>align</span>=<span
      class="textcolor"
      style="color:#008000"
>center</span>,<span
      class="textcolor"
      style="color:#008000"
>midway</span>]<br />
&#x2007;&#x2007;&#x2007;&#x2007;{<br />
&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#000000"
>replacement</span> <span
      class="textcolor"
      style="color:#000000"
>of</span><span
      class="textcolor"
      style="color:#0000B2"
>\</span><span
      class="textcolor"
      style="color:#0000B2"
>\</span><br />
&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#000000"
>the</span> <span
      class="textcolor"
      style="color:#0000B2"
>\textcolor</span>{<span
      class="textcolor"
      style="color:#000000"
>red</span>}{<span
      class="textcolor"
      style="color:#000000"
>capacity</span>}<span
      class="textcolor"
      style="color:#0000B2"
>\</span><span
      class="textcolor"
      style="color:#0000B2"
>\</span><br />
&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#000000"
>by</span> <span
      class="textcolor"
      style="color:#0000B2"
>\textcolor</span>{<span
      class="textcolor"
      style="color:#000000"
>red</span>}{<span
      class="textcolor"
      style="color:#000000"
>two</span> <span
      class="textcolor"
      style="color:#000000"
>places</span>}<br />
&#x2007;&#x2007;&#x2007;&#x2007;};<br />
<span
      class="textcolor"
      style="color:#000000"
>\end</span>{<span
      class="textcolor"
      style="color:#0000B2"
>tikzpicture</span>}<br />


</p>
</div>

</div>

<p>
Instead of specifying the line breaks “by hand”, Hagen can also specify a width for the text and let <span class="latexlogofont"><span class="latexlogo">T<span class="latexlogosub">e</span>X</span></span> perform the line breaking for
him:
</p>



<div class="example">



<div class="example-image">

<p>
<span
      id="lateximage-pgfmanual-86"
      class="lateximagesource"
><!--
 replacement
of the capacity
 by two places
--> <img
      src="pgfmanual-images/image-86.svg"
      alt="(-tikz-&nbsp;diagram)"
      style=""
      class="lateximage"
></span>
</p>
</div>



<div class="example-code">

<p>
<span class="c-
preamble">\usetikzlibrary {decorations.pathmorphing}                       </span><br
/>
<span
      class="textcolor"
      style="color:#000000"
>\begin</span>{<span
      class="textcolor"
      style="color:#0000B2"
>tikzpicture</span>}<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\draw</span>&#x2007;[<span
      class="textcolor"
      style="color:#008000"
>-></span>,<span
      class="textcolor"
      style="color:#008000"
>decorate</span>,<br />
&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#008000"
>decoration</span>=<span
      class="textcolor"
      style="color:#008000"
>{snake,amplitude=.4mm,segment length=2mm,post length=1mm}</span>]<br />
&#x2007;&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(0,0)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>--</span> <span
      class="textcolor"
      style="color:#800080"
>(3,0)</span><br />
&#x2007;&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#000000"
>node</span> [<span
      class="textcolor"
      style="color:#008000"
>above</span>,<span
      class="textcolor"
      style="color:#008000"
>text width</span>=<span
      class="textcolor"
      style="color:#008000"
>3cm</span>,<span
      class="textcolor"
      style="color:#008000"
>align</span>=<span
      class="textcolor"
      style="color:#008000"
>center</span>,<span
      class="textcolor"
      style="color:#008000"
>midway</span>]<br />
&#x2007;&#x2007;&#x2007;&#x2007;{<br />
&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#000000"
>replacement</span> <span
      class="textcolor"
      style="color:#000000"
>of</span> <span
      class="textcolor"
      style="color:#000000"
>the</span> <span
      class="textcolor"
      style="color:#0000B2"
>\textcolor</span>{<span
      class="textcolor"
      style="color:#000000"
>red</span>}{<span
      class="textcolor"
      style="color:#000000"
>capacity</span>}&#x2007;<span
      class="textcolor"
      style="color:#000000"
>by</span><br />
&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\textcolor</span>{<span
      class="textcolor"
      style="color:#000000"
>red</span>}{<span
      class="textcolor"
      style="color:#000000"
>two</span> <span
      class="textcolor"
      style="color:#000000"
>places</span>}<br />
&#x2007;&#x2007;&#x2007;&#x2007;};<br />
<span
      class="textcolor"
      style="color:#000000"
>\end</span>{<span
      class="textcolor"
      style="color:#0000B2"
>tikzpicture</span>}<br />


</p>
</div>

</div>
<h5 id="autosec-238"><span class="sectionnumber">3.13&#x2003;</span>Using Layers: The Background Rectangles</h5>
<a id="pgfmanual-autopage-238"></a>


<p>
Hagen still needs to add the background rectangles. These are a bit tricky: Hagen would like to draw the rectangles <em>after</em> the Petri nets are finished. The reason is that only then can he conveniently refer to the coordinates
that make up the corners of the rectangle. If Hagen draws the rectangle first, then he needs to know the exact size of the Petri net – which he does not.
</p>

<p>
The solution is to use <em>layers</em>. When the <span class="texttt">backgrounds</span> library is loaded, Hagen can put parts of his picture inside a scope with the <span class="texttt">on background layer</span> option. Then this part
of the picture becomes part of the layer that is given as an argument to this environment. When the <span class="texttt">{tikzpicture}</span> environment ends, the layers are put on top of each other, starting with the background
layer. This causes everything drawn on the background layer to be behind the main text.
</p>

<p>
The next tricky question is, how big should the rectangle be? Naturally, Hagen can compute the size “by hand” or using some clever observations concerning the \(x\)- and \(y\)-coordinates of the nodes, but it would be nicer to just
have Ti<em>k</em>Z compute a rectangle into which all the nodes “fit”. For this, the <span class="texttt">fit</span> library can be used. It defines the <span class="texttt">fit</span> options, which, when given to a node, causes the node
to be resized and shifted such that it exactly covers all the nodes and coordinates given as parameters to the <span class="texttt">fit</span> option.
</p>



<div class="example">



<div class="example-image">

<p>
<span
      id="lateximage-pgfmanual-87"
      class="lateximagesource"
><!--
2
--> <img
      src="pgfmanual-images/image-87.svg"
      alt="(-tikz-&nbsp;diagram)"
      style=""
      class="lateximage"
></span>
</p>
</div>



<div class="example-code">

<p>
<span class="c-
preamble">\usetikzlibrary {arrows.meta,backgrounds,fit,positioning}                                                                                                                                                                                       </span><br
/>
<span class="example-code-comment">% Styles as before</span><br />
<span
      class="textcolor"
      style="color:#000000"
>\begin</span>{<span
      class="textcolor"
      style="color:#0000B2"
>tikzpicture</span>}[<span
      class="textcolor"
      style="color:#008000"
>bend angle</span>=<span
      class="textcolor"
      style="color:#008000"
>45</span>]<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\node</span>[<span
      class="textcolor"
      style="color:#008000"
>place</span>]&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(waiting)</span>&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;{};<br
/>
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\node</span>[<span
      class="textcolor"
      style="color:#008000"
>place</span>]&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(critical)</span>&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;[<span
      class="textcolor"
      style="color:#008000"
>below</span>=<span
      class="textcolor"
      style="color:#008000"
>of waiting</span>]&#x2007;&#x2007;{};<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\node</span>[<span
      class="textcolor"
      style="color:#008000"
>place</span>]&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(semaphore)</span>&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;[<span
      class="textcolor"
      style="color:#008000"
>below</span>=<span
      class="textcolor"
      style="color:#008000"
>of critical</span>]&#x2007;{};<br />
<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\node</span>[<span
      class="textcolor"
      style="color:#008000"
>transition</span>]&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(leave critical)</span>&#x2007;[<span
      class="textcolor"
      style="color:#008000"
>right</span>=<span
      class="textcolor"
      style="color:#008000"
>of critical</span>]&#x2007;{}<br />
&#x2007;&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#000000"
>edge</span> [<span
      class="textcolor"
      style="color:#008000"
>pre</span>]&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(critical)</span><br />
&#x2007;&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#000000"
>edge</span> [<span
      class="textcolor"
      style="color:#008000"
>post</span>,<span
      class="textcolor"
      style="color:#008000"
>bend right</span>]&#x2007;<span
      class="textcolor"
      style="color:#000000"
>node</span>[<span
      class="textcolor"
      style="color:#008000"
>auto</span>,<span
      class="textcolor"
      style="color:#008000"
>swap</span>]&#x2007;{<span
      class="textcolor"
      style="color:#000000"
>2</span>}&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(waiting)</span><br />
&#x2007;&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#000000"
>edge</span> [<span
      class="textcolor"
      style="color:#008000"
>pre</span>,&#x2007;<span
      class="textcolor"
      style="color:#008000"
>bend left</span>]&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(semaphore)</span>;<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\node</span>[<span
      class="textcolor"
      style="color:#008000"
>transition</span>]&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(enter critical)</span>&#x2007;[<span
      class="textcolor"
      style="color:#008000"
>left</span>=<span
      class="textcolor"
      style="color:#008000"
>of critical</span>]&#x2007;&#x2007;{}<br />
&#x2007;&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#000000"
>edge</span> [<span
      class="textcolor"
      style="color:#008000"
>post</span>]&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(critical)</span><br />
&#x2007;&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#000000"
>edge</span> [<span
      class="textcolor"
      style="color:#008000"
>pre</span>,&#x2007;<span
      class="textcolor"
      style="color:#008000"
>bend left</span>]&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(waiting)</span><br />
&#x2007;&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#000000"
>edge</span> [<span
      class="textcolor"
      style="color:#008000"
>post</span>,<span
      class="textcolor"
      style="color:#008000"
>bend right</span>]&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(semaphore)</span>;<br />
<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#000000"
>\begin</span>{<span
      class="textcolor"
      style="color:#0000B2"
>scope</span>}[<span
      class="textcolor"
      style="color:#008000"
>on background layer</span>]<br />
&#x2007;&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\node</span>&#x2007;[<span
      class="textcolor"
      style="color:#008000"
>fill</span>=<span
      class="textcolor"
      style="color:#008000"
>black!30</span>,<span
      class="textcolor"
      style="color:#008000"
>fit</span>=<span
      class="textcolor"
      style="color:#008000"
><span
      class="textcolor"
      style="color:#800080"
>(waiting)</span>&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(critical)</span>&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(semaphore)</span><br />
&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(leave critical)</span>&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(enter critical)</span></span>]&#x2007;{};<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#000000"
>\end</span>{<span
      class="textcolor"
      style="color:#0000B2"
>scope</span>}<br />
<span
      class="textcolor"
      style="color:#000000"
>\end</span>{<span
      class="textcolor"
      style="color:#0000B2"
>tikzpicture</span>}<br />


</p>
</div>

</div>
<h5 id="autosec-241"><span class="sectionnumber">3.14&#x2003;</span>The Complete Code</h5>
<a id="pgfmanual-autopage-241"></a>


<p>
Hagen has now finally put everything together. Only then does he learn that there is already a library for drawing Petri nets! It turns out that this library mainly provides the same definitions as Hagen did. For example, it defines a
<span class="texttt">place</span> style in a similar way as Hagen did. Adjusting the code so that it uses the library shortens Hagen code a bit, as shown in the following.
</p>

<p>
First, Hagen needs less style definitions, but he still needs to specify the colors of places and transitions.
</p>



<div class="example">



<div class="example-code">

<p>                                                                               <br />
<span
      class="textcolor"
      style="color:#000000"
>\begin</span>{<span
      class="textcolor"
      style="color:#0000B2"
>tikzpicture</span>}<br />
&#x2007;&#x2007;[<span
      class="textcolor"
      style="color:#008000"
>node distance</span>=<span
      class="textcolor"
      style="color:#008000"
>1.3cm</span>,<span
      class="textcolor"
      style="color:#008000"
>on grid</span>,<span
      class="textcolor"
      style="color:#008000"
>></span>=<span
      class="textcolor"
      style="color:#008000"
>{Stealth[<span
      class="textcolor"
      style="color:#008000"
>round</span>]}</span>,<span
      class="textcolor"
      style="color:#008000"
>bend angle</span>=<span
      class="textcolor"
      style="color:#008000"
>45</span>,<span
      class="textcolor"
      style="color:#008000"
>auto</span>,<br />
&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#008000"
>every place</span>/<span
      class="textcolor"
      style="color:#0000B2"
>.style</span>=        {<span
      class="textcolor"
      style="color:#008000"
>minimum size</span>=<span
      class="textcolor"
      style="color:#008000"
>6mm</span>,<span
      class="textcolor"
      style="color:#008000"
>thick</span>,<span
      class="textcolor"
      style="color:#008000"
>draw</span>=<span
      class="textcolor"
      style="color:#008000"
>blue!75</span>,<span
      class="textcolor"
      style="color:#008000"
>fill</span>=<span
      class="textcolor"
      style="color:#008000"
>blue!20}</span>,<br />
&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#008000"
>every transition</span>/<span
      class="textcolor"
      style="color:#0000B2"
>.style</span>={<span
      class="textcolor"
      style="color:#008000"
>thick</span>,<span
      class="textcolor"
      style="color:#008000"
>draw</span>=<span
      class="textcolor"
      style="color:#008000"
>black!75</span>,<span
      class="textcolor"
      style="color:#008000"
>fill</span>=<span
      class="textcolor"
      style="color:#008000"
>black!20}</span>,<br />
&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#008000"
>red place</span>/<span
      class="textcolor"
      style="color:#0000B2"
>.style</span>=           {<span
      class="textcolor"
      style="color:#008000"
>place</span>,<span
      class="textcolor"
      style="color:#008000"
>draw</span>=<span
      class="textcolor"
      style="color:#008000"
>red!75</span>,<span
      class="textcolor"
      style="color:#008000"
>fill</span>=<span
      class="textcolor"
      style="color:#008000"
>red!20}</span>,<br />
&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#008000"
>every label</span>/<span
      class="textcolor"
      style="color:#0000B2"
>.style</span>=        {<span
      class="textcolor"
      style="color:#008000"
>red</span>}]<br />


</p>
</div>

</div>

<p>
Now comes the code for the nets:
</p>



<div class="example">



<div class="example-image">

<p>
<span
      id="lateximage-pgfmanual-88"
      class="lateximagesource"
><!--
      2




s≤3




      2
--> <img
      src="pgfmanual-images/image-88.svg"
      alt="(-tikz-&nbsp;diagram)"
      style=""
      class="lateximage"
></span>
</p>
</div>



<div class="example-code">

<p>
<span class="c-
preamble">\usetikzlibrary {arrows.meta,petri,positioning}                                                                                                                                                                                               </span><br
/>
&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\node</span>&#x2007;[<span
      class="textcolor"
      style="color:#008000"
>place</span>,<span
      class="textcolor"
      style="color:#008000"
>tokens</span>=<span
      class="textcolor"
      style="color:#008000"
>1</span>]&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(w1)</span>&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;{};<br
/>
&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\node</span>&#x2007;[<span
      class="textcolor"
      style="color:#008000"
>place</span>]&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(c1)</span>&#x2007;[<span
      class="textcolor"
      style="color:#008000"
>below</span>=<span
      class="textcolor"
      style="color:#008000"
>of w1</span>]&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;{};<br />
&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\node</span>&#x2007;[<span
      class="textcolor"
      style="color:#008000"
>place</span>]&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(s)</span>&#x2007;&#x2007;[<span
      class="textcolor"
      style="color:#008000"
>below</span>=<span
      class="textcolor"
      style="color:#008000"
>of c1</span>,<span
      class="textcolor"
      style="color:#008000"
>label</span>=<span
      class="textcolor"
      style="color:#008000"
>above:$s<span
      class="textcolor"
      style="color:#0000B2"
>\le</span>&#x2007;3$</span>]&#x2007;{};<br />
&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\node</span>&#x2007;[<span
      class="textcolor"
      style="color:#008000"
>place</span>]&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(c2)</span>&#x2007;[<span
      class="textcolor"
      style="color:#008000"
>below</span>=<span
      class="textcolor"
      style="color:#008000"
>of s</span>]&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;{};<br />
&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\node</span>&#x2007;[<span
      class="textcolor"
      style="color:#008000"
>place</span>,<span
      class="textcolor"
      style="color:#008000"
>tokens</span>=<span
      class="textcolor"
      style="color:#008000"
>1</span>]&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(w2)</span>&#x2007;[<span
      class="textcolor"
      style="color:#008000"
>below</span>=<span
      class="textcolor"
      style="color:#008000"
>of c2</span>]&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;{};<br />
<br />
&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\node</span>&#x2007;[<span
      class="textcolor"
      style="color:#008000"
>transition</span>]&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(e1)</span>&#x2007;[<span
      class="textcolor"
      style="color:#008000"
>left</span>=<span
      class="textcolor"
      style="color:#008000"
>of c1</span>]&#x2007;{}<br />
&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#000000"
>edge</span> [<span
      class="textcolor"
      style="color:#008000"
>pre</span>,<span
      class="textcolor"
      style="color:#008000"
>bend left</span>]&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(w1)</span><br />
&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#000000"
>edge</span> [<span
      class="textcolor"
      style="color:#008000"
>post</span>,<span
      class="textcolor"
      style="color:#008000"
>bend right</span>]&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(s)</span><br />
&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#000000"
>edge</span> [<span
      class="textcolor"
      style="color:#008000"
>post</span>]&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(c1)</span>;<br />
&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\node</span>&#x2007;[<span
      class="textcolor"
      style="color:#008000"
>transition</span>]&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(e2)</span>&#x2007;[<span
      class="textcolor"
      style="color:#008000"
>left</span>=<span
      class="textcolor"
      style="color:#008000"
>of c2</span>]&#x2007;{}<br />
&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#000000"
>edge</span> [<span
      class="textcolor"
      style="color:#008000"
>pre</span>,<span
      class="textcolor"
      style="color:#008000"
>bend right</span>]&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(w2)</span><br />
&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#000000"
>edge</span> [<span
      class="textcolor"
      style="color:#008000"
>post</span>,<span
      class="textcolor"
      style="color:#008000"
>bend left</span>]&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(s)</span><br />
&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#000000"
>edge</span> [<span
      class="textcolor"
      style="color:#008000"
>post</span>]&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(c2)</span>;<br />
&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\node</span>&#x2007;[<span
      class="textcolor"
      style="color:#008000"
>transition</span>]&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(l1)</span>&#x2007;[<span
      class="textcolor"
      style="color:#008000"
>right</span>=<span
      class="textcolor"
      style="color:#008000"
>of c1</span>]&#x2007;{}<br />
&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#000000"
>edge</span> [<span
      class="textcolor"
      style="color:#008000"
>pre</span>]&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(c1)</span><br />
&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#000000"
>edge</span> [<span
      class="textcolor"
      style="color:#008000"
>pre</span>,<span
      class="textcolor"
      style="color:#008000"
>bend left</span>]&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(s)</span><br />
&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#000000"
>edge</span> [<span
      class="textcolor"
      style="color:#008000"
>post</span>,<span
      class="textcolor"
      style="color:#008000"
>bend right</span>]&#x2007;<span
      class="textcolor"
      style="color:#000000"
>node</span>[<span
      class="textcolor"
      style="color:#008000"
>swap</span>]&#x2007;{<span
      class="textcolor"
      style="color:#000000"
>2</span>}&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(w1)</span>;<br />
&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\node</span>&#x2007;[<span
      class="textcolor"
      style="color:#008000"
>transition</span>]&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(l2)</span>&#x2007;[<span
      class="textcolor"
      style="color:#008000"
>right</span>=<span
      class="textcolor"
      style="color:#008000"
>of c2</span>]&#x2007;{}<br />
&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#000000"
>edge</span> [<span
      class="textcolor"
      style="color:#008000"
>pre</span>]&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(c2)</span><br />
&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#000000"
>edge</span> [<span
      class="textcolor"
      style="color:#008000"
>pre</span>,<span
      class="textcolor"
      style="color:#008000"
>bend right</span>]&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(s)</span><br />
&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#000000"
>edge</span> [<span
      class="textcolor"
      style="color:#008000"
>post</span>,<span
      class="textcolor"
      style="color:#008000"
>bend left</span>]&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#000000"
>node</span> {<span
      class="textcolor"
      style="color:#000000"
>2</span>}&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(w2)</span>;<br />


</p>
</div>

</div>



<div class="example">



<div class="example-image">

<p>
<span
      id="lateximage-pgfmanual-89"
      class="lateximagesource"
><!--
         2




s   s̄




         2
--> <img
      src="pgfmanual-images/image-89.svg"
      alt="(-tikz-&nbsp;diagram)"
      style=""
      class="lateximage"
></span>
</p>
</div>



<div class="example-code">

<p>
<span class="c-
preamble">\usetikzlibrary {arrows.meta,petri,positioning}                                                                                                                                                                                               </span><br
/>
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#000000"
>\begin</span>{<span
      class="textcolor"
      style="color:#0000B2"
>scope</span>}[<span
      class="textcolor"
      style="color:#008000"
>xshift</span>=<span
      class="textcolor"
      style="color:#008000"
>6cm</span>]<br />
&#x2007;&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\node</span>&#x2007;[<span
      class="textcolor"
      style="color:#008000"
>place</span>,<span
      class="textcolor"
      style="color:#008000"
>tokens</span>=<span
      class="textcolor"
      style="color:#008000"
>1</span>]&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(w1')</span>&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;{};<br
/>
&#x2007;&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\node</span>&#x2007;[<span
      class="textcolor"
      style="color:#008000"
>place</span>]&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(c1')</span>&#x2007;[<span
      class="textcolor"
      style="color:#008000"
>below</span>=<span
      class="textcolor"
      style="color:#008000"
>of w1'</span>]&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;{};<br />
&#x2007;&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\node</span>&#x2007;[<span
      class="textcolor"
      style="color:#008000"
>red place</span>]&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(s1')</span>&#x2007;[<span
      class="textcolor"
      style="color:#008000"
>below</span>=<span
      class="textcolor"
      style="color:#008000"
>of c1'</span>,<span
      class="textcolor"
      style="color:#008000"
>xshift</span>=<span
      class="textcolor"
      style="color:#008000"
>-5mm</span>]<br />
&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;[<span
      class="textcolor"
      style="color:#008000"
>label</span>=<span
      class="textcolor"
      style="color:#008000"
>left:$s$</span>]&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;{}
/>
&#x2007;&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\node</span>&#x2007;[<span
      class="textcolor"
      style="color:#008000"
>red place</span>,<span
      class="textcolor"
      style="color:#008000"
>tokens</span>=<span
      class="textcolor"
      style="color:#008000"
>3</span>]&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(s2')</span>&#x2007;[<span
      class="textcolor"
      style="color:#008000"
>below</span>=<span
      class="textcolor"
      style="color:#008000"
>of c1'</span>,<span
      class="textcolor"
      style="color:#008000"
>xshift</span>=<span
      class="textcolor"
      style="color:#008000"
>5mm</span>]<br />
&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;[<span
      class="textcolor"
      style="color:#008000"
>label</span>=<span
      class="textcolor"
      style="color:#008000"
>right:$<span
      class="textcolor"
      style="color:#0000B2"
>\bar</span>&#x2007;s$</span>]&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;{};<br
/>
&#x2007;&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\node</span>&#x2007;[<span
      class="textcolor"
      style="color:#008000"
>place</span>]&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(c2')</span>&#x2007;[<span
      class="textcolor"
      style="color:#008000"
>below</span>=<span
      class="textcolor"
      style="color:#008000"
>of s1'</span>,<span
      class="textcolor"
      style="color:#008000"
>xshift</span>=<span
      class="textcolor"
      style="color:#008000"
>5mm</span>]&#x2007;&#x2007;{};<br />
&#x2007;&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\node</span>&#x2007;[<span
      class="textcolor"
      style="color:#008000"
>place</span>,<span
      class="textcolor"
      style="color:#008000"
>tokens</span>=<span
      class="textcolor"
      style="color:#008000"
>1</span>]&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(w2')</span>&#x2007;[<span
      class="textcolor"
      style="color:#008000"
>below</span>=<span
      class="textcolor"
      style="color:#008000"
>of c2'</span>]&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;{};<br />
<br />
&#x2007;&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\node</span>&#x2007;[<span
      class="textcolor"
      style="color:#008000"
>transition</span>]&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(e1')</span>&#x2007;[<span
      class="textcolor"
      style="color:#008000"
>left</span>=<span
      class="textcolor"
      style="color:#008000"
>of c1'</span>]&#x2007;{}<br />
&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#000000"
>edge</span> [<span
      class="textcolor"
      style="color:#008000"
>pre</span>,<span
      class="textcolor"
      style="color:#008000"
>bend left</span>]&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(w1')</span><br />
&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#000000"
>edge</span> [<span
      class="textcolor"
      style="color:#008000"
>post</span>]&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(s1')</span><br />
&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#000000"
>edge</span> [<span
      class="textcolor"
      style="color:#008000"
>pre</span>]&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(s2')</span><br />
&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#000000"
>edge</span> [<span
      class="textcolor"
      style="color:#008000"
>post</span>]&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(c1')</span>;<br />
&#x2007;&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\node</span>&#x2007;[<span
      class="textcolor"
      style="color:#008000"
>transition</span>]&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(e2')</span>&#x2007;[<span
      class="textcolor"
      style="color:#008000"
>left</span>=<span
      class="textcolor"
      style="color:#008000"
>of c2'</span>]&#x2007;{}<br />
&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#000000"
>edge</span> [<span
      class="textcolor"
      style="color:#008000"
>pre</span>,<span
      class="textcolor"
      style="color:#008000"
>bend right</span>]&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(w2')</span><br />
&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#000000"
>edge</span> [<span
      class="textcolor"
      style="color:#008000"
>post</span>]&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(s1')</span><br />
&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#000000"
>edge</span> [<span
      class="textcolor"
      style="color:#008000"
>pre</span>]&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(s2')</span><br />
&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#000000"
>edge</span> [<span
      class="textcolor"
      style="color:#008000"
>post</span>]&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(c2')</span>;<br />
&#x2007;&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\node</span>&#x2007;[<span
      class="textcolor"
      style="color:#008000"
>transition</span>]&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(l1')</span>&#x2007;[<span
      class="textcolor"
      style="color:#008000"
>right</span>=<span
      class="textcolor"
      style="color:#008000"
>of c1'</span>]&#x2007;{}<br />
&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#000000"
>edge</span> [<span
      class="textcolor"
      style="color:#008000"
>pre</span>]&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(c1')</span><br />
&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#000000"
>edge</span> [<span
      class="textcolor"
      style="color:#008000"
>pre</span>]&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(s1')</span><br />
&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#000000"
>edge</span> [<span
      class="textcolor"
      style="color:#008000"
>post</span>]&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(s2')</span><br />
&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#000000"
>edge</span> [<span
      class="textcolor"
      style="color:#008000"
>post</span>,<span
      class="textcolor"
      style="color:#008000"
>bend right</span>]&#x2007;<span
      class="textcolor"
      style="color:#000000"
>node</span>[<span
      class="textcolor"
      style="color:#008000"
>swap</span>]&#x2007;{<span
      class="textcolor"
      style="color:#000000"
>2</span>}&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(w1')</span>;<br />
&#x2007;&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\node</span>&#x2007;[<span
      class="textcolor"
      style="color:#008000"
>transition</span>]&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(l2')</span>&#x2007;[<span
      class="textcolor"
      style="color:#008000"
>right</span>=<span
      class="textcolor"
      style="color:#008000"
>of c2'</span>]&#x2007;{}<br />
&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#000000"
>edge</span> [<span
      class="textcolor"
      style="color:#008000"
>pre</span>]&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(c2')</span><br />
&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#000000"
>edge</span> [<span
      class="textcolor"
      style="color:#008000"
>pre</span>]&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(s1')</span><br />
&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#000000"
>edge</span> [<span
      class="textcolor"
      style="color:#008000"
>post</span>]&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(s2')</span><br />
&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#000000"
>edge</span> [<span
      class="textcolor"
      style="color:#008000"
>post</span>,<span
      class="textcolor"
      style="color:#008000"
>bend left</span>]&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#000000"
>node</span> {<span
      class="textcolor"
      style="color:#000000"
>2</span>}&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(w2')</span>;<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#000000"
>\end</span>{<span
      class="textcolor"
      style="color:#0000B2"
>scope</span>}<br />


</p>
</div>

</div>

<p>
The code for the background and the snake is the following:
</p>



<div class="example">



<div class="example-code">

<p>                                                                             <br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#000000"
>\begin</span>{<span
      class="textcolor"
      style="color:#0000B2"
>scope</span>}[<span
      class="textcolor"
      style="color:#008000"
>on background layer</span>]<br />
&#x2007;&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\node</span>&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(r1)</span>&#x2007;[<span
      class="textcolor"
      style="color:#008000"
>fill</span>=<span
      class="textcolor"
      style="color:#008000"
>black!10</span>,<span
      class="textcolor"
      style="color:#008000"
>rounded corners</span>,<span
      class="textcolor"
      style="color:#008000"
>fit</span>=<span
      class="textcolor"
      style="color:#008000"
><span
      class="textcolor"
      style="color:#800080"
>(w1)</span><span
      class="textcolor"
      style="color:#800080"
>(w2)</span><span
      class="textcolor"
      style="color:#800080"
>(e1)</span><span
      class="textcolor"
      style="color:#800080"
>(e2)</span><span
      class="textcolor"
      style="color:#800080"
>(l1)</span><span
      class="textcolor"
      style="color:#800080"
>(l2)</span></span>]&#x2007;{};<br />
&#x2007;&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\node</span>&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(r2)</span>&#x2007;[<span
      class="textcolor"
      style="color:#008000"
>fill</span>=<span
      class="textcolor"
      style="color:#008000"
>black!10</span>,<span
      class="textcolor"
      style="color:#008000"
>rounded corners</span>,<span
      class="textcolor"
      style="color:#008000"
>fit</span>=<span
      class="textcolor"
      style="color:#008000"
><span
      class="textcolor"
      style="color:#800080"
>(w1')</span><span
      class="textcolor"
      style="color:#800080"
>(w2')</span><span
      class="textcolor"
      style="color:#800080"
>(e1')</span><span
      class="textcolor"
      style="color:#800080"
>(e2')</span><span
      class="textcolor"
      style="color:#800080"
>(l1')</span><span
      class="textcolor"
      style="color:#800080"
>(l2')</span></span>]&#x2007;{};<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#000000"
>\end</span>{<span
      class="textcolor"
      style="color:#0000B2"
>scope</span>}<br />
<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\draw</span>&#x2007;[<span
      class="textcolor"
      style="color:#008000"
>shorten ></span>=<span
      class="textcolor"
      style="color:#008000"
>1mm</span>,<span
      class="textcolor"
      style="color:#008000"
>-></span>,<span
      class="textcolor"
      style="color:#008000"
>thick</span>,<span
      class="textcolor"
      style="color:#008000"
>decorate</span>,<br />
&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#008000"
>decoration</span>=<span
      class="textcolor"
      style="color:#008000"
>{snake,amplitude=.4mm,segment length=2mm,<br />
&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;pre=moveto,pre length=1mm,post length=2mm}</span>]<br />
&#x2007;&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(r1)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>--</span> <span
      class="textcolor"
      style="color:#800080"
>(r2)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>node</span> [<span
      class="textcolor"
      style="color:#008000"
>above</span>=<span
      class="textcolor"
      style="color:#008000"
>1mm</span>,<span
      class="textcolor"
      style="color:#008000"
>midway</span>,<span
      class="textcolor"
      style="color:#008000"
>text width</span>=<span
      class="textcolor"
      style="color:#008000"
>3cm</span>,<span
      class="textcolor"
      style="color:#008000"
>align</span>=<span
      class="textcolor"
      style="color:#008000"
>center</span>]<br />
&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;{<span
      class="textcolor"
      style="color:#000000"
>replacement</span> <span
      class="textcolor"
      style="color:#000000"
>of</span> <span
      class="textcolor"
      style="color:#000000"
>the</span> <span
      class="textcolor"
      style="color:#0000B2"
>\textcolor</span>{<span
      class="textcolor"
      style="color:#000000"
>red</span>}{<span
      class="textcolor"
      style="color:#000000"
>capacity</span>}&#x2007;<span
      class="textcolor"
      style="color:#000000"
>by</span> <span
      class="textcolor"
      style="color:#0000B2"
>\textcolor</span>{<span
      class="textcolor"
      style="color:#000000"
>red</span>}{<span
      class="textcolor"
      style="color:#000000"
>two</span> <span
      class="textcolor"
      style="color:#000000"
>places</span>}};<br />
<span
      class="textcolor"
      style="color:#000000"
>\end</span>{<span
      class="textcolor"
      style="color:#0000B2"
>tikzpicture</span>}<br />


</p>
</div>

</div>



<div class="hidden"></div>
</section>

</main>

</div>



<nav class="botnavigation"><a href="home.html" class="linkhome" >
Home</a></nav>

</body>
</html>
<!--|Start file|tutorial-Euclid.html|-->

<!DOCTYPE html>
<html lang="en-US">
<head>
<meta charset="UTF-8" />
<meta name="generator" content="LaTeX Lwarp package" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<!--[if lt IE 9]>
<script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
<![endif]-->
<title>tutorial-Euclid — TikZ and PGF Manual</title>
<link rel="stylesheet" type="text/css" href="style.css" />

<script>
// Lwarp MathJax emulation code
//
// Based on code by Davide P. Cervone.
// Equation numbering: https://github.com/mathjax/MathJax/issues/2427
// Starred and ifnextchar macros: https://github.com/mathjax/MathJax/issues/2428
// \left, \right delimiters: https://github.com/mathjax/MathJax/issues/2535
//
// Modified by Brian Dunn to adjust equation numbering and add subequations.
//
// LaTeX can use \seteqnumber{subequations?}{section}{number} before each equation.
// subequations? is 0 usually, 1 if inside subequations.
// section is a string printed as-is, or empty.
// number is auto-incremented by MathJax between equations.
//
MathJax = {
  subequations: "0",
  section: "",
  loader: {
    load: ['[tex]/tagformat', '[tex]/textmacros'],
  },
  startup: {
    ready() {
      // These would be replaced by import commands if you wanted to make
      // a proper extension.
      const Configuration = MathJax._.input.tex.Configuration.Configuration;
      const CommandMap = MathJax._.input.tex.SymbolMap.CommandMap;
      const Macro = MathJax._.input.tex.Symbol.Macro;
      const TexError = MathJax._.input.tex.TexError.default;
      const ParseUtil = MathJax._.input.tex.ParseUtil.default;
      const expandable = MathJax._.util.Options.expandable;

       // Insert the replacement string into the TeX string, and check
       // that there haven't been too many maxro substitutions (prevents
       // infinite loops).
       const useArgument = (parser, text) => {
         parser.string = ParseUtil.addArgs(parser, text, parser.string.slice(parser.i));
         parser.i = 0;
         if (++parser.macroCount > parser.configuration.options.maxMacros) {
           throw new TexError('MaxMacroSub1',
           'MathJax maximum macro substitution count exceeded; ' +
           'is there a recursive macro call?');
         }
       }

       // Create the command map for:
       //     \ifstar, \ifnextchar, \ifblank, \ifstrequal, \seteqnumber
       new CommandMap('Lwarp-macros', {
         ifstar: 'IfstarFunction',
         ifnextchar: 'IfnextcharFunction',
         ifblank: 'IfblankFunction',
         ifstrequal: 'IfstrequalFunction',
         seteqnumber: 'SeteqnumberFunction'
       }, {
         // This function implements an ifstar macro.
         IfstarFunction(parser, name) {
            const resultstar = parser.GetArgument(name);
            const resultnostar = parser.GetArgument(name);
            const star = parser.GetStar();                 // true if there is a *
            useArgument(parser, star ? resultstar : resultnostar);
         },

          // This function implements an ifnextchar macro.
          IfnextcharFunction(parser, name) {
            let whichchar = parser.GetArgument(name);
            if (whichchar.match(/^(?:0x[0-9A-F]+|[0-9]+)$/i)) {
              // $ syntax highlighting
              whichchar = String.fromCodePoint(parseInt(whichchar));
            }
            const resultnextchar = parser.GetArgument(name);
            const resultnotnextchar = parser.GetArgument(name);
            const gotchar = (parser.GetNext() === whichchar);
            useArgument(parser, gotchar ? resultnextchar : resultnotnextchar);
          },

          // This function implements an ifblank macro.
          IfblankFunction(parser, name) {
            const blankarg = parser.GetArgument(name);
            const resultblank = parser.GetArgument(name);
            const resultnotblank = parser.GetArgument(name);
            const isblank = (blankarg.trim() == "");
            useArgument(parser, isblank ? resultblank : resultnotblank);
          },

          // This function implements an ifstrequal macro.
          IfstrequalFunction(parser, name) {
            const strequalfirst = parser.GetArgument(name);
            const strequalsecond = parser.GetArgument(name);
            const resultequal = parser.GetArgument(name);
            const resultnotequal = parser.GetArgument(name);
            const isequal = (strequalfirst == strequalsecond);
            useArgument(parser, isequal ? resultequal : resultnotequal);
          },

          // This function modifies the equation numbers.
          SeteqnumberFunction(parser, name) {
              // Get the macro parameters
              const star = parser.GetStar();                  // true if there is a *
              const optBrackets = parser.GetBrackets(name);   // contents of optional brackets
              const newsubequations = parser.GetArgument(name); // the subequations argument
              const neweqsection = parser.GetArgument(name); // the eq section argument
              const neweqnumber = parser.GetArgument(name);   // the eq number argument
              MathJax.config.subequations=newsubequations ;   // a string with boolean meaning
              MathJax.config.section=neweqsection ;           // a string with numeric meaning
              parser.tags.counter = parser.tags.allCounter = neweqnumber ;
          }

       });

       // Create the Lwarp-macros package
       Configuration.create('Lwarp-macros', {
         handler: {macro: ['Lwarp-macros']}
       });

       MathJax.startup.defaultReady();

       // For forward references:
       MathJax.startup.input[0].preFilters.add(({math}) => {
         if (math.inputData.recompile){
             MathJax.config.subequations = math.inputData.recompile.subequations;
             MathJax.config.section = math.inputData.recompile.section;
         }
       });
       MathJax.startup.input[0].postFilters.add(({math}) => {
         if (math.inputData.recompile){
             math.inputData.recompile.subequations = MathJax.config.subequations;
             math.inputData.recompile.section = MathJax.config.section;
         }
       });

         // For \left, \right with unicode-math:
         const {DelimiterMap} = MathJax._.input.tex.SymbolMap;
         const {Symbol} = MathJax._.input.tex.Symbol;
         const {MapHandler} = MathJax._.input.tex.MapHandler;
         const delimiter = MapHandler.getMap('delimiter');
         delimiter.add('\\lBrack', new Symbol('\\lBrack', '\u27E6'));
         delimiter.add('\\rBrack', new Symbol('\\rBrack', '\u27E7'));
         delimiter.add('\\lAngle', new Symbol('\\lAngle', '\u27EA'));
         delimiter.add('\\rAngle', new Symbol('\\rAngle', '\u27EB'));
         delimiter.add('\\lbrbrak', new Symbol('\\lbrbrak', '\u2772'));
         delimiter.add('\\rbrbrak', new Symbol('\\rbrbrak', '\u2773'));
         delimiter.add('\\lbag', new Symbol('\\lbag', '\u27C5'));
         delimiter.add('\\rbag', new Symbol('\\rbag', '\u27C6'));
         delimiter.add('\\llparenthesis', new Symbol('\\llparenthesis', '\u2987'));
         delimiter.add('\\rrparenthesis', new Symbol('\\rrparenthesis', '\u2988'));
         delimiter.add('\\llangle', new Symbol('\\llangle', '\u2989'));
         delimiter.add('\\rrangle', new Symbol('\\rrangle', '\u298A'));
         delimiter.add('\\Lbrbrak', new Symbol('\\Lbrbrak', '\u27EC'));
         delimiter.add('\\Rbrbrak', new Symbol('\\Rbrbrak', '\u27ED'));
         delimiter.add('\\lBrace', new Symbol('\\lBrace', '\u2983'));
         delimiter.add('\\rBrace', new Symbol('\\rBrace', '\u2984'));
         delimiter.add('\\lParen', new Symbol('\\lParen', '\u2985'));
         delimiter.add('\\rParen', new Symbol('\\rParen', '\u2986'));
         delimiter.add('\\lbrackubar', new Symbol('\\lbrackubar', '\u298B'));
         delimiter.add('\\rbrackubar', new Symbol('\\rbrackubar', '\u298C'));
         delimiter.add('\\lbrackultick', new Symbol('\\lbrackultick', '\u298D'));
         delimiter.add('\\rbracklrtick', new Symbol('\\rbracklrtick', '\u298E'));
         delimiter.add('\\lbracklltick', new Symbol('\\lbracklltick', '\u298F'));
         delimiter.add('\\rbrackurtick', new Symbol('\\rbrackurtick', '\u2990'));
         delimiter.add('\\langledot', new Symbol('\\langledot', '\u2991'));
         delimiter.add('\\rangledot', new Symbol('\\rangledot', '\u2992'));
         delimiter.add('\\lparenless', new Symbol('\\lparenless', '\u2993'));
         delimiter.add('\\rparengtr', new Symbol('\\rparengtr', '\u2994'));
         delimiter.add('\\Lparengtr', new Symbol('\\Lparengtr', '\u2995'));
         delimiter.add('\\Rparenless', new Symbol('\\Rparenless', '\u2996'));
         delimiter.add('\\lblkbrbrak', new Symbol('\\lblkbrbrak', '\u2997'));
         delimiter.add('\\rblkbrbrak', new Symbol('\\rblkbrbrak', '\u2998'));
         delimiter.add('\\lvzigzag', new Symbol('\\lvzigzag', '\u29D8'));
         delimiter.add('\\rvzigzag', new Symbol('\\rvzigzag', '\u29D9'));
         delimiter.add('\\Lvzigzag', new Symbol('\\Lvzigzag', '\u29DA'));
         delimiter.add('\\Rvzigzag', new Symbol('\\Rvzigzag', '\u29DB'));
         delimiter.add('\\lcurvyangle', new Symbol('\\lcurvyangle', '\u29FC'));
         delimiter.add('\\rcurvyangle', new Symbol('\\rcurvyangle', '\u29FD'));
         delimiter.add('\\Vvert', new Symbol('\\Vvert', '\u2980'));
   }     // ready
 },      // startup

 tex: {
   packages: {'[+]': ['tagformat', 'Lwarp-macros', 'textmacros']},
   tags: "ams",
        tagformat: {
            number: function (n) {
                if(MathJax.config.subequations==0)
                    return(MathJax.config.section + n);
                else
                    return(MathJax.config.section + String.fromCharCode(96+n));
            },
        },
 }
}
</script>

<script
    id="MathJax-script"
    src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"
></script>

<script
  src="pgfmanual.js">
</script>

</head>
<body>


<a id="pgfmanual-autopage-247"></a>
<nav class="topnavigation"><a href="home.html" class="linkhome" >
Home</a></nav>



<div class="bodyandsidetoc">
<div class="sidetoccontainer">



<nav class="sidetoc">



<div class="sidetoctitle">

<p>
<span class="sidetocthetitle">The Ti<em>k</em>Z and PGF Packages<br />
Manual for version 3.1.9a</span>
</p>

<p>
Contents
</p>
</div>



<div class="sidetoccontents">

<p>
<a href="home.html" class="linkhome" >
Home</a>
</p>

<p>
<a href="index-0.html#autosec-7" class="tocsection" >
<span class="sectionnumber">1</span>&#x2003;Introduction</a>
</p>


<p>
<a href="tutorials-guidelines.html#autosec-23" class="tocpart" >
<span class="sectionnumber">I</span>&#x2003;Tutorials and Guidelines</a>
</p>


<p>
<a href="tutorial.html#autosec-28" class="tocsection" >
<span class="sectionnumber">2</span>&#x2003;Tutorial: A Picture for Karl’s Students</a>
</p>


<p>
<a href="tutorial-nodes.html#autosec-165" class="tocsection" >
<span class="sectionnumber">3</span>&#x2003;Tutorial: A Petri-Net for Hagen</a>
</p>


<p>
<a href="tutorial-Euclid.html#autosec-248" class="tocsection" >
<span class="sectionnumber">4</span>&#x2003;Tutorial: Euclid’s Amber Version of the <em>Elements</em></a>
</p>


</div>

</nav>

</div>



<main class="bodycontainer">



<section class="textbody">

<h1>The Ti<em>k</em>Z and PGF Packages<br />
Manual for version 3.1.9a</h1>

<!--MathJax customizations:-->



<div class="hidden">

\(\newcommand{\footnotename}{footnote}\)

\(\def \LWRfootnote {1}\)

\(\newcommand {\footnote }[2][\LWRfootnote ]{{}^{\mathrm {#1}}}\)

\(\newcommand {\footnotemark }[1][\LWRfootnote ]{{}^{\mathrm {#1}}}\)

\(\let \LWRorighspace \hspace \)

\(\renewcommand {\hspace }{\ifstar \LWRorighspace \LWRorighspace }\)

\(\newcommand {\mathnormal }[1]{{#1}}\)

\(\newcommand \ensuremath [1]{#1}\)

\(\newcommand {\LWRframebox }[2][]{\fbox {#2}} \newcommand {\framebox }[1][]{\LWRframebox } \)

\(\newcommand {\setlength }[2]{}\)

\(\newcommand {\addtolength }[2]{}\)

\(\newcommand {\setcounter }[2]{}\)

\(\newcommand {\addtocounter }[2]{}\)

\(\newcommand {\arabic }[1]{}\)

\(\newcommand {\number }[1]{}\)

\(\newcommand {\noalign }[1]{\text {#1}\notag \\}\)

\(\newcommand {\cline }[1]{}\)

\(\newcommand {\directlua }[1]{\text {(directlua)}}\)

\(\newcommand {\luatexdirectlua }[1]{\text {(directlua)}}\)

\(\newcommand {\protect }{}\)

\(\def \LWRabsorbnumber #1 {}\)

\(\def \LWRabsorbquotenumber &quot;#1 {}\)

\(\newcommand {\LWRabsorboption }[1][]{}\)

\(\newcommand {\LWRabsorbtwooptions }[1][]{\LWRabsorboption }\)

\(\def \mathchar {\ifnextchar &quot;\LWRabsorbquotenumber \LWRabsorbnumber }\)

\(\def \mathcode #1={\mathchar }\)

\(\let \delcode \mathcode \)

\(\let \delimiter \mathchar \)

\(\def \oe {\unicode {x0153}}\)

\(\def \OE {\unicode {x0152}}\)

\(\def \ae {\unicode {x00E6}}\)

\(\def \AE {\unicode {x00C6}}\)

\(\def \aa {\unicode {x00E5}}\)

\(\def \AA {\unicode {x00C5}}\)

\(\def \o {\unicode {x00F8}}\)

\(\def \O {\unicode {x00D8}}\)

\(\def \l {\unicode {x0142}}\)

\(\def \L {\unicode {x0141}}\)

\(\def \ss {\unicode {x00DF}}\)

\(\def \SS {\unicode {x1E9E}}\)

\(\def \dag {\unicode {x2020}}\)

\(\def \ddag {\unicode {x2021}}\)

\(\def \P {\unicode {x00B6}}\)

\(\def \copyright {\unicode {x00A9}}\)

\(\def \pounds {\unicode {x00A3}}\)

\(\let \LWRref \ref \)

\(\renewcommand {\ref }{\ifstar \LWRref \LWRref }\)

\( \newcommand {\multicolumn }[3]{#3}\)

\(\require {textcomp}\)

\( \newcommand {\meta }[1]{\langle \textit {#1}\rangle } \)

\(\newcommand {\intertext }[1]{\text {#1}\notag \\}\)

\(\let \Hat \hat \)

\(\let \Check \check \)

\(\let \Tilde \tilde \)

\(\let \Acute \acute \)

\(\let \Grave \grave \)

\(\let \Dot \dot \)

\(\let \Ddot \ddot \)

\(\let \Breve \breve \)

\(\let \Bar \bar \)

\(\let \Vec \vec \)

</div>

<p>
<h4 id="autosec-248"><span class="sectionnumber">4&#x2003;</span>Tutorial: Euclid’s Amber Version of the <em>Elements</em></h4>
<a id="pgfmanual-autopage-248"></a>
<a id="pgfmanual-autofile-5"></a>

<p>
In this third tutorial we have a look at how Ti<em>k</em>Z can be used to draw geometric constructions.
</p>

<p>
Euclid is currently quite busy writing his new book series, whose working title is “Elements” (Euclid is not quite sure whether this title will convey the message of the series to future generations correctly, but he intends to change the
title before it goes to the publisher). Up to now, he wrote down his text and graphics on papyrus, but his publisher suddenly insists that he must submit in electronic form. Euclid tries to argue with the publisher that electronics will
only be discovered thousands of years later, but the publisher informs him that the use of papyrus is no longer cutting edge technology and Euclid will just have to keep up with modern tools.
</p>

<p>
Slightly disgruntled, Euclid starts converting his papyrus entitled “Book I, Proposition I” to an amber version.
</p>
<h5 id="autosec-249"><span class="sectionnumber">4.1&#x2003;</span>Book I, Proposition I</h5>
<a id="pgfmanual-autopage-249"></a>


<p>
The drawing on his papyrus looks like this:<sup>1</sup>
</p>

<p>
<span
      id="lateximage-pgfmanual-90"
      class="lateximagesource"
><!--
                    Proposition I
                    To construct an equilateral triangle on a given finite straight
                    line.

        C           Let AB be the given finite straight line. It is required to
                    construct an equilateral triangle on the straight line AB.
                    Describe the circle BCD with center A and radius AB. Again
D   A       B   E   describe the circle ACE with center B and radius BA. Join
                    the straight lines CA and CB from the point C at which the
                    circles cut one another to the points A and B.
                    Now, since the point A is the center of the circle CDB, there-
                    fore AC equals AB. Again, since the point B is the center of
                    the circle CAE, therefore BC equals BA. But AC was proved
                    equal to AB, therefore each of the straight lines AC and BC
                    equals AB. And things which equal the same thing also equal
                    one another, therefore AC also equals BC. Therefore the three
                    straight lines AC, AB, and BC equal one another. Therefore
                    the triangle ABC is equilateral, and it has been constructed
                    on the given finite straight line AB.
--> <img
      src="pgfmanual-images/image-90.svg"
      alt="(-tikz-&nbsp;diagram)"
      style=""
      class="lateximage"
></span>
</p>

<p>
Let us have a look at how Euclid can turn this into Ti<em>k</em>Z code.
</p>
<div role="note" class="footnotes">

<a id="pgfmanual-autopage-252"></a>

<p>
<sup>1</sup>&nbsp;The text is taken from the wonderful interactive version of Euclid’s Elements by David E. Joyce, to be found on his website at Clark University.
</p>


</div>
<h6 id="autosec-253"><span class="sectionnumber">4.1.1&#x2003;</span>Setting up the Environment</h6>
<a id="pgfmanual-autopage-253"></a>


<p>
As in the previous tutorials, Euclid needs to load Ti<em>k</em>Z, together with some libraries. These libraries are <span class="texttt">calc</span>, <span class="texttt">intersections</span>, <span class="texttt">through</span>, and <span
class="texttt">backgrounds</span>. Depending on which format he uses, Euclid would use one of the following in the preamble:
</p>



<div class="example">



<div class="example-code">

<p>                                                                             <br />
<span class="example-code-comment">% For LaTeX:</span><br />
<span
      class="textcolor"
      style="color:#0000B2"
>\usepackage</span>{<span
      class="textcolor"
      style="color:#000000"
>tikz</span>}<br />
\usetikzlibrary{calc,intersections,through,backgrounds}<br />


</p>
</div>

</div>



<div class="example">



<div class="example-code">

<p>                                                                             <br />
<span class="example-code-comment">% For plain TeX:</span><br />
<span
      class="textcolor"
      style="color:#0000B2"
>\input</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>tikz</span>.<span
      class="textcolor"
      style="color:#000000"
>tex</span><br />
\usetikzlibrary{calc,intersections,through,backgrounds}<br />


</p>
</div>

</div>



<div class="example">



<div class="example-code">

<p>                                                                             <br />
<span class="example-code-comment">% For ConTeXt:</span><br />
<span
      class="textcolor"
      style="color:#0000B2"
>\usemodule</span>[<span
      class="textcolor"
      style="color:#008000"
>tikz</span>]<br />
<span
      class="textcolor"
      style="color:#0000B2"
>\usetikzlibrary</span>[<span
      class="textcolor"
      style="color:#008000"
>calc</span>,<span
      class="textcolor"
      style="color:#008000"
>intersections</span>,<span
      class="textcolor"
      style="color:#008000"
>through</span>,<span
      class="textcolor"
      style="color:#008000"
>backgrounds</span>]<br />


</p>
</div>

</div>
<h6 id="autosec-254"><span class="sectionnumber">4.1.2&#x2003;</span>The Line <em>AB</em></h6>
<a id="pgfmanual-autopage-254"></a>


<p>
The first part of the picture that Euclid wishes to draw is the line \(AB\). That is easy enough, something like <span class="texttt">\draw (0,0) -- (2,1);</span> might do. However, Euclid does not wish to reference the two points \(A\)
and \(B\) as \((0,0)\) and \((2,1)\) subsequently. Rather, he wishes to just write <span class="texttt">A</span> and <span class="texttt">B</span>. Indeed, the whole point of his book is that the points \(A\) and \(B\) can be arbitrary
and all other points (like \(C\)) are constructed in terms of their positions. It would not do if Euclid were to write down the coordinates of \(C\) explicitly.
</p>

<p>
So, Euclid starts with defining two coordinates using the <span class="texttt">\coordinate</span> command:
</p>



<div class="example">



<div class="example-image">

<p>
<span
      id="lateximage-pgfmanual-91"
      class="lateximagesource"
><!--
--> <img
      src="pgfmanual-images/image-91.svg"
      alt="(-tikz-&nbsp;diagram)"
      style=""
      class="lateximage"
></span>
</p>
</div>



<div class="example-code">

<p>                                                                          <br />
<span
      class="textcolor"
      style="color:#000000"
>\begin</span>{<span
      class="textcolor"
      style="color:#0000B2"
>tikzpicture</span>}<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\coordinate</span>&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(A)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>at</span> <span
      class="textcolor"
      style="color:#800080"
>(0,0)</span>;<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\coordinate</span>&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(B)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>at</span> <span
      class="textcolor"
      style="color:#800080"
>(1.25,0.25)</span>;<br />
<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\draw</span>[<span
      class="textcolor"
      style="color:#008000"
>blue</span>]&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(A)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>--</span> <span
      class="textcolor"
      style="color:#800080"
>(B)</span>;<br />
<span
      class="textcolor"
      style="color:#000000"
>\end</span>{<span
      class="textcolor"
      style="color:#0000B2"
>tikzpicture</span>}<br />


</p>
</div>

</div>

<p>
That was easy enough. What is missing at this point are the labels for the coordinates. Euclid does not want them <em>on</em> the points, but next to them. He decides to use the <span class="texttt">label</span> option:
</p>



<div class="example">



<div class="example-image">

<p>
<span
      id="lateximage-pgfmanual-92"
      class="lateximagesource"
><!--
    B
A
--> <img
      src="pgfmanual-images/image-92.svg"
      alt="(-tikz-&nbsp;diagram)"
      style=""
      class="lateximage"
></span>
</p>
</div>



<div class="example-code">

<p>                                                                             <br />
<span
      class="textcolor"
      style="color:#000000"
>\begin</span>{<span
      class="textcolor"
      style="color:#0000B2"
>tikzpicture</span>}<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\coordinate</span>&#x2007;[<span
      class="textcolor"
      style="color:#008000"
>label</span>=<span
      class="textcolor"
      style="color:#008000"
>left:<span
      class="textcolor"
      style="color:#0000B2"
>\textcolor</span>{blue}{$A$}</span>]&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(A)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>at</span> <span
      class="textcolor"
      style="color:#800080"
>(0,0)</span>;<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\coordinate</span>&#x2007;[<span
      class="textcolor"
      style="color:#008000"
>label</span>=<span
      class="textcolor"
      style="color:#008000"
>right:<span
      class="textcolor"
      style="color:#0000B2"
>\textcolor</span>{blue}{$B$}</span>]&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(B)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>at</span> <span
      class="textcolor"
      style="color:#800080"
>(1.25,0.25)</span>;<br />
<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\draw</span>[<span
      class="textcolor"
      style="color:#008000"
>blue</span>]&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(A)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>--</span> <span
      class="textcolor"
      style="color:#800080"
>(B)</span>;<br />
<span
      class="textcolor"
      style="color:#000000"
>\end</span>{<span
      class="textcolor"
      style="color:#0000B2"
>tikzpicture</span>}<br />


</p>
</div>

</div>

<p>
At this point, Euclid decides that it would be even nicer if the points \(A\) and \(B\) were in some sense “random”. Then, neither Euclid nor the reader can make the mistake of taking “anything for granted” concerning these position of
these points. Euclid is pleased to learn that there is a <span class="texttt">rand</span> function in Ti<em>k</em>Z that does exactly what he needs: It produces a number between \(-1\) and \(1\). Since Ti<em>k</em>Z can do a bit of math,
Euclid can change the coordinates of the points as follows:
</p>



<div class="example">



<div class="example-code">

<p>                                                                             <br />
<span
      class="textcolor"
      style="color:#0000B2"
>\coordinate</span>&#x2007;[<span
      class="textcolor"
      style="color:#008000"
>...</span>]&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(A)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>at</span> <span
      class="textcolor"
      style="color:#800080"
>(0+0.1*rand,0+0.1*rand)</span>;<br />
<span
      class="textcolor"
      style="color:#0000B2"
>\coordinate</span>&#x2007;[<span
      class="textcolor"
      style="color:#008000"
>...</span>]&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(B)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>at</span> <span
      class="textcolor"
      style="color:#800080"
>(1.25+0.1*rand,0.25+0.1*rand)</span>;<br />


</p>
</div>

</div>

<p>
This works fine. However, Euclid is not quite satisfied since he would prefer that the “main coordinates” \((0,0)\) and \((1.25,0.25)\) are “kept separate” from the perturbation \(0.1(\mathit {rand},\mathit {rand})\). This means, he
would like to specify that coordinate \(A\) as “the point that is at \((0,0)\) plus one tenth of the vector \((\mathit {rand},\mathit {rand})\)”.
</p>

<p>
It turns out that the <span class="texttt">calc</span> library allows him to do exactly this kind of computation. When this library is loaded, you can use special coordinates that start with <span class="texttt">($</span> and end with
<span class="texttt">$)</span> rather than just <span class="texttt">(</span> and&nbsp;<span class="texttt">)</span>. Inside these special coordinates you can give a linear combination of coordinates. (Note that the dollar signs are only
intended to signal that a “computation” is going on; no mathematical typesetting is done.)
</p>

<p>
The new code for the coordinates is the following:
</p>



<div class="example">



<div class="example-code">

<p>                                                                             <br />
<span
      class="textcolor"
      style="color:#0000B2"
>\coordinate</span>&#x2007;[<span
      class="textcolor"
      style="color:#008000"
>...</span>]&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(A)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>at</span> <span
      class="textcolor"
      style="color:#800080"
>($ (0,0)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>+</span> .<span
      class="textcolor"
      style="color:#000000"
>1*</span><span
      class="textcolor"
      style="color:#800080"
>(rand,rand)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>$</span>);<br />
<span
      class="textcolor"
      style="color:#0000B2"
>\coordinate</span>&#x2007;[<span
      class="textcolor"
      style="color:#008000"
>...</span>]&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(B)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>at</span> <span
      class="textcolor"
      style="color:#800080"
>($ (1.25,0.25)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>+</span> .<span
      class="textcolor"
      style="color:#000000"
>1*</span><span
      class="textcolor"
      style="color:#800080"
>(rand,rand)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>$</span>);<br />


</p>
</div>

</div>

<p>
Note that if a coordinate in such a computation has a factor (like <span class="texttt">.1</span>), you must place a <span class="texttt">*</span> directly before the opening parenthesis of the coordinate. You can nest such computations.
</p>
<h6 id="autosec-259"><span class="sectionnumber">4.1.3&#x2003;</span>The Circle Around <em>A</em></h6>
<a id="pgfmanual-autopage-259"></a>


<p>
The first tricky construction is the circle around&nbsp;\(A\). We will see later how to do this in a very simple manner, but first let us do it the “hard” way.
</p>

<p>
The idea is the following: We draw a circle around the point \(A\) whose radius is given by the length of the line \(AB\). The difficulty lies in computing the length of this line.
</p>

<p>
Two ideas “nearly” solve this problem: First, we can write <span class="texttt">($ (A) - (B) $)</span> for the vector that is the difference between \(A\) and&nbsp;\(B\). All we need is the length of this vector. Second, given two
numbers \(x\) and \(y\), one can write <span class="texttt">veclen(</span>\(x\)<span class="texttt">,</span>\(y\)<span class="texttt">)</span> inside a mathematical expression. This gives the value \(\sqrt {x^2+y^2}\), which is exactly
the desired length.
</p>

<p>
The only remaining problem is to access the \(x\)- and \(y\)-coordinate of the vector&nbsp;\(AB\). For this, we need a new concept: the <em>let operation</em>. A let operation can be given anywhere on a path where a normal path
operation like a line-to or a move-to is expected. The effect of a let operation is to evaluate some coordinates and to assign the results to special macros. These macros make it easy to access the \(x\)- and \(y\)-coordinates of the
coordinates.
</p>

<p>
Euclid would write the following:
</p>



<div class="example">



<div class="example-image">

<p>
<span
      id="lateximage-pgfmanual-93"
      class="lateximagesource"
><!--
    B
A
--> <img
      src="pgfmanual-images/image-93.svg"
      alt="(-tikz-&nbsp;diagram)"
      style=""
      class="lateximage"
></span>
</p>
</div>



<div class="example-code">

<p>
<span class="c-
preamble">\usetikzlibrary {calc}                                                                                                                                                                                                                 </span><br
/>
<span
      class="textcolor"
      style="color:#000000"
>\begin</span>{<span
      class="textcolor"
      style="color:#0000B2"
>tikzpicture</span>}<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\coordinate</span>&#x2007;[<span
      class="textcolor"
      style="color:#008000"
>label</span>=<span
      class="textcolor"
      style="color:#008000"
>left:$A$</span>]&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(A)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>at</span> <span
      class="textcolor"
      style="color:#800080"
>(0,0)</span>;<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\coordinate</span>&#x2007;[<span
      class="textcolor"
      style="color:#008000"
>label</span>=<span
      class="textcolor"
      style="color:#008000"
>right:$B$</span>]&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(B)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>at</span> <span
      class="textcolor"
      style="color:#800080"
>(1.25,0.25)</span>;<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\draw</span>&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(A)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>--</span> <span
      class="textcolor"
      style="color:#800080"
>(B)</span>;<br />
<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\draw</span>&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(A)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>let</span><br />
&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\p</span><span
      class="textcolor"
      style="color:#000000"
>1</span> <span
      class="textcolor"
      style="color:#000000"
>=</span> <span
      class="textcolor"
      style="color:#800080"
>($ (B)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>-</span> <span
      class="textcolor"
      style="color:#800080"
>(A)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>$</span>)<br />
&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#000000"
>in</span><br />
&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#000000"
>circle</span> <span
      class="textcolor"
      style="color:#800080"
>({veclen(\x1,\y1)})</span>;<br />
<span
      class="textcolor"
      style="color:#000000"
>\end</span>{<span
      class="textcolor"
      style="color:#0000B2"
>tikzpicture</span>}<br />


</p>
</div>

</div>

<p>
Each assignment in a let operation starts with <span class="texttt">\p</span>, usually followed by a <span class="angle">&langle;</span><i>digit</i><span class="angle">&rangle;</span>. Then comes an equal sign and a coordinate. The
coordinate is evaluated and the result is stored internally. From then on you can use the following expressions:
</p>
<ul style="list-style-type:none">


<li>
<p>
1. <span class="texttt">\x</span><span class="angle">&langle;</span><i>digit</i><span class="angle">&rangle;</span> yields the \(x\)-coordinate of the resulting point.
</p>


</li>
<li>
<p>
2. <span class="texttt">\y</span><span class="angle">&langle;</span><i>digit</i><span class="angle">&rangle;</span> yields the \(y\)-coordinate of the resulting point.
</p>


</li>
<li>
<p>
3. <span class="texttt">\p</span><span class="angle">&langle;</span><i>digit</i><span class="angle">&rangle;</span> yields the same as <span class="texttt">\x</span><span class="angle">&langle;</span><i>digit</i><span
class="angle">&rangle;</span><span class="texttt">,\y</span><span class="angle">&langle;</span><i>digit</i><span class="angle">&rangle;</span>.
</p>
</li>
</ul>

<p>
You can have multiple assignments in a let operation, just separate them with commas. In later assignments you can already use the results of earlier assignments.
</p>

<p>
Note that <span class="texttt">\p1</span> is not a coordinate in the usual sense. Rather, it just expands to a string like <span class="texttt">10pt,20pt</span>. So, you cannot write, for instance, <span class="texttt">(\p1.center)</span>
since this would just expand to <span class="texttt">(10pt,20pt.center)</span>, which makes no sense.
</p>

<p>
Next, we want to draw both circles at the same time. Each time the radius is <span class="texttt">veclen(\x1,\y1)</span>. It seems natural to compute this radius only once. For this, we can also use a let operation: Instead of writing
<span class="texttt">\p1 = ...</span>, we write <span class="texttt">\n2 = ...</span>. Here, “n” stands for “number” (while “p” stands for “point”). The assignment of a number should be followed by a number in curly braces.
</p>



<div class="example">



<div class="example-image">

<p>
<span
      id="lateximage-pgfmanual-94"
      class="lateximagesource"
><!--
    B
A
--> <img
      src="pgfmanual-images/image-94.svg"
      alt="(-tikz-&nbsp;diagram)"
      style=""
      class="lateximage"
></span>
</p>
</div>



<div class="example-code">

<p>
<span class="c-
preamble">\usetikzlibrary {calc}                                                                                                                                                                                                             </span><br
/>
<span
      class="textcolor"
      style="color:#000000"
>\begin</span>{<span
      class="textcolor"
      style="color:#0000B2"
>tikzpicture</span>}<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\coordinate</span>&#x2007;[<span
      class="textcolor"
      style="color:#008000"
>label</span>=<span
      class="textcolor"
      style="color:#008000"
>left:$A$</span>]&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(A)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>at</span> <span
      class="textcolor"
      style="color:#800080"
>(0,0)</span>;<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\coordinate</span>&#x2007;[<span
      class="textcolor"
      style="color:#008000"
>label</span>=<span
      class="textcolor"
      style="color:#008000"
>right:$B$</span>]&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(B)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>at</span> <span
      class="textcolor"
      style="color:#800080"
>(1.25,0.25)</span>;<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\draw</span>&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(A)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>--</span> <span
      class="textcolor"
      style="color:#800080"
>(B)</span>;<br />
<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\draw</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>let</span> <span
      class="textcolor"
      style="color:#0000B2"
>\p</span><span
      class="textcolor"
      style="color:#000000"
>1</span> <span
      class="textcolor"
      style="color:#000000"
>=</span> <span
      class="textcolor"
      style="color:#800080"
>($ (B)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>-</span> <span
      class="textcolor"
      style="color:#800080"
>(A)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>$</span>),<br />
&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\n</span><span
      class="textcolor"
      style="color:#000000"
>2</span> <span
      class="textcolor"
      style="color:#000000"
>=</span> {<span
      class="textcolor"
      style="color:#000000"
>veclen</span><span
      class="textcolor"
      style="color:#800080"
>(\x1,\y1)</span>}<br />
&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#000000"
>in</span><br />
&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(A)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>circle</span> <span
      class="textcolor"
      style="color:#800080"
>(\n2)</span><br />
&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(B)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>circle</span> <span
      class="textcolor"
      style="color:#800080"
>(\n2)</span>;<br />
<span
      class="textcolor"
      style="color:#000000"
>\end</span>{<span
      class="textcolor"
      style="color:#0000B2"
>tikzpicture</span>}<br />


</p>
</div>

</div>

<p>
In the above example, you may wonder, what <span class="texttt">\n1</span> would yield? The answer is that it would be undefined – the <span class="texttt">\p</span>, <span class="texttt">\x</span>, and <span class="texttt">\y</span>
macros refer to the same logical point, while the <span class="texttt">\n</span> macro has “its own namespace”. We could even have replaced <span class="texttt">\n2</span> in the example by <span class="texttt">\n1</span> and it would
still work. Indeed, the digits following these macros are just normal <span class="latexlogofont"><span class="latexlogo">T<span class="latexlogosub">e</span>X</span></span> parameters. We could also use a longer name, but then we
have to use curly braces:
</p>



<div class="example">



<div class="example-image">

<p>
<span
      id="lateximage-pgfmanual-95"
      class="lateximagesource"
><!--
    B
A
--> <img
      src="pgfmanual-images/image-95.svg"
      alt="(-tikz-&nbsp;diagram)"
      style=""
      class="lateximage"
></span>
</p>
</div>



<div class="example-code">

<p>
<span class="c-
preamble">\usetikzlibrary {calc}                                                                                                                                                                                                                   </span><br
/>
<span
      class="textcolor"
      style="color:#000000"
>\begin</span>{<span
      class="textcolor"
      style="color:#0000B2"
>tikzpicture</span>}<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\coordinate</span>&#x2007;[<span
      class="textcolor"
      style="color:#008000"
>label</span>=<span
      class="textcolor"
      style="color:#008000"
>left:$A$</span>]&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(A)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>at</span> <span
      class="textcolor"
      style="color:#800080"
>(0,0)</span>;<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\coordinate</span>&#x2007;[<span
      class="textcolor"
      style="color:#008000"
>label</span>=<span
      class="textcolor"
      style="color:#008000"
>right:$B$</span>]&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(B)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>at</span> <span
      class="textcolor"
      style="color:#800080"
>(1.25,0.25)</span>;<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\draw</span>&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(A)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>--</span> <span
      class="textcolor"
      style="color:#800080"
>(B)</span>;<br />
<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\draw</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>let</span> <span
      class="textcolor"
      style="color:#0000B2"
>\p</span><span
      class="textcolor"
      style="color:#000000"
>1</span> &#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#000000"
>=</span> <span
      class="textcolor"
      style="color:#800080"
>($ (B)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>-</span> <span
      class="textcolor"
      style="color:#800080"
>(A)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>$</span>),<br />
&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\n</span>{<span
      class="textcolor"
      style="color:#000000"
>radius</span>}&#x2007;<span
      class="textcolor"
      style="color:#000000"
>=</span> {<span
      class="textcolor"
      style="color:#000000"
>veclen</span><span
      class="textcolor"
      style="color:#800080"
>(\x1,\y1)</span>}<br />
&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#000000"
>in</span><br />
&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(A)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>circle</span> <span
      class="textcolor"
      style="color:#800080"
>(\n{radius})</span><br />
&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(B)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>circle</span> <span
      class="textcolor"
      style="color:#800080"
>(\n{radius})</span>;<br />
<span
      class="textcolor"
      style="color:#000000"
>\end</span>{<span
      class="textcolor"
      style="color:#0000B2"
>tikzpicture</span>}<br />


</p>
</div>

</div>

<p>
At the beginning of this section it was promised that there is an easier way to create the desired circle. The trick is to use the <span class="texttt">through</span> library. As the name suggests, it contains code for creating shapes that
go through a given point.
</p>

<p>
The option that we are looking for is <span class="texttt">circle through</span>. This option is given to a <em>node</em> and has the following effects: First, it causes the node’s inner and outer separations to be set to zero. Then it sets
the shape of the node to <span class="texttt">circle</span>. Finally, it sets the radius of the node such that it goes through the parameter given to <span class="texttt">circle through</span>. This radius is computed in essentially the
same way as above.
</p>



<div class="example">



<div class="example-image">

<p>
<span
      id="lateximage-pgfmanual-96"
      class="lateximagesource"
><!--
        B
D   A
--> <img
      src="pgfmanual-images/image-96.svg"
      alt="(-tikz-&nbsp;diagram)"
      style=""
      class="lateximage"
></span>
</p>
</div>



<div class="example-code">

<p>
<span class="c-
preamble">\usetikzlibrary {through}         </span><br
/>
<span
      class="textcolor"
      style="color:#000000"
>\begin</span>{<span
      class="textcolor"
      style="color:#0000B2"
>tikzpicture</span>}<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\coordinate</span>&#x2007;[<span
      class="textcolor"
      style="color:#008000"
>label</span>=<span
      class="textcolor"
      style="color:#008000"
>left:$A$</span>]&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(A)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>at</span> <span
      class="textcolor"
      style="color:#800080"
>(0,0)</span>;<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\coordinate</span>&#x2007;[<span
      class="textcolor"
      style="color:#008000"
>label</span>=<span
      class="textcolor"
      style="color:#008000"
>right:$B$</span>]&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(B)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>at</span> <span
      class="textcolor"
      style="color:#800080"
>(1.25,0.25)</span>;<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\draw</span>&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(A)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>--</span> <span
      class="textcolor"
      style="color:#800080"
>(B)</span>;<br />
<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\node</span>&#x2007;[<span
      class="textcolor"
      style="color:#008000"
>draw</span>,<span
      class="textcolor"
      style="color:#008000"
>circle through</span>=<span
      class="textcolor"
      style="color:#008000"
><span
      class="textcolor"
      style="color:#800080"
>(B)</span></span>,<span
      class="textcolor"
      style="color:#008000"
>label</span>=<span
      class="textcolor"
      style="color:#008000"
>left:$D$</span>]&#x2007;<span
      class="textcolor"
      style="color:#000000"
>at</span> <span
      class="textcolor"
      style="color:#800080"
>(A)</span>&#x2007;{};<br />
<span
      class="textcolor"
      style="color:#000000"
>\end</span>{<span
      class="textcolor"
      style="color:#0000B2"
>tikzpicture</span>}<br />


</p>
</div>

</div>
<h6 id="autosec-268"><span class="sectionnumber">4.1.4&#x2003;</span>The Intersection of the Circles</h6>
<a id="pgfmanual-autopage-268"></a>


<p>
Euclid can now draw the line and the circles. The final problem is to compute the intersection of the two circles. This computation is a bit involved if you want to do it “by hand”. Fortunately, the <span
class="texttt">intersections</span> library allows us to compute the intersection of arbitrary paths.
</p>

<p>
The idea is simple: First, you “name” two paths using the <span class="texttt">name path</span> option. Then, at some later point, you can use the option <span class="texttt">name intersections</span>, which creates coordinates called
<span class="texttt">intersection-1</span>, <span class="texttt">intersection-2</span>, and so on at all intersections of the paths. Euclid assigns the names <span class="texttt">D</span> and <span class="texttt">E</span> to the paths of the
two circles (which happen to be the same names as the nodes themselves, but nodes and their paths live in different “namespaces”).
</p>



<div class="example">



<div class="example-image">

<p>
<span
      id="lateximage-pgfmanual-97"
      class="lateximagesource"
><!--
        C


            B   E
D   A
--> <img
      src="pgfmanual-images/image-97.svg"
      alt="(-tikz-&nbsp;diagram)"
      style=""
      class="lateximage"
></span>
</p>
</div>



<div class="example-code">

<p>
<span class="c-
preamble">\usetikzlibrary {intersections,through}                                                                                                                                                                                            </span><br
/>
<span
      class="textcolor"
      style="color:#000000"
>\begin</span>{<span
      class="textcolor"
      style="color:#0000B2"
>tikzpicture</span>}<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\coordinate</span>&#x2007;[<span
      class="textcolor"
      style="color:#008000"
>label</span>=<span
      class="textcolor"
      style="color:#008000"
>left:$A$</span>]&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(A)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>at</span> <span
      class="textcolor"
      style="color:#800080"
>(0,0)</span>;<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\coordinate</span>&#x2007;[<span
      class="textcolor"
      style="color:#008000"
>label</span>=<span
      class="textcolor"
      style="color:#008000"
>right:$B$</span>]&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(B)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>at</span> <span
      class="textcolor"
      style="color:#800080"
>(1.25,0.25)</span>;<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\draw</span>&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(A)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>--</span> <span
      class="textcolor"
      style="color:#800080"
>(B)</span>;<br />
<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\node</span>&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(D)</span>&#x2007;[<span
      class="textcolor"
      style="color:#008000"
>name path</span>=<span
      class="textcolor"
      style="color:#008000"
>D</span>,<span
      class="textcolor"
      style="color:#008000"
>draw</span>,<span
      class="textcolor"
      style="color:#008000"
>circle through</span>=<span
      class="textcolor"
      style="color:#008000"
><span
      class="textcolor"
      style="color:#800080"
>(B)</span></span>,<span
      class="textcolor"
      style="color:#008000"
>label</span>=<span
      class="textcolor"
      style="color:#008000"
>left:$D$</span>]&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#000000"
>at</span> <span
      class="textcolor"
      style="color:#800080"
>(A)</span>&#x2007;{};<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\node</span>&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(E)</span>&#x2007;[<span
      class="textcolor"
      style="color:#008000"
>name path</span>=<span
      class="textcolor"
      style="color:#008000"
>E</span>,<span
      class="textcolor"
      style="color:#008000"
>draw</span>,<span
      class="textcolor"
      style="color:#008000"
>circle through</span>=<span
      class="textcolor"
      style="color:#008000"
><span
      class="textcolor"
      style="color:#800080"
>(A)</span></span>,<span
      class="textcolor"
      style="color:#008000"
>label</span>=<span
      class="textcolor"
      style="color:#008000"
>right:$E$</span>]&#x2007;<span
      class="textcolor"
      style="color:#000000"
>at</span> <span
      class="textcolor"
      style="color:#800080"
>(B)</span>&#x2007;{};<br />
<br />
&#x2007;&#x2007;<span class="example-code-comment">% Name the coordinates, but do not draw anything:</span><br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\path</span>&#x2007;[<span
      class="textcolor"
      style="color:#008000"
>name intersections</span>=<span
      class="textcolor"
      style="color:#008000"
>{of=D and E}</span>];<br />
<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\coordinate</span>&#x2007;[<span
      class="textcolor"
      style="color:#008000"
>label</span>=<span
      class="textcolor"
      style="color:#008000"
>above:$C$</span>]&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(C)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>at</span> <span
      class="textcolor"
      style="color:#800080"
>(intersection-1)</span>;<br />
<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\draw</span>&#x2007;[<span
      class="textcolor"
      style="color:#008000"
>red</span>]&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(A)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>--</span> <span
      class="textcolor"
      style="color:#800080"
>(C)</span>;<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\draw</span>&#x2007;[<span
      class="textcolor"
      style="color:#008000"
>red</span>]&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(B)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>--</span> <span
      class="textcolor"
      style="color:#800080"
>(C)</span>;<br />
<span
      class="textcolor"
      style="color:#000000"
>\end</span>{<span
      class="textcolor"
      style="color:#0000B2"
>tikzpicture</span>}<br />


</p>
</div>

</div>

<p>
It turns out that this can be further shortened: The <span class="texttt">name intersections</span> takes an optional argument <span class="texttt">by</span>, which lets you specify names for the coordinates and options for them. This
creates more compact code. Although Euclid does not need it for the current picture, it is just a small step to computing the bisection of the line \(AB\):
</p>



<div class="example">



<div class="example-image">

<p>
<span
      id="lateximage-pgfmanual-98"
      class="lateximagesource"
><!--
        C


                 B   E
D   A       F


            C0
--> <img
      src="pgfmanual-images/image-98.svg"
      alt="(-tikz-&nbsp;diagram)"
      style=""
      class="lateximage"
></span>
</p>
</div>



<div class="example-code">

<p>
<span class="c-
preamble">\usetikzlibrary {intersections,through}   </span><br
/>
<span
      class="textcolor"
      style="color:#000000"
>\begin</span>{<span
      class="textcolor"
      style="color:#0000B2"
>tikzpicture</span>}<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\coordinate</span>&#x2007;[<span
      class="textcolor"
      style="color:#008000"
>label</span>=<span
      class="textcolor"
      style="color:#008000"
>left:$A$</span>]&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(A)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>at</span> <span
      class="textcolor"
      style="color:#800080"
>(0,0)</span>;<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\coordinate</span>&#x2007;[<span
      class="textcolor"
      style="color:#008000"
>label</span>=<span
      class="textcolor"
      style="color:#008000"
>right:$B$</span>]&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(B)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>at</span> <span
      class="textcolor"
      style="color:#800080"
>(1.25,0.25)</span>;<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\draw</span>&#x2007;[<span
      class="textcolor"
      style="color:#008000"
>name path</span>=<span
      class="textcolor"
      style="color:#008000"
>A--B</span>]&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(A)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>--</span> <span
      class="textcolor"
      style="color:#800080"
>(B)</span>;<br />
<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\node</span>&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(D)</span>&#x2007;[<span
      class="textcolor"
      style="color:#008000"
>name path</span>=<span
      class="textcolor"
      style="color:#008000"
>D</span>,<span
      class="textcolor"
      style="color:#008000"
>draw</span>,<span
      class="textcolor"
      style="color:#008000"
>circle through</span>=<span
      class="textcolor"
      style="color:#008000"
><span
      class="textcolor"
      style="color:#800080"
>(B)</span></span>,<span
      class="textcolor"
      style="color:#008000"
>label</span>=<span
      class="textcolor"
      style="color:#008000"
>left:$D$</span>]&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#000000"
>at</span> <span
      class="textcolor"
      style="color:#800080"
>(A)</span>&#x2007;{};<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\node</span>&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(E)</span>&#x2007;[<span
      class="textcolor"
      style="color:#008000"
>name path</span>=<span
      class="textcolor"
      style="color:#008000"
>E</span>,<span
      class="textcolor"
      style="color:#008000"
>draw</span>,<span
      class="textcolor"
      style="color:#008000"
>circle through</span>=<span
      class="textcolor"
      style="color:#008000"
><span
      class="textcolor"
      style="color:#800080"
>(A)</span></span>,<span
      class="textcolor"
      style="color:#008000"
>label</span>=<span
      class="textcolor"
      style="color:#008000"
>right:$E$</span>]&#x2007;<span
      class="textcolor"
      style="color:#000000"
>at</span> <span
      class="textcolor"
      style="color:#800080"
>(B)</span>&#x2007;{};<br />
<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\path</span>&#x2007;[<span
      class="textcolor"
      style="color:#008000"
>name intersections</span>=<span
      class="textcolor"
      style="color:#008000"
>{of=D and E,&#x2007;by={[<span
      class="textcolor"
      style="color:#008000"
>label</span>=<span
      class="textcolor"
      style="color:#008000"
>above:$C$</span>]C,&#x2007;[<span
      class="textcolor"
      style="color:#008000"
>label</span>=<span
      class="textcolor"
      style="color:#008000"
>below:$C'$</span>]C'}}</span>];<br />
<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\draw</span>&#x2007;[<span
      class="textcolor"
      style="color:#008000"
>name path</span>=<span
      class="textcolor"
      style="color:#008000"
>C--C'</span>,<span
      class="textcolor"
      style="color:#008000"
>red</span>]&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(C)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>--</span> <span
      class="textcolor"
      style="color:#800080"
>(C')</span>;<br />
<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\path</span>&#x2007;[<span
      class="textcolor"
      style="color:#008000"
>name intersections</span>=<span
      class="textcolor"
      style="color:#008000"
>{of=A--B and C--C',by=F}</span>];<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\node</span>&#x2007;[<span
      class="textcolor"
      style="color:#008000"
>fill</span>=<span
      class="textcolor"
      style="color:#008000"
>red</span>,<span
      class="textcolor"
      style="color:#008000"
>inner sep</span>=<span
      class="textcolor"
      style="color:#008000"
>1pt</span>,<span
      class="textcolor"
      style="color:#008000"
>label</span>=<span
      class="textcolor"
      style="color:#008000"
>-45:$F$</span>]&#x2007;<span
      class="textcolor"
      style="color:#000000"
>at</span> <span
      class="textcolor"
      style="color:#800080"
>(F)</span>&#x2007;{};<br />
<span
      class="textcolor"
      style="color:#000000"
>\end</span>{<span
      class="textcolor"
      style="color:#0000B2"
>tikzpicture</span>}<br />


</p>
</div>

</div>
<h6 id="autosec-273"><span class="sectionnumber">4.1.5&#x2003;</span>The Complete Code</h6>
<a id="pgfmanual-autopage-273"></a>


<p>
Back to Euclid’s code. He introduces a few macros to make life simpler, like a <span class="texttt">\A</span> macro for typesetting a blue \(A\). He also uses the <span class="texttt">background</span> layer for drawing the triangle
behind everything at the end.
</p>



<div class="example">



<div class="example-image">

<p>
<span
      id="lateximage-pgfmanual-99"
      class="lateximagesource"
><!--
                    Proposition I
                    To construct an equilateral triangle on a given finite straight
                    line.

        C           Let AB be the given finite straight line. …


D   A       B   E
--> <img
      src="pgfmanual-images/image-99.svg"
      alt="(-tikz-&nbsp;diagram)"
      style=""
      class="lateximage"
></span>
</p>
</div>



<div class="example-code">

<p>
<span class="c-
preamble">\usetikzlibrary {backgrounds,calc,intersections,through}   </span><br
/>
<span
      class="textcolor"
      style="color:#000000"
>\begin</span>{<span
      class="textcolor"
      style="color:#0000B2"
>tikzpicture</span>}[<span
      class="textcolor"
      style="color:#008000"
>thick</span>,<span
      class="textcolor"
      style="color:#008000"
>help lines</span>/<span
      class="textcolor"
      style="color:#0000B2"
>.style</span>={<span
      class="textcolor"
      style="color:#008000"
>thin</span>,<span
      class="textcolor"
      style="color:#008000"
>draw</span>=<span
      class="textcolor"
      style="color:#008000"
>black!50}</span>]<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\def</span><span
      class="textcolor"
      style="color:#0000B2"
>\A</span>{<span
      class="textcolor"
      style="color:#0000B2"
>\textcolor</span>{<span
      class="textcolor"
      style="color:#000000"
>input</span>}{<span
      class="textcolor"
      style="color:#000000"
>$A$</span>}}&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\def</span><span
      class="textcolor"
      style="color:#0000B2"
>\B</span>{<span
      class="textcolor"
      style="color:#0000B2"
>\textcolor</span>{<span
      class="textcolor"
      style="color:#000000"
>input</span>}{<span
      class="textcolor"
      style="color:#000000"
>$B$</span>}}<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\def</span><span
      class="textcolor"
      style="color:#0000B2"
>\C</span>{<span
      class="textcolor"
      style="color:#0000B2"
>\textcolor</span>{<span
      class="textcolor"
      style="color:#000000"
>output</span>}{<span
      class="textcolor"
      style="color:#000000"
>$C$</span>}}&#x2007;&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\def</span><span
      class="textcolor"
      style="color:#0000B2"
>\D</span>{<span
      class="textcolor"
      style="color:#000000"
>$D$</span>}<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\def</span><span
      class="textcolor"
      style="color:#0000B2"
>\E</span>{<span
      class="textcolor"
      style="color:#000000"
>$E$</span>}<br />
<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\colorlet</span>{<span
      class="textcolor"
      style="color:#000000"
>input</span>}{<span
      class="textcolor"
      style="color:#000000"
>blue!80!black</span>}&#x2007;&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\colorlet</span>{<span
      class="textcolor"
      style="color:#000000"
>output</span>}{<span
      class="textcolor"
      style="color:#000000"
>red!70!black</span>}<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\colorlet</span>{<span
      class="textcolor"
      style="color:#000000"
>triangle</span>}{<span
      class="textcolor"
      style="color:#000000"
>orange</span>}<br />
<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\coordinate</span>&#x2007;[<span
      class="textcolor"
      style="color:#008000"
>label</span>=<span
      class="textcolor"
      style="color:#008000"
>left:<span
      class="textcolor"
      style="color:#0000B2"
>\A</span></span>]&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(A)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>at</span> <span
      class="textcolor"
      style="color:#800080"
>($ (0,0)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>+</span> .<span
      class="textcolor"
      style="color:#000000"
>1*</span><span
      class="textcolor"
      style="color:#800080"
>(rand,rand)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>$</span>);<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\coordinate</span>&#x2007;[<span
      class="textcolor"
      style="color:#008000"
>label</span>=<span
      class="textcolor"
      style="color:#008000"
>right:<span
      class="textcolor"
      style="color:#0000B2"
>\B</span></span>]&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(B)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>at</span> <span
      class="textcolor"
      style="color:#800080"
>($ (1.25,0.25)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>+</span> .<span
      class="textcolor"
      style="color:#000000"
>1*</span><span
      class="textcolor"
      style="color:#800080"
>(rand,rand)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>$</span>);<br />
<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\draw</span>&#x2007;[<span
      class="textcolor"
      style="color:#008000"
>input</span>]&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(A)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>--</span> <span
      class="textcolor"
      style="color:#800080"
>(B)</span>;<br />
<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\node</span>&#x2007;[<span
      class="textcolor"
      style="color:#008000"
>name path</span>=<span
      class="textcolor"
      style="color:#008000"
>D</span>,<span
      class="textcolor"
      style="color:#008000"
>help lines</span>,<span
      class="textcolor"
      style="color:#008000"
>draw</span>,<span
      class="textcolor"
      style="color:#008000"
>label</span>=<span
      class="textcolor"
      style="color:#008000"
>left:<span
      class="textcolor"
      style="color:#0000B2"
>\D</span></span>]&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(D)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>at</span> <span
      class="textcolor"
      style="color:#800080"
>(A)</span>&#x2007;[<span
      class="textcolor"
      style="color:#008000"
>circle through</span>=<span
      class="textcolor"
      style="color:#008000"
><span
      class="textcolor"
      style="color:#800080"
>(B)</span></span>]&#x2007;{};<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\node</span>&#x2007;[<span
      class="textcolor"
      style="color:#008000"
>name path</span>=<span
      class="textcolor"
      style="color:#008000"
>E</span>,<span
      class="textcolor"
      style="color:#008000"
>help lines</span>,<span
      class="textcolor"
      style="color:#008000"
>draw</span>,<span
      class="textcolor"
      style="color:#008000"
>label</span>=<span
      class="textcolor"
      style="color:#008000"
>right:<span
      class="textcolor"
      style="color:#0000B2"
>\E</span></span>]&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(E)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>at</span> <span
      class="textcolor"
      style="color:#800080"
>(B)</span>&#x2007;[<span
      class="textcolor"
      style="color:#008000"
>circle through</span>=<span
      class="textcolor"
      style="color:#008000"
><span
      class="textcolor"
      style="color:#800080"
>(A)</span></span>]&#x2007;{};<br />
<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\path</span>&#x2007;[<span
      class="textcolor"
      style="color:#008000"
>name intersections</span>=<span
      class="textcolor"
      style="color:#008000"
>{of=D and E,by={[<span
      class="textcolor"
      style="color:#008000"
>label</span>=<span
      class="textcolor"
      style="color:#008000"
>above:<span
      class="textcolor"
      style="color:#0000B2"
>\C</span></span>]C}}</span>];<br />
<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\draw</span>&#x2007;[<span
      class="textcolor"
      style="color:#008000"
>output</span>]&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(A)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>--</span> <span
      class="textcolor"
      style="color:#800080"
>(C)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>--</span> <span
      class="textcolor"
      style="color:#800080"
>(B)</span>;<br />
<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\foreach</span>&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\point</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>in</span> {<span
      class="textcolor"
      style="color:#000000"
>A</span>,<span
      class="textcolor"
      style="color:#000000"
>B</span>,<span
      class="textcolor"
      style="color:#000000"
>C</span>}<br />
&#x2007;&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\fill</span>&#x2007;[<span
      class="textcolor"
      style="color:#008000"
>black</span>,<span
      class="textcolor"
      style="color:#008000"
>opacity</span>=<span
      class="textcolor"
      style="color:#008000"
>.5</span>]&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(\point)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>circle</span> <span
      class="textcolor"
      style="color:#800080"
>(2pt)</span>;<br />
<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#000000"
>\begin</span>{<span
      class="textcolor"
      style="color:#0000B2"
>pgfonlayer</span>}{<span
      class="textcolor"
      style="color:#000000"
>background</span>}<br />
&#x2007;&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\fill</span>[<span
      class="textcolor"
      style="color:#008000"
>triangle!80</span>]&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(A)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>--</span> <span
      class="textcolor"
      style="color:#800080"
>(C)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>--</span> <span
      class="textcolor"
      style="color:#800080"
>(B)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>--</span> <span
      class="textcolor"
      style="color:#000000"
>cycle</span>;<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#000000"
>\end</span>{<span
      class="textcolor"
      style="color:#0000B2"
>pgfonlayer</span>}<br />
<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\node</span>&#x2007;[<span
      class="textcolor"
      style="color:#008000"
>below right</span>,&#x2007;<span
      class="textcolor"
      style="color:#008000"
>text width</span>=<span
      class="textcolor"
      style="color:#008000"
>10cm</span>,<span
      class="textcolor"
      style="color:#008000"
>align</span>=<span
      class="textcolor"
      style="color:#008000"
>justify</span>]&#x2007;<span
      class="textcolor"
      style="color:#000000"
>at</span> <span
      class="textcolor"
      style="color:#800080"
>(4,3)</span>&#x2007;{<br />
&#x2007;&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\small</span><span
      class="textcolor"
      style="color:#0000B2"
>\textbf</span>{<span
      class="textcolor"
      style="color:#000000"
>Proposition</span> <span
      class="textcolor"
      style="color:#000000"
>I</span>}<span
      class="textcolor"
      style="color:#0000B2"
>\par</span><br />
&#x2007;&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\emph</span>{<span
      class="textcolor"
      style="color:#000000"
>To</span> <span
      class="textcolor"
      style="color:#000000"
>construct</span> <span
      class="textcolor"
      style="color:#000000"
>an</span> <span
      class="textcolor"
      style="color:#0000B2"
>\textcolor</span>{<span
      class="textcolor"
      style="color:#000000"
>triangle</span>}{<span
      class="textcolor"
      style="color:#000000"
>equilateral</span> <span
      class="textcolor"
      style="color:#000000"
>triangle</span>}<br />
&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#000000"
>on</span> <span
      class="textcolor"
      style="color:#000000"
>a</span> <span
      class="textcolor"
      style="color:#000000"
>given</span> <span
      class="textcolor"
      style="color:#0000B2"
>\textcolor</span>{<span
      class="textcolor"
      style="color:#000000"
>input</span>}{<span
      class="textcolor"
      style="color:#000000"
>finite</span> <span
      class="textcolor"
      style="color:#000000"
>straight</span> <span
      class="textcolor"
      style="color:#000000"
>line</span>}.}<br />
&#x2007;&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\par</span><span
      class="textcolor"
      style="color:#0000B2"
>\vskip</span><span
      class="textcolor"
      style="color:#000000"
>1em</span><br />
&#x2007;&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#000000"
>Let</span> <span
      class="textcolor"
      style="color:#0000B2"
>\A</span><span
      class="textcolor"
      style="color:#0000B2"
>\B</span><span
      class="textcolor"
      style="color:#0000B2"
>\</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>be</span> <span
      class="textcolor"
      style="color:#000000"
>the</span> <span
      class="textcolor"
      style="color:#000000"
>given</span> <span
      class="textcolor"
      style="color:#0000B2"
>\textcolor</span>{<span
      class="textcolor"
      style="color:#000000"
>input</span>}{<span
      class="textcolor"
      style="color:#000000"
>finite</span> <span
      class="textcolor"
      style="color:#000000"
>straight</span> <span
      class="textcolor"
      style="color:#000000"
>line</span>}.&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\dots</span><br />
&#x2007;&#x2007;};<br />
<span
      class="textcolor"
      style="color:#000000"
>\end</span>{<span
      class="textcolor"
      style="color:#0000B2"
>tikzpicture</span>}<br />


</p>
</div>

</div>
<h5 id="autosec-276"><span class="sectionnumber">4.2&#x2003;</span>Book I, Proposition II</h5>
<a id="pgfmanual-autopage-276"></a>


<p>
The second proposition in the Elements is the following:
</p>

<p>
<span
      id="lateximage-pgfmanual-100"
      class="lateximagesource"
><!--
                                    Proposition II
                                    To place a straight line equal to a given straight line with
K                                   one end at a given point.

                    C               Let A be the given point, and BC the given straight
                                    line. It is required to place a straight line equal to the
        H                           given straight line BC with one end at the point A.
                D                   Join the straight line AB from the point A to the point
                                    B, and construct the equilateral triangle DAB on it.
                                    Produce the straight lines AE and BF in a straight line
            A           B           with DA and DB. Describe the circle CGH with center
                                    B and radius BC, and again, describe the circle GKL
                                    with center D and radius DG.
                            G       Since the point B is the center of the circle CGH, there-
                                    fore BC equals BG. Again, since the point D is the cen-
        L                       F   ter of the circle GKL, therefore DL equals DG. And in
    E                               these DA equals DB, therefore the remainder AL equals
                                    the remainder BG. But BC was also proved equal to BG,
                                    therefore each of the straight lines AL and BC equals
                                    BG. And things which equal the same thing also equal
                                    one another, therefore AL also equals BC.
                                    Therefore the straight line AL equal to the given
                                    straight line BC has been placed with one end at the
                                    given point A.
--> <img
   src="pgfmanual-images/image-100.svg"
   alt="(-tikz-&nbsp;diagram)"
   style=""
   class="lateximage"
></span>
</p>
<h6 id="autosec-279"><span class="sectionnumber">4.2.1&#x2003;</span>Using Partway Calculations for the Construction of D</h6>
<a id="pgfmanual-autopage-279"></a>


<p>
Euclid’s construction starts with “referencing” Proposition&nbsp;I for the construction of the point&nbsp;\(D\). Now, while we could simply repeat the construction, it seems a bit bothersome that one has to draw all these circles and
do all these complicated constructions.
</p>

<p>
For this reason, Ti<em>k</em>Z supports some simplifications. First, there is a simple syntax for computing a point that is “partway” on a line from \(p\) to&nbsp;\(q\): You place these two points in a coordinate calculation – remember,
they start with <span class="texttt">($</span> and end with <span class="texttt">$)</span> – and then combine them using <span class="texttt">!</span><span class="angle">&langle;</span><i>part</i><span
class="angle">&rangle;</span><span class="texttt">!</span>. A <span class="angle">&langle;</span><i>part</i><span class="angle">&rangle;</span> of <span class="texttt">0</span> refers to the <em>first</em> coordinate, a <span
class="angle">&langle;</span><i>part</i><span class="angle">&rangle;</span> of <span class="texttt">1</span> refers to the second coordinate, and a value in between refers to a point on the line from \(p\) to&nbsp;\(q\). Thus, the syntax
is similar to the <span class="texttt">xcolor</span> syntax for mixing colors.
</p>

<p>
Here is the computation of the point in the middle of the line \(AB\):
</p>



<div class="example">



<div class="example-image">

<p>
<span
      id="lateximage-pgfmanual-101"
      class="lateximagesource"
><!--
        B
A   X
--> <img
      src="pgfmanual-images/image-101.svg"
      alt="(-tikz-&nbsp;diagram)"
      style=""
      class="lateximage"
></span>
</p>
</div>



<div class="example-code">

<p>
<span class="c-
preamble">\usetikzlibrary {calc}                                                                                                                                                                                                                </span><br
/>
<span
      class="textcolor"
      style="color:#000000"
>\begin</span>{<span
      class="textcolor"
      style="color:#0000B2"
>tikzpicture</span>}<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\coordinate</span>&#x2007;[<span
      class="textcolor"
      style="color:#008000"
>label</span>=<span
      class="textcolor"
      style="color:#008000"
>left:$A$</span>]&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(A)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>at</span> <span
      class="textcolor"
      style="color:#800080"
>(0,0)</span>;<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\coordinate</span>&#x2007;[<span
      class="textcolor"
      style="color:#008000"
>label</span>=<span
      class="textcolor"
      style="color:#008000"
>right:$B$</span>]&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(B)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>at</span> <span
      class="textcolor"
      style="color:#800080"
>(1.25,0.25)</span>;<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\draw</span>&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(A)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>--</span> <span
      class="textcolor"
      style="color:#800080"
>(B)</span>;<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\node</span>&#x2007;[<span
      class="textcolor"
      style="color:#008000"
>fill</span>=<span
      class="textcolor"
      style="color:#008000"
>red</span>,<span
      class="textcolor"
      style="color:#008000"
>inner sep</span>=<span
      class="textcolor"
      style="color:#008000"
>1pt</span>,<span
      class="textcolor"
      style="color:#008000"
>label</span>=<span
      class="textcolor"
      style="color:#008000"
>below:$X$</span>]&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(X)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>at</span> <span
      class="textcolor"
      style="color:#800080"
>($ (A)</span><span
      class="textcolor"
      style="color:#000000"
>!</span>.<span
      class="textcolor"
      style="color:#000000"
>5!</span><span
      class="textcolor"
      style="color:#800080"
>(B)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>$</span>)&#x2007;{};<br />
<span
      class="textcolor"
      style="color:#000000"
>\end</span>{<span
      class="textcolor"
      style="color:#0000B2"
>tikzpicture</span>}<br />


</p>
</div>

</div>

<p>
The computation of the point \(D\) in Euclid’s second proposition is a bit more complicated. It can be expressed as follows: Consider the line from \(X\) to \(B\). Suppose we rotate this line around \(X\) for 90\(^\circ \) and then
stretch it by a factor of \(\sin (60^\circ ) \cdot 2\). This yields the desired point&nbsp;\(D\). We can do the stretching using the partway modifier above, for the rotation we need a new modifier: the rotation modifier. The idea is that
the second coordinate in a partway computation can be prefixed by an angle. Then the partway point is computed normally (as if no angle were given), but the resulting point is rotated by this angle around the first point.
</p>



<div class="example">



<div class="example-image">

<p>
<span
      id="lateximage-pgfmanual-102"
      class="lateximagesource"
><!--
    D


        B
A   X
--> <img
      src="pgfmanual-images/image-102.svg"
      alt="(-tikz-&nbsp;diagram)"
      style=""
      class="lateximage"
></span>
</p>
</div>



<div class="example-code">

<p>
<span class="c-
preamble">\usetikzlibrary {calc}                                                                                                                                                    </span><br
/>
<span
      class="textcolor"
      style="color:#000000"
>\begin</span>{<span
      class="textcolor"
      style="color:#0000B2"
>tikzpicture</span>}<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\coordinate</span>&#x2007;[<span
      class="textcolor"
      style="color:#008000"
>label</span>=<span
      class="textcolor"
      style="color:#008000"
>left:$A$</span>]&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(A)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>at</span> <span
      class="textcolor"
      style="color:#800080"
>(0,0)</span>;<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\coordinate</span>&#x2007;[<span
      class="textcolor"
      style="color:#008000"
>label</span>=<span
      class="textcolor"
      style="color:#008000"
>right:$B$</span>]&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(B)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>at</span> <span
      class="textcolor"
      style="color:#800080"
>(1.25,0.25)</span>;<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\draw</span>&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(A)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>--</span> <span
      class="textcolor"
      style="color:#800080"
>(B)</span>;<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\node</span>&#x2007;[<span
      class="textcolor"
      style="color:#008000"
>fill</span>=<span
      class="textcolor"
      style="color:#008000"
>red</span>,<span
      class="textcolor"
      style="color:#008000"
>inner sep</span>=<span
      class="textcolor"
      style="color:#008000"
>1pt</span>,<span
      class="textcolor"
      style="color:#008000"
>label</span>=<span
      class="textcolor"
      style="color:#008000"
>below:$X$</span>]&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(X)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>at</span> <span
      class="textcolor"
      style="color:#800080"
>($ (A)</span><span
      class="textcolor"
      style="color:#000000"
>!</span>.<span
      class="textcolor"
      style="color:#000000"
>5!</span><span
      class="textcolor"
      style="color:#800080"
>(B)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>$</span>)&#x2007;{};<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\node</span>&#x2007;[<span
      class="textcolor"
      style="color:#008000"
>fill</span>=<span
      class="textcolor"
      style="color:#008000"
>red</span>,<span
      class="textcolor"
      style="color:#008000"
>inner sep</span>=<span
      class="textcolor"
      style="color:#008000"
>1pt</span>,<span
      class="textcolor"
      style="color:#008000"
>label</span>=<span
      class="textcolor"
      style="color:#008000"
>above:$D$</span>]&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(D)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>at</span><br />
&#x2007;&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#800080"
>($ (X)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>!</span> {<span
      class="textcolor"
      style="color:#000000"
>sin</span><span
      class="textcolor"
      style="color:#800080"
>(60)</span><span
      class="textcolor"
      style="color:#000000"
>*2</span>}&#x2007;<span
      class="textcolor"
      style="color:#000000"
>!</span> <span
      class="textcolor"
      style="color:#000000"
>90:</span><span
      class="textcolor"
      style="color:#800080"
>(B)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>$</span>)&#x2007;{};<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\draw</span>&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(A)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>--</span> <span
      class="textcolor"
      style="color:#800080"
>(D)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>--</span> <span
      class="textcolor"
      style="color:#800080"
>(B)</span>;<br />
<span
      class="textcolor"
      style="color:#000000"
>\end</span>{<span
      class="textcolor"
      style="color:#0000B2"
>tikzpicture</span>}<br />


</p>
</div>

</div>

<p>
Finally, it is not necessary to explicitly name the point \(X\). Rather, again like in the <span class="texttt">xcolor</span> package, it is possible to chain partway modifiers:
</p>



<div class="example">



<div class="example-image">

<p>
<span
      id="lateximage-pgfmanual-103"
      class="lateximagesource"
><!--
    D


        B
A
--> <img
      src="pgfmanual-images/image-103.svg"
      alt="(-tikz-&nbsp;diagram)"
      style=""
      class="lateximage"
></span>
</p>
</div>



<div class="example-code">

<p>
<span class="c-
preamble">\usetikzlibrary {calc}             </span><br
/>
<span
      class="textcolor"
      style="color:#000000"
>\begin</span>{<span
      class="textcolor"
      style="color:#0000B2"
>tikzpicture</span>}<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\coordinate</span>&#x2007;[<span
      class="textcolor"
      style="color:#008000"
>label</span>=<span
      class="textcolor"
      style="color:#008000"
>left:$A$</span>]&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(A)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>at</span> <span
      class="textcolor"
      style="color:#800080"
>(0,0)</span>;<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\coordinate</span>&#x2007;[<span
      class="textcolor"
      style="color:#008000"
>label</span>=<span
      class="textcolor"
      style="color:#008000"
>right:$B$</span>]&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(B)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>at</span> <span
      class="textcolor"
      style="color:#800080"
>(1.25,0.25)</span>;<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\draw</span>&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(A)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>--</span> <span
      class="textcolor"
      style="color:#800080"
>(B)</span>;<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\node</span>&#x2007;[<span
      class="textcolor"
      style="color:#008000"
>fill</span>=<span
      class="textcolor"
      style="color:#008000"
>red</span>,<span
      class="textcolor"
      style="color:#008000"
>inner sep</span>=<span
      class="textcolor"
      style="color:#008000"
>1pt</span>,<span
      class="textcolor"
      style="color:#008000"
>label</span>=<span
      class="textcolor"
      style="color:#008000"
>above:$D$</span>]&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(D)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>at</span><br />
&#x2007;&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#800080"
>($ (A)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>!</span> .<span
      class="textcolor"
      style="color:#000000"
>5</span> <span
      class="textcolor"
      style="color:#000000"
>!</span> <span
      class="textcolor"
      style="color:#800080"
>(B)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>!</span> {<span
      class="textcolor"
      style="color:#000000"
>sin</span><span
      class="textcolor"
      style="color:#800080"
>(60)</span><span
      class="textcolor"
      style="color:#000000"
>*2</span>}&#x2007;<span
      class="textcolor"
      style="color:#000000"
>!</span> <span
      class="textcolor"
      style="color:#000000"
>90:</span><span
      class="textcolor"
      style="color:#800080"
>(B)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>$</span>)&#x2007;{};<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\draw</span>&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(A)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>--</span> <span
      class="textcolor"
      style="color:#800080"
>(D)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>--</span> <span
      class="textcolor"
      style="color:#800080"
>(B)</span>;<br />
<span
      class="textcolor"
      style="color:#000000"
>\end</span>{<span
      class="textcolor"
      style="color:#0000B2"
>tikzpicture</span>}<br />


</p>
</div>

</div>
<h6 id="autosec-286"><span class="sectionnumber">4.2.2&#x2003;</span>Intersecting a Line and a Circle</h6>
<a id="pgfmanual-autopage-286"></a>


<p>
The next step in the construction is to draw a circle around \(B\) through \(C\), which is easy enough to do using the <span class="texttt">circle through</span> option. Extending the lines \(DA\) and \(DB\) can be done using partway
calculations, but this time with a part value outside the range \([0,1]\):
</p>



<div class="example">



<div class="example-image">

<p>
<span
      id="lateximage-pgfmanual-104"
      class="lateximagesource"
><!--
        C
H
    D

        B
A



E           F
--> <img
      src="pgfmanual-images/image-104.svg"
      alt="(-tikz-&nbsp;diagram)"
      style=""
      class="lateximage"
></span>
</p>
</div>



<div class="example-code">

<p>
<span class="c-
preamble">\usetikzlibrary {calc,through}                                                                                                                                                                                                      </span><br
/>
<span
      class="textcolor"
      style="color:#000000"
>\begin</span>{<span
      class="textcolor"
      style="color:#0000B2"
>tikzpicture</span>}<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\coordinate</span>&#x2007;[<span
      class="textcolor"
      style="color:#008000"
>label</span>=<span
      class="textcolor"
      style="color:#008000"
>left:$A$</span>]&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(A)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>at</span> <span
      class="textcolor"
      style="color:#800080"
>(0,0)</span>;<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\coordinate</span>&#x2007;[<span
      class="textcolor"
      style="color:#008000"
>label</span>=<span
      class="textcolor"
      style="color:#008000"
>right:$B$</span>]&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(B)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>at</span> <span
      class="textcolor"
      style="color:#800080"
>(0.75,0.25)</span>;<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\coordinate</span>&#x2007;[<span
      class="textcolor"
      style="color:#008000"
>label</span>=<span
      class="textcolor"
      style="color:#008000"
>above:$C$</span>]&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(C)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>at</span> <span
      class="textcolor"
      style="color:#800080"
>(1,1.5)</span>;<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\draw</span>&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(A)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>--</span> <span
      class="textcolor"
      style="color:#800080"
>(B)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>--</span> <span
      class="textcolor"
      style="color:#800080"
>(C)</span>;<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\coordinate</span>&#x2007;[<span
      class="textcolor"
      style="color:#008000"
>label</span>=<span
      class="textcolor"
      style="color:#008000"
>above:$D$</span>]&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(D)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>at</span><br />
&#x2007;&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#800080"
>($ (A)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>!</span> .<span
      class="textcolor"
      style="color:#000000"
>5</span> <span
      class="textcolor"
      style="color:#000000"
>!</span> <span
      class="textcolor"
      style="color:#800080"
>(B)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>!</span> {<span
      class="textcolor"
      style="color:#000000"
>sin</span><span
      class="textcolor"
      style="color:#800080"
>(60)</span><span
      class="textcolor"
      style="color:#000000"
>*2</span>}&#x2007;<span
      class="textcolor"
      style="color:#000000"
>!</span> <span
      class="textcolor"
      style="color:#000000"
>90:</span><span
      class="textcolor"
      style="color:#800080"
>(B)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>$</span>)&#x2007;{};<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\node</span>&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(H)</span>&#x2007;[<span
      class="textcolor"
      style="color:#008000"
>label</span>=<span
      class="textcolor"
      style="color:#008000"
>135:$H$</span>,<span
      class="textcolor"
      style="color:#008000"
>draw</span>,<span
      class="textcolor"
      style="color:#008000"
>circle through</span>=<span
      class="textcolor"
      style="color:#008000"
><span
      class="textcolor"
      style="color:#800080"
>(C)</span></span>]&#x2007;<span
      class="textcolor"
      style="color:#000000"
>at</span> <span
      class="textcolor"
      style="color:#800080"
>(B)</span>&#x2007;{};<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\draw</span>&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(D)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>--</span> <span
      class="textcolor"
      style="color:#800080"
>($ (D)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>!</span> <span
      class="textcolor"
      style="color:#000000"
>3</span>.<span
      class="textcolor"
      style="color:#000000"
>5</span> <span
      class="textcolor"
      style="color:#000000"
>!</span> <span
      class="textcolor"
      style="color:#800080"
>(B)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>$</span>)&#x2007;<span
      class="textcolor"
      style="color:#000000"
>coordinate</span> [<span
      class="textcolor"
      style="color:#008000"
>label</span>=<span
      class="textcolor"
      style="color:#008000"
>below:$F$</span>]&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(F)</span>;<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\draw</span>&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(D)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>--</span> <span
      class="textcolor"
      style="color:#800080"
>($ (D)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>!</span> <span
      class="textcolor"
      style="color:#000000"
>2</span>.<span
      class="textcolor"
      style="color:#000000"
>5</span> <span
      class="textcolor"
      style="color:#000000"
>!</span> <span
      class="textcolor"
      style="color:#800080"
>(A)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>$</span>)&#x2007;<span
      class="textcolor"
      style="color:#000000"
>coordinate</span> [<span
      class="textcolor"
      style="color:#008000"
>label</span>=<span
      class="textcolor"
      style="color:#008000"
>below:$E$</span>]&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(E)</span>;<br />
<span
      class="textcolor"
      style="color:#000000"
>\end</span>{<span
      class="textcolor"
      style="color:#0000B2"
>tikzpicture</span>}<br />


</p>
</div>

</div>

<p>
We now face the problem of finding the point \(G\), which is the intersection of the line \(BF\) and the circle \(H\). One way is to use yet another variant of the partway computation: Normally, a partway computation has the form <span
class="angle">&langle;</span><i>p</i><span class="angle">&rangle;</span><span class="texttt">!</span><span class="angle">&langle;</span><i>factor</i><span class="angle">&rangle;</span><span class="texttt">!</span><span
class="angle">&langle;</span><i>q</i><span class="angle">&rangle;</span>, resulting in the point \((1-\meta {factor})\meta {p} + \meta {factor}\meta {q}\). Alternatively, instead of <span class="angle">&langle;</span><i>factor</i><span
class="angle">&rangle;</span> you can also use a <span class="angle">&langle;</span><i>dimension</i><span class="angle">&rangle;</span> between the points. In this case, you get the point that is <span
class="angle">&langle;</span><i>dimension</i><span class="angle">&rangle;</span> away from <span class="angle">&langle;</span><i>p</i><span class="angle">&rangle;</span> on the straight line to <span
class="angle">&langle;</span><i>q</i><span class="angle">&rangle;</span>.
</p>

<p>
We know that the point \(G\) is on the way from \(B\) to \(F\). The distance is given by the radius of the circle&nbsp;\(H\). Here is the code for computing \(H\):
</p>



<div class="example">



<div class="example-image">

<p>
<span
      id="lateximage-pgfmanual-105"
      class="lateximagesource"
><!--
        C
H
    D

        B
A
            G

E               F
--> <img
      src="pgfmanual-images/image-105.svg"
      alt="(-tikz-&nbsp;diagram)"
      style=""
      class="lateximage"
></span>
</p>
</div>



<div class="example-code">

<p>
<span class="c-
preamble">\usetikzlibrary {calc,through}                                                                                                                                                           </span><br
/>
<span
      class="textcolor"
      style="color:#000000"
>\begin</span>{<span
      class="textcolor"
      style="color:#0000B2"
>tikzpicture</span>}<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\coordinate</span>&#x2007;[<span
      class="textcolor"
      style="color:#008000"
>label</span>=<span
      class="textcolor"
      style="color:#008000"
>left:$A$</span>]&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(A)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>at</span> <span
      class="textcolor"
      style="color:#800080"
>(0,0)</span>;<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\coordinate</span>&#x2007;[<span
      class="textcolor"
      style="color:#008000"
>label</span>=<span
      class="textcolor"
      style="color:#008000"
>right:$B$</span>]&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(B)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>at</span> <span
      class="textcolor"
      style="color:#800080"
>(0.75,0.25)</span>;<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\coordinate</span>&#x2007;[<span
      class="textcolor"
      style="color:#008000"
>label</span>=<span
      class="textcolor"
      style="color:#008000"
>above:$C$</span>]&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(C)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>at</span> <span
      class="textcolor"
      style="color:#800080"
>(1,1.5)</span>;<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\draw</span>&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(A)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>--</span> <span
      class="textcolor"
      style="color:#800080"
>(B)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>--</span> <span
      class="textcolor"
      style="color:#800080"
>(C)</span>;<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\coordinate</span>&#x2007;[<span
      class="textcolor"
      style="color:#008000"
>label</span>=<span
      class="textcolor"
      style="color:#008000"
>above:$D$</span>]&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(D)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>at</span><br />
&#x2007;&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#800080"
>($ (A)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>!</span> .<span
      class="textcolor"
      style="color:#000000"
>5</span> <span
      class="textcolor"
      style="color:#000000"
>!</span> <span
      class="textcolor"
      style="color:#800080"
>(B)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>!</span> {<span
      class="textcolor"
      style="color:#000000"
>sin</span><span
      class="textcolor"
      style="color:#800080"
>(60)</span><span
      class="textcolor"
      style="color:#000000"
>*2</span>}&#x2007;<span
      class="textcolor"
      style="color:#000000"
>!</span> <span
      class="textcolor"
      style="color:#000000"
>90:</span><span
      class="textcolor"
      style="color:#800080"
>(B)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>$</span>)&#x2007;{};<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\draw</span>&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(D)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>--</span> <span
      class="textcolor"
      style="color:#800080"
>($ (D)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>!</span> <span
      class="textcolor"
      style="color:#000000"
>3</span>.<span
      class="textcolor"
      style="color:#000000"
>5</span> <span
      class="textcolor"
      style="color:#000000"
>!</span> <span
      class="textcolor"
      style="color:#800080"
>(B)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>$</span>)&#x2007;<span
      class="textcolor"
      style="color:#000000"
>coordinate</span> [<span
      class="textcolor"
      style="color:#008000"
>label</span>=<span
      class="textcolor"
      style="color:#008000"
>below:$F$</span>]&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(F)</span>;<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\draw</span>&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(D)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>--</span> <span
      class="textcolor"
      style="color:#800080"
>($ (D)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>!</span> <span
      class="textcolor"
      style="color:#000000"
>2</span>.<span
      class="textcolor"
      style="color:#000000"
>5</span> <span
      class="textcolor"
      style="color:#000000"
>!</span> <span
      class="textcolor"
      style="color:#800080"
>(A)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>$</span>)&#x2007;<span
      class="textcolor"
      style="color:#000000"
>coordinate</span> [<span
      class="textcolor"
      style="color:#008000"
>label</span>=<span
      class="textcolor"
      style="color:#008000"
>below:$E$</span>]&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(E)</span>;<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\node</span>&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(H)</span>&#x2007;[<span
      class="textcolor"
      style="color:#008000"
>label</span>=<span
      class="textcolor"
      style="color:#008000"
>135:$H$</span>,<span
      class="textcolor"
      style="color:#008000"
>draw</span>,<span
      class="textcolor"
      style="color:#008000"
>circle through</span>=<span
      class="textcolor"
      style="color:#008000"
><span
      class="textcolor"
      style="color:#800080"
>(C)</span></span>]&#x2007;<span
      class="textcolor"
      style="color:#000000"
>at</span> <span
      class="textcolor"
      style="color:#800080"
>(B)</span>&#x2007;{};<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\path</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>let</span> <span
      class="textcolor"
      style="color:#0000B2"
>\p</span><span
      class="textcolor"
      style="color:#000000"
>1</span> <span
      class="textcolor"
      style="color:#000000"
>=</span> <span
      class="textcolor"
      style="color:#800080"
>($ (B)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>-</span> <span
      class="textcolor"
      style="color:#800080"
>(C)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>$</span>)&#x2007;<span
      class="textcolor"
      style="color:#000000"
>in</span><br />
&#x2007;&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#000000"
>coordinate</span> [<span
      class="textcolor"
      style="color:#008000"
>label</span>=<span
      class="textcolor"
      style="color:#008000"
>left:$G$</span>]&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(G)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>at</span> <span
      class="textcolor"
      style="color:#800080"
>($ (B)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>!</span> <span
      class="textcolor"
      style="color:#000000"
>veclen</span><span
      class="textcolor"
      style="color:#800080"
>(\x1,\y1)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>!</span> <span
      class="textcolor"
      style="color:#800080"
>(F)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>$</span>);<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\fill</span>[<span
      class="textcolor"
      style="color:#008000"
>red</span>,<span
      class="textcolor"
      style="color:#008000"
>opacity</span>=<span
      class="textcolor"
      style="color:#008000"
>.5</span>]&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(G)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>circle</span> <span
      class="textcolor"
      style="color:#800080"
>(2pt)</span>;<br />
<span
      class="textcolor"
      style="color:#000000"
>\end</span>{<span
      class="textcolor"
      style="color:#0000B2"
>tikzpicture</span>}<br />


</p>
</div>

</div>

<p>
However, there is a simpler way: We can simply name the path of the circle and of the line in question and then use <span class="texttt">name intersections</span> to compute the intersections.
</p>



<div class="example">



<div class="example-image">

<p>
<span
      id="lateximage-pgfmanual-106"
      class="lateximagesource"
><!--
        C
H
    D

        B
A
            G

E               F
--> <img
      src="pgfmanual-images/image-106.svg"
      alt="(-tikz-&nbsp;diagram)"
      style=""
      class="lateximage"
></span>
</p>
</div>



<div class="example-code">

<p>
<span class="c-
preamble">\usetikzlibrary {calc,intersections,through}   </span><br
/>
<span
      class="textcolor"
      style="color:#000000"
>\begin</span>{<span
      class="textcolor"
      style="color:#0000B2"
>tikzpicture</span>}<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\coordinate</span>&#x2007;[<span
      class="textcolor"
      style="color:#008000"
>label</span>=<span
      class="textcolor"
      style="color:#008000"
>left:$A$</span>]&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(A)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>at</span> <span
      class="textcolor"
      style="color:#800080"
>(0,0)</span>;<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\coordinate</span>&#x2007;[<span
      class="textcolor"
      style="color:#008000"
>label</span>=<span
      class="textcolor"
      style="color:#008000"
>right:$B$</span>]&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(B)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>at</span> <span
      class="textcolor"
      style="color:#800080"
>(0.75,0.25)</span>;<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\coordinate</span>&#x2007;[<span
      class="textcolor"
      style="color:#008000"
>label</span>=<span
      class="textcolor"
      style="color:#008000"
>above:$C$</span>]&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(C)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>at</span> <span
      class="textcolor"
      style="color:#800080"
>(1,1.5)</span>;<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\draw</span>&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(A)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>--</span> <span
      class="textcolor"
      style="color:#800080"
>(B)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>--</span> <span
      class="textcolor"
      style="color:#800080"
>(C)</span>;<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\coordinate</span>&#x2007;[<span
      class="textcolor"
      style="color:#008000"
>label</span>=<span
      class="textcolor"
      style="color:#008000"
>above:$D$</span>]&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(D)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>at</span><br />
&#x2007;&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#800080"
>($ (A)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>!</span> .<span
      class="textcolor"
      style="color:#000000"
>5</span> <span
      class="textcolor"
      style="color:#000000"
>!</span> <span
      class="textcolor"
      style="color:#800080"
>(B)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>!</span> {<span
      class="textcolor"
      style="color:#000000"
>sin</span><span
      class="textcolor"
      style="color:#800080"
>(60)</span><span
      class="textcolor"
      style="color:#000000"
>*2</span>}&#x2007;<span
      class="textcolor"
      style="color:#000000"
>!</span> <span
      class="textcolor"
      style="color:#000000"
>90:</span><span
      class="textcolor"
      style="color:#800080"
>(B)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>$</span>)&#x2007;{};<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\draw</span>&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(D)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>--</span> <span
      class="textcolor"
      style="color:#800080"
>($ (D)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>!</span> <span
      class="textcolor"
      style="color:#000000"
>3</span>.<span
      class="textcolor"
      style="color:#000000"
>5</span> <span
      class="textcolor"
      style="color:#000000"
>!</span> <span
      class="textcolor"
      style="color:#800080"
>(B)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>$</span>)&#x2007;<span
      class="textcolor"
      style="color:#000000"
>coordinate</span> [<span
      class="textcolor"
      style="color:#008000"
>label</span>=<span
      class="textcolor"
      style="color:#008000"
>below:$F$</span>]&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(F)</span>;<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\draw</span>&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(D)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>--</span> <span
      class="textcolor"
      style="color:#800080"
>($ (D)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>!</span> <span
      class="textcolor"
      style="color:#000000"
>2</span>.<span
      class="textcolor"
      style="color:#000000"
>5</span> <span
      class="textcolor"
      style="color:#000000"
>!</span> <span
      class="textcolor"
      style="color:#800080"
>(A)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>$</span>)&#x2007;<span
      class="textcolor"
      style="color:#000000"
>coordinate</span> [<span
      class="textcolor"
      style="color:#008000"
>label</span>=<span
      class="textcolor"
      style="color:#008000"
>below:$E$</span>]&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(E)</span>;<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\node</span>&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(H)</span>&#x2007;[<span
      class="textcolor"
      style="color:#008000"
>name path</span>=<span
      class="textcolor"
      style="color:#008000"
>H</span>,<span
      class="textcolor"
      style="color:#008000"
>label</span>=<span
      class="textcolor"
      style="color:#008000"
>135:$H$</span>,<span
      class="textcolor"
      style="color:#008000"
>draw</span>,<span
      class="textcolor"
      style="color:#008000"
>circle through</span>=<span
      class="textcolor"
      style="color:#008000"
><span
      class="textcolor"
      style="color:#800080"
>(C)</span></span>]&#x2007;<span
      class="textcolor"
      style="color:#000000"
>at</span> <span
      class="textcolor"
      style="color:#800080"
>(B)</span>&#x2007;{};<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\path</span>&#x2007;[<span
      class="textcolor"
      style="color:#008000"
>name path</span>=<span
      class="textcolor"
      style="color:#008000"
>B--F</span>]&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(B)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>--</span> <span
      class="textcolor"
      style="color:#800080"
>(F)</span>;<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\path</span>&#x2007;[<span
      class="textcolor"
      style="color:#008000"
>name intersections</span>=<span
      class="textcolor"
      style="color:#008000"
>{of=H and B--F,by={[<span
      class="textcolor"
      style="color:#008000"
>label</span>=<span
      class="textcolor"
      style="color:#008000"
>left:$G$</span>]G}}</span>];<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\fill</span>[<span
      class="textcolor"
      style="color:#008000"
>red</span>,<span
      class="textcolor"
      style="color:#008000"
>opacity</span>=<span
      class="textcolor"
      style="color:#008000"
>.5</span>]&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(G)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>circle</span> <span
      class="textcolor"
      style="color:#800080"
>(2pt)</span>;<br />
<span
      class="textcolor"
      style="color:#000000"
>\end</span>{<span
      class="textcolor"
      style="color:#0000B2"
>tikzpicture</span>}<br />


</p>
</div>

</div>
<h6 id="autosec-293"><span class="sectionnumber">4.2.3&#x2003;</span>The Complete Code</h6>
<a id="pgfmanual-autopage-293"></a>




<div class="example">



<div class="example-image">

<p>
<span
      id="lateximage-pgfmanual-107"
      class="lateximagesource"
><!--
K

                    C
        H
                D


            A           B



                            G
        L                       F
    E
--> <img
      src="pgfmanual-images/image-107.svg"
      alt="(-tikz-&nbsp;diagram)"
      style=""
      class="lateximage"
></span>
</p>
</div>



<div class="example-code">

<p>
<span class="c-
preamble">\usetikzlibrary {calc,intersections,through}                                                                                                                                                      </span><br
/>
<span
      class="textcolor"
      style="color:#000000"
>\begin</span>{<span
      class="textcolor"
      style="color:#0000B2"
>tikzpicture</span>}[<span
      class="textcolor"
      style="color:#008000"
>thick</span>,<span
      class="textcolor"
      style="color:#008000"
>help lines</span>/<span
      class="textcolor"
      style="color:#0000B2"
>.style</span>={<span
      class="textcolor"
      style="color:#008000"
>thin</span>,<span
      class="textcolor"
      style="color:#008000"
>draw</span>=<span
      class="textcolor"
      style="color:#008000"
>black!50}</span>]<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\def</span><span
      class="textcolor"
      style="color:#0000B2"
>\A</span>{<span
      class="textcolor"
      style="color:#0000B2"
>\textcolor</span>{<span
      class="textcolor"
      style="color:#000000"
>orange</span>}{<span
      class="textcolor"
      style="color:#000000"
>$A$</span>}}&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\def</span><span
      class="textcolor"
      style="color:#0000B2"
>\B</span>{<span
      class="textcolor"
      style="color:#0000B2"
>\textcolor</span>{<span
      class="textcolor"
      style="color:#000000"
>input</span>}{<span
      class="textcolor"
      style="color:#000000"
>$B$</span>}}<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\def</span><span
      class="textcolor"
      style="color:#0000B2"
>\C</span>{<span
      class="textcolor"
      style="color:#0000B2"
>\textcolor</span>{<span
      class="textcolor"
      style="color:#000000"
>input</span>}{<span
      class="textcolor"
      style="color:#000000"
>$C$</span>}}&#x2007;&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\def</span><span
      class="textcolor"
      style="color:#0000B2"
>\D</span>{<span
      class="textcolor"
      style="color:#000000"
>$D$</span>}<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\def</span><span
      class="textcolor"
      style="color:#0000B2"
>\E</span>{<span
      class="textcolor"
      style="color:#000000"
>$E$</span>}&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\def</span><span
      class="textcolor"
      style="color:#0000B2"
>\F</span>{<span
      class="textcolor"
      style="color:#000000"
>$F$</span>}<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\def</span><span
      class="textcolor"
      style="color:#0000B2"
>\G</span>{<span
      class="textcolor"
      style="color:#000000"
>$G$</span>}&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\def</span><span
      class="textcolor"
      style="color:#0000B2"
>\H</span>{<span
      class="textcolor"
      style="color:#000000"
>$H$</span>}<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\def</span><span
      class="textcolor"
      style="color:#0000B2"
>\K</span>{<span
      class="textcolor"
      style="color:#000000"
>$K$</span>}&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\def</span><span
      class="textcolor"
      style="color:#0000B2"
>\L</span>{<span
      class="textcolor"
      style="color:#0000B2"
>\textcolor</span>{<span
      class="textcolor"
      style="color:#000000"
>output</span>}{<span
      class="textcolor"
      style="color:#000000"
>$L$</span>}}<br />
<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\colorlet</span>{<span
      class="textcolor"
      style="color:#000000"
>input</span>}{<span
      class="textcolor"
      style="color:#000000"
>blue!80!black</span>}&#x2007;&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\colorlet</span>{<span
      class="textcolor"
      style="color:#000000"
>output</span>}{<span
      class="textcolor"
      style="color:#000000"
>red!70!black</span>}<br />
<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\coordinate</span>&#x2007;[<span
      class="textcolor"
      style="color:#008000"
>label</span>=<span
      class="textcolor"
      style="color:#008000"
>left:<span
      class="textcolor"
      style="color:#0000B2"
>\A</span></span>]&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(A)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>at</span> <span
      class="textcolor"
      style="color:#800080"
>($ (0,0)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>+</span> .<span
      class="textcolor"
      style="color:#000000"
>1*</span><span
      class="textcolor"
      style="color:#800080"
>(rand,rand)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>$</span>);<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\coordinate</span>&#x2007;[<span
      class="textcolor"
      style="color:#008000"
>label</span>=<span
      class="textcolor"
      style="color:#008000"
>right:<span
      class="textcolor"
      style="color:#0000B2"
>\B</span></span>]&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(B)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>at</span> <span
      class="textcolor"
      style="color:#800080"
>($ (1,0.2)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>+</span> .<span
      class="textcolor"
      style="color:#000000"
>1*</span><span
      class="textcolor"
      style="color:#800080"
>(rand,rand)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>$</span>);<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\coordinate</span>&#x2007;[<span
      class="textcolor"
      style="color:#008000"
>label</span>=<span
      class="textcolor"
      style="color:#008000"
>above:<span
      class="textcolor"
      style="color:#0000B2"
>\C</span></span>]&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(C)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>at</span> <span
      class="textcolor"
      style="color:#800080"
>($ (1,2)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>+</span> .<span
      class="textcolor"
      style="color:#000000"
>1*</span><span
      class="textcolor"
      style="color:#800080"
>(rand,rand)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>$</span>);<br />
<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\draw</span>&#x2007;[<span
      class="textcolor"
      style="color:#008000"
>input</span>]&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(B)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>--</span> <span
      class="textcolor"
      style="color:#800080"
>(C)</span>;<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\draw</span>&#x2007;[<span
      class="textcolor"
      style="color:#008000"
>help lines</span>]&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(A)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>--</span> <span
      class="textcolor"
      style="color:#800080"
>(B)</span>;<br />
<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\coordinate</span>&#x2007;[<span
      class="textcolor"
      style="color:#008000"
>label</span>=<span
      class="textcolor"
      style="color:#008000"
>above:<span
      class="textcolor"
      style="color:#0000B2"
>\D</span></span>]&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(D)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>at</span> <span
      class="textcolor"
      style="color:#800080"
>($ (A)</span><span
      class="textcolor"
      style="color:#000000"
>!</span>.<span
      class="textcolor"
      style="color:#000000"
>5!</span><span
      class="textcolor"
      style="color:#800080"
>(B)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>!</span> {<span
      class="textcolor"
      style="color:#000000"
>sin</span><span
      class="textcolor"
      style="color:#800080"
>(60)</span><span
      class="textcolor"
      style="color:#000000"
>*2</span>}&#x2007;<span
      class="textcolor"
      style="color:#000000"
>!</span> <span
      class="textcolor"
      style="color:#000000"
>90:</span><span
      class="textcolor"
      style="color:#800080"
>(B)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>$</span>);<br />
<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\draw</span>&#x2007;[<span
      class="textcolor"
      style="color:#008000"
>help lines</span>]&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(D)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>--</span> <span
      class="textcolor"
      style="color:#800080"
>($ (D)</span><span
      class="textcolor"
      style="color:#000000"
>!3</span>.<span
      class="textcolor"
      style="color:#000000"
>75!</span><span
      class="textcolor"
      style="color:#800080"
>(A)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>$</span>)&#x2007;<span
      class="textcolor"
      style="color:#000000"
>coordinate</span> [<span
      class="textcolor"
      style="color:#008000"
>label</span>=<span
      class="textcolor"
      style="color:#008000"
>-135:<span
      class="textcolor"
      style="color:#0000B2"
>\E</span></span>]&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(E)</span>;<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\draw</span>&#x2007;[<span
      class="textcolor"
      style="color:#008000"
>help lines</span>]&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(D)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>--</span> <span
      class="textcolor"
      style="color:#800080"
>($ (D)</span><span
      class="textcolor"
      style="color:#000000"
>!3</span>.<span
      class="textcolor"
      style="color:#000000"
>75!</span><span
      class="textcolor"
      style="color:#800080"
>(B)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>$</span>)&#x2007;<span
      class="textcolor"
      style="color:#000000"
>coordinate</span> [<span
      class="textcolor"
      style="color:#008000"
>label</span>=<span
      class="textcolor"
      style="color:#008000"
>-45:<span
      class="textcolor"
      style="color:#0000B2"
>\F</span></span>]&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(F)</span>;<br />
<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\node</span>&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(H)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>at</span> <span
      class="textcolor"
      style="color:#800080"
>(B)</span>&#x2007;[<span
      class="textcolor"
      style="color:#008000"
>name path</span>=<span
      class="textcolor"
      style="color:#008000"
>H</span>,<span
      class="textcolor"
      style="color:#008000"
>help lines</span>,<span
      class="textcolor"
      style="color:#008000"
>circle through</span>=<span
      class="textcolor"
      style="color:#008000"
><span
      class="textcolor"
      style="color:#800080"
>(C)</span></span>,<span
      class="textcolor"
      style="color:#008000"
>draw</span>,<span
      class="textcolor"
      style="color:#008000"
>label</span>=<span
      class="textcolor"
      style="color:#008000"
>135:<span
      class="textcolor"
      style="color:#0000B2"
>\H</span></span>]&#x2007;{};<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\path</span>&#x2007;[<span
      class="textcolor"
      style="color:#008000"
>name path</span>=<span
      class="textcolor"
      style="color:#008000"
>B--F</span>]&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(B)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>--</span> <span
      class="textcolor"
      style="color:#800080"
>(F)</span>;<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\path</span>&#x2007;[<span
      class="textcolor"
      style="color:#008000"
>name intersections</span>=<span
      class="textcolor"
      style="color:#008000"
>{of=H and B--F,by={[<span
      class="textcolor"
      style="color:#008000"
>label</span>=<span
      class="textcolor"
      style="color:#008000"
>right:<span
      class="textcolor"
      style="color:#0000B2"
>\G</span></span>]G}}</span>];<br />
<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\node</span>&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(K)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>at</span> <span
      class="textcolor"
      style="color:#800080"
>(D)</span>&#x2007;[<span
      class="textcolor"
      style="color:#008000"
>name path</span>=<span
      class="textcolor"
      style="color:#008000"
>K</span>,<span
      class="textcolor"
      style="color:#008000"
>help lines</span>,<span
      class="textcolor"
      style="color:#008000"
>circle through</span>=<span
      class="textcolor"
      style="color:#008000"
><span
      class="textcolor"
      style="color:#800080"
>(G)</span></span>,<span
      class="textcolor"
      style="color:#008000"
>draw</span>,<span
      class="textcolor"
      style="color:#008000"
>label</span>=<span
      class="textcolor"
      style="color:#008000"
>135:<span
      class="textcolor"
      style="color:#0000B2"
>\K</span></span>]&#x2007;{};<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\path</span>&#x2007;[<span
      class="textcolor"
      style="color:#008000"
>name path</span>=<span
      class="textcolor"
      style="color:#008000"
>A--E</span>]&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(A)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>--</span> <span
      class="textcolor"
      style="color:#800080"
>(E)</span>;<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\path</span>&#x2007;[<span
      class="textcolor"
      style="color:#008000"
>name intersections</span>=<span
      class="textcolor"
      style="color:#008000"
>{of=K and A--E,by={[<span
      class="textcolor"
      style="color:#008000"
>label</span>=<span
      class="textcolor"
      style="color:#008000"
>below:<span
      class="textcolor"
      style="color:#0000B2"
>\L</span></span>]L}}</span>];<br />
<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\draw</span>&#x2007;[<span
      class="textcolor"
      style="color:#008000"
>output</span>]&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(A)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>--</span> <span
      class="textcolor"
      style="color:#800080"
>(L)</span>;<br />
<br />
&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\foreach</span>&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\point</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>in</span> {<span
      class="textcolor"
      style="color:#000000"
>A</span>,<span
      class="textcolor"
      style="color:#000000"
>B</span>,<span
      class="textcolor"
      style="color:#000000"
>C</span>,<span
      class="textcolor"
      style="color:#000000"
>D</span>,<span
      class="textcolor"
      style="color:#000000"
>G</span>,<span
      class="textcolor"
      style="color:#000000"
>L</span>}<br />
&#x2007;&#x2007;&#x2007;&#x2007;<span
      class="textcolor"
      style="color:#0000B2"
>\fill</span>&#x2007;[<span
      class="textcolor"
      style="color:#008000"
>black</span>,<span
      class="textcolor"
      style="color:#008000"
>opacity</span>=<span
      class="textcolor"
      style="color:#008000"
>.5</span>]&#x2007;<span
      class="textcolor"
      style="color:#800080"
>(\point)</span>&#x2007;<span
      class="textcolor"
      style="color:#000000"
>circle</span> <span
      class="textcolor"
      style="color:#800080"
>(2pt)</span>;<br />
<br />
&#x2007;&#x2007;<span class="example-code-comment">% \node ...</span><br />
<span
      class="textcolor"
      style="color:#000000"
>\end</span>{<span
      class="textcolor"
      style="color:#0000B2"
>tikzpicture</span>}<br />


</p>
</div>

</div>
<a id="pgfmanual-autofile-last"></a>
</section>

</main>

</div>



<nav class="botnavigation"><a href="home.html" class="linkhome" >
Home</a></nav>

</body>
</html>
