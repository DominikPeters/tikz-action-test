<!doctype html>
<html lang="en-US">
  <!--TikZ/PGF documentation:
Copyright 2019 by Till Tantau

This file may be distributed and/or modified

1. under the LaTeX Project Public License and/or
2. under the GNU Free Documentation License.

See https://tikz.dev/license for more details.

Translated to HTML using the lwarp package:
Copyright 2016-2024 Brian Dunn - BD Tech Concepts LLC

tikz.dev:
Copyright 2021-2024 Dominik Peters
This file may be distributed and/or modified under the LaTeX Project Public License.--><head>
    <meta charset="utf-8" />
    <meta content="LaTeX Lwarp package" name="generator" />
    <meta content="width=device-width, initial-scale=1.0" name="viewport" />
    <title>Tutorial: Diagrams as Simple Graphs - PGF/TikZ Manual</title>
    <link href="style.css?v=20240317" rel="stylesheet" type="text/css" />

    <script src="pgfmanual.js?v=20240317"></script>

    <script type="application/ld+json">
      {
        "@context": "https://schema.org",
        "@type": "BreadcrumbList",
        "itemListElement": [
          {
            "@type": "ListItem",
            "position": 1,
            "name": "Tutorials and Guidelines",
            "item": "https://tikz.dev/tutorials-guidelines"
          },
          {
            "@type": "ListItem",
            "position": 2,
            "name": "Tutorial: Diagrams as Simple Graphs",
            "item": "https://tikz.dev/tutorial-chains"
          }
        ]
      }
    </script>
    <link
      href="https://cdn.jsdelivr.net/npm/@docsearch/css@3"
      rel="stylesheet"
    />
    <link href="/favicon-16x16.png" rel="icon" sizes="16x16" type="image/png" />
    <link href="/favicon-32x32.png" rel="icon" sizes="32x32" type="image/png" />
    <link
      href="/apple-touch-icon.png"
      rel="apple-touch-icon"
      sizes="180x180"
      type="image/png"
    />
    <link href="/site.webmanifest" rel="manifest" />
    <meta
      content="In this tutorial we have a look at how graphs and matrices can be used to typeset a diagram with TikZ."
      name="description"
    />
    <meta
      content="In this tutorial we have a look at how graphs and matrices can be used to typeset a diagram with TikZ."
      property="og:description"
    />
    <link href="https://tikz.dev/tutorial-chains" rel="canonical" />
    <meta content="https://tikz.dev/tutorial-chains" property="og:url" />
    <meta
      content="https://tikz.dev/social-media-banners/tutorial-chains.png"
      property="og:image"
    />
    <meta content="max-image-preview:large" name="robots" />
    <meta content="article" property="og:type" />
    <meta
      content="Tutorial: Diagrams as Simple Graphs - PGF/TikZ Manual"
      property="og:title"
    />
    <meta content="summary" name="twitter:card" />
  </head>
  <body>
    <a id="pgfmanual-autopage-301"></a>

    <div class="bodyandsidetoc grid-container">
      <header>
        <div id="hamburger-button">â˜°</div>
        <strong
          ><a href="/">PGF/<span class="tikzname">TikZ</span> Manual</a></strong
        >
        <div id="search"></div>
      </header>
      <div class="sidetoccontainer" id="local-toc-container">
        <nav class="sidetoc">
          <div class="sidetoctitle"><p>On this page</p></div>
          <div class="sidetoccontents">
            <p>
              <a class="tocsubsection" href="#sec-5.1">Styling the Nodes</a>
            </p>
            <p>
              <a class="tocsubsection" href="#sec-5.2"
                >Aligning the Nodes Using Positioning Options</a
              >
            </p>
            <p>
              <a class="tocsubsection" href="#sec-5.3"
                >Aligning the Nodes Using Matrices</a
              >
            </p>
            <p>
              <a class="tocsubsection" href="#sec-5.4"
                >The Diagram as a Graph</a
              >
            </p>
            <p>
              <a class="tocsubsubsection" href="#sec-5.4.1"
                >Connecting Already Positioned Nodes</a
              >
            </p>
            <p>
              <a class="tocsubsubsection" href="#sec-5.4.2"
                >Creating Nodes Using the Graph Command</a
              >
            </p>
          </div>
        </nav>
      </div>
      <div class="sidetoccontainer" id="chapter-toc-container">
        <nav class="sidetoc">
          <div class="sidetoctitle">
            <p>
              <span class="sidetocthetitle"
                >The <span class="tikzname">TikZ</span> and PGF Packages<br />
                Manual for version 3.1.10</span
              >
            </p>

            <p>Contents</p>
          </div>

          <div class="sidetoccontents">
            <p></p>

            <p>
              <a class="linkintro" href="/">Introduction</a>
            </p>

            <p class="current-part">
              <a class="tocpart" href="tutorials-guidelines"
                >Tutorials and Guidelines</a
              >
            </p>

            <p class="current-part">
              <a class="tocsection" href="tutorial"
                >Tutorial: A Picture for Karl&rsquo;s Students</a
              >
            </p>

            <p class="current-part">
              <a class="tocsection" href="tutorial-nodes"
                >Tutorial: A Petri-Net for Hagen</a
              >
            </p>

            <p class="current-part">
              <a class="tocsection" href="tutorial-Euclid"
                >Tutorial: Euclid&rsquo;s Amber Version of the
                <em>Elements</em></a
              >
            </p>

            <p class="current current-part">
              <a class="tocsection" href="tutorial-chains"
                >Tutorial: Diagrams as Simple Graphs</a
              >
            </p>

            <p class="current-part">
              <a class="tocsection" href="tutorial-map"
                >Tutorial: A Lecture Map for Johannes</a
              >
            </p>

            <p class="current-part">
              <a class="tocsection" href="guidelines">Guidelines on Graphics</a>
            </p>

            <p>
              <a class="tocpart" href="install"
                >Installation and Configuration</a
              >
            </p>

            <p>
              <a class="tocpart" href="tikz">Ti<em>k</em>Z</a>
            </p>

            <p>
              <a class="tocpart" href="gd">Graph Drawing</a>
            </p>

            <p>
              <a class="tocpart" href="libraries">Libraries</a>
            </p>

            <p>
              <a class="tocpart" href="dv">Data Visualization</a>
            </p>

            <p>
              <a class="tocpart" href="utilities">Utilities</a>
            </p>

            <p>
              <a class="tocpart" href="math"
                >Mathematical and Object-Oriented Engines</a
              >
            </p>

            <p>
              <a class="tocpart" href="base">The Basic Layer</a>
            </p>

            <p>
              <a class="tocpart" href="pgfsys">The System Layer</a>
            </p>
          </div>
        </nav>
      </div>

      <main class="bodycontainer">
        <section class="textbody">
          <h1>
            The <span class="tikzname">TikZ</span> and PGF Packages<br />
            Manual for version 3.1.10
          </h1>
          <h2 class="inserted">Tutorials and Guidelines</h2>

          <!--MathJax customizations:-->

          <p></p>
          <h4 id="autosec-302">
            <span
              ><span class="sectionnumber" id="sec-5">5</span> Tutorial:
              Diagrams as Simple Graphs</span
            ><a
              class="anchor-link"
              data-pdf-destination="section.5"
              data-pdf-page="70"
              href="#sec-5"
              >&para;</a
            >
          </h4>
          <a id="pgfmanual-autopage-302"></a>
          <a id="pgfmanual-autofile-6"></a>

          <p>
            In this tutorial we have a look at how graphs and matrices can be
            used to typeset a diagram.
          </p>

          <p>
            Ilka, who just got tenure for her professorship on Old and Lovable
            Programming Languages, has recently dug up a technical report
            entitled <em>The Programming Language Pascal</em> in the dusty
            cellar of the library of her university. Having been created in the
            good old times using pens and rules, it looks like this<sup>2</sup>:
          </p>

          <p>
            <span class="lateximagesource" id="lateximage-pgfmanual-108"
              ><!--
                                   +
unsigned integer . digit E unsigned integer

                                   -
--><img
                alt="(-tikz-&nbsp;diagram)"
                class="lateximage"
                height="88.082"
                loading="lazy"
                src="pgfmanual-images/image-108.png"
                style
                width="603.073"
            /></span>
          </p>

          <p>
            For her next lecture, Ilka decides to redo this diagram, but this
            time perhaps a bit cleaner and perhaps also bit
            &ldquo;cooler&rdquo;.
          </p>

          <p>
            <span class="lateximagesource" id="lateximage-pgfmanual-109"
              ><!--
                                   +
unsigned integer . digit E unsigned integer
                                   -
--><img
                alt="(-tikz-&nbsp;diagram)"
                class="lateximage"
                height="81.194"
                loading="lazy"
                src="pgfmanual-images/image-109.png"
                style
                width="587.605"
            /></span>
          </p>

          <p>
            Having read the previous tutorials, Ilka knows already how to set up
            the environment for her diagram, namely using a
            <span class="verb">tikzpicture</span> environment. She wonders which
            libraries she will need. She decides that she will postpone the
            decision and add the necessary libraries as needed as she constructs
            the picture.
          </p>
          <div class="footnotes" role="note">
            <a id="pgfmanual-autopage-308"></a>

            <p>
              <sup>2</sup>&nbsp;The shown diagram was not scanned, but rather
              typeset using <span class="tikzname">TikZ</span>. The jittering
              lines were created using the
              <span class="verb">random steps</span> decoration.
            </p>
          </div>
          <h5 id="autosec-309">
            <span
              ><span class="sectionnumber" id="sec-5.1">5.1</span> Styling the
              Nodes</span
            ><a
              class="anchor-link"
              data-html-link="sec-5.1"
              data-pdf-destination="subsection.5.1"
              data-pdf-page="70"
              href="#sec-5.1"
              >&para;</a
            >
          </h5>
          <a id="pgfmanual-autopage-309"></a>

          <p>
            The bulk of this tutorial will be about arranging the nodes and
            connecting them using chains, but let us start with setting up
            styles for the nodes.
          </p>

          <p>
            There are two kinds of nodes in the diagram, namely what
            theoreticians like to call <em>terminals</em> and
            <em>nonterminals</em>. For the terminals, Ilka decides to use a
            black color, which visually shows that &ldquo;nothing needs to be
            done about them&rdquo;. The nonterminals, which still need to be
            &ldquo;processed&rdquo; further, get a bit of red mixed in.
          </p>

          <p>
            Ilka starts with the simpler nonterminals, as there are no rounded
            corners involved. Naturally, she sets up a style:
          </p>

          <figure class="example">
            <div class="example-image">
              <p>
                <span class="lateximagesource" id="lateximage-pgfmanual-110"
                  ><!--
unsigned integer
--><img
                    alt="(-tikz-&nbsp;diagram)"
                    class="lateximage"
                    height="26.937"
                    loading="lazy"
                    src="pgfmanual-images/image-110.png"
                    style
                    width="122.094"
                /></span>
              </p>
            </div>

            <div class="example-code">
              <button class="clipboardButton" type="button">copy</button>

              <code>
                <span class="codepreamble">\usetikzlibrary {positioning} </span
                ><br />
                <span class="textcolor" style="color: #000000">\begin</span
                >{<span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-scopes#pgf.tikzpicture">tikzpicture</a></span
                >}[<br />
                <span class="spaces">    </span><span
                  class="textcolor"
                  style="color: #008000"
                  >nonterminal</span
                >/<span class="textcolor" style="color: #0000b2"
                  ><a href="pgfkeys#pgf./handlers/.style">.style</a></span
                >={<br />
                <span class="spaces">      </span><span
                  class="example-code-comment"
                  >% The shape:</span
                ><br />
                <span class="spaces">      </span><span
                  class="textcolor"
                  style="color: #008000"
                  ><a href="tikz-paths#pgf.rectangle">rectangle</a></span
                >,<br />
                <span class="spaces">      </span><span
                  class="example-code-comment"
                  >% The size:</span
                ><br />
                <span class="spaces">      </span><span
                  class="textcolor"
                  style="color: #008000"
                  ><a href="tikz-shapes#pgf.minimum:size">minimum size</a></span
                >=<span class="textcolor" style="color: #008000">6mm</span
                >,<br />
                <span class="spaces">      </span><span
                  class="example-code-comment"
                  >% The border:</span
                ><br />
                <span class="spaces">      </span><span
                  class="textcolor"
                  style="color: #008000"
                  ><a href="tikz-actions#pgf.very:thick">very thick</a></span
                >,<br />
                <span class="spaces">      </span><span
                  class="textcolor"
                  style="color: #008000"
                  ><a href="tikz-actions#pgf.draw">draw</a></span
                >=<span class="textcolor" style="color: #008000"
                  >red!50!black!50</span
                >,<span class="spaces">         </span><span
                  class="example-code-comment"
                  >% 50% red and 50% black,</span
                ><br />
                <span class="spaces">                              </span><span class="spaces">      </span><span
                  class="example-code-comment"
                  >% and that mixed with 50% white</span
                ><br />
                <span class="spaces">      </span><span
                  class="example-code-comment"
                  >% The filling:</span
                ><br />
                <span class="spaces">      </span><span
                  class="textcolor"
                  style="color: #008000"
                  ><a href="library-shadings#pgf.top:color">top color</a></span
                >=<span class="textcolor" style="color: #008000">white</span
                >,<span class="spaces">              </span><span
                  class="example-code-comment"
                  >% a shading that is white at the top...</span
                ><br />
                <span class="spaces">      </span><span
                  class="textcolor"
                  style="color: #008000"
                  ><a href="library-shadings#pgf.bottom:color"
                    >bottom color</a
                  ></span
                >=<span class="textcolor" style="color: #008000"
                  >red!50!black!20</span
                >, <span class="example-code-comment"
                  >% and something else at the bottom</span
                ><br />
                <span class="spaces">      </span><span
                  class="example-code-comment"
                  >% Font</span
                ><br />
                <span class="spaces">      </span><span
                  class="textcolor"
                  style="color: #008000"
                  ><a href="tikz-shapes#pgf.font">font</a></span
                >=<span class="textcolor" style="color: #008000"
                  ><span class="textcolor" style="color: #0000b2">\itshape</span
                  ><br />
                  <span class="spaces">    </span>}</span
                >]<br />
                <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-shapes#pgf.back/node">\node</a></span
                > [<span class="textcolor" style="color: #008000"
                  >nonterminal</span
                >] {<span class="textcolor" style="color: #000000"
                  >unsigned</span
                >
                <span class="textcolor" style="color: #000000">integer</span
                >};<br />
                <span class="textcolor" style="color: #000000">\end</span>{<span
                  class="textcolor"
                  style="color: #0000b2"
                  ><a href="tikz-scopes#pgf.tikzpicture">tikzpicture</a></span
                >}<br />
              </code>
            </div>
          </figure>

          <p>
            Ilka is pretty proud of the use of the
            <span class="verb">minimum size</span> option: As the name suggests,
            this option ensures that the node is at least 6mm by 6mm, but it
            will expand in size as necessary to accommodate longer text. By
            giving this option to all nodes, they will all have the same height
            of 6mm.
          </p>

          <p>
            Styling the terminals is a bit more difficult because of the round
            corners. Ilka has several options how she can achieve them. One way
            is to use the <span class="verb">rounded corners</span> option. It
            gets a dimension as parameter and causes all corners to be replaced
            by little arcs with the given dimension as radius. By setting the
            radius to 3mm, she will get exactly what she needs: circles, when
            the shapes are, indeed, exactly 6mm by 6mm and otherwise half
            circles on the sides:
          </p>

          <figure class="example">
            <div class="example-image">
              <p>
                <span class="lateximagesource" id="lateximage-pgfmanual-111"
                  ><!--
. digit E
--><img
                    alt="(-tikz-&nbsp;diagram)"
                    class="lateximage"
                    height="26.979"
                    loading="lazy"
                    src="pgfmanual-images/image-111.png"
                    style
                    width="134.348"
                /></span>
              </p>
            </div>

            <div class="example-code">
              <button class="clipboardButton" type="button">copy</button>

              <code>
                <span class="codepreamble">\usetikzlibrary {positioning} </span
                ><br />
                <span class="textcolor" style="color: #000000">\begin</span
                >{<span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-scopes#pgf.tikzpicture">tikzpicture</a></span
                >}[<span class="textcolor" style="color: #008000"
                  ><a href="tikz-shapes#pgf.node:distance"
                    >node distance</a
                  ></span
                >=<span class="textcolor" style="color: #008000">5mm</span
                >,<br />
                <span class="spaces">                    </span><span
                  class="textcolor"
                  style="color: #008000"
                  >terminal</span
                >/<span class="textcolor" style="color: #0000b2"
                  ><a href="pgfkeys#pgf./handlers/.style">.style</a></span
                >={<br />
                <span class="spaces">                      </span><span
                  class="example-code-comment"
                  >% The shape:</span
                ><br />
                <span class="spaces">                      </span><span
                  class="textcolor"
                  style="color: #008000"
                  ><a href="tikz-paths#pgf.rectangle">rectangle</a></span
                >,<span class="textcolor" style="color: #008000"
                  ><a href="tikz-shapes#pgf.minimum:size">minimum size</a></span
                >=<span class="textcolor" style="color: #008000">6mm</span
                >,<span class="textcolor" style="color: #008000"
                  ><a href="tikz-paths#pgf.rounded:corners"
                    >rounded corners</a
                  ></span
                >=<span class="textcolor" style="color: #008000">3mm</span
                >,<br />
                <span class="spaces">                      </span><span
                  class="example-code-comment"
                  >% The rest</span
                ><br />
                <span class="spaces">                      </span><span
                  class="textcolor"
                  style="color: #008000"
                  ><a href="tikz-actions#pgf.very:thick">very thick</a></span
                >,<span class="textcolor" style="color: #008000"
                  ><a href="tikz-actions#pgf.draw">draw</a></span
                >=<span class="textcolor" style="color: #008000">black!50</span
                >,<br />
                <span class="spaces">                      </span><span
                  class="textcolor"
                  style="color: #008000"
                  ><a href="library-shadings#pgf.top:color">top color</a></span
                >=<span class="textcolor" style="color: #008000">white</span
                >,<span class="textcolor" style="color: #008000"
                  ><a href="library-shadings#pgf.bottom:color"
                    >bottom color</a
                  ></span
                >=<span class="textcolor" style="color: #008000">black!20</span
                >,<br />
                <span class="spaces">                      </span><span
                  class="textcolor"
                  style="color: #008000"
                  ><a href="tikz-shapes#pgf.font">font</a></span
                >=<span class="textcolor" style="color: #008000"
                  ><span class="textcolor" style="color: #0000b2"
                    >\ttfamily</span
                  >}</span
                >]<br />
                <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-shapes#pgf.back/node">\node</a></span
                > <span class="textcolor" style="color: #800080"
                  >(dot)</span
                ><span class="spaces">   </span>[<span
                  class="textcolor"
                  style="color: #008000"
                  >terminal</span
                >]<span class="spaces">                </span>{.};<br />
                <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-shapes#pgf.back/node">\node</a></span
                > <span class="textcolor" style="color: #800080"
                  >(digit)</span
                > [<span class="textcolor" style="color: #008000"
                  >terminal</span
                >,<span class="textcolor" style="color: #008000"
                  ><a href="tikz-arrows#pgf.right">right</a></span
                >=<span class="textcolor" style="color: #008000"
                  ><a href="tikz-coordinates#pgf.of">of</a> dot</span
                >]<span class="spaces">   </span>{<span
                  class="textcolor"
                  style="color: #000000"
                  >digit</span
                >};<br />
                <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-shapes#pgf.back/node">\node</a></span
                > <span class="textcolor" style="color: #800080">(E)</span
                ><span class="spaces">     </span>[<span
                  class="textcolor"
                  style="color: #008000"
                  >terminal</span
                >,<span class="textcolor" style="color: #008000"
                  ><a href="tikz-arrows#pgf.right">right</a></span
                >=<span class="textcolor" style="color: #008000"
                  ><a href="tikz-coordinates#pgf.of">of</a> digit</span
                >] {<span class="textcolor" style="color: #000000">E</span
                >};<br />
                <span class="textcolor" style="color: #000000">\end</span>{<span
                  class="textcolor"
                  style="color: #0000b2"
                  ><a href="tikz-scopes#pgf.tikzpicture">tikzpicture</a></span
                >}<br />
              </code>
            </div>
          </figure>

          <p>
            Another possibility is to use a shape that is specially made for
            typesetting rectangles with arcs on the sides (she has to use the
            <span class="verb">shapes.misc</span> library to use it). This shape
            gives Ilka much more control over the appearance. For instance, she
            could have an arc only on the left side, but she will not need this.
          </p>

          <figure class="example">
            <div class="example-image">
              <p>
                <span class="lateximagesource" id="lateximage-pgfmanual-112"
                  ><!--
. digit E
--><img
                    alt="(-tikz-&nbsp;diagram)"
                    class="lateximage"
                    height="26.979"
                    loading="lazy"
                    src="pgfmanual-images/image-112.png"
                    style
                    width="137.246"
                /></span>
              </p>
            </div>

            <div class="example-code">
              <button class="clipboardButton" type="button">copy</button>

              <code>
                <span class="codepreamble"
                  >\usetikzlibrary {positioning,shapes.misc} </span
                ><br />
                <span class="textcolor" style="color: #000000">\begin</span
                >{<span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-scopes#pgf.tikzpicture">tikzpicture</a></span
                >}[<span class="textcolor" style="color: #008000"
                  ><a href="tikz-shapes#pgf.node:distance"
                    >node distance</a
                  ></span
                >=<span class="textcolor" style="color: #008000">5mm</span
                >,<br />
                <span class="spaces">                    </span><span
                  class="textcolor"
                  style="color: #008000"
                  >terminal</span
                >/<span class="textcolor" style="color: #0000b2"
                  ><a href="pgfkeys#pgf./handlers/.style">.style</a></span
                >={<br />
                <span class="spaces">                      </span><span
                  class="example-code-comment"
                  >% The shape:</span
                ><br />
                <span class="spaces">                      </span><span
                  class="textcolor"
                  style="color: #008000"
                  ><a href="library-shapes#pgf.rounded:rectangle"
                    >rounded rectangle</a
                  ></span
                >,<br />
                <span class="spaces">                      </span><span
                  class="textcolor"
                  style="color: #008000"
                  ><a href="tikz-shapes#pgf.minimum:size">minimum size</a></span
                >=<span class="textcolor" style="color: #008000">6mm</span
                >,<br />
                <span class="spaces">                      </span><span
                  class="example-code-comment"
                  >% The rest</span
                ><br />
                <span class="spaces">                      </span><span
                  class="textcolor"
                  style="color: #008000"
                  ><a href="tikz-actions#pgf.very:thick">very thick</a></span
                >,<span class="textcolor" style="color: #008000"
                  ><a href="tikz-actions#pgf.draw">draw</a></span
                >=<span class="textcolor" style="color: #008000">black!50</span
                >,<br />
                <span class="spaces">                      </span><span
                  class="textcolor"
                  style="color: #008000"
                  ><a href="library-shadings#pgf.top:color">top color</a></span
                >=<span class="textcolor" style="color: #008000">white</span
                >,<span class="textcolor" style="color: #008000"
                  ><a href="library-shadings#pgf.bottom:color"
                    >bottom color</a
                  ></span
                >=<span class="textcolor" style="color: #008000">black!20</span
                >,<br />
                <span class="spaces">                      </span><span
                  class="textcolor"
                  style="color: #008000"
                  ><a href="tikz-shapes#pgf.font">font</a></span
                >=<span class="textcolor" style="color: #008000"
                  ><span class="textcolor" style="color: #0000b2"
                    >\ttfamily</span
                  >}</span
                >]<br />
                <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-shapes#pgf.back/node">\node</a></span
                > <span class="textcolor" style="color: #800080"
                  >(dot)</span
                ><span class="spaces">   </span>[<span
                  class="textcolor"
                  style="color: #008000"
                  >terminal</span
                >]<span class="spaces">                </span>{.};<br />
                <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-shapes#pgf.back/node">\node</a></span
                > <span class="textcolor" style="color: #800080"
                  >(digit)</span
                > [<span class="textcolor" style="color: #008000"
                  >terminal</span
                >,<span class="textcolor" style="color: #008000"
                  ><a href="tikz-arrows#pgf.right">right</a></span
                >=<span class="textcolor" style="color: #008000"
                  ><a href="tikz-coordinates#pgf.of">of</a> dot</span
                >]<span class="spaces">   </span>{<span
                  class="textcolor"
                  style="color: #000000"
                  >digit</span
                >};<br />
                <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-shapes#pgf.back/node">\node</a></span
                > <span class="textcolor" style="color: #800080">(E)</span
                ><span class="spaces">     </span>[<span
                  class="textcolor"
                  style="color: #008000"
                  >terminal</span
                >,<span class="textcolor" style="color: #008000"
                  ><a href="tikz-arrows#pgf.right">right</a></span
                >=<span class="textcolor" style="color: #008000"
                  ><a href="tikz-coordinates#pgf.of">of</a> digit</span
                >] {<span class="textcolor" style="color: #000000">E</span
                >};<br />
                <span class="textcolor" style="color: #000000">\end</span>{<span
                  class="textcolor"
                  style="color: #0000b2"
                  ><a href="tikz-scopes#pgf.tikzpicture">tikzpicture</a></span
                >}<br />
              </code>
            </div>
          </figure>

          <p>
            At this point, she notices a problem. The baseline of the text in
            the nodes is not aligned:
          </p>

          <div class="hidden"></div>

          <figure class="example">
            <div class="example-image">
              <p>
                <span class="lateximagesource" id="lateximage-pgfmanual-113"
                  ><!--
. digit E
--><img
                    alt="(-tikz-&nbsp;diagram)"
                    class="lateximage"
                    height="26.979"
                    loading="lazy"
                    src="pgfmanual-images/image-113.png"
                    style
                    width="153.874"
                /></span>
              </p>
            </div>

            <div class="example-code">
              <button class="clipboardButton" type="button">copy</button>

              <code>
                <span class="codepreamble"
                  >\usetikzlibrary {calc,positioning,shapes.misc} </span
                ><br />
                <span class="textcolor" style="color: #000000">\begin</span
                >{<span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-scopes#pgf.tikzpicture">tikzpicture</a></span
                >}[<span class="textcolor" style="color: #008000"
                  ><a href="tikz-shapes#pgf.node:distance"
                    >node distance</a
                  ></span
                >=<span class="textcolor" style="color: #008000">5mm</span
                >]<br />
                <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-shapes#pgf.back/node">\node</a></span
                > <span class="textcolor" style="color: #800080"
                  >(dot)</span
                ><span class="spaces">   </span>[<span
                  class="textcolor"
                  style="color: #008000"
                  >terminal</span
                >]<span class="spaces">                </span>{.};<br />
                <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-shapes#pgf.back/node">\node</a></span
                > <span class="textcolor" style="color: #800080"
                  >(digit)</span
                > [<span class="textcolor" style="color: #008000"
                  >terminal</span
                >,<span class="textcolor" style="color: #008000"
                  ><a href="tikz-arrows#pgf.right">right</a></span
                >=<span class="textcolor" style="color: #008000"
                  ><a href="tikz-coordinates#pgf.of">of</a> dot</span
                >]<span class="spaces">   </span>{<span
                  class="textcolor"
                  style="color: #000000"
                  >digit</span
                >};<br />
                <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-shapes#pgf.back/node">\node</a></span
                > <span class="textcolor" style="color: #800080">(E)</span
                ><span class="spaces">     </span>[<span
                  class="textcolor"
                  style="color: #008000"
                  >terminal</span
                >,<span class="textcolor" style="color: #008000"
                  ><a href="tikz-arrows#pgf.right">right</a></span
                >=<span class="textcolor" style="color: #008000"
                  ><a href="tikz-coordinates#pgf.of">of</a> digit</span
                >] {<span class="textcolor" style="color: #000000">E</span
                >};<br />
                <br />
                <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                > [<span class="textcolor" style="color: #008000"
                  ><a href="tikz-paths#pgf.help:lines">help lines</a></span
                >] <span class="textcolor" style="color: #000000"
                  ><a href="tikz-paths#pgf.let">let</a></span
                >
                <span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-paths#pgf.back/p">\p</a></span
                ><span class="textcolor" style="color: #000000">1</span>
                <span class="textcolor" style="color: #000000">=</span>
                <span class="textcolor" style="color: #800080">(dot.base)</span
                >,<br />
                <span class="spaces">                         </span><span
                  class="textcolor"
                  style="color: #0000b2"
                  ><a href="tikz-paths#pgf.back/p">\p</a></span
                ><span class="textcolor" style="color: #000000">2</span>
                <span class="textcolor" style="color: #000000">=</span>
                <span class="textcolor" style="color: #800080"
                  >(digit.base)</span
                >,<br />
                <span class="spaces">                         </span><span
                  class="textcolor"
                  style="color: #0000b2"
                  ><a href="tikz-paths#pgf.back/p">\p</a></span
                ><span class="textcolor" style="color: #000000">3</span>
                <span class="textcolor" style="color: #000000">=</span>
                <span class="textcolor" style="color: #800080">(E.base)</span
                ><br />
                <span class="spaces">                     </span><span
                  class="textcolor"
                  style="color: #000000"
                  ><a href="library-edges#pgf.in">in</a></span
                >
                <span class="textcolor" style="color: #800080">(-.5,\y1)</span
                > <span class="textcolor" style="color: #000000"
                  ><a href="tikz-paths#pgf.--">--</a></span
                >
                <span class="textcolor" style="color: #800080">(3.5,\y1)</span
                ><br />
                <span class="spaces">                        </span><span
                  class="textcolor"
                  style="color: #800080"
                  >(-.5,\y2)</span
                > <span class="textcolor" style="color: #000000"
                  ><a href="tikz-paths#pgf.--">--</a></span
                >
                <span class="textcolor" style="color: #800080">(3.5,\y2)</span
                ><br />
                <span class="spaces">                        </span><span
                  class="textcolor"
                  style="color: #800080"
                  >(-.5,\y3)</span
                > <span class="textcolor" style="color: #000000"
                  ><a href="tikz-paths#pgf.--">--</a></span
                >
                <span class="textcolor" style="color: #800080">(3.5,\y3)</span
                >;<br />
                <span class="textcolor" style="color: #000000">\end</span>{<span
                  class="textcolor"
                  style="color: #0000b2"
                  ><a href="tikz-scopes#pgf.tikzpicture">tikzpicture</a></span
                >}<br />
              </code>
            </div>
          </figure>

          <p>
            (Ilka has moved the style definition to the preamble by saying
            <span class="verb">\tikzset{terminal/.style=...}</span>, so that she
            can use it in all pictures.)
          </p>

          <p>
            For the <span class="verb">digit</span> and the
            <span class="verb">E</span> the difference in the baselines is
            almost imperceptible, but for the dot the problem is quite severe:
            It looks more like a multiplication dot than a period.
          </p>

          <p>
            Ilka toys with the idea of using the
            <span class="verb">base right=of...</span> option rather than
            <span class="verb">right=of...</span> to align the nodes in such a
            way that the baselines are all on the same line (the
            <span class="verb">base right</span> option places a node right of
            something so that the baseline is right of the baseline of the other
            object). However, this does not have the desired effect:
          </p>

          <figure class="example">
            <div class="example-image">
              <p>
                <span class="lateximagesource" id="lateximage-pgfmanual-114"
                  ><!--
. digit E
--><img
                    alt="(-tikz-&nbsp;diagram)"
                    class="lateximage"
                    height="30.123"
                    loading="lazy"
                    src="pgfmanual-images/image-114.png"
                    style
                    width="137.246"
                /></span>
              </p>
            </div>

            <div class="example-code">
              <button class="clipboardButton" type="button">copy</button>

              <code>
                <span class="codepreamble"
                  >\usetikzlibrary {positioning,shapes.misc} </span
                ><br />
                <span class="textcolor" style="color: #000000">\begin</span
                >{<span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-scopes#pgf.tikzpicture">tikzpicture</a></span
                >}[<span class="textcolor" style="color: #008000"
                  ><a href="tikz-shapes#pgf.node:distance"
                    >node distance</a
                  ></span
                >=<span class="textcolor" style="color: #008000">5mm</span
                >]<br />
                <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-shapes#pgf.back/node">\node</a></span
                > <span class="textcolor" style="color: #800080"
                  >(dot)</span
                ><span class="spaces">   </span>[<span
                  class="textcolor"
                  style="color: #008000"
                  >terminal</span
                >]<span class="spaces">                     </span>{.};<br />
                <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-shapes#pgf.back/node">\node</a></span
                > <span class="textcolor" style="color: #800080"
                  >(digit)</span
                > [<span class="textcolor" style="color: #008000"
                  >terminal</span
                >,<span class="textcolor" style="color: #008000"
                  ><a href="tikz-shapes#pgf.base:right">base right</a></span
                >=<span class="textcolor" style="color: #008000"
                  ><a href="tikz-coordinates#pgf.of">of</a> dot</span
                >]<span class="spaces">   </span>{<span
                  class="textcolor"
                  style="color: #000000"
                  >digit</span
                >};<br />
                <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-shapes#pgf.back/node">\node</a></span
                > <span class="textcolor" style="color: #800080">(E)</span
                ><span class="spaces">     </span>[<span
                  class="textcolor"
                  style="color: #008000"
                  >terminal</span
                >,<span class="textcolor" style="color: #008000"
                  ><a href="tikz-shapes#pgf.base:right">base right</a></span
                >=<span class="textcolor" style="color: #008000"
                  ><a href="tikz-coordinates#pgf.of">of</a> digit</span
                >] {<span class="textcolor" style="color: #000000">E</span
                >};<br />
                <span class="textcolor" style="color: #000000">\end</span>{<span
                  class="textcolor"
                  style="color: #0000b2"
                  ><a href="tikz-scopes#pgf.tikzpicture">tikzpicture</a></span
                >}<br />
              </code>
            </div>
          </figure>

          <p>
            The nodes suddenly &ldquo;dance around&rdquo;! There is no hope of
            changing the position of text inside a node using anchors. Instead,
            Ilka must use a trick: The problem of mismatching baselines is
            caused by the fact that <span class="verb">.</span> and
            <span class="verb">digit</span> and <span class="verb">E</span> all
            have different heights and depth. If they all had the same, they
            would all be positioned vertically in the same manner. So, all Ilka
            needs to do is to use the <span class="verb">text height</span> and
            <span class="verb">text depth</span> options to explicitly specify a
            height and depth for the nodes.
          </p>

          <figure class="example">
            <div class="example-image">
              <p>
                <span class="lateximagesource" id="lateximage-pgfmanual-115"
                  ><!--
. digit E
--><img
                    alt="(-tikz-&nbsp;diagram)"
                    class="lateximage"
                    height="26.979"
                    loading="lazy"
                    src="pgfmanual-images/image-115.png"
                    style
                    width="136.838"
                /></span>
              </p>
            </div>

            <div class="example-code">
              <button class="clipboardButton" type="button">copy</button>

              <code>
                <span class="codepreamble"
                  >\usetikzlibrary {positioning,shapes.misc} </span
                ><br />
                <span class="textcolor" style="color: #000000">\begin</span
                >{<span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-scopes#pgf.tikzpicture">tikzpicture</a></span
                >}[<span class="textcolor" style="color: #008000"
                  ><a href="tikz-shapes#pgf.node:distance"
                    >node distance</a
                  ></span
                >=<span class="textcolor" style="color: #008000">5mm</span
                >,<br />
                <span class="spaces">                    </span><span
                  class="textcolor"
                  style="color: #008000"
                  ><a href="tikz-shapes#pgf.text:height">text height</a></span
                >=<span class="textcolor" style="color: #008000">1.5ex</span
                >,<span class="textcolor" style="color: #008000"
                  ><a href="tikz-shapes#pgf.text:depth">text depth</a></span
                >=<span class="textcolor" style="color: #008000">.25ex</span
                >]<br />
                <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-shapes#pgf.back/node">\node</a></span
                > <span class="textcolor" style="color: #800080"
                  >(dot)</span
                ><span class="spaces">   </span>[<span
                  class="textcolor"
                  style="color: #008000"
                  >terminal</span
                >]<span class="spaces">                </span>{.};<br />
                <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-shapes#pgf.back/node">\node</a></span
                > <span class="textcolor" style="color: #800080"
                  >(digit)</span
                > [<span class="textcolor" style="color: #008000"
                  >terminal</span
                >,<span class="textcolor" style="color: #008000"
                  ><a href="tikz-arrows#pgf.right">right</a></span
                >=<span class="textcolor" style="color: #008000"
                  ><a href="tikz-coordinates#pgf.of">of</a> dot</span
                >]<span class="spaces">   </span>{<span
                  class="textcolor"
                  style="color: #000000"
                  >digit</span
                >};<br />
                <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-shapes#pgf.back/node">\node</a></span
                > <span class="textcolor" style="color: #800080">(E)</span
                ><span class="spaces">     </span>[<span
                  class="textcolor"
                  style="color: #008000"
                  >terminal</span
                >,<span class="textcolor" style="color: #008000"
                  ><a href="tikz-arrows#pgf.right">right</a></span
                >=<span class="textcolor" style="color: #008000"
                  ><a href="tikz-coordinates#pgf.of">of</a> digit</span
                >] {<span class="textcolor" style="color: #000000">E</span
                >};<br />
                <span class="textcolor" style="color: #000000">\end</span>{<span
                  class="textcolor"
                  style="color: #0000b2"
                  ><a href="tikz-scopes#pgf.tikzpicture">tikzpicture</a></span
                >}<br />
              </code>
            </div>
          </figure>
          <h5 id="autosec-322">
            <span
              ><span class="sectionnumber" id="sec-5.2">5.2</span> Aligning the
              Nodes Using Positioning Options</span
            ><a
              class="anchor-link"
              data-html-link="sec-5.2"
              data-pdf-destination="subsection.5.2"
              data-pdf-page="72"
              href="#sec-5.2"
              >&para;</a
            >
          </h5>
          <a id="pgfmanual-autopage-322"></a>

          <p>
            Ilka now has the &ldquo;styling&rdquo; of the nodes ready. The next
            problem is to place them in the right places. There are several ways
            to do this. The most straightforward is to simply explicitly place
            the nodes at certain coordinates &ldquo;calculated by hand&rdquo;.
            For very simple graphics this is perfectly alright, but it has
            several disadvantages:
          </p>
          <ul class="enumerate" style="list-style-type: none">
            <li>
              <p>
                <span class="listmarker">1.</span> For more difficult graphics,
                the calculation may become complicated.
              </p>
            </li>
            <li>
              <p>
                <span class="listmarker">2.</span> Changing the text of the
                nodes may make it necessary to recalculate the coordinates.
              </p>
            </li>
            <li>
              <p>
                <span class="listmarker">3.</span> The source code of the
                graphic is not very clear since the relationships between the
                positions of the nodes are not made explicit.
              </p>
            </li>
          </ul>

          <p>
            For these reasons, Ilka decides to try out different ways of
            arranging the nodes on the page.
          </p>

          <p>
            The first method is the use of <em>positioning options</em>. To use
            them, you need to load the
            <span class="verb">positioning</span> library. This gives you access
            to advanced implementations of options like
            <span class="verb">above</span> or <span class="verb">left</span>,
            since you can now say
            <span class="verb">above=of some node</span> in order to place a
            node above of <span class="verb">some node</span>, with the borders
            separated by <span class="verb">node distance</span>.
          </p>

          <p>Ilka can use this to draw the place the nodes in a long row:</p>

          <div class="hidden"></div>

          <figure class="example">
            <div class="example-image">
              <p>
                <span class="lateximagesource" id="lateximage-pgfmanual-116"
                  ><!--
                                   +


unsigned integer . digit E unsigned integer


                                   -
--><img
                    alt="(-tikz-&nbsp;diagram)"
                    class="lateximage"
                    height="113.306"
                    loading="lazy"
                    src="pgfmanual-images/image-116.png"
                    style
                    width="420.223"
                /></span>
              </p>
            </div>

            <div class="example-code">
              <button class="clipboardButton" type="button">copy</button>

              <code>
                <span class="codepreamble"
                  >\usetikzlibrary {positioning,shapes.misc} </span
                ><br />
                <span class="textcolor" style="color: #000000">\begin</span
                >{<span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-scopes#pgf.tikzpicture">tikzpicture</a></span
                >}[<span class="textcolor" style="color: #008000"
                  ><a href="tikz-shapes#pgf.node:distance"
                    >node distance</a
                  ></span
                >=<span class="textcolor" style="color: #008000"
                  >5mm <a href="pgfkeys#pgf.and">and</a> 5mm</span
                >]<br />
                <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-shapes#pgf.back/node">\node</a></span
                > <span class="textcolor" style="color: #800080"
                  >(ui1)</span
                ><span class="spaces">   </span>[<span
                  class="textcolor"
                  style="color: #008000"
                  >nonterminal</span
                >]<span class="spaces">                     </span>{<span
                  class="textcolor"
                  style="color: #000000"
                  >unsigned</span
                >
                <span class="textcolor" style="color: #000000">integer</span
                >};<br />
                <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-shapes#pgf.back/node">\node</a></span
                > <span class="textcolor" style="color: #800080"
                  >(dot)</span
                ><span class="spaces">   </span>[<span
                  class="textcolor"
                  style="color: #008000"
                  >terminal</span
                >,<span class="textcolor" style="color: #008000"
                  ><a href="tikz-arrows#pgf.right">right</a></span
                >=<span class="textcolor" style="color: #008000"
                  ><a href="tikz-coordinates#pgf.of">of</a> ui1</span
                >]<span class="spaces">           </span>{.};<br />
                <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-shapes#pgf.back/node">\node</a></span
                > <span class="textcolor" style="color: #800080"
                  >(digit)</span
                > [<span class="textcolor" style="color: #008000"
                  >terminal</span
                >,<span class="textcolor" style="color: #008000"
                  ><a href="tikz-arrows#pgf.right">right</a></span
                >=<span class="textcolor" style="color: #008000"
                  ><a href="tikz-coordinates#pgf.of">of</a> dot</span
                >]<span class="spaces">           </span>{<span
                  class="textcolor"
                  style="color: #000000"
                  >digit</span
                >};<br />
                <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-shapes#pgf.back/node">\node</a></span
                > <span class="textcolor" style="color: #800080">(E)</span
                ><span class="spaces">     </span>[<span
                  class="textcolor"
                  style="color: #008000"
                  >terminal</span
                >,<span class="textcolor" style="color: #008000"
                  ><a href="tikz-arrows#pgf.right">right</a></span
                >=<span class="textcolor" style="color: #008000"
                  ><a href="tikz-coordinates#pgf.of">of</a> digit</span
                >]<span class="spaces">         </span>{<span
                  class="textcolor"
                  style="color: #000000"
                  >E</span
                >};<br />
                <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-shapes#pgf.back/node">\node</a></span
                > <span class="textcolor" style="color: #800080"
                  >(plus)</span
                ><span class="spaces">  </span>[<span class="textcolor" style="color: #008000"
                  >terminal</span
                >,<span class="textcolor" style="color: #008000"
                  ><a href="tikz-shapes#pgf.above:right">above right</a></span
                >=<span class="textcolor" style="color: #008000"
                  ><a href="tikz-coordinates#pgf.of">of</a> E</span
                >]<span class="spaces">       </span>{<span
                  class="textcolor"
                  style="color: #000000"
                  >+</span
                >};<br />
                <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-shapes#pgf.back/node">\node</a></span
                > <span class="textcolor" style="color: #800080"
                  >(minus)</span
                > [<span class="textcolor" style="color: #008000"
                  >terminal</span
                >,<span class="textcolor" style="color: #008000"
                  ><a href="tikz-shapes#pgf.below:right">below right</a></span
                >=<span class="textcolor" style="color: #008000"
                  ><a href="tikz-coordinates#pgf.of">of</a> E</span
                >]<span class="spaces">       </span>{<span
                  class="textcolor"
                  style="color: #000000"
                  >-</span
                >};<br />
                <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-shapes#pgf.back/node">\node</a></span
                > <span class="textcolor" style="color: #800080"
                  >(ui2)</span
                ><span class="spaces">   </span>[<span
                  class="textcolor"
                  style="color: #008000"
                  >nonterminal</span
                >,<span class="textcolor" style="color: #008000"
                  ><a href="tikz-shapes#pgf.below:right">below right</a></span
                >=<span class="textcolor" style="color: #008000"
                  ><a href="tikz-coordinates#pgf.of">of</a> plus</span
                >] {<span class="textcolor" style="color: #000000"
                  >unsigned</span
                >
                <span class="textcolor" style="color: #000000">integer</span
                >};<br />
                <span class="textcolor" style="color: #000000">\end</span>{<span
                  class="textcolor"
                  style="color: #0000b2"
                  ><a href="tikz-scopes#pgf.tikzpicture">tikzpicture</a></span
                >}<br />
              </code>
            </div>
          </figure>

          <p>
            For the plus and minus nodes, Ilka is a bit startled by their
            placements. Shouldn&rsquo;t they be more to the right? The reason
            they are placed in that manner is the following: The
            <span class="verb">north east</span> anchor of the
            <span class="verb">E</span> node lies at the &ldquo;upper start of
            the right arc&rdquo;, which, a bit unfortunately in this case,
            happens to be the top of the node. Likewise, the
            <span class="verb">south west</span> anchor of the
            <span class="verb">+</span> node is actually at its bottom and,
            indeed, the horizontal and vertical distances between the top of the
            <span class="verb">E</span> node and the bottom of the
            <span class="verb">+</span> node are both 5mm.
          </p>

          <p>
            There are several ways of fixing this problem. The easiest way is to
            simply add a little bit of horizontal shift by hand:
          </p>

          <figure class="example">
            <div class="example-image">
              <p>
                <span class="lateximagesource" id="lateximage-pgfmanual-117"
                  ><!--
    +


E unsigned integer


    -
--><img
                    alt="(-tikz-&nbsp;diagram)"
                    class="lateximage"
                    height="113.306"
                    loading="lazy"
                    src="pgfmanual-images/image-117.png"
                    style
                    width="209.833"
                /></span>
              </p>
            </div>

            <div class="example-code">
              <button class="clipboardButton" type="button">copy</button>

              <code>
                <span class="codepreamble"
                  >\usetikzlibrary {positioning,shapes.misc} </span
                ><br />
                <span class="textcolor" style="color: #000000">\begin</span
                >{<span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-scopes#pgf.tikzpicture">tikzpicture</a></span
                >}[<span class="textcolor" style="color: #008000"
                  ><a href="tikz-shapes#pgf.node:distance"
                    >node distance</a
                  ></span
                >=<span class="textcolor" style="color: #008000"
                  >5mm <a href="pgfkeys#pgf.and">and</a> 5mm</span
                >]<br />
                <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-shapes#pgf.back/node">\node</a></span
                > <span class="textcolor" style="color: #800080">(E)</span
                ><span class="spaces">     </span>[<span
                  class="textcolor"
                  style="color: #008000"
                  >terminal</span
                >]<span class="spaces">                              </span><span class="spaces">     </span>{<span
                  class="textcolor"
                  style="color: #000000"
                  >E</span
                >};<br />
                <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-shapes#pgf.back/node">\node</a></span
                > <span class="textcolor" style="color: #800080"
                  >(plus)</span
                ><span class="spaces">  </span>[<span class="textcolor" style="color: #008000"
                  >terminal</span
                >,<span class="textcolor" style="color: #008000"
                  ><a href="tikz-shapes#pgf.above:right">above right</a></span
                >=<span class="textcolor" style="color: #008000"
                  ><a href="tikz-coordinates#pgf.of">of</a> E</span
                >,<span class="textcolor" style="color: #008000"
                  ><a href="tikz-transformations#pgf.xshift">xshift</a></span
                >=<span class="textcolor" style="color: #008000">5mm</span
                >]<span class="spaces">       </span>{<span
                  class="textcolor"
                  style="color: #000000"
                  >+</span
                >};<br />
                <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-shapes#pgf.back/node">\node</a></span
                > <span class="textcolor" style="color: #800080"
                  >(minus)</span
                > [<span class="textcolor" style="color: #008000"
                  >terminal</span
                >,<span class="textcolor" style="color: #008000"
                  ><a href="tikz-shapes#pgf.below:right">below right</a></span
                >=<span class="textcolor" style="color: #008000"
                  ><a href="tikz-coordinates#pgf.of">of</a> E</span
                >,<span class="textcolor" style="color: #008000"
                  ><a href="tikz-transformations#pgf.xshift">xshift</a></span
                >=<span class="textcolor" style="color: #008000">5mm</span
                >]<span class="spaces">       </span>{<span
                  class="textcolor"
                  style="color: #000000"
                  >-</span
                >};<br />
                <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-shapes#pgf.back/node">\node</a></span
                > <span class="textcolor" style="color: #800080"
                  >(ui2)</span
                ><span class="spaces">   </span>[<span
                  class="textcolor"
                  style="color: #008000"
                  >nonterminal</span
                >,<span class="textcolor" style="color: #008000"
                  ><a href="tikz-shapes#pgf.below:right">below right</a></span
                >=<span class="textcolor" style="color: #008000"
                  ><a href="tikz-coordinates#pgf.of">of</a> plus</span
                >,<span class="textcolor" style="color: #008000"
                  ><a href="tikz-transformations#pgf.xshift">xshift</a></span
                >=<span class="textcolor" style="color: #008000">5mm</span
                >] {<span class="textcolor" style="color: #000000"
                  >unsigned</span
                >
                <span class="textcolor" style="color: #000000">integer</span
                >};<br />
                <span class="textcolor" style="color: #000000">\end</span>{<span
                  class="textcolor"
                  style="color: #0000b2"
                  ><a href="tikz-scopes#pgf.tikzpicture">tikzpicture</a></span
                >}<br />
              </code>
            </div>
          </figure>

          <p>
            A second way is to revert back to the idea of using a normal
            rectangle for the terminals, but with rounded corners. Since corner
            rounding does not affect anchors, she gets the following result:
          </p>

          <figure class="example">
            <div class="example-image">
              <p>
                <span class="lateximagesource" id="lateximage-pgfmanual-118"
                  ><!--
    +


E unsigned integer


    -
--><img
                    alt="(-tikz-&nbsp;diagram)"
                    class="lateximage"
                    height="113.306"
                    loading="lazy"
                    src="pgfmanual-images/image-118.png"
                    style
                    width="208.445"
                /></span>
              </p>
            </div>

            <div class="example-code">
              <button class="clipboardButton" type="button">copy</button>

              <code>
                <span class="codepreamble"
                  >\usetikzlibrary {positioning,shapes.misc} </span
                ><br />
                <span class="textcolor" style="color: #000000">\begin</span
                >{<span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-scopes#pgf.tikzpicture">tikzpicture</a></span
                >}[<span class="textcolor" style="color: #008000"
                  ><a href="tikz-shapes#pgf.node:distance"
                    >node distance</a
                  ></span
                >=<span class="textcolor" style="color: #008000"
                  >5mm <a href="pgfkeys#pgf.and">and</a> 5mm</span
                >,<span class="textcolor" style="color: #008000">terminal</span
                >/<span class="textcolor" style="color: #0000b2"
                  ><a href="pgfkeys#pgf./handlers/.append:style"
                    >.append style</a
                  ></span
                >={<span class="textcolor" style="color: #008000"
                  ><a href="tikz-paths#pgf.rectangle">rectangle</a></span
                >,<span class="textcolor" style="color: #008000"
                  ><a href="tikz-paths#pgf.rounded:corners"
                    >rounded corners</a
                  ></span
                >=<span class="textcolor" style="color: #008000">3mm}</span
                >]<br />
                <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-shapes#pgf.back/node">\node</a></span
                > <span class="textcolor" style="color: #800080">(E)</span
                ><span class="spaces">     </span>[<span
                  class="textcolor"
                  style="color: #008000"
                  >terminal</span
                >]<span class="spaces">                        </span>{<span
                  class="textcolor"
                  style="color: #000000"
                  >E</span
                >};<br />
                <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-shapes#pgf.back/node">\node</a></span
                > <span class="textcolor" style="color: #800080"
                  >(plus)</span
                ><span class="spaces">  </span>[<span class="textcolor" style="color: #008000"
                  >terminal</span
                >,<span class="textcolor" style="color: #008000"
                  ><a href="tikz-shapes#pgf.above:right">above right</a></span
                >=<span class="textcolor" style="color: #008000"
                  ><a href="tikz-coordinates#pgf.of">of</a> E</span
                >]<span class="spaces">       </span>{<span
                  class="textcolor"
                  style="color: #000000"
                  >+</span
                >};<br />
                <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-shapes#pgf.back/node">\node</a></span
                > <span class="textcolor" style="color: #800080"
                  >(minus)</span
                > [<span class="textcolor" style="color: #008000"
                  >terminal</span
                >,<span class="textcolor" style="color: #008000"
                  ><a href="tikz-shapes#pgf.below:right">below right</a></span
                >=<span class="textcolor" style="color: #008000"
                  ><a href="tikz-coordinates#pgf.of">of</a> E</span
                >]<span class="spaces">       </span>{<span
                  class="textcolor"
                  style="color: #000000"
                  >-</span
                >};<br />
                <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-shapes#pgf.back/node">\node</a></span
                > <span class="textcolor" style="color: #800080"
                  >(ui2)</span
                ><span class="spaces">   </span>[<span
                  class="textcolor"
                  style="color: #008000"
                  >nonterminal</span
                >,<span class="textcolor" style="color: #008000"
                  ><a href="tikz-shapes#pgf.below:right">below right</a></span
                >=<span class="textcolor" style="color: #008000"
                  ><a href="tikz-coordinates#pgf.of">of</a> plus</span
                >] {<span class="textcolor" style="color: #000000"
                  >unsigned</span
                >
                <span class="textcolor" style="color: #000000">integer</span
                >};<br />
                <span class="textcolor" style="color: #000000">\end</span>{<span
                  class="textcolor"
                  style="color: #0000b2"
                  ><a href="tikz-scopes#pgf.tikzpicture">tikzpicture</a></span
                >}<br />
              </code>
            </div>
          </figure>

          <p>A third way is to use matrices, which we will do later.</p>

          <p>
            Now that the nodes have been placed, Ilka needs to add connections.
            Here, some connections are more difficult than others. Consider for
            instance the &ldquo;repeat&rdquo; line around the
            <span class="verb">digit</span>. One way of describing this line is
            to say &ldquo;it starts a little to the right of
            <span class="verb">digit</span> than goes down and then goes to the
            left and finally ends at a point a little to the left of
            <span class="verb">digit</span>&rdquo;. Ilka can put this into code
            as follows:
          </p>

          <figure class="example">
            <div class="example-image">
              <p>
                <span class="lateximagesource" id="lateximage-pgfmanual-119"
                  ><!--
. digit E
--><img
                    alt="(-tikz-&nbsp;diagram)"
                    class="lateximage"
                    height="34.011"
                    loading="lazy"
                    src="pgfmanual-images/image-119.png"
                    style
                    width="136.838"
                /></span>
              </p>
            </div>

            <div class="example-code">
              <button class="clipboardButton" type="button">copy</button>

              <code>
                <span class="codepreamble"
                  >\usetikzlibrary {calc,positioning,shapes.misc} </span
                ><br />
                <span class="textcolor" style="color: #000000">\begin</span
                >{<span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-scopes#pgf.tikzpicture">tikzpicture</a></span
                >}[<span class="textcolor" style="color: #008000"
                  ><a href="tikz-shapes#pgf.node:distance"
                    >node distance</a
                  ></span
                >=<span class="textcolor" style="color: #008000"
                  >5mm <a href="pgfkeys#pgf.and">and</a> 5mm</span
                >]<br />
                <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-shapes#pgf.back/node">\node</a></span
                > <span class="textcolor" style="color: #800080"
                  >(dot)</span
                ><span class="spaces">   </span>[<span
                  class="textcolor"
                  style="color: #008000"
                  >terminal</span
                >]<span class="spaces">                        </span>{.};<br />
                <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-shapes#pgf.back/node">\node</a></span
                > <span class="textcolor" style="color: #800080"
                  >(digit)</span
                > [<span class="textcolor" style="color: #008000"
                  >terminal</span
                >,<span class="textcolor" style="color: #008000"
                  ><a href="tikz-arrows#pgf.right">right</a></span
                >=<span class="textcolor" style="color: #008000"
                  ><a href="tikz-coordinates#pgf.of">of</a> dot</span
                >]<span class="spaces">           </span>{<span
                  class="textcolor"
                  style="color: #000000"
                  >digit</span
                >};<br />
                <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-shapes#pgf.back/node">\node</a></span
                > <span class="textcolor" style="color: #800080">(E)</span
                ><span class="spaces">     </span>[<span
                  class="textcolor"
                  style="color: #008000"
                  >terminal</span
                >,<span class="textcolor" style="color: #008000"
                  ><a href="tikz-arrows#pgf.right">right</a></span
                >=<span class="textcolor" style="color: #008000"
                  ><a href="tikz-coordinates#pgf.of">of</a> digit</span
                >]<span class="spaces">         </span>{<span
                  class="textcolor"
                  style="color: #000000"
                  >E</span
                >};<br />
                <br />
                <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-paths#pgf.back/path">\path</a></span
                > <span class="textcolor" style="color: #800080"
                  >(dot)</span
                ><span class="spaces">   </span><span
                  class="textcolor"
                  style="color: #000000"
                  ><a href="tikz-shapes#pgf.edge">edge</a></span
                >[<span class="textcolor" style="color: #008000"
                  ><a href="tikz-graphs#pgf.-&gt;">-&gt;</a></span
                >] <span class="textcolor" style="color: #800080"
                  >(digit)</span
                ><span class="spaces">  </span><span class="example-code-comment"
                  >% simple edges</span
                ><br />
                <span class="spaces">        </span><span
                  class="textcolor"
                  style="color: #800080"
                  >(digit)</span
                > <span class="textcolor" style="color: #000000"
                  ><a href="tikz-shapes#pgf.edge">edge</a></span
                >[<span class="textcolor" style="color: #008000"
                  ><a href="tikz-graphs#pgf.-&gt;">-&gt;</a></span
                >] <span class="textcolor" style="color: #800080"
                  >(E)</span
                >;<br />
                <br />
                <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                > [<span class="textcolor" style="color: #008000"
                  ><a href="tikz-graphs#pgf.-&gt;">-&gt;</a></span
                >]<br />
                <span class="spaces">     </span><span
                  class="example-code-comment"
                  >% start right of digit.east, that is, at the point that is
                  the</span
                ><br />
                <span class="spaces">     </span><span
                  class="example-code-comment"
                  >% linear combination of digit.east and the vector (2mm,0pt).
                  We</span
                ><br />
                <span class="spaces">     </span><span
                  class="example-code-comment"
                  >% use the ($ ... $) notation for computing linear
                  combinations</span
                ><br />
                <span class="spaces">     </span><span
                  class="textcolor"
                  style="color: #800080"
                  >($ (digit.east)</span
                > <span class="textcolor" style="color: #000000">+</span>
                <span class="textcolor" style="color: #800080">(2mm,0)</span
                > <span class="textcolor" style="color: #000000">$</span
                >)<br />
                <span class="spaces">     </span><span
                  class="example-code-comment"
                  >% Now go down</span
                ><br />
                <span class="spaces">     </span><span
                  class="textcolor"
                  style="color: #000000"
                  ><a href="tikz-paths#pgf.--">--</a></span
                >
                <span class="textcolor" style="color: #000000">++</span
                ><span class="textcolor" style="color: #800080">(0,-.5)</span
                ><br />
                <span class="spaces">     </span><span
                  class="example-code-comment"
                  >% And back to the left of digit.west</span
                ><br />
                <span class="spaces">     </span><span
                  class="textcolor"
                  style="color: #000000"
                  >-|</span
                >
                <span class="textcolor" style="color: #800080"
                  >($ (digit.west)</span
                > <span class="textcolor" style="color: #000000">-</span>
                <span class="textcolor" style="color: #800080">(2mm,0)</span
                > <span class="textcolor" style="color: #000000">$</span
                >);<br />
                <span class="textcolor" style="color: #000000">\end</span>{<span
                  class="textcolor"
                  style="color: #0000b2"
                  ><a href="tikz-scopes#pgf.tikzpicture">tikzpicture</a></span
                >}<br />
              </code>
            </div>
          </figure>

          <p>
            Since Ilka needs this &ldquo;go up/down then horizontally and then
            up/down to a target&rdquo; several times, it seems sensible to
            define a special <em>to-path</em> for this. Whenever the
            <span class="verb">edge</span> command is used, it simply adds the
            current value of <span class="verb">to path</span> to the path. So,
            Ilka can set up a style that contains the correct path:
          </p>

          <figure class="example">
            <div class="example-image">
              <p>
                <span class="lateximagesource" id="lateximage-pgfmanual-120"
                  ><!--
. digit E
--><img
                    alt="(-tikz-&nbsp;diagram)"
                    class="lateximage"
                    height="34.011"
                    loading="lazy"
                    src="pgfmanual-images/image-120.png"
                    style
                    width="136.838"
                /></span>
              </p>
            </div>

            <div class="example-code">
              <button class="clipboardButton" type="button">copy</button>

              <code>
                <span class="codepreamble"
                  >\usetikzlibrary {calc,positioning,shapes.misc} </span
                ><br />
                <span class="textcolor" style="color: #000000">\begin</span
                >{<span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-scopes#pgf.tikzpicture">tikzpicture</a></span
                >}[<span class="textcolor" style="color: #008000"
                  ><a href="tikz-shapes#pgf.node:distance"
                    >node distance</a
                  ></span
                >=<span class="textcolor" style="color: #008000"
                  >5mm <a href="pgfkeys#pgf.and">and</a> 5mm</span
                >,<br />
                <span class="spaces">    </span><span
                  class="textcolor"
                  style="color: #008000"
                  >skip loop</span
                >/<span class="textcolor" style="color: #0000b2"
                  ><a href="pgfkeys#pgf./handlers/.style">.style</a></span
                >={<span class="textcolor" style="color: #008000"
                  ><a href="tikz-paths#pgf.to:path">to path</a></span
                >=<span class="textcolor" style="color: #008000"
                  >{<a href="tikz-paths#pgf.--">--</a> ++<span
                    class="textcolor"
                    style="color: #800080"
                    >(0,-.5)</span
                  ><span class="spaces"> </span>-|
                  <span class="textcolor" style="color: #800080"
                    >(\tikztotarget)</span
                  >}}</span
                >]<br />
                <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-shapes#pgf.back/node">\node</a></span
                > <span class="textcolor" style="color: #800080"
                  >(dot)</span
                ><span class="spaces">   </span>[<span
                  class="textcolor"
                  style="color: #008000"
                  >terminal</span
                >]<span class="spaces">                        </span>{.};<br />
                <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-shapes#pgf.back/node">\node</a></span
                > <span class="textcolor" style="color: #800080"
                  >(digit)</span
                > [<span class="textcolor" style="color: #008000"
                  >terminal</span
                >,<span class="textcolor" style="color: #008000"
                  ><a href="tikz-arrows#pgf.right">right</a></span
                >=<span class="textcolor" style="color: #008000"
                  ><a href="tikz-coordinates#pgf.of">of</a> dot</span
                >]<span class="spaces">           </span>{<span
                  class="textcolor"
                  style="color: #000000"
                  >digit</span
                >};<br />
                <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-shapes#pgf.back/node">\node</a></span
                > <span class="textcolor" style="color: #800080">(E)</span
                ><span class="spaces">     </span>[<span
                  class="textcolor"
                  style="color: #008000"
                  >terminal</span
                >,<span class="textcolor" style="color: #008000"
                  ><a href="tikz-arrows#pgf.right">right</a></span
                >=<span class="textcolor" style="color: #008000"
                  ><a href="tikz-coordinates#pgf.of">of</a> digit</span
                >]<span class="spaces">         </span>{<span
                  class="textcolor"
                  style="color: #000000"
                  >E</span
                >};<br />
                <br />
                <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-paths#pgf.back/path">\path</a></span
                > <span class="textcolor" style="color: #800080"
                  >(dot)</span
                ><span class="spaces">   </span><span
                  class="textcolor"
                  style="color: #000000"
                  ><a href="tikz-shapes#pgf.edge">edge</a></span
                >[<span class="textcolor" style="color: #008000"
                  ><a href="tikz-graphs#pgf.-&gt;">-&gt;</a></span
                >]<span class="spaces">           </span><span
                  class="textcolor"
                  style="color: #800080"
                  >(digit)</span
                ><span class="spaces">  </span><span class="example-code-comment"
                  >% simple edges</span
                ><br />
                <span class="spaces">        </span><span
                  class="textcolor"
                  style="color: #800080"
                  >(digit)</span
                > <span class="textcolor" style="color: #000000"
                  ><a href="tikz-shapes#pgf.edge">edge</a></span
                >[<span class="textcolor" style="color: #008000"
                  ><a href="tikz-graphs#pgf.-&gt;">-&gt;</a></span
                >]<span class="spaces">           </span><span
                  class="textcolor"
                  style="color: #800080"
                  >(E)</span
                ><br />
                <span class="spaces">        </span><span
                  class="textcolor"
                  style="color: #800080"
                  >($ (digit.east)</span
                > <span class="textcolor" style="color: #000000">+</span>
                <span class="textcolor" style="color: #800080">(2mm,0)</span
                > <span class="textcolor" style="color: #000000">$</span
                >)<br />
                <span class="spaces">                </span><span
                  class="textcolor"
                  style="color: #000000"
                  ><a href="tikz-shapes#pgf.edge">edge</a></span
                >[<span class="textcolor" style="color: #008000"
                  ><a href="tikz-graphs#pgf.-&gt;">-&gt;</a></span
                >,<span class="textcolor" style="color: #008000">skip loop</span
                >] <span class="textcolor" style="color: #800080"
                  >($ (digit.west)</span
                > <span class="textcolor" style="color: #000000">-</span>
                <span class="textcolor" style="color: #800080">(2mm,0)</span
                > <span class="textcolor" style="color: #000000">$</span
                >);<br />
                <span class="textcolor" style="color: #000000">\end</span>{<span
                  class="textcolor"
                  style="color: #0000b2"
                  ><a href="tikz-scopes#pgf.tikzpicture">tikzpicture</a></span
                >}<br />
              </code>
            </div>
          </figure>

          <p>
            Ilka can even go a step further and make her
            <span class="verb">skip loop</span> style parameterized. For this,
            the skip loop&rsquo;s vertical offset is passed as parameter
            <span class="verb">#1</span>. Also, in the following code Ilka
            specifies the start and targets differently, namely as the positions
            that are &ldquo;in the middle between the nodes&rdquo;.
          </p>

          <figure class="example">
            <div class="example-image">
              <p>
                <span class="lateximagesource" id="lateximage-pgfmanual-121"
                  ><!--
. digit E
--><img
                    alt="(-tikz-&nbsp;diagram)"
                    class="lateximage"
                    height="34.011"
                    loading="lazy"
                    src="pgfmanual-images/image-121.png"
                    style
                    width="136.838"
                /></span>
              </p>
            </div>

            <div class="example-code">
              <button class="clipboardButton" type="button">copy</button>

              <code>
                <span class="codepreamble"
                  >\usetikzlibrary {calc,positioning,shapes.misc} </span
                ><br />
                <span class="textcolor" style="color: #000000">\begin</span
                >{<span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-scopes#pgf.tikzpicture">tikzpicture</a></span
                >}[<span class="textcolor" style="color: #008000"
                  ><a href="tikz-shapes#pgf.node:distance"
                    >node distance</a
                  ></span
                >=<span class="textcolor" style="color: #008000"
                  >5mm <a href="pgfkeys#pgf.and">and</a> 5mm</span
                >,<br />
                <span class="spaces">    </span><span
                  class="textcolor"
                  style="color: #008000"
                  >skip loop</span
                >/<span class="textcolor" style="color: #0000b2"
                  ><a href="pgfkeys#pgf./handlers/.style">.style</a></span
                >={<span class="textcolor" style="color: #008000"
                  ><a href="tikz-paths#pgf.to:path">to path</a></span
                >=<span class="textcolor" style="color: #008000"
                  >{<a href="tikz-paths#pgf.--">--</a> ++<span
                    class="textcolor"
                    style="color: #800080"
                    >(0,#1)</span
                  ><span class="spaces"> </span>-|
                  <span class="textcolor" style="color: #800080"
                    >(\tikztotarget)</span
                  >}}</span
                >]<br />
                <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-shapes#pgf.back/node">\node</a></span
                > <span class="textcolor" style="color: #800080"
                  >(dot)</span
                ><span class="spaces">   </span>[<span
                  class="textcolor"
                  style="color: #008000"
                  >terminal</span
                >]<span class="spaces">                        </span>{.};<br />
                <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-shapes#pgf.back/node">\node</a></span
                > <span class="textcolor" style="color: #800080"
                  >(digit)</span
                > [<span class="textcolor" style="color: #008000"
                  >terminal</span
                >,<span class="textcolor" style="color: #008000"
                  ><a href="tikz-arrows#pgf.right">right</a></span
                >=<span class="textcolor" style="color: #008000"
                  ><a href="tikz-coordinates#pgf.of">of</a> dot</span
                >]<span class="spaces">           </span>{<span
                  class="textcolor"
                  style="color: #000000"
                  >digit</span
                >};<br />
                <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-shapes#pgf.back/node">\node</a></span
                > <span class="textcolor" style="color: #800080">(E)</span
                ><span class="spaces">     </span>[<span
                  class="textcolor"
                  style="color: #008000"
                  >terminal</span
                >,<span class="textcolor" style="color: #008000"
                  ><a href="tikz-arrows#pgf.right">right</a></span
                >=<span class="textcolor" style="color: #008000"
                  ><a href="tikz-coordinates#pgf.of">of</a> digit</span
                >]<span class="spaces">         </span>{<span
                  class="textcolor"
                  style="color: #000000"
                  >E</span
                >};<br />
                <br />
                <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-paths#pgf.back/path">\path</a></span
                > <span class="textcolor" style="color: #800080"
                  >(dot)</span
                ><span class="spaces">   </span><span
                  class="textcolor"
                  style="color: #000000"
                  ><a href="tikz-shapes#pgf.edge">edge</a></span
                >[<span class="textcolor" style="color: #008000"
                  ><a href="tikz-graphs#pgf.-&gt;">-&gt;</a></span
                >]<span class="spaces">                </span><span
                  class="textcolor"
                  style="color: #800080"
                  >(digit)</span
                ><span class="spaces">  </span><span class="example-code-comment"
                  >% simple edges</span
                ><br />
                <span class="spaces">        </span><span
                  class="textcolor"
                  style="color: #800080"
                  >(digit)</span
                > <span class="textcolor" style="color: #000000"
                  ><a href="tikz-shapes#pgf.edge">edge</a></span
                >[<span class="textcolor" style="color: #008000"
                  ><a href="tikz-graphs#pgf.-&gt;">-&gt;</a></span
                >]<span class="spaces">                </span><span
                  class="textcolor"
                  style="color: #800080"
                  >(E)</span
                ><br />
                <span class="spaces">        </span><span
                  class="textcolor"
                  style="color: #800080"
                  >($ (digit.east)</span
                ><span class="textcolor" style="color: #000000">!</span>.<span
                  class="textcolor"
                  style="color: #000000"
                  >5!</span
                ><span class="textcolor" style="color: #800080">(E.west)</span
                > <span class="textcolor" style="color: #000000">$</span
                >)<br />
                <span class="spaces">                </span><span
                  class="textcolor"
                  style="color: #000000"
                  ><a href="tikz-shapes#pgf.edge">edge</a></span
                >[<span class="textcolor" style="color: #008000"
                  ><a href="tikz-graphs#pgf.-&gt;">-&gt;</a></span
                >,<span class="textcolor" style="color: #008000">skip loop</span
                >=<span class="textcolor" style="color: #008000">-5mm</span
                >] <span class="textcolor" style="color: #800080"
                  >($ (digit.west)</span
                ><span class="textcolor" style="color: #000000">!</span>.<span
                  class="textcolor"
                  style="color: #000000"
                  >5!</span
                ><span class="textcolor" style="color: #800080">(dot.east)</span
                > <span class="textcolor" style="color: #000000">$</span
                >);<br />
                <span class="textcolor" style="color: #000000">\end</span>{<span
                  class="textcolor"
                  style="color: #0000b2"
                  ><a href="tikz-scopes#pgf.tikzpicture">tikzpicture</a></span
                >}<br />
              </code>
            </div>
          </figure>
          <h5 id="autosec-335">
            <span
              ><span class="sectionnumber" id="sec-5.3">5.3</span> Aligning the
              Nodes Using Matrices</span
            ><a
              class="anchor-link"
              data-html-link="sec-5.3"
              data-pdf-destination="subsection.5.3"
              data-pdf-page="74"
              href="#sec-5.3"
              >&para;</a
            >
          </h5>
          <a id="pgfmanual-autopage-335"></a>

          <p>
            Ilka is still bothered a bit by the placement of the plus and minus
            nodes. Somehow, having to add an explicit
            <span class="verb">xshift</span> seems too much like cheating.
          </p>

          <p>
            A perhaps better way of positioning the nodes is to use a
            <em>matrix</em>. In <span class="tikzname">TikZ</span> matrices can
            be used to align quite arbitrary graphical objects in rows and
            columns. The syntax is very similar to the use of arrays and tables
            in
            <span class="latexlogofont"
              ><span class="latexlogo"
                >T<span class="latexlogosub">e</span>X</span
              ></span
            >
            (indeed, internally
            <span class="latexlogofont"
              ><span class="latexlogo"
                >T<span class="latexlogosub">e</span>X</span
              ></span
            >
            tables are used, but a lot of stuff is going on additionally).
          </p>

          <p>
            In Ilka&rsquo;s graphic, there will be three rows: One row
            containing only the plus node, one row containing the main nodes and
            one row containing only the minus node.
          </p>

          <figure class="example">
            <div class="example-image">
              <p>
                <span class="lateximagesource" id="lateximage-pgfmanual-122"
                  ><!--
                                   +

unsigned integer . digit E unsigned integer

                                   -
--><img
                    alt="(-tikz-&nbsp;diagram)"
                    class="lateximage"
                    height="83.066"
                    loading="lazy"
                    src="pgfmanual-images/image-122.png"
                    style
                    width="456.624"
                /></span>
              </p>
            </div>

            <div class="example-code">
              <button class="clipboardButton" type="button">copy</button>

              <code>
                <span class="codepreamble">\usetikzlibrary {shapes.misc} </span
                ><br />
                <span class="textcolor" style="color: #000000">\begin</span
                >{<span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-scopes#pgf.tikzpicture">tikzpicture</a></span
                >}<br />
                <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-matrices#pgf.back/matrix">\matrix</a></span
                >[<span class="textcolor" style="color: #008000"
                  ><a href="tikz-matrices#pgf.row:sep">row sep</a></span
                >=<span class="textcolor" style="color: #008000">1mm</span
                >,<span class="textcolor" style="color: #008000"
                  ><a href="tikz-matrices#pgf.column:sep">column sep</a></span
                >=<span class="textcolor" style="color: #008000">5mm</span
                >] {<br />
                <span class="spaces">    </span><span class="example-code-comment"
                  >% First row:</span
                ><br />
                <span class="spaces">      </span><span
                  class="textcolor"
                  style="color: #000000"
                  >&amp;</span
                >
                <span class="textcolor" style="color: #000000">&amp;</span>
                <span class="textcolor" style="color: #000000">&amp;</span>
                <span class="textcolor" style="color: #000000">&amp;</span>
                <span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-shapes#pgf.back/node">\node</a></span
                > [<span class="textcolor" style="color: #008000"
                  >terminal</span
                >] {<span class="textcolor" style="color: #000000">+</span
                >};<span class="spaces"> </span><span class="textcolor" style="color: #000000"
                  >&amp;</span
                >
                <span class="textcolor" style="color: #0000b2">\</span
                ><span class="textcolor" style="color: #0000b2">\</span><br />
                <span class="spaces">    </span><span class="example-code-comment"
                  >% Second row:</span
                ><br />
                <span class="spaces">    </span><span
                  class="textcolor"
                  style="color: #0000b2"
                  ><a href="tikz-shapes#pgf.back/node">\node</a></span
                > [<span class="textcolor" style="color: #008000"
                  >nonterminal</span
                >] {<span class="textcolor" style="color: #000000"
                  >unsigned</span
                >
                <span class="textcolor" style="color: #000000">integer</span
                >};<span class="spaces"> </span><span class="textcolor" style="color: #000000"
                  >&amp;</span
                ><br />
                <span class="spaces">    </span><span
                  class="textcolor"
                  style="color: #0000b2"
                  ><a href="tikz-shapes#pgf.back/node">\node</a></span
                > [<span class="textcolor" style="color: #008000"
                  >terminal</span
                >]<span class="spaces">    </span>{.};<span class="spaces">                </span><span
                  class="textcolor"
                  style="color: #000000"
                  >&amp;</span
                ><br />
                <span class="spaces">    </span><span
                  class="textcolor"
                  style="color: #0000b2"
                  ><a href="tikz-shapes#pgf.back/node">\node</a></span
                > [<span class="textcolor" style="color: #008000"
                  >terminal</span
                >]<span class="spaces">    </span>{<span
                  class="textcolor"
                  style="color: #000000"
                  >digit</span
                >};<span class="spaces">            </span><span
                  class="textcolor"
                  style="color: #000000"
                  >&amp;</span
                ><br />
                <span class="spaces">    </span><span
                  class="textcolor"
                  style="color: #0000b2"
                  ><a href="tikz-shapes#pgf.back/node">\node</a></span
                > [<span class="textcolor" style="color: #008000"
                  >terminal</span
                >]<span class="spaces">    </span>{<span
                  class="textcolor"
                  style="color: #000000"
                  >E</span
                >};<span class="spaces">                </span><span
                  class="textcolor"
                  style="color: #000000"
                  >&amp;</span
                ><br />
                <span class="spaces">                              </span><span class="spaces">              </span><span
                  class="textcolor"
                  style="color: #000000"
                  >&amp;</span
                ><br />
                <span class="spaces">    </span><span
                  class="textcolor"
                  style="color: #0000b2"
                  ><a href="tikz-shapes#pgf.back/node">\node</a></span
                > [<span class="textcolor" style="color: #008000"
                  >nonterminal</span
                >] {<span class="textcolor" style="color: #000000"
                  >unsigned</span
                >
                <span class="textcolor" style="color: #000000">integer</span
                >};<span class="spaces"> </span><span class="textcolor" style="color: #0000b2">\</span
                ><span class="textcolor" style="color: #0000b2">\</span><br />
                <span class="spaces">    </span><span class="example-code-comment"
                  >% Third row:</span
                ><br />
                <span class="spaces">      </span><span
                  class="textcolor"
                  style="color: #000000"
                  >&amp;</span
                >
                <span class="textcolor" style="color: #000000">&amp;</span>
                <span class="textcolor" style="color: #000000">&amp;</span>
                <span class="textcolor" style="color: #000000">&amp;</span>
                <span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-shapes#pgf.back/node">\node</a></span
                > [<span class="textcolor" style="color: #008000"
                  >terminal</span
                >] {<span class="textcolor" style="color: #000000">-</span
                >};<span class="spaces"> </span><span class="textcolor" style="color: #000000"
                  >&amp;</span
                >
                <span class="textcolor" style="color: #0000b2">\</span
                ><span class="textcolor" style="color: #0000b2">\</span><br />
                <span class="spaces">  </span>};<br />
                <span class="textcolor" style="color: #000000">\end</span>{<span
                  class="textcolor"
                  style="color: #0000b2"
                  ><a href="tikz-scopes#pgf.tikzpicture">tikzpicture</a></span
                >}<br />
              </code>
            </div>
          </figure>

          <p>
            That was easy! By toying around with the row and columns
            separations, Ilka can achieve all sorts of pleasing arrangements of
            the nodes.
          </p>

          <p>
            Ilka now faces the same connecting problem as before. This time, she
            has an idea: She adds small nodes (they will be turned into
            coordinates later on and be invisible) at all the places where she
            would like connections to start and end.
          </p>

          <figure class="example">
            <div class="example-image">
              <p>
                <span class="lateximagesource" id="lateximage-pgfmanual-123"
                  ><!--
                                   +

unsigned integer . digit E unsigned integer

                                   -
--><img
                    alt="(-tikz-&nbsp;diagram)"
                    class="lateximage"
                    height="83.066"
                    loading="lazy"
                    src="pgfmanual-images/image-123.png"
                    style
                    width="502.109"
                /></span>
              </p>
            </div>

            <div class="example-code">
              <button class="clipboardButton" type="button">copy</button>

              <code>
                <span class="codepreamble">\usetikzlibrary {shapes.misc} </span
                ><br />
                <span class="textcolor" style="color: #000000">\begin</span
                >{<span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-scopes#pgf.tikzpicture">tikzpicture</a></span
                >}[<span class="textcolor" style="color: #008000"
                  ><a href="tikz-coordinates#pgf.point">point</a></span
                >/<span class="textcolor" style="color: #0000b2"
                  ><a href="pgfkeys#pgf./handlers/.style">.style</a></span
                >={<span class="textcolor" style="color: #008000"
                  ><a href="tikz-paths#pgf.circle">circle</a></span
                >,<span class="textcolor" style="color: #008000"
                  ><a href="tikz-shapes#pgf.inner:sep">inner sep</a></span
                >=<span class="textcolor" style="color: #008000">0pt</span
                >,<span class="textcolor" style="color: #008000"
                  ><a href="tikz-shapes#pgf.minimum:size">minimum size</a></span
                >=<span class="textcolor" style="color: #008000">2pt</span
                >,<span class="textcolor" style="color: #008000"
                  ><a href="tikz-actions#pgf.fill">fill</a></span
                >=<span class="textcolor" style="color: #008000">red}</span
                >,<br />
                <span class="spaces">                   </span><span
                  class="textcolor"
                  style="color: #008000"
                  >skip loop</span
                >/<span class="textcolor" style="color: #0000b2"
                  ><a href="pgfkeys#pgf./handlers/.style">.style</a></span
                >={<span class="textcolor" style="color: #008000"
                  ><a href="tikz-paths#pgf.to:path">to path</a></span
                >=<span class="textcolor" style="color: #008000"
                  >{<a href="tikz-paths#pgf.--">--</a> ++<span
                    class="textcolor"
                    style="color: #800080"
                    >(0,#1)</span
                  ><span class="spaces"> </span>-|
                  <span class="textcolor" style="color: #800080"
                    >(\tikztotarget)</span
                  >}}</span
                >]<br />
                <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-matrices#pgf.back/matrix">\matrix</a></span
                >[<span class="textcolor" style="color: #008000"
                  ><a href="tikz-matrices#pgf.row:sep">row sep</a></span
                >=<span class="textcolor" style="color: #008000">1mm</span
                >,<span class="textcolor" style="color: #008000"
                  ><a href="tikz-matrices#pgf.column:sep">column sep</a></span
                >=<span class="textcolor" style="color: #008000">2mm</span
                >] {<br />
                <span class="spaces">    </span><span class="example-code-comment"
                  >% First row:</span
                ><br />
                <span class="spaces">    </span><span
                  class="textcolor"
                  style="color: #000000"
                  >&amp;</span
                >
                <span class="textcolor" style="color: #000000">&amp;</span>
                <span class="textcolor" style="color: #000000">&amp;</span>
                <span class="textcolor" style="color: #000000">&amp;</span>
                <span class="textcolor" style="color: #000000">&amp;</span>
                <span class="textcolor" style="color: #000000">&amp;</span>
                <span class="textcolor" style="color: #000000">&amp;</span>
                <span class="spaces"> </span><span class="textcolor" style="color: #000000"
                  >&amp;</span
                >
                <span class="textcolor" style="color: #000000">&amp;</span>
                <span class="textcolor" style="color: #000000">&amp;</span>
                <span class="textcolor" style="color: #000000">&amp;</span>
                <span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-shapes#pgf.back/node">\node</a></span
                > <span class="textcolor" style="color: #800080"
                  >(plus)</span
                > [<span class="textcolor" style="color: #008000"
                  >terminal</span
                >] {<span class="textcolor" style="color: #000000">+</span
                >};<span class="textcolor" style="color: #0000b2">\</span
                ><span class="textcolor" style="color: #0000b2">\</span><br />
                <span class="spaces">    </span><span class="example-code-comment"
                  >% Second row:</span
                ><br />
                <span class="spaces">    </span><span
                  class="textcolor"
                  style="color: #0000b2"
                  ><a href="tikz-shapes#pgf.back/node">\node</a></span
                > <span class="textcolor" style="color: #800080"
                  >(p1)</span
                > [<span class="textcolor" style="color: #008000"
                  ><a href="tikz-coordinates#pgf.point">point</a></span
                >]<span class="spaces">  </span>{};<span class="spaces"> </span><span
                  class="textcolor"
                  style="color: #000000"
                  >&amp;</span
                >
                <span class="spaces">   </span><span
                  class="textcolor"
                  style="color: #0000b2"
                  ><a href="tikz-shapes#pgf.back/node">\node</a></span
                > <span class="textcolor" style="color: #800080"
                  >(ui1)</span
                ><span class="spaces">   </span>[<span
                  class="textcolor"
                  style="color: #008000"
                  >nonterminal</span
                >] {<span class="textcolor" style="color: #000000"
                  >unsigned</span
                >
                <span class="textcolor" style="color: #000000">integer</span
                >};<span class="spaces"> </span><span class="textcolor" style="color: #000000"
                  >&amp;</span
                ><br />
                <span class="spaces">    </span><span
                  class="textcolor"
                  style="color: #0000b2"
                  ><a href="tikz-shapes#pgf.back/node">\node</a></span
                > <span class="textcolor" style="color: #800080"
                  >(p2)</span
                > [<span class="textcolor" style="color: #008000"
                  ><a href="tikz-coordinates#pgf.point">point</a></span
                >]<span class="spaces">  </span>{};<span class="spaces"> </span><span
                  class="textcolor"
                  style="color: #000000"
                  >&amp;</span
                >
                <span class="spaces">   </span><span
                  class="textcolor"
                  style="color: #0000b2"
                  ><a href="tikz-shapes#pgf.back/node">\node</a></span
                > <span class="textcolor" style="color: #800080"
                  >(dot)</span
                ><span class="spaces">   </span>[<span
                  class="textcolor"
                  style="color: #008000"
                  >terminal</span
                >]<span class="spaces">    </span>{.};<span class="spaces">                </span><span
                  class="textcolor"
                  style="color: #000000"
                  >&amp;</span
                ><br />
                <span class="spaces">    </span><span
                  class="textcolor"
                  style="color: #0000b2"
                  ><a href="tikz-shapes#pgf.back/node">\node</a></span
                > <span class="textcolor" style="color: #800080"
                  >(p3)</span
                > [<span class="textcolor" style="color: #008000"
                  ><a href="tikz-coordinates#pgf.point">point</a></span
                >]<span class="spaces">  </span>{};<span class="spaces"> </span><span
                  class="textcolor"
                  style="color: #000000"
                  >&amp;</span
                >
                <span class="spaces">   </span><span
                  class="textcolor"
                  style="color: #0000b2"
                  ><a href="tikz-shapes#pgf.back/node">\node</a></span
                > <span class="textcolor" style="color: #800080"
                  >(digit)</span
                > [<span class="textcolor" style="color: #008000"
                  >terminal</span
                >]<span class="spaces">    </span>{<span
                  class="textcolor"
                  style="color: #000000"
                  >digit</span
                >};<span class="spaces">            </span><span
                  class="textcolor"
                  style="color: #000000"
                  >&amp;</span
                ><br />
                <span class="spaces">    </span><span
                  class="textcolor"
                  style="color: #0000b2"
                  ><a href="tikz-shapes#pgf.back/node">\node</a></span
                > <span class="textcolor" style="color: #800080"
                  >(p4)</span
                > [<span class="textcolor" style="color: #008000"
                  ><a href="tikz-coordinates#pgf.point">point</a></span
                >]<span class="spaces">  </span>{};<span class="spaces"> </span><span
                  class="textcolor"
                  style="color: #000000"
                  >&amp;</span
                >
                <span class="spaces">   </span><span
                  class="textcolor"
                  style="color: #0000b2"
                  ><a href="tikz-shapes#pgf.back/node">\node</a></span
                > <span class="textcolor" style="color: #800080"
                  >(p5)</span
                ><span class="spaces">    </span>[<span
                  class="textcolor"
                  style="color: #008000"
                  ><a href="tikz-coordinates#pgf.point">point</a></span
                >]<span class="spaces">  </span>{};<span class="spaces">                      </span><span
                  class="textcolor"
                  style="color: #000000"
                  >&amp;</span
                ><br />
                <span class="spaces">    </span><span
                  class="textcolor"
                  style="color: #0000b2"
                  ><a href="tikz-shapes#pgf.back/node">\node</a></span
                > <span class="textcolor" style="color: #800080"
                  >(p6)</span
                > [<span class="textcolor" style="color: #008000"
                  ><a href="tikz-coordinates#pgf.point">point</a></span
                >]<span class="spaces">  </span>{};<span class="spaces"> </span><span
                  class="textcolor"
                  style="color: #000000"
                  >&amp;</span
                >
                <span class="spaces">   </span><span
                  class="textcolor"
                  style="color: #0000b2"
                  ><a href="tikz-shapes#pgf.back/node">\node</a></span
                > <span class="textcolor" style="color: #800080">(e)</span
                ><span class="spaces">     </span>[<span
                  class="textcolor"
                  style="color: #008000"
                  >terminal</span
                >]<span class="spaces">    </span>{<span
                  class="textcolor"
                  style="color: #000000"
                  >E</span
                >};<span class="spaces">                </span><span
                  class="textcolor"
                  style="color: #000000"
                  >&amp;</span
                ><br />
                <span class="spaces">    </span><span
                  class="textcolor"
                  style="color: #0000b2"
                  ><a href="tikz-shapes#pgf.back/node">\node</a></span
                > <span class="textcolor" style="color: #800080"
                  >(p7)</span
                > [<span class="textcolor" style="color: #008000"
                  ><a href="tikz-coordinates#pgf.point">point</a></span
                >]<span class="spaces">  </span>{};<span class="spaces"> </span><span
                  class="textcolor"
                  style="color: #000000"
                  >&amp;</span
                >
                <span class="spaces">                              </span><span class="spaces">                     </span><span
                  class="textcolor"
                  style="color: #000000"
                  >&amp;</span
                ><br />
                <span class="spaces">    </span><span
                  class="textcolor"
                  style="color: #0000b2"
                  ><a href="tikz-shapes#pgf.back/node">\node</a></span
                > <span class="textcolor" style="color: #800080"
                  >(p8)</span
                > [<span class="textcolor" style="color: #008000"
                  ><a href="tikz-coordinates#pgf.point">point</a></span
                >]<span class="spaces">  </span>{};<span class="spaces"> </span><span
                  class="textcolor"
                  style="color: #000000"
                  >&amp;</span
                >
                <span class="spaces">   </span><span
                  class="textcolor"
                  style="color: #0000b2"
                  ><a href="tikz-shapes#pgf.back/node">\node</a></span
                > <span class="textcolor" style="color: #800080"
                  >(ui2)</span
                ><span class="spaces">   </span>[<span
                  class="textcolor"
                  style="color: #008000"
                  >nonterminal</span
                >] {<span class="textcolor" style="color: #000000"
                  >unsigned</span
                >
                <span class="textcolor" style="color: #000000">integer</span
                >};<span class="spaces"> </span><span class="textcolor" style="color: #000000"
                  >&amp;</span
                ><br />
                <span class="spaces">    </span><span
                  class="textcolor"
                  style="color: #0000b2"
                  ><a href="tikz-shapes#pgf.back/node">\node</a></span
                > <span class="textcolor" style="color: #800080"
                  >(p9)</span
                > [<span class="textcolor" style="color: #008000"
                  ><a href="tikz-coordinates#pgf.point">point</a></span
                >]<span class="spaces">  </span>{};<span class="spaces"> </span><span
                  class="textcolor"
                  style="color: #000000"
                  >&amp;</span
                >
                <span class="spaces">   </span><span
                  class="textcolor"
                  style="color: #0000b2"
                  ><a href="tikz-shapes#pgf.back/node">\node</a></span
                > <span class="textcolor" style="color: #800080"
                  >(p10)</span
                ><span class="spaces">   </span>[<span
                  class="textcolor"
                  style="color: #008000"
                  ><a href="tikz-coordinates#pgf.point">point</a></span
                >]<span class="spaces">       </span>{};<span
                  class="textcolor"
                  style="color: #0000b2"
                  >\</span
                ><span class="textcolor" style="color: #0000b2">\</span><br />
                <span class="spaces">    </span><span class="example-code-comment"
                  >% Third row:</span
                ><br />
                <span class="spaces">    </span><span
                  class="textcolor"
                  style="color: #000000"
                  >&amp;</span
                >
                <span class="textcolor" style="color: #000000">&amp;</span>
                <span class="textcolor" style="color: #000000">&amp;</span>
                <span class="textcolor" style="color: #000000">&amp;</span>
                <span class="textcolor" style="color: #000000">&amp;</span>
                <span class="textcolor" style="color: #000000">&amp;</span>
                <span class="textcolor" style="color: #000000">&amp;</span>
                <span class="spaces"> </span><span class="textcolor" style="color: #000000"
                  >&amp;</span
                >
                <span class="textcolor" style="color: #000000">&amp;</span>
                <span class="textcolor" style="color: #000000">&amp;</span>
                <span class="textcolor" style="color: #000000">&amp;</span>
                <span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-shapes#pgf.back/node">\node</a></span
                > <span class="textcolor" style="color: #800080"
                  >(minus)</span
                >[<span class="textcolor" style="color: #008000">terminal</span
                >] {<span class="textcolor" style="color: #000000">-</span
                >};<span class="textcolor" style="color: #0000b2">\</span
                ><span class="textcolor" style="color: #0000b2">\</span><br />
                <span class="spaces">  </span>};<br />
                <br />
                <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-paths#pgf.back/path">\path</a></span
                > <span class="textcolor" style="color: #800080"
                  >(p4)</span
                > <span class="textcolor" style="color: #000000"
                  ><a href="tikz-shapes#pgf.edge">edge</a></span
                >
                [<span class="textcolor" style="color: #008000"
                  ><a href="tikz-graphs#pgf.-&gt;">-&gt;</a></span
                >,<span class="textcolor" style="color: #008000">skip loop</span
                >=<span class="textcolor" style="color: #008000">-5mm</span
                >] <span class="textcolor" style="color: #800080"
                  >(p3)</span
                ><br />
                <span class="spaces">        </span><span
                  class="textcolor"
                  style="color: #800080"
                  >(p2)</span
                > <span class="textcolor" style="color: #000000"
                  ><a href="tikz-shapes#pgf.edge">edge</a></span
                >
                [<span class="textcolor" style="color: #008000"
                  ><a href="tikz-graphs#pgf.-&gt;">-&gt;</a></span
                >,<span class="textcolor" style="color: #008000">skip loop</span
                >=<span class="textcolor" style="color: #008000">5mm</span
                >]<span class="spaces">  </span><span class="textcolor" style="color: #800080"
                  >(p6)</span
                >;<br />
                <span class="textcolor" style="color: #000000">\end</span>{<span
                  class="textcolor"
                  style="color: #0000b2"
                  ><a href="tikz-scopes#pgf.tikzpicture">tikzpicture</a></span
                >}<br />
              </code>
            </div>
          </figure>

          <p>Now, it&rsquo;s only a small step to add all the missing edges.</p>
          <h5 id="autosec-340">
            <span
              ><span class="sectionnumber" id="sec-5.4">5.4</span> The Diagram
              as a Graph</span
            ><a
              class="anchor-link"
              data-html-link="sec-5.4"
              data-pdf-destination="subsection.5.4"
              data-pdf-page="75"
              href="#sec-5.4"
              >&para;</a
            >
          </h5>
          <a id="pgfmanual-autopage-340"></a>

          <p>
            Matrices allow Ilka to align the nodes nicely, but the connections
            are not quite perfect. The problem is that the code does not really
            reflect the paths that underlie the diagram. For this, it seems
            natural enough to Ilka to use the
            <span class="verb">graphs</span> library since, after all,
            connecting nodes by edges is exactly what happens in a graph. The
            <span class="verb">graphs</span> library can both be used to connect
            nodes that have already been created, but it can also be used to
            create nodes &ldquo;on the fly&rdquo; and these processes can also
            be mixed.
          </p>
          <h6 id="autosec-341">
            <span
              ><span class="sectionnumber" id="sec-5.4.1">5.4.1</span>
              Connecting Already Positioned Nodes</span
            ><a
              class="anchor-link"
              data-html-link="sec-5.4.1"
              data-pdf-destination="subsubsection.5.4.1"
              data-pdf-page="75"
              href="#sec-5.4.1"
              >&para;</a
            >
          </h6>
          <a id="pgfmanual-autopage-341"></a>

          <p>
            Ilka has already a fine method for positioning her nodes (using a
            <span class="verb">matrix</span>), so all that she needs is an easy
            way of specifying the edges. For this, she uses the
            <span class="verb">\graph</span> command (which is actually just a
            shorthand for <span class="verb">\path graph</span>). It allows her
            to write down edges between them in a simple way (the macro
            <span class="verb">\matrixcontent</span> contains exactly the matrix
            content from the previous example; no need to repeat it here):
          </p>

          <div class="hidden"></div>

          <figure class="example">
            <div class="example-image">
              <p>
                <span class="lateximagesource" id="lateximage-pgfmanual-124"
                  ><!--
                                   +

unsigned integer . digit E unsigned integer

                                   -
--><img
                    alt="(-tikz-&nbsp;diagram)"
                    class="lateximage"
                    height="84.722"
                    loading="lazy"
                    src="pgfmanual-images/image-124.png"
                    style
                    width="475.549"
                /></span>
              </p>
            </div>

            <div class="example-code">
              <button class="clipboardButton" type="button">copy</button>

              <code>
                <span class="codepreamble"
                  >\usetikzlibrary {graphs,shapes.misc} </span
                ><br />
                <span class="textcolor" style="color: #000000">\begin</span
                >{<span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-scopes#pgf.tikzpicture">tikzpicture</a></span
                >}[<span class="textcolor" style="color: #008000"
                  >skip loop</span
                >/<span class="textcolor" style="color: #0000b2"
                  ><a href="pgfkeys#pgf./handlers/.style">.style</a></span
                >={<span class="textcolor" style="color: #008000"
                  ><a href="tikz-paths#pgf.to:path">to path</a></span
                >=<span class="textcolor" style="color: #008000"
                  >{<a href="tikz-paths#pgf.--">--</a> ++<span
                    class="textcolor"
                    style="color: #800080"
                    >(0,#1)</span
                  ><span class="spaces"> </span>-|
                  <span class="textcolor" style="color: #800080"
                    >(\tikztotarget)</span
                  >}}</span
                >,<br />
                <span class="spaces">                    </span><span
                  class="textcolor"
                  style="color: #008000"
                  >hv path</span
                >/<span class="textcolor" style="color: #0000b2"
                  ><a href="pgfkeys#pgf./handlers/.style">.style</a></span
                >={<span class="textcolor" style="color: #008000"
                  ><a href="tikz-paths#pgf.to:path">to path</a></span
                >=<span class="textcolor" style="color: #008000"
                  >{-|
                  <span class="textcolor" style="color: #800080"
                    >(\tikztotarget)</span
                  >}}</span
                >,<br />
                <span class="spaces">                    </span><span
                  class="textcolor"
                  style="color: #008000"
                  >vh path</span
                >/<span class="textcolor" style="color: #0000b2"
                  ><a href="pgfkeys#pgf./handlers/.style">.style</a></span
                >={<span class="textcolor" style="color: #008000"
                  ><a href="tikz-paths#pgf.to:path">to path</a></span
                >=<span class="textcolor" style="color: #008000"
                  >{|-
                  <span class="textcolor" style="color: #800080"
                    >(\tikztotarget)</span
                  >}}</span
                >]<br />
                <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-matrices#pgf.back/matrix">\matrix</a></span
                >[<span class="textcolor" style="color: #008000"
                  ><a href="tikz-matrices#pgf.row:sep">row sep</a></span
                >=<span class="textcolor" style="color: #008000">1mm</span
                >,<span class="textcolor" style="color: #008000"
                  ><a href="tikz-matrices#pgf.column:sep">column sep</a></span
                >=<span class="textcolor" style="color: #008000">2mm</span
                >] {<span class="spaces"> </span><span class="textcolor" style="color: #0000b2"
                  >\matrixcontent</span
                ><span class="spaces"> </span>};<br />
                <br />
                <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-graphs#pgf.back/graph">\graph</a></span
                > {<br />
                <span class="spaces">    </span><span
                  class="textcolor"
                  style="color: #800080"
                  >(p1)</span
                > <span class="textcolor" style="color: #000000"
                  ><a href="tikz-graphs#pgf.-&gt;">-&gt;</a></span
                >
                <span class="textcolor" style="color: #800080">(ui1)</span
                > <span class="textcolor" style="color: #000000"
                  ><a href="tikz-paths#pgf.--">--</a></span
                >
                <span class="textcolor" style="color: #800080">(p2)</span
                > <span class="textcolor" style="color: #000000"
                  ><a href="tikz-graphs#pgf.-&gt;">-&gt;</a></span
                >
                <span class="textcolor" style="color: #800080">(dot)</span
                > <span class="textcolor" style="color: #000000"
                  ><a href="tikz-paths#pgf.--">--</a></span
                >
                <span class="textcolor" style="color: #800080">(p3)</span
                > <span class="textcolor" style="color: #000000"
                  ><a href="tikz-graphs#pgf.-&gt;">-&gt;</a></span
                >
                <span class="textcolor" style="color: #800080">(digit)</span
                > <span class="textcolor" style="color: #000000"
                  ><a href="tikz-paths#pgf.--">--</a></span
                >
                <span class="textcolor" style="color: #800080">(p4)</span><br />
                <span class="spaces">         </span><span
                  class="textcolor"
                  style="color: #000000"
                  ><a href="tikz-paths#pgf.--">--</a></span
                >
                <span class="textcolor" style="color: #800080">(p5)</span
                ><span class="spaces">  </span><span class="textcolor" style="color: #000000"
                  ><a href="tikz-paths#pgf.--">--</a></span
                >
                <span class="textcolor" style="color: #800080">(p6)</span
                > <span class="textcolor" style="color: #000000"
                  ><a href="tikz-graphs#pgf.-&gt;">-&gt;</a></span
                >
                <span class="textcolor" style="color: #800080">(e)</span
                > <span class="textcolor" style="color: #000000"
                  ><a href="tikz-paths#pgf.--">--</a></span
                >
                <span class="textcolor" style="color: #800080">(p7)</span
                > <span class="textcolor" style="color: #000000"
                  ><a href="tikz-paths#pgf.--">--</a></span
                >
                <span class="textcolor" style="color: #800080">(p8)</span
                > <span class="textcolor" style="color: #000000"
                  ><a href="tikz-graphs#pgf.-&gt;">-&gt;</a></span
                >
                <span class="textcolor" style="color: #800080">(ui2)</span
                > <span class="textcolor" style="color: #000000"
                  ><a href="tikz-paths#pgf.--">--</a></span
                >
                <span class="textcolor" style="color: #800080">(p9)</span
                > <span class="textcolor" style="color: #000000"
                  ><a href="tikz-graphs#pgf.-&gt;">-&gt;</a></span
                >
                <span class="textcolor" style="color: #800080">(p10)</span
                >;<br />
                <span class="spaces">    </span><span
                  class="textcolor"
                  style="color: #800080"
                  >(p4)</span
                > <span class="textcolor" style="color: #000000"
                  ><a href="tikz-graphs#pgf.-&gt;">-&gt;</a></span
                >[<span class="textcolor" style="color: #008000">skip loop</span
                >=<span class="textcolor" style="color: #008000">-5mm</span
                >]<span class="spaces">  </span><span class="textcolor" style="color: #800080"
                  >(p3)</span
                >;<br />
                <span class="spaces">    </span><span
                  class="textcolor"
                  style="color: #800080"
                  >(p2)</span
                > <span class="textcolor" style="color: #000000"
                  ><a href="tikz-graphs#pgf.-&gt;">-&gt;</a></span
                >[<span class="textcolor" style="color: #008000">skip loop</span
                >=<span class="textcolor" style="color: #008000">5mm</span
                >]<span class="spaces">   </span><span
                  class="textcolor"
                  style="color: #800080"
                  >(p5)</span
                >;<br />
                <span class="spaces">    </span><span
                  class="textcolor"
                  style="color: #800080"
                  >(p6)</span
                > <span class="textcolor" style="color: #000000"
                  ><a href="tikz-graphs#pgf.-&gt;">-&gt;</a></span
                >[<span class="textcolor" style="color: #008000">skip loop</span
                >=<span class="textcolor" style="color: #008000">-11mm</span
                >] <span class="textcolor" style="color: #800080"
                  >(p9)</span
                >;<br />
                <span class="spaces">    </span><span
                  class="textcolor"
                  style="color: #800080"
                  >(p7)</span
                > <span class="textcolor" style="color: #000000"
                  ><a href="tikz-graphs#pgf.-&gt;">-&gt;</a></span
                >[<span class="textcolor" style="color: #008000">vh path</span
                >]<span class="spaces">         </span><span
                  class="textcolor"
                  style="color: #800080"
                  >(plus)</span
                ><span class="spaces">  </span><span class="textcolor" style="color: #000000"
                  ><a href="tikz-graphs#pgf.-&gt;">-&gt;</a></span
                >
                [<span class="textcolor" style="color: #008000">hv path</span
                >] <span class="textcolor" style="color: #800080"
                  >(p8)</span
                >;<br />
                <span class="spaces">    </span><span
                  class="textcolor"
                  style="color: #800080"
                  >(p7)</span
                > <span class="textcolor" style="color: #000000"
                  ><a href="tikz-graphs#pgf.-&gt;">-&gt;</a></span
                >[<span class="textcolor" style="color: #008000">vh path</span
                >]<span class="spaces">         </span><span
                  class="textcolor"
                  style="color: #800080"
                  >(minus)</span
                > <span class="textcolor" style="color: #000000"
                  ><a href="tikz-graphs#pgf.-&gt;">-&gt;</a></span
                >
                [<span class="textcolor" style="color: #008000">hv path</span
                >] <span class="textcolor" style="color: #800080"
                  >(p8)</span
                >;<br />
                <span class="spaces">  </span>};<br />
                <span class="textcolor" style="color: #000000">\end</span>{<span
                  class="textcolor"
                  style="color: #0000b2"
                  ><a href="tikz-scopes#pgf.tikzpicture">tikzpicture</a></span
                >}<br />
              </code>
            </div>
          </figure>

          <p>
            This is already pretty near to the desired result, just a few
            &ldquo;finishing touches&rdquo; are needed to style the edges more
            nicely.
          </p>

          <p>
            However, Ilka does not have the feeling that the
            <span class="verb">graph</span> command is all that hot in the
            example. It certainly does cut down on the number of characters she
            has to write, but the overall graph structure is not that much clear
            &ndash; it is still mainly a list of paths through the graph. It
            would be nice to specify that, say, there the path from
            <span class="verb">(p7)</span> sort of splits to
            <span class="verb">(plus)</span> and
            <span class="verb">(minus)</span> and then merges once more at
            <span class="verb">(p8)</span>. Also, all these parentheses are bit
            hard to type.
          </p>

          <p>
            It turns out that edges from a node to a whole group of nodes are
            quite easy to specify, as shown in the next example. Additionally,
            by using the <span class="verb">use existing nodes</span> option,
            Ilka can also leave out all the parentheses (again, some options
            have been moved outside to keep the examples shorter):
          </p>

          <figure class="example">
            <div class="example-image">
              <p>
                <span class="lateximagesource" id="lateximage-pgfmanual-125"
                  ><!--
                                   +
unsigned integer . digit E unsigned integer
                                   -
--><img
                    alt="(-tikz-&nbsp;diagram)"
                    class="lateximage"
                    height="81.194"
                    loading="lazy"
                    src="pgfmanual-images/image-125.png"
                    style
                    width="587.605"
                /></span>
              </p>
            </div>

            <div class="example-code">
              <button class="clipboardButton" type="button">copy</button>

              <code>
                <span class="codepreamble"
                  >\usetikzlibrary {arrows.meta,graphs,shapes.misc} </span
                ><br />
                <span class="textcolor" style="color: #000000">\begin</span
                >{<span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-scopes#pgf.tikzpicture">tikzpicture</a></span
                >}[<span class="textcolor" style="color: #008000"
                  ><a href="tikz-arrows#pgf.&gt;">&gt;</a></span
                >=<span class="textcolor" style="color: #008000"
                  >{Stealth[<span class="textcolor" style="color: #008000"
                    ><a href="tikz-arrows#pgf.round">round</a></span
                  >]}</span
                >,<span class="textcolor" style="color: #008000"
                  ><a href="tikz-actions#pgf.thick">thick</a></span
                >,<span class="textcolor" style="color: #008000">black!50</span
                >,<span class="textcolor" style="color: #008000"
                  ><a href="tikz-shapes#pgf.text">text</a></span
                >=<span class="textcolor" style="color: #008000">black</span
                >,<br />
                <span class="spaces">                    </span><span
                  class="textcolor"
                  style="color: #008000"
                  ><a href="tikz-graphs#pgf.every:new:-&gt;"
                    >every new -&gt;</a
                  ></span
                >/<span class="textcolor" style="color: #0000b2"
                  ><a href="pgfkeys#pgf./handlers/.style">.style</a></span
                >={<span class="textcolor" style="color: #008000"
                  ><a href="tikz-arrows#pgf.shorten:&gt;">shorten &gt;</a></span
                >=<span class="textcolor" style="color: #008000">1pt}</span
                >,<br />
                <span class="spaces">                    </span><span
                  class="textcolor"
                  style="color: #008000"
                  ><a href="tikz-graphs#pgf./tikz/graphs/every:graph"
                    >graphs/every graph</a
                  ></span
                >/<span class="textcolor" style="color: #0000b2"
                  ><a href="pgfkeys#pgf./handlers/.style">.style</a></span
                >={<span class="textcolor" style="color: #008000"
                  ><a href="tikz-graphs#pgf.edges">edges</a></span
                >=<span class="textcolor" style="color: #008000"
                  >rounded corners}</span
                >]<br />
                <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-matrices#pgf.back/matrix">\matrix</a></span
                >[<span class="textcolor" style="color: #008000"
                  ><a href="tikz-matrices#pgf.column:sep">column sep</a></span
                >=<span class="textcolor" style="color: #008000">4mm</span
                >] {<span class="spaces"> </span><span class="textcolor" style="color: #0000b2"
                  >\matrixcontent</span
                ><span class="spaces"> </span>};<br />
                <br />
                <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-graphs#pgf.back/graph">\graph</a></span
                > [<span class="textcolor" style="color: #008000"
                  ><a href="tikz-graphs#pgf.use:existing:nodes"
                    >use existing nodes</a
                  ></span
                >] {<br />
                <span class="spaces">    </span><span
                  class="textcolor"
                  style="color: #000000"
                  >p1</span
                >
                <span class="textcolor" style="color: #000000"
                  ><a href="tikz-graphs#pgf.-&gt;">-&gt;</a></span
                >
                <span class="textcolor" style="color: #000000">ui1</span>
                <span class="textcolor" style="color: #000000"
                  ><a href="tikz-paths#pgf.--">--</a></span
                >
                <span class="textcolor" style="color: #000000">p2</span>
                <span class="textcolor" style="color: #000000"
                  ><a href="tikz-graphs#pgf.-&gt;">-&gt;</a></span
                >
                <span class="textcolor" style="color: #000000">dot</span>
                <span class="textcolor" style="color: #000000"
                  ><a href="tikz-paths#pgf.--">--</a></span
                >
                <span class="textcolor" style="color: #000000">p3</span>
                <span class="textcolor" style="color: #000000"
                  ><a href="tikz-graphs#pgf.-&gt;">-&gt;</a></span
                >
                <span class="textcolor" style="color: #000000">digit</span>
                <span class="textcolor" style="color: #000000"
                  ><a href="tikz-paths#pgf.--">--</a></span
                >
                <span class="textcolor" style="color: #000000">p4</span>
                <span class="textcolor" style="color: #000000"
                  ><a href="tikz-paths#pgf.--">--</a></span
                >
                <span class="textcolor" style="color: #000000">p5</span>
                <span class="spaces"> </span><span class="textcolor" style="color: #000000"
                  ><a href="tikz-paths#pgf.--">--</a></span
                >
                <span class="textcolor" style="color: #000000">p6</span>
                <span class="textcolor" style="color: #000000"
                  ><a href="tikz-graphs#pgf.-&gt;">-&gt;</a></span
                >
                <span class="textcolor" style="color: #000000">e</span>
                <span class="textcolor" style="color: #000000"
                  ><a href="tikz-paths#pgf.--">--</a></span
                >
                <span class="textcolor" style="color: #000000">p7</span>
                <span class="textcolor" style="color: #000000"
                  ><a href="tikz-paths#pgf.--">--</a></span
                >
                <span class="textcolor" style="color: #000000">p8</span>
                <span class="textcolor" style="color: #000000"
                  ><a href="tikz-graphs#pgf.-&gt;">-&gt;</a></span
                >
                <span class="textcolor" style="color: #000000">ui2</span>
                <span class="textcolor" style="color: #000000"
                  ><a href="tikz-paths#pgf.--">--</a></span
                >
                <span class="textcolor" style="color: #000000">p9</span>
                <span class="textcolor" style="color: #000000"
                  ><a href="tikz-graphs#pgf.-&gt;">-&gt;</a></span
                >
                <span class="textcolor" style="color: #000000">p10</span>;<br />
                <span class="spaces">    </span><span
                  class="textcolor"
                  style="color: #000000"
                  >p4</span
                >
                <span class="textcolor" style="color: #000000"
                  ><a href="tikz-graphs#pgf.-&gt;">-&gt;</a></span
                >[<span class="textcolor" style="color: #008000">skip loop</span
                >=<span class="textcolor" style="color: #008000">-5mm</span
                >]<span class="spaces">  </span><span class="textcolor" style="color: #000000"
                  >p3</span
                >;<br />
                <span class="spaces">    </span><span
                  class="textcolor"
                  style="color: #000000"
                  >p2</span
                >
                <span class="textcolor" style="color: #000000"
                  ><a href="tikz-graphs#pgf.-&gt;">-&gt;</a></span
                >[<span class="textcolor" style="color: #008000">skip loop</span
                >=<span class="textcolor" style="color: #008000">5mm</span
                >]<span class="spaces">   </span><span
                  class="textcolor"
                  style="color: #000000"
                  >p5</span
                >;<br />
                <span class="spaces">    </span><span
                  class="textcolor"
                  style="color: #000000"
                  >p6</span
                >
                <span class="textcolor" style="color: #000000"
                  ><a href="tikz-graphs#pgf.-&gt;">-&gt;</a></span
                >[<span class="textcolor" style="color: #008000">skip loop</span
                >=<span class="textcolor" style="color: #008000">-11mm</span
                >] <span class="textcolor" style="color: #000000">p9</span
                >;<br />
                <span class="spaces">    </span><span
                  class="textcolor"
                  style="color: #000000"
                  >p7</span
                >
                <span class="textcolor" style="color: #000000"
                  ><a href="tikz-graphs#pgf.-&gt;">-&gt;</a></span
                >[<span class="textcolor" style="color: #008000">vh path</span
                >] {<span class="spaces"> </span><span class="textcolor" style="color: #000000"
                  >plus</span
                >, <span class="textcolor" style="color: #000000"
                  >minus</span
                >
                } <span class="textcolor" style="color: #000000"
                  ><a href="tikz-graphs#pgf.-&gt;">-&gt;</a></span
                >
                [<span class="textcolor" style="color: #008000">hv path</span
                >] <span class="textcolor" style="color: #000000">p8</span
                >;<br />
                <span class="spaces">  </span>};<br />
                <span class="textcolor" style="color: #000000">\end</span>{<span
                  class="textcolor"
                  style="color: #0000b2"
                  ><a href="tikz-scopes#pgf.tikzpicture">tikzpicture</a></span
                >}<br />
              </code>
            </div>
          </figure>
          <h6 id="autosec-346">
            <span
              ><span class="sectionnumber" id="sec-5.4.2">5.4.2</span> Creating
              Nodes Using the Graph Command</span
            ><a
              class="anchor-link"
              data-html-link="sec-5.4.2"
              data-pdf-destination="subsubsection.5.4.2"
              data-pdf-page="76"
              href="#sec-5.4.2"
              >&para;</a
            >
          </h6>
          <a id="pgfmanual-autopage-346"></a>

          <p>
            Ilka has heard that the <span class="verb">graph</span> command is
            also supposed to make it easy to create nodes, not only to connect
            them. This is, indeed, correct: When the
            <span class="verb">use existing nodes</span> option is not used and
            when a node name is not surrounded by parentheses, then
            <span class="tikzname">TikZ</span> will actually create a node whose
            name and text is the node name:
          </p>

          <figure class="example">
            <div class="example-image">
              <p>
                <span class="lateximagesource" id="lateximage-pgfmanual-126"
                  ><!--
unsigned integer d digit E
--><img
                    alt="(-tikz-&nbsp;diagram)"
                    class="lateximage"
                    height="14.547"
                    loading="lazy"
                    src="pgfmanual-images/image-126.png"
                    style
                    width="288.458"
                /></span>
              </p>
            </div>

            <div class="example-code">
              <button class="clipboardButton" type="button">copy</button>

              <code>
                <span class="codepreamble">\usetikzlibrary {graphs} </span
                ><br />
                <span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-scopes#pgf.back/tikz">\tikz</a></span
                > <span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-graphs#pgf.back/graph">\graph</a></span
                > [<span class="textcolor" style="color: #008000"
                  ><a href="tikz-graphs#pgf.grow:right">grow right</a></span
                >=<span class="textcolor" style="color: #008000">2cm</span
                >] {<span class="spaces"> </span><span class="textcolor" style="color: #000000"
                  >unsigned</span
                >
                <span class="textcolor" style="color: #000000">integer</span>
                <span class="textcolor" style="color: #000000"
                  ><a href="tikz-graphs#pgf.-&gt;">-&gt;</a></span
                >
                <span class="textcolor" style="color: #000000">d</span>
                <span class="textcolor" style="color: #000000"
                  ><a href="tikz-graphs#pgf.-&gt;">-&gt;</a></span
                >
                <span class="textcolor" style="color: #000000">digit</span>
                <span class="textcolor" style="color: #000000"
                  ><a href="tikz-graphs#pgf.-&gt;">-&gt;</a></span
                >
                <span class="textcolor" style="color: #000000">E</span> };<br />
              </code>
            </div>
          </figure>

          <p>
            Not quite perfect, but we are getting somewhere. First, let us
            change the positioning algorithm by saying
            <span class="verb">grow right sep</span>, which causes new nodes to
            be placed to the right of the previous nodes with a certain fixed
            separation (<span class="verb">1em</span> by default). Second, we
            add some options to make the node &ldquo;look nice&rdquo;. Third,
            note the funny <span class="verb">d</span> node above: Ilka tried
            writing just <span class="verb">.</span> there first, but got some
            error messages. The reason is that a node cannot be called
            <span class="verb">.</span> in <span class="tikzname">TikZ</span>,
            so she had to choose a different name &ndash; which is not good,
            since she wants a dot to be shown! The trick is to put the dot in
            quotation marks, this allows you to use &ldquo;quite arbitrary
            text&rdquo; as a node name:
          </p>

          <figure class="example">
            <div class="example-image">
              <p>
                <span class="lateximagesource" id="lateximage-pgfmanual-127"
                  ><!--
unsigned integer . digit E
--><img
                    alt="(-tikz-&nbsp;diagram)"
                    class="lateximage"
                    height="26.979"
                    loading="lazy"
                    src="pgfmanual-images/image-127.png"
                    style
                    width="258.314"
                /></span>
              </p>
            </div>

            <div class="example-code">
              <button class="clipboardButton" type="button">copy</button>

              <code>
                <span class="codepreamble"
                  >\usetikzlibrary {graphs,shapes.misc} </span
                ><br />
                <span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-scopes#pgf.back/tikz">\tikz</a></span
                > <span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-graphs#pgf.back/graph">\graph</a></span
                > [<span class="textcolor" style="color: #008000"
                  ><a href="tikz-graphs#pgf.grow:right:sep"
                    >grow right sep</a
                  ></span
                >] {<br />
                <span class="spaces">  </span><span class="textcolor" style="color: #000000"
                  >unsigned</span
                >
                <span class="textcolor" style="color: #000000">integer</span
                >[<span class="textcolor" style="color: #008000"
                  >nonterminal</span
                >] <span class="textcolor" style="color: #000000"
                  ><a href="tikz-graphs#pgf.-&gt;">-&gt;</a></span
                >
                <span class="textcolor" style="color: #000000">"</span>.<span
                  class="textcolor"
                  style="color: #000000"
                  >"</span
                >[<span class="textcolor" style="color: #008000">terminal</span
                >] <span class="textcolor" style="color: #000000"
                  ><a href="tikz-graphs#pgf.-&gt;">-&gt;</a></span
                >
                <span class="textcolor" style="color: #000000">digit</span
                >[<span class="textcolor" style="color: #008000">terminal</span
                >] <span class="textcolor" style="color: #000000"
                  ><a href="tikz-graphs#pgf.-&gt;">-&gt;</a></span
                >
                <span class="textcolor" style="color: #000000">E</span>[<span
                  class="textcolor"
                  style="color: #008000"
                  >terminal</span
                >]<br />
                };<br />
              </code>
            </div>
          </figure>

          <p>
            Now comes the fork to the plus and minus signs. Here, Ilka can use
            the grouping mechanism of the
            <span class="verb">graph</span> command to create a split:
          </p>

          <figure class="example">
            <div class="example-image">
              <p>
                <span class="lateximagesource" id="lateximage-pgfmanual-128"
                  ><!--
unsigned integer . digit E + unsigned integer




                                   -
--><img
                    alt="(-tikz-&nbsp;diagram)"
                    class="lateximage"
                    height="102.554"
                    loading="lazy"
                    src="pgfmanual-images/image-128.png"
                    style
                    width="428.559"
                /></span>
              </p>
            </div>

            <div class="example-code">
              <button class="clipboardButton" type="button">copy</button>

              <code>
                <span class="codepreamble"
                  >\usetikzlibrary {graphs,shapes.misc} </span
                ><br />
                <span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-scopes#pgf.back/tikz">\tikz</a></span
                > <span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-graphs#pgf.back/graph">\graph</a></span
                > [<span class="textcolor" style="color: #008000"
                  ><a href="tikz-graphs#pgf.grow:right:sep"
                    >grow right sep</a
                  ></span
                >] {<br />
                <span class="spaces">  </span><span class="textcolor" style="color: #000000"
                  >unsigned</span
                >
                <span class="textcolor" style="color: #000000">integer</span>
                <span class="spaces"> </span>[<span class="textcolor" style="color: #008000"
                  >nonterminal</span
                >] <span class="textcolor" style="color: #000000"
                  ><a href="tikz-graphs#pgf.-&gt;">-&gt;</a></span
                ><br />
                <span class="spaces">  </span><span class="textcolor" style="color: #000000"
                  >"</span
                >.<span class="textcolor" style="color: #000000">"</span>
                <span class="spaces">              </span>[<span
                  class="textcolor"
                  style="color: #008000"
                  >terminal</span
                >] <span class="textcolor" style="color: #000000"
                  ><a href="tikz-graphs#pgf.-&gt;">-&gt;</a></span
                ><br />
                <span class="spaces">  </span><span class="textcolor" style="color: #000000"
                  >digit</span
                >
                <span class="spaces">            </span>[<span
                  class="textcolor"
                  style="color: #008000"
                  >terminal</span
                >] <span class="textcolor" style="color: #000000"
                  ><a href="tikz-graphs#pgf.-&gt;">-&gt;</a></span
                ><br />
                <span class="spaces">  </span><span class="textcolor" style="color: #000000"
                  >E</span
                >
                <span class="spaces">                </span>[<span
                  class="textcolor"
                  style="color: #008000"
                  >terminal</span
                >] <span class="textcolor" style="color: #000000"
                  ><a href="tikz-graphs#pgf.-&gt;">-&gt;</a></span
                ><br />
                <span class="spaces">  </span>{<br />
                <span class="spaces">    </span><span
                  class="textcolor"
                  style="color: #000000"
                  >"+"</span
                >
                <span class="spaces">            </span>[<span
                  class="textcolor"
                  style="color: #008000"
                  >terminal</span
                >],<br />
                <span class="spaces">    </span><span
                  class="textcolor"
                  style="color: #000000"
                  >""</span
                >
                <span class="spaces">             </span>[<span
                  class="textcolor"
                  style="color: #008000"
                  ><a href="tikz-shapes#pgf.coordinate">coordinate</a></span
                >],<br />
                <span class="spaces">    </span><span
                  class="textcolor"
                  style="color: #000000"
                  >"-"</span
                >
                <span class="spaces">            </span>[<span
                  class="textcolor"
                  style="color: #008000"
                  >terminal</span
                >]<br />
                <span class="spaces">  </span>} <span
                  class="textcolor"
                  style="color: #000000"
                  ><a href="tikz-graphs#pgf.-&gt;">-&gt;</a></span
                ><br />
                <span class="spaces">  </span><span class="textcolor" style="color: #000000"
                  >ui2/unsigned</span
                >
                <span class="textcolor" style="color: #000000">integer</span>
                [<span class="textcolor" style="color: #008000"
                  >nonterminal</span
                >]<br />
                };<br />
              </code>
            </div>
          </figure>

          <p>
            Let us see, what is happening here. We want two
            <span class="verb">unsigned integer</span> nodes, but if we just
            were to use this text twice, then
            <span class="tikzname">TikZ</span> would have noticed that the same
            name was used already in the current graph and, being smart
            (actually too smart in this case), would have created an edge back
            to the already-created node. Thus, a fresh name is needed here.
            However, Ilka also cannot just write
            <span class="verb">unsigned integer2</span>, because she wants the
            original text to be shown, after all! The trick is to use a slash
            inside the node name: In order to &ldquo;render&rdquo; the node, the
            text following the slash is used instead of the node name, which is
            the text before the slash. Alternatively, the
            <span class="verb">as</span> option can be used, which also allows
            you to specify how a node should be rendered.
          </p>

          <p>
            It turns out that Ilka does not need to invent a name like
            <span class="verb">ui2</span> for a node that she will not reference
            again anyway. In this case, she can just leave out the name (write
            nothing before <span class="verb">/</span>), which always stands for
            a &ldquo;fresh, anonymous&rdquo; node name.
          </p>

          <p>
            Next, Ilka needs to add some coordinates in between of some nodes
            where the back-loops should got and she needs to shift the nodes a
            bit:
          </p>

          <figure class="example">
            <div class="example-image">
              <p>
                <span class="lateximagesource" id="lateximage-pgfmanual-129"
                  ><!--
                                   +
unsigned integer . digit E unsigned integer
                                   -
--><img
                    alt="(-tikz-&nbsp;diagram)"
                    class="lateximage"
                    height="83.402"
                    loading="lazy"
                    src="pgfmanual-images/image-129.png"
                    style
                    width="560.099"
                /></span>
              </p>
            </div>

            <div class="example-code">
              <button class="clipboardButton" type="button">copy</button>

              <code>
                <span class="codepreamble"
                  >\usetikzlibrary {arrows.meta,graphs,shapes.misc} </span
                ><br />
                <span class="textcolor" style="color: #000000">\begin</span
                >{<span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-scopes#pgf.tikzpicture">tikzpicture</a></span
                >}[<span class="textcolor" style="color: #008000"
                  ><a href="tikz-arrows#pgf.&gt;">&gt;</a></span
                >=<span class="textcolor" style="color: #008000"
                  >{Stealth[<span class="textcolor" style="color: #008000"
                    ><a href="tikz-arrows#pgf.round">round</a></span
                  >]}</span
                >, <span class="textcolor" style="color: #008000"
                  ><a href="tikz-actions#pgf.thick">thick</a></span
                >, <span class="textcolor" style="color: #008000"
                  >black!50</span
                >, <span class="textcolor" style="color: #008000"
                  ><a href="tikz-shapes#pgf.text">text</a></span
                >=<span class="textcolor" style="color: #008000">black</span
                >,<br />
                <span class="spaces">                    </span><span
                  class="textcolor"
                  style="color: #008000"
                  ><a href="tikz-graphs#pgf.every:new:-&gt;"
                    >every new -&gt;</a
                  ></span
                >/<span class="textcolor" style="color: #0000b2"
                  ><a href="pgfkeys#pgf./handlers/.style">.style</a></span
                >={<span class="textcolor" style="color: #008000"
                  ><a href="tikz-arrows#pgf.shorten:&gt;">shorten &gt;</a></span
                >=<span class="textcolor" style="color: #008000">1pt}</span
                >,<br />
                <span class="spaces">                    </span><span
                  class="textcolor"
                  style="color: #008000"
                  ><a href="tikz-graphs#pgf./tikz/graphs/every:graph"
                    >graphs/every graph</a
                  ></span
                >/<span class="textcolor" style="color: #0000b2"
                  ><a href="pgfkeys#pgf./handlers/.style">.style</a></span
                >={<span class="textcolor" style="color: #008000"
                  ><a href="tikz-graphs#pgf.edges">edges</a></span
                >=<span class="textcolor" style="color: #008000"
                  >rounded corners}</span
                >]<br />
                <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-graphs#pgf.back/graph">\graph</a></span
                > [<span class="textcolor" style="color: #008000"
                  ><a href="tikz-graphs#pgf.grow:right:sep"
                    >grow right sep</a
                  ></span
                >, <span class="textcolor" style="color: #008000"
                  ><a href="tikz-graphs#pgf.branch:down">branch down</a></span
                >=<span class="textcolor" style="color: #008000">7mm</span
                >] {<br />
                <span class="spaces">    </span><span
                  class="textcolor"
                  style="color: #000000"
                  >/</span
                >
                <span class="spaces">                 </span>[<span
                  class="textcolor"
                  style="color: #008000"
                  ><a href="tikz-shapes#pgf.coordinate">coordinate</a></span
                >] <span class="textcolor" style="color: #000000"
                  ><a href="tikz-graphs#pgf.-&gt;">-&gt;</a></span
                ><br />
                <span class="spaces">    </span><span
                  class="textcolor"
                  style="color: #000000"
                  >unsigned</span
                >
                <span class="textcolor" style="color: #000000">integer</span>
                <span class="spaces">  </span>[<span class="textcolor" style="color: #008000"
                  >nonterminal</span
                >] <span class="textcolor" style="color: #000000"
                  ><a href="tikz-paths#pgf.--">--</a></span
                ><br />
                <span class="spaces">    </span><span
                  class="textcolor"
                  style="color: #000000"
                  >p1</span
                >
                <span class="spaces">                </span>[<span
                  class="textcolor"
                  style="color: #008000"
                  ><a href="tikz-shapes#pgf.coordinate">coordinate</a></span
                >] <span class="textcolor" style="color: #000000"
                  ><a href="tikz-graphs#pgf.-&gt;">-&gt;</a></span
                ><br />
                <span class="spaces">    </span><span
                  class="textcolor"
                  style="color: #000000"
                  >"</span
                >.<span class="textcolor" style="color: #000000">"</span>
                <span class="spaces">               </span>[<span
                  class="textcolor"
                  style="color: #008000"
                  >terminal</span
                >] <span class="textcolor" style="color: #000000"
                  ><a href="tikz-paths#pgf.--">--</a></span
                ><br />
                <span class="spaces">    </span><span
                  class="textcolor"
                  style="color: #000000"
                  >p2</span
                >
                <span class="spaces">                </span>[<span
                  class="textcolor"
                  style="color: #008000"
                  ><a href="tikz-shapes#pgf.coordinate">coordinate</a></span
                >] <span class="textcolor" style="color: #000000"
                  ><a href="tikz-graphs#pgf.-&gt;">-&gt;</a></span
                ><br />
                <span class="spaces">    </span><span
                  class="textcolor"
                  style="color: #000000"
                  >digit</span
                >
                <span class="spaces">             </span>[<span
                  class="textcolor"
                  style="color: #008000"
                  >terminal</span
                >] <span class="textcolor" style="color: #000000"
                  ><a href="tikz-paths#pgf.--">--</a></span
                ><br />
                <span class="spaces">    </span><span
                  class="textcolor"
                  style="color: #000000"
                  >p3</span
                >
                <span class="spaces">                </span>[<span
                  class="textcolor"
                  style="color: #008000"
                  ><a href="tikz-shapes#pgf.coordinate">coordinate</a></span
                >] <span class="textcolor" style="color: #000000"
                  ><a href="tikz-paths#pgf.--">--</a></span
                ><br />
                <span class="spaces">    </span><span
                  class="textcolor"
                  style="color: #000000"
                  >p4</span
                >
                <span class="spaces">                </span>[<span
                  class="textcolor"
                  style="color: #008000"
                  ><a href="tikz-shapes#pgf.coordinate">coordinate</a></span
                >] <span class="textcolor" style="color: #000000"
                  ><a href="tikz-paths#pgf.--">--</a></span
                ><br />
                <span class="spaces">    </span><span
                  class="textcolor"
                  style="color: #000000"
                  >p5</span
                >
                <span class="spaces">                </span>[<span
                  class="textcolor"
                  style="color: #008000"
                  ><a href="tikz-shapes#pgf.coordinate">coordinate</a></span
                >] <span class="textcolor" style="color: #000000"
                  ><a href="tikz-graphs#pgf.-&gt;">-&gt;</a></span
                ><br />
                <span class="spaces">    </span><span
                  class="textcolor"
                  style="color: #000000"
                  >E</span
                >
                <span class="spaces">                 </span>[<span
                  class="textcolor"
                  style="color: #008000"
                  >terminal</span
                >] <span class="textcolor" style="color: #000000"
                  ><a href="tikz-paths#pgf.--">--</a></span
                ><br />
                <span class="spaces">    </span><span
                  class="textcolor"
                  style="color: #000000"
                  >q1</span
                >
                <span class="spaces">                </span>[<span
                  class="textcolor"
                  style="color: #008000"
                  ><a href="tikz-shapes#pgf.coordinate">coordinate</a></span
                >] <span class="textcolor" style="color: #000000"
                  ><a href="tikz-graphs#pgf.-&gt;">-&gt;</a></span
                >[<span class="textcolor" style="color: #008000">vh path</span
                >]<br />
                <span class="spaces">    </span>{<span class="spaces"> </span>[<span
                  class="textcolor"
                  style="color: #008000"
                  ><a href="tikz-graphs#pgf.nodes">nodes</a></span
                >=<span class="textcolor" style="color: #008000"
                  >{yshift=7mm}</span
                >]<br />
                <span class="spaces">      </span><span
                  class="textcolor"
                  style="color: #000000"
                  >"+"</span
                >
                <span class="spaces">               </span>[<span
                  class="textcolor"
                  style="color: #008000"
                  >terminal</span
                >],<br />
                <span class="spaces">      </span><span
                  class="textcolor"
                  style="color: #000000"
                  >q2/</span
                >
                <span class="spaces">               </span>[<span
                  class="textcolor"
                  style="color: #008000"
                  ><a href="tikz-shapes#pgf.coordinate">coordinate</a></span
                >],<br />
                <span class="spaces">      </span><span
                  class="textcolor"
                  style="color: #000000"
                  >"-"</span
                >
                <span class="spaces">               </span>[<span
                  class="textcolor"
                  style="color: #008000"
                  >terminal</span
                >]<br />
                <span class="spaces">    </span>} <span
                  class="textcolor"
                  style="color: #000000"
                  ><a href="tikz-graphs#pgf.-&gt;">-&gt;</a></span
                >
                [<span class="textcolor" style="color: #008000">hv path</span
                >]<br />
                <span class="spaces">    </span><span
                  class="textcolor"
                  style="color: #000000"
                  >q3</span
                >
                <span class="spaces">                </span>[<span
                  class="textcolor"
                  style="color: #008000"
                  ><a href="tikz-shapes#pgf.coordinate">coordinate</a></span
                >] <span class="textcolor" style="color: #000000"
                  ><a href="tikz-paths#pgf.--">--</a></span
                ><br />
                <span class="spaces">    </span><span
                  class="textcolor"
                  style="color: #000000"
                  >/unsigned</span
                >
                <span class="textcolor" style="color: #000000">integer</span>
                <span class="spaces"> </span>[<span class="textcolor" style="color: #008000"
                  >nonterminal</span
                >] <span class="textcolor" style="color: #000000"
                  ><a href="tikz-paths#pgf.--">--</a></span
                ><br />
                <span class="spaces">    </span><span
                  class="textcolor"
                  style="color: #000000"
                  >p6</span
                >
                <span class="spaces">                </span>[<span
                  class="textcolor"
                  style="color: #008000"
                  ><a href="tikz-shapes#pgf.coordinate">coordinate</a></span
                >] <span class="textcolor" style="color: #000000"
                  ><a href="tikz-graphs#pgf.-&gt;">-&gt;</a></span
                ><br />
                <span class="spaces">    </span><span
                  class="textcolor"
                  style="color: #000000"
                  >/</span
                >
                <span class="spaces">                 </span>[<span
                  class="textcolor"
                  style="color: #008000"
                  ><a href="tikz-shapes#pgf.coordinate">coordinate</a></span
                >];<br />
                <br />
                <span class="spaces">    </span><span
                  class="textcolor"
                  style="color: #000000"
                  >p1</span
                >
                <span class="textcolor" style="color: #000000"
                  ><a href="tikz-graphs#pgf.-&gt;">-&gt;</a></span
                >[<span class="textcolor" style="color: #008000">skip loop</span
                >=<span class="textcolor" style="color: #008000">5mm</span
                >]<span class="spaces">   </span><span
                  class="textcolor"
                  style="color: #000000"
                  >p4</span
                >;<br />
                <span class="spaces">    </span><span
                  class="textcolor"
                  style="color: #000000"
                  >p3</span
                >
                <span class="textcolor" style="color: #000000"
                  ><a href="tikz-graphs#pgf.-&gt;">-&gt;</a></span
                >[<span class="textcolor" style="color: #008000">skip loop</span
                >=<span class="textcolor" style="color: #008000">-5mm</span
                >]<span class="spaces">  </span><span class="textcolor" style="color: #000000"
                  >p2</span
                >;<br />
                <span class="spaces">    </span><span
                  class="textcolor"
                  style="color: #000000"
                  >p5</span
                >
                <span class="textcolor" style="color: #000000"
                  ><a href="tikz-graphs#pgf.-&gt;">-&gt;</a></span
                >[<span class="textcolor" style="color: #008000">skip loop</span
                >=<span class="textcolor" style="color: #008000">-11mm</span
                >] <span class="textcolor" style="color: #000000">p6</span
                >;<br />
                <span class="spaces">  </span>};<br />
                <span class="textcolor" style="color: #000000">\end</span>{<span
                  class="textcolor"
                  style="color: #0000b2"
                  ><a href="tikz-scopes#pgf.tikzpicture">tikzpicture</a></span
                >}<br />
              </code>
            </div>
          </figure>

          <p>
            All that remains to be done is to somehow get rid of the strange
            curves between the <span class="verb">E</span> and the unsigned
            integer. They are caused by
            <span class="tikzname">TikZ</span>&rsquo;s attempt at creating an
            edge that first goes vertical and then horizontal but is actually
            just horizontal. Additionally, the edge should not really be
            pointed; but it seems difficult to get rid of this since the
            <em>other</em> edges from <span class="verb">q1</span>, namely to
            <span class="verb">plus</span> and
            <span class="verb">minus</span> should be pointed.
          </p>

          <p>
            It turns out that there is a nice way of solving this problem: You
            can specify that a graph is <span class="verb">simple</span>. This
            means that there can be at most one edge between any two nodes. Now,
            if you specify an edge twice, the options of the second
            specification &ldquo;win&rdquo;. Thus, by adding two more lines that
            &ldquo;correct&rdquo; these edges, we get the final diagram with its
            complete code:
          </p>

          <figure class="example">
            <div class="example-image">
              <p>
                <span class="lateximagesource" id="lateximage-pgfmanual-130"
                  ><!--
                                   +
unsigned integer . digit E unsigned integer
                                   -
--><img
                    alt="(-tikz-&nbsp;diagram)"
                    class="lateximage"
                    height="83.402"
                    loading="lazy"
                    src="pgfmanual-images/image-130.png"
                    style
                    width="560.099"
                /></span>
              </p>
            </div>

            <div class="example-code">
              <button class="clipboardButton" type="button">copy</button>

              <code>
                <span class="codepreamble"
                  >\usetikzlibrary {arrows.meta,graphs,shapes.misc} </span
                ><br />
                <span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-scopes#pgf.back/tikz">\tikz</a></span
                > [<span class="textcolor" style="color: #008000"
                  ><a href="tikz-arrows#pgf.&gt;">&gt;</a></span
                >=<span class="textcolor" style="color: #008000"
                  >{Stealth[<span class="textcolor" style="color: #008000"
                    ><a href="tikz-arrows#pgf.round">round</a></span
                  >]}</span
                >, <span class="textcolor" style="color: #008000"
                  >black!50</span
                >, <span class="textcolor" style="color: #008000"
                  ><a href="tikz-shapes#pgf.text">text</a></span
                >=<span class="textcolor" style="color: #008000">black</span
                >, <span class="textcolor" style="color: #008000"
                  ><a href="tikz-actions#pgf.thick">thick</a></span
                >,<br />
                <span class="spaces">       </span><span
                  class="textcolor"
                  style="color: #008000"
                  ><a href="tikz-graphs#pgf.every:new:-&gt;"
                    >every new -&gt;</a
                  ></span
                >/<span class="textcolor" style="color: #0000b2">.style </span>=
                {<span class="textcolor" style="color: #008000"
                  ><a href="tikz-arrows#pgf.shorten:&gt;">shorten &gt;</a></span
                >=<span class="textcolor" style="color: #008000">1pt}</span
                >,<br />
                <span class="spaces">       </span><span
                  class="textcolor"
                  style="color: #008000"
                  ><a href="tikz-graphs#pgf./tikz/graphs/every:graph"
                    >graphs/every graph</a
                  ></span
                >/<span class="textcolor" style="color: #0000b2">.style </span>=
                {<span class="textcolor" style="color: #008000"
                  ><a href="tikz-graphs#pgf.edges">edges</a></span
                >=<span class="textcolor" style="color: #008000"
                  >rounded corners}</span
                >,<br />
                <span class="spaces">       </span><span
                  class="textcolor"
                  style="color: #008000"
                  >skip loop</span
                >/<span class="textcolor" style="color: #0000b2">.style </span>=
                {<span class="textcolor" style="color: #008000"
                  ><a href="tikz-paths#pgf.to:path">to path</a></span
                >=<span class="textcolor" style="color: #008000"
                  >{<a href="tikz-paths#pgf.--">--</a> ++<span
                    class="textcolor"
                    style="color: #800080"
                    >(0,#1)</span
                  ><span class="spaces"> </span>-|
                  <span class="textcolor" style="color: #800080"
                    >(\tikztotarget)</span
                  >}}</span
                >,<br />
                <span class="spaces">       </span><span
                  class="textcolor"
                  style="color: #008000"
                  >hv path</span
                >/<span class="textcolor" style="color: #0000b2">.style </span>=
                {<span class="textcolor" style="color: #008000"
                  ><a href="tikz-paths#pgf.to:path">to path</a></span
                >=<span class="textcolor" style="color: #008000"
                  >{-|
                  <span class="textcolor" style="color: #800080"
                    >(\tikztotarget)</span
                  >}}</span
                >,<br />
                <span class="spaces">       </span><span
                  class="textcolor"
                  style="color: #008000"
                  >vh path</span
                >/<span class="textcolor" style="color: #0000b2">.style </span>=
                {<span class="textcolor" style="color: #008000"
                  ><a href="tikz-paths#pgf.to:path">to path</a></span
                >=<span class="textcolor" style="color: #008000"
                  >{|-
                  <span class="textcolor" style="color: #800080"
                    >(\tikztotarget)</span
                  >}}</span
                >,<br />
                <span class="spaces">       </span><span
                  class="textcolor"
                  style="color: #008000"
                  >nonterminal</span
                >/<span class="textcolor" style="color: #0000b2">.style </span>=
                {<br />
                <span class="spaces">         </span><span
                  class="textcolor"
                  style="color: #008000"
                  ><a href="tikz-paths#pgf.rectangle">rectangle</a></span
                >, <span class="textcolor" style="color: #008000"
                  ><a href="tikz-shapes#pgf.minimum:size">minimum size</a></span
                >=<span class="textcolor" style="color: #008000">6mm</span
                >, <span class="textcolor" style="color: #008000"
                  ><a href="tikz-actions#pgf.very:thick">very thick</a></span
                >, <span class="textcolor" style="color: #008000"
                  ><a href="tikz-actions#pgf.draw">draw</a></span
                >=<span class="textcolor" style="color: #008000"
                  >red!50!black!50</span
                >, <span class="textcolor" style="color: #008000"
                  ><a href="library-shadings#pgf.top:color">top color</a></span
                >=<span class="textcolor" style="color: #008000">white</span
                >,<br />
                <span class="spaces">         </span><span
                  class="textcolor"
                  style="color: #008000"
                  ><a href="library-shadings#pgf.bottom:color"
                    >bottom color</a
                  ></span
                >=<span class="textcolor" style="color: #008000"
                  >red!50!black!20</span
                >, <span class="textcolor" style="color: #008000"
                  ><a href="tikz-shapes#pgf.font">font</a></span
                >=<span class="textcolor" style="color: #008000"
                  ><span class="textcolor" style="color: #0000b2"
                    >\itshape</span
                  ></span
                >, <span class="textcolor" style="color: #008000"
                  ><a href="tikz-shapes#pgf.text:height">text height</a></span
                >=<span class="textcolor" style="color: #008000">1.5ex</span
                >,<span class="textcolor" style="color: #008000"
                  ><a href="tikz-shapes#pgf.text:depth">text depth</a></span
                >=<span class="textcolor" style="color: #008000">.25ex}</span
                >,<br />
                <span class="spaces">       </span><span
                  class="textcolor"
                  style="color: #008000"
                  >terminal</span
                >/<span class="textcolor" style="color: #0000b2">.style </span>=
                {<br />
                <span class="spaces">         </span><span
                  class="textcolor"
                  style="color: #008000"
                  ><a href="library-shapes#pgf.rounded:rectangle"
                    >rounded rectangle</a
                  ></span
                >,<span class="spaces">  </span><span class="textcolor" style="color: #008000"
                  ><a href="tikz-shapes#pgf.minimum:size">minimum size</a></span
                >=<span class="textcolor" style="color: #008000">6mm</span
                >, <span class="textcolor" style="color: #008000"
                  ><a href="tikz-actions#pgf.very:thick">very thick</a></span
                >, <span class="textcolor" style="color: #008000"
                  ><a href="tikz-actions#pgf.draw">draw</a></span
                >=<span class="textcolor" style="color: #008000">black!50</span
                >, <span class="textcolor" style="color: #008000"
                  ><a href="library-shadings#pgf.top:color">top color</a></span
                >=<span class="textcolor" style="color: #008000">white</span
                >,<br />
                <span class="spaces">         </span><span
                  class="textcolor"
                  style="color: #008000"
                  ><a href="library-shadings#pgf.bottom:color"
                    >bottom color</a
                  ></span
                >=<span class="textcolor" style="color: #008000">black!20</span
                >, <span class="textcolor" style="color: #008000"
                  ><a href="tikz-shapes#pgf.font">font</a></span
                >=<span class="textcolor" style="color: #008000"
                  ><span class="textcolor" style="color: #0000b2"
                    >\ttfamily</span
                  ></span
                >, <span class="textcolor" style="color: #008000"
                  ><a href="tikz-shapes#pgf.text:height">text height</a></span
                >=<span class="textcolor" style="color: #008000">1.5ex</span
                >, <span class="textcolor" style="color: #008000"
                  ><a href="tikz-shapes#pgf.text:depth">text depth</a></span
                >=<span class="textcolor" style="color: #008000">.25ex}</span
                >,<br />
                <span class="spaces">       </span><span
                  class="textcolor"
                  style="color: #008000"
                  >shape </span
                >=
                <span class="textcolor" style="color: #008000"
                  ><a href="tikz-shapes#pgf.coordinate">coordinate</a><br />
                  <span class="spaces">       </span></span
                >]<br />
                <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-graphs#pgf.back/graph">\graph</a></span
                > [<span class="textcolor" style="color: #008000"
                  ><a href="tikz-graphs#pgf.grow:right:sep"
                    >grow right sep</a
                  ></span
                >, <span class="textcolor" style="color: #008000"
                  ><a href="tikz-graphs#pgf.branch:down">branch down</a></span
                >=<span class="textcolor" style="color: #008000">7mm</span
                >, <span class="textcolor" style="color: #008000"
                  ><a href="tikz-graphs#pgf.simple">simple</a></span
                >] {<br />
                <span class="spaces">    </span><span
                  class="textcolor"
                  style="color: #000000"
                  >/</span
                >
                <span class="textcolor" style="color: #000000"
                  ><a href="tikz-graphs#pgf.-&gt;">-&gt;</a></span
                >
                <span class="textcolor" style="color: #000000">unsigned</span>
                <span class="textcolor" style="color: #000000">integer</span
                >[<span class="textcolor" style="color: #008000"
                  >nonterminal</span
                >] <span class="textcolor" style="color: #000000"
                  ><a href="tikz-paths#pgf.--">--</a></span
                >
                <span class="textcolor" style="color: #000000">p1</span>
                <span class="textcolor" style="color: #000000"
                  ><a href="tikz-graphs#pgf.-&gt;">-&gt;</a></span
                >
                <span class="textcolor" style="color: #000000">"</span>.<span
                  class="textcolor"
                  style="color: #000000"
                  >"</span
                >
                [<span class="textcolor" style="color: #008000">terminal</span
                >] <span class="textcolor" style="color: #000000"
                  ><a href="tikz-paths#pgf.--">--</a></span
                >
                <span class="textcolor" style="color: #000000">p2</span>
                <span class="textcolor" style="color: #000000"
                  ><a href="tikz-graphs#pgf.-&gt;">-&gt;</a></span
                >
                <span class="textcolor" style="color: #000000">digit</span
                >[<span class="textcolor" style="color: #008000">terminal</span
                >] <span class="textcolor" style="color: #000000"
                  ><a href="tikz-paths#pgf.--">--</a></span
                ><br />
                <span class="spaces">    </span><span
                  class="textcolor"
                  style="color: #000000"
                  >p3</span
                >
                <span class="textcolor" style="color: #000000"
                  ><a href="tikz-paths#pgf.--">--</a></span
                >
                <span class="textcolor" style="color: #000000">p4</span>
                <span class="textcolor" style="color: #000000"
                  ><a href="tikz-paths#pgf.--">--</a></span
                >
                <span class="textcolor" style="color: #000000">p5</span>
                <span class="textcolor" style="color: #000000"
                  ><a href="tikz-graphs#pgf.-&gt;">-&gt;</a></span
                >
                <span class="textcolor" style="color: #000000">E</span>[<span
                  class="textcolor"
                  style="color: #008000"
                  >terminal</span
                >] <span class="textcolor" style="color: #000000"
                  ><a href="tikz-paths#pgf.--">--</a></span
                >
                <span class="textcolor" style="color: #000000">q1</span>
                <span class="textcolor" style="color: #000000"
                  ><a href="tikz-graphs#pgf.-&gt;">-&gt;</a></span
                >[<span class="textcolor" style="color: #008000">vh path</span
                >]<br />
                <span class="spaces">    </span>{[<span
                  class="textcolor"
                  style="color: #008000"
                  ><a href="tikz-graphs#pgf.nodes">nodes</a></span
                >=<span class="textcolor" style="color: #008000"
                  >{yshift=7mm}</span
                >]<br />
                <span class="spaces">      </span><span
                  class="textcolor"
                  style="color: #000000"
                  >"+"</span
                >[<span class="textcolor" style="color: #008000">terminal</span
                >], <span class="textcolor" style="color: #000000"
                  >q2</span
                >, <span class="textcolor" style="color: #000000"
                  >"-"</span
                >[<span class="textcolor" style="color: #008000">terminal</span
                >]<br />
                <span class="spaces">    </span>} <span
                  class="textcolor"
                  style="color: #000000"
                  ><a href="tikz-graphs#pgf.-&gt;">-&gt;</a></span
                >
                [<span class="textcolor" style="color: #008000">hv path</span
                >]<br />
                <span class="spaces">    </span><span
                  class="textcolor"
                  style="color: #000000"
                  >q3</span
                >
                <span class="textcolor" style="color: #000000"
                  ><a href="tikz-paths#pgf.--">--</a></span
                >
                <span class="textcolor" style="color: #000000">/unsigned</span>
                <span class="textcolor" style="color: #000000">integer</span>
                [<span class="textcolor" style="color: #008000"
                  >nonterminal</span
                >] <span class="textcolor" style="color: #000000"
                  ><a href="tikz-paths#pgf.--">--</a></span
                >
                <span class="textcolor" style="color: #000000">p6</span>
                <span class="textcolor" style="color: #000000"
                  ><a href="tikz-graphs#pgf.-&gt;">-&gt;</a></span
                >
                <span class="textcolor" style="color: #000000">/</span>;<br />
                <br />
                <span class="spaces">    </span><span
                  class="textcolor"
                  style="color: #000000"
                  >p1</span
                >
                <span class="textcolor" style="color: #000000"
                  ><a href="tikz-graphs#pgf.-&gt;">-&gt;</a></span
                >[<span class="textcolor" style="color: #008000">skip loop</span
                >=<span class="textcolor" style="color: #008000">5mm</span
                >]<span class="spaces">   </span><span
                  class="textcolor"
                  style="color: #000000"
                  >p4</span
                >;<br />
                <span class="spaces">    </span><span
                  class="textcolor"
                  style="color: #000000"
                  >p3</span
                >
                <span class="textcolor" style="color: #000000"
                  ><a href="tikz-graphs#pgf.-&gt;">-&gt;</a></span
                >[<span class="textcolor" style="color: #008000">skip loop</span
                >=<span class="textcolor" style="color: #008000">-5mm</span
                >]<span class="spaces">  </span><span class="textcolor" style="color: #000000"
                  >p2</span
                >;<br />
                <span class="spaces">    </span><span
                  class="textcolor"
                  style="color: #000000"
                  >p5</span
                >
                <span class="textcolor" style="color: #000000"
                  ><a href="tikz-graphs#pgf.-&gt;">-&gt;</a></span
                >[<span class="textcolor" style="color: #008000">skip loop</span
                >=<span class="textcolor" style="color: #008000">-11mm</span
                >] <span class="textcolor" style="color: #000000">p6</span
                >;<br />
                <br />
                <span class="spaces">    </span><span
                  class="textcolor"
                  style="color: #000000"
                  >q1</span
                >
                <span class="textcolor" style="color: #000000"
                  ><a href="tikz-paths#pgf.--">--</a></span
                >
                <span class="textcolor" style="color: #000000">q2</span>
                <span class="textcolor" style="color: #000000"
                  ><a href="tikz-paths#pgf.--">--</a></span
                >
                <span class="textcolor" style="color: #000000">q3</span
                >;<span class="spaces">  </span><span class="example-code-comment"
                  >% make these edges plain</span
                ><br />
                <span class="spaces">  </span>};<br />
              </code>
            </div>
          </figure>
        </section>
      </main>

      <footer>
        <div class="footer-left">
          <a href="/license">License</a> &middot;
          <a href="https://ctan.org/pkg/pgf">CTAN</a> &middot;
          <a href="https://pgf-tikz.github.io/pgf/pgfmanual.pdf"
            >Official PDF version</a
          >
          &middot;
          <a href="https://github.com/DominikPeters/tikz.dev-issues/issues"
            >Feedback and issues</a
          >
          &middot;
          <a href="https://github.com/DominikPeters/pgf-tikz-html-manual"
            >About this HTML version</a
          >
        </div>
        <div class="footer-right">
          <em>HTML version last updated: 2024-03-17</em>
        </div>
      </footer>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/@docsearch/js@3"></script>
    <script>
      docsearch({
        apiKey: "196e8c10ec187c9ae525dd5226fb9378",
        indexName: "tikz",
        appId: "JS6V5VZSDB",
        container: "#search",
        searchParameters: {
          filters: "tags:tikz",
        },
      });
    </script>
  </body>
</html>
