<!doctype html>
<html lang="en-US">
  <!--TikZ/PGF documentation:
Copyright 2020 by Till Tantau

This file may be distributed and/or modified

1. under the LaTeX Project Public License and/or
2. under the GNU Free Documentation License.

See https://tikz.dev/license for more details.

Translated to HTML using the lwarp package:
Copyright 2016-2024 Brian Dunn - BD Tech Concepts LLC

tikz.dev:
Copyright 2021-2024 Dominik Peters
This file may be distributed and/or modified under the LaTeX Project Public License.--><head>
    <meta charset="utf-8" />
    <meta content="LaTeX Lwarp package" name="generator" />
    <meta content="width=device-width, initial-scale=1.0" name="viewport" />
    <title>Tutorial: A Petri-Net for Hagen - PGF/TikZ Manual</title>
    <link href="style.css?v=20240321" rel="stylesheet" type="text/css" />

    <script
      async
      id="MathJax-script"
      src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"
    ></script>

    <script src="pgfmanual.js?v=20240321"></script>

    <script type="application/ld+json">
      {
        "@context": "https://schema.org",
        "@type": "BreadcrumbList",
        "itemListElement": [
          {
            "@type": "ListItem",
            "position": 1,
            "name": "Tutorials and Guidelines",
            "item": "https://tikz.dev/tutorials-guidelines"
          },
          {
            "@type": "ListItem",
            "position": 2,
            "name": "Tutorial: A Petri-Net for Hagen",
            "item": "https://tikz.dev/tutorial-nodes"
          }
        ]
      }
    </script>
    <script async src="lwarp-mathjax-emulation.js"></script>
    <link
      href="https://cdn.jsdelivr.net/npm/@docsearch/css@3"
      rel="stylesheet"
    />
    <link href="/favicon-16x16.png" rel="icon" sizes="16x16" type="image/png" />
    <link href="/favicon-32x32.png" rel="icon" sizes="32x32" type="image/png" />
    <link
      href="/apple-touch-icon.png"
      rel="apple-touch-icon"
      sizes="180x180"
      type="image/png"
    />
    <link href="/site.webmanifest" rel="manifest" />
    <meta
      content="In this second tutorial we explore the node mechanism of TikZ and pgf."
      name="description"
    />
    <meta
      content="In this second tutorial we explore the node mechanism of TikZ and pgf."
      property="og:description"
    />
    <link href="https://tikz.dev/tutorial-nodes" rel="canonical" />
    <meta content="https://tikz.dev/tutorial-nodes" property="og:url" />
    <meta
      content="https://tikz.dev/social-media-banners/tutorial-nodes.png"
      property="og:image"
    />
    <meta content="max-image-preview:large" name="robots" />
    <meta content="article" property="og:type" />
    <meta
      content="Tutorial: A Petri-Net for Hagen - PGF/TikZ Manual"
      property="og:title"
    />
    <meta content="summary" name="twitter:card" />
  </head>
  <body>
    <a id="pgfmanual-autopage-166"></a>

    <div class="bodyandsidetoc grid-container">
      <header>
        <div id="hamburger-button">â˜°</div>
        <strong
          ><a href="/">PGF/<span class="tikzname">TikZ</span> Manual</a></strong
        >
        <div id="search"></div>
      </header>
      <div class="sidetoccontainer" id="local-toc-container">
        <nav class="sidetoc">
          <div class="sidetoctitle"><p>On this page</p></div>
          <div class="sidetoccontents">
            <p>
              <a class="tocsubsection" href="#sec-3.1">Problem Statement</a>
            </p>
            <p>
              <a class="tocsubsection" href="#sec-3.2"
                >Setting up the Environment</a
              >
            </p>
            <p>
              <a class="tocsubsubsection" href="#sec-3.2.1"
                >Setting up the Environment in LaTeX</a
              >
            </p>
            <p>
              <a class="tocsubsubsection" href="#sec-3.2.2"
                >Setting up the Environment in Plain TeX</a
              >
            </p>
            <p>
              <a class="tocsubsubsection" href="#sec-3.2.3"
                >Setting up the Environment in ConTeXt</a
              >
            </p>
            <p>
              <a class="tocsubsection" href="#sec-3.3">Introduction to Nodes</a>
            </p>
            <p>
              <a class="tocsubsection" href="#sec-3.4"
                >Placing Nodes Using the At Syntax</a
              >
            </p>
            <p><a class="tocsubsection" href="#sec-3.5">Using Styles</a></p>
            <p><a class="tocsubsection" href="#sec-3.6">Node Size</a></p>
            <p><a class="tocsubsection" href="#sec-3.7">Naming Nodes</a></p>
            <p>
              <a class="tocsubsection" href="#sec-3.8"
                >Placing Nodes Using Relative Placement</a
              >
            </p>
            <p>
              <a class="tocsubsection" href="#sec-3.9"
                >Adding Labels Next to Nodes</a
              >
            </p>
            <p>
              <a class="tocsubsection" href="#sec-3.10">Connecting Nodes</a>
            </p>
            <p>
              <a class="tocsubsection" href="#sec-3.11"
                >Adding Labels Next to Lines</a
              >
            </p>
            <p>
              <a class="tocsubsection" href="#sec-3.12"
                >Adding the Snaked Line and Multi-Line Text</a
              >
            </p>
            <p>
              <a class="tocsubsection" href="#sec-3.13"
                >Using Layers: The Background Rectangles</a
              >
            </p>
            <p>
              <a class="tocsubsection" href="#sec-3.14">The Complete Code</a>
            </p>
          </div>
        </nav>
      </div>
      <div class="sidetoccontainer" id="chapter-toc-container">
        <nav class="sidetoc">
          <div class="sidetoctitle">
            <p>
              <span class="sidetocthetitle"
                >The <span class="tikzname">TikZ</span> and PGF Packages<br />
                Manual for version 3.1.10</span
              >
            </p>

            <p>Contents</p>
          </div>

          <div class="sidetoccontents">
            <p></p>

            <p>
              <a class="linkintro" href="/">Introduction</a>
            </p>

            <p class="current-part">
              <a class="tocpart" href="tutorials-guidelines"
                >Tutorials and Guidelines</a
              >
            </p>

            <p class="current-part">
              <a class="tocsection" href="tutorial"
                >Tutorial: A Picture for Karl&rsquo;s Students</a
              >
            </p>

            <p class="current current-part">
              <a class="tocsection" href="tutorial-nodes"
                >Tutorial: A Petri-Net for Hagen</a
              >
            </p>

            <p class="current-part">
              <a class="tocsection" href="tutorial-Euclid"
                >Tutorial: Euclid&rsquo;s Amber Version of the
                <em>Elements</em></a
              >
            </p>

            <p class="current-part">
              <a class="tocsection" href="tutorial-chains"
                >Tutorial: Diagrams as Simple Graphs</a
              >
            </p>

            <p class="current-part">
              <a class="tocsection" href="tutorial-map"
                >Tutorial: A Lecture Map for Johannes</a
              >
            </p>

            <p class="current-part">
              <a class="tocsection" href="guidelines">Guidelines on Graphics</a>
            </p>

            <p>
              <a class="tocpart" href="install"
                >Installation and Configuration</a
              >
            </p>

            <p>
              <a class="tocpart" href="tikz">Ti<em>k</em>Z</a>
            </p>

            <p>
              <a class="tocpart" href="gd">Graph Drawing</a>
            </p>

            <p>
              <a class="tocpart" href="libraries">Libraries</a>
            </p>

            <p>
              <a class="tocpart" href="dv">Data Visualization</a>
            </p>

            <p>
              <a class="tocpart" href="utilities">Utilities</a>
            </p>

            <p>
              <a class="tocpart" href="math"
                >Mathematical and Object-Oriented Engines</a
              >
            </p>

            <p>
              <a class="tocpart" href="base">The Basic Layer</a>
            </p>

            <p>
              <a class="tocpart" href="pgfsys">The System Layer</a>
            </p>
          </div>
        </nav>
      </div>

      <main class="bodycontainer">
        <section class="textbody">
          <h1>
            The <span class="tikzname">TikZ</span> and PGF Packages<br />
            Manual for version 3.1.10
          </h1>
          <h2 class="inserted">Tutorials and Guidelines</h2>

          <!--MathJax customizations:-->

          <p></p>
          <h4 id="autosec-167">
            <span
              ><span class="sectionnumber" id="sec-3">3</span> Tutorial: A
              Petri-Net for Hagen</span
            ><a
              class="anchor-link"
              data-pdf-destination="section.3"
              data-pdf-page="50"
              href="#sec-3"
              >&para;</a
            >
          </h4>
          <a id="pgfmanual-autopage-167"></a>
          <a id="pgfmanual-autofile-4"></a>

          <p>
            In this second tutorial we explore the node mechanism of
            <span class="tikzname">TikZ</span> and
            <span class="textsc">pgf</span>.
          </p>

          <p>
            Hagen must give a talk tomorrow about his favorite formalism for
            distributed systems: Petri nets! Hagen used to give his talks using
            a blackboard and everyone seemed to be perfectly content with this.
            Unfortunately, his audience has been spoiled recently with fancy
            projector-based presentations and there seems to be a certain amount
            of peer pressure that his Petri nets should also be drawn using a
            graphic program. One of the professors at his institute recommends
            <span class="tikzname">TikZ</span> for this and Hagen decides to
            give it a try.
          </p>
          <h5 id="autosec-169">
            <span
              ><span class="sectionnumber" id="sec-3.1">3.1</span> Problem
              Statement</span
            ><a
              class="anchor-link"
              data-html-link="sec-3.1"
              data-pdf-destination="subsection.3.1"
              data-pdf-page="50"
              href="#sec-3.1"
              >&para;</a
            >
          </h5>
          <a id="pgfmanual-autopage-169"></a>

          <p>
            For his talk, Hagen wishes to create a graphic that demonstrates how
            a net with place capacities can be simulated by a net without
            capacities. The graphic should look like this, ideally:
          </p>
          <blockquote>
            <p>
              <span class="lateximagesource" id="lateximage-pgfmanual-59"
                ><!--
      2 2


           replacement
          of the capacity
sâ‰¤3
           by two places
                            s sÌ„




      2 2
--><img
                  alt="(-tikz-&nbsp;diagram)"
                  class="lateximage"
                  height="231.842"
                  loading="lazy"
                  src="pgfmanual-images/image-59.png"
                  style
                  width="352.780"
              /></span>
            </p>
          </blockquote>
          <h5 id="autosec-173">
            <span
              ><span class="sectionnumber" id="sec-3.2">3.2</span> Setting up
              the Environment</span
            ><a
              class="anchor-link"
              data-html-link="sec-3.2"
              data-pdf-destination="subsection.3.2"
              data-pdf-page="50"
              href="#sec-3.2"
              >&para;</a
            >
          </h5>
          <a id="pgfmanual-autopage-173"></a>

          <p>
            For the picture Hagen will need to load the
            <span class="tikzname">TikZ</span> package as did Karl in the
            previous tutorial. However, Hagen will also need to load some
            additional <em>library packages</em> that Karl did not need. These
            library packages contain additional definitions like extra arrow
            tips that are typically not needed in a picture and that need to be
            loaded explicitly.
          </p>

          <p>
            Hagen will need to load several libraries: The
            <span class="verb">arrows.meta</span> library for the special arrow
            tip used in the graphic, the
            <span class="verb">decorations.pathmorphing</span> library for the
            &ldquo;snaking line&rdquo; in the middle, the
            <span class="verb">backgrounds</span> library for the two
            rectangular areas that are behind the two main parts of the picture,
            the <span class="verb">fit</span> library to easily compute the
            sizes of these rectangles, and the
            <span class="verb">positioning</span> library for placing nodes
            relative to other nodes.
          </p>
          <h6 id="autosec-174">
            <span
              ><span class="sectionnumber" id="sec-3.2.1">3.2.1</span> Setting
              up the Environment in
              <span class="latexlogofont"
                ><span class="latexlogo"
                  >L<span class="latexlogosup">a</span>T<span
                    class="latexlogosub"
                    >e</span
                  >X</span
                ></span
              ></span
            ><a
              class="anchor-link"
              data-html-link="sec-3.2.1"
              data-pdf-destination="subsubsection.3.2.1"
              data-pdf-page="50"
              href="#sec-3.2.1"
              >&para;</a
            >
          </h6>
          <a id="pgfmanual-autopage-174"></a>

          <p>
            When using
            <span class="latexlogofont"
              ><span class="latexlogo"
                >L<span class="latexlogosup">a</span>T<span class="latexlogosub"
                  >e</span
                >X</span
              ></span
            >
            use:
          </p>

          <figure class="example">
            <div class="example-code">
              <button class="clipboardButton" type="button">copy</button>

              <code>
                <br />
                <span class="textcolor" style="color: #0000b2"
                  >\documentclass</span
                >{<span class="textcolor" style="color: #000000">article</span
                >} <span class="example-code-comment">% say</span><br />
                <br />
                <span class="textcolor" style="color: #0000b2">\usepackage</span
                >{<span class="textcolor" style="color: #000000"
                  ><a href="tikz-scopes#pgf.tikz">tikz</a></span
                >}<br />
                <a href="tikz-scopes#pgf.back/usetikzlibrary">\usetikzlibrary</a
                >{arrows.meta,decorations.pathmorphing,backgrounds,positioning,fit,petri}<br />
                <br />
                <span class="textcolor" style="color: #000000">\begin</span
                >{<span class="textcolor" style="color: #0000b2">document</span
                >}<br />
                <span class="textcolor" style="color: #000000">\begin</span
                >{<span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-scopes#pgf.tikzpicture">tikzpicture</a></span
                >}<br />
                <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                > <span class="textcolor" style="color: #800080"
                  >(0,0)</span
                > <span class="textcolor" style="color: #000000"
                  ><a href="tikz-paths#pgf.--">--</a></span
                >
                <span class="textcolor" style="color: #800080">(1,1)</span
                >;<br />
                <span class="textcolor" style="color: #000000">\end</span>{<span
                  class="textcolor"
                  style="color: #0000b2"
                  ><a href="tikz-scopes#pgf.tikzpicture">tikzpicture</a></span
                >}<br />
                <span class="textcolor" style="color: #000000">\end</span>{<span
                  class="textcolor"
                  style="color: #0000b2"
                  >document</span
                >}<br />
              </code>
            </div>
          </figure>
          <h6 id="autosec-175">
            <span
              ><span class="sectionnumber" id="sec-3.2.2">3.2.2</span> Setting
              up the Environment in Plain
              <span class="latexlogofont"
                ><span class="latexlogo"
                  >T<span class="latexlogosub">e</span>X</span
                ></span
              ></span
            ><a
              class="anchor-link"
              data-html-link="sec-3.2.2"
              data-pdf-destination="subsubsection.3.2.2"
              data-pdf-page="50"
              href="#sec-3.2.2"
              >&para;</a
            >
          </h6>
          <a id="pgfmanual-autopage-175"></a>

          <p>
            When using plain
            <span class="latexlogofont"
              ><span class="latexlogo"
                >T<span class="latexlogosub">e</span>X</span
              ></span
            >
            use:
          </p>

          <figure class="example">
            <div class="example-code">
              <button class="clipboardButton" type="button">copy</button>

              <code>
                <br />
                <span class="example-code-comment">%% Plain TeX file</span
                ><br />
                <span class="textcolor" style="color: #0000b2">\input</span
                > <span class="textcolor" style="color: #000000"
                  ><a href="tikz-scopes#pgf.tikz">tikz</a></span
                >.<span class="textcolor" style="color: #000000">tex</span
                ><br />
                <a href="tikz-scopes#pgf.back/usetikzlibrary">\usetikzlibrary</a
                >{arrows.meta,decorations.pathmorphing,backgrounds,positioning,fit,petri}<br />
                <span class="textcolor" style="color: #0000b2"
                  >\baselineskip</span
                ><span class="textcolor" style="color: #000000">=12pt</span
                ><br />
                <span class="textcolor" style="color: #0000b2">\hsize</span
                ><span class="textcolor" style="color: #000000">=6</span>.<span
                  class="textcolor"
                  style="color: #000000"
                  >3truein</span
                ><br />
                <span class="textcolor" style="color: #0000b2">\vsize</span
                ><span class="textcolor" style="color: #000000">=8</span>.<span
                  class="textcolor"
                  style="color: #000000"
                  >7truein</span
                ><br />
                <span class="textcolor" style="color: #0000b2"
                  >\tikzpicture</span
                ><br />
                <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                > <span class="textcolor" style="color: #800080"
                  >(0,0)</span
                > <span class="textcolor" style="color: #000000"
                  ><a href="tikz-paths#pgf.--">--</a></span
                >
                <span class="textcolor" style="color: #800080">(1,1)</span
                >;<br />
                <span class="textcolor" style="color: #0000b2"
                  >\endtikzpicture</span
                ><br />
                <span class="textcolor" style="color: #0000b2">\bye</span><br />
              </code>
            </div>
          </figure>
          <h6 id="autosec-176">
            <span
              ><span class="sectionnumber" id="sec-3.2.3">3.2.3</span> Setting
              up the Environment in Con<span class="latexlogofont"
                ><span class="latexlogo"
                  >T<span class="latexlogosub">e</span>X</span
                ></span
              >t</span
            ><a
              class="anchor-link"
              data-html-link="sec-3.2.3"
              data-pdf-destination="subsubsection.3.2.3"
              data-pdf-page="51"
              href="#sec-3.2.3"
              >&para;</a
            >
          </h6>
          <a id="pgfmanual-autopage-176"></a>

          <p>
            When using Con<span class="latexlogofont"
              ><span class="latexlogo"
                >T<span class="latexlogosub">e</span>X</span
              ></span
            >t, use:
          </p>

          <figure class="example">
            <div class="example-code">
              <button class="clipboardButton" type="button">copy</button>

              <code>
                <br />
                <span class="example-code-comment">%% ConTeXt file</span><br />
                <span class="textcolor" style="color: #0000b2">\usemodule</span
                >[<span class="textcolor" style="color: #008000"
                  ><a href="tikz-scopes#pgf.tikz">tikz</a></span
                >]<br />
                <span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-scopes#pgf.back/usetikzlibrary"
                    >\usetikzlibrary</a
                  ></span
                >[<span class="textcolor" style="color: #008000"
                  ><a href="tikz-arrows#pgf.arrows.meta">arrows.meta</a></span
                >,<span class="textcolor" style="color: #008000"
                  ><a href="library-decorations#pgf.decorations.pathmorphing"
                    >decorations.pathmorphing</a
                  ></span
                >,<span class="textcolor" style="color: #008000"
                  ><a href="library-backgrounds#pgf.backgrounds"
                    >backgrounds</a
                  ></span
                >,<span class="textcolor" style="color: #008000"
                  ><a href="tikz-shapes#pgf.positioning">positioning</a></span
                >,<span class="textcolor" style="color: #008000"
                  ><a href="library-fit#pgf.fit">fit</a></span
                >,<span class="textcolor" style="color: #008000"
                  ><a href="library-petri#pgf.petri">petri</a></span
                >]<br />
                <br />
                <span class="textcolor" style="color: #0000b2">\starttext</span
                ><br />
                <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                  >\starttikzpicture</span
                ><br />
                <span class="spaces">    </span><span
                  class="textcolor"
                  style="color: #0000b2"
                  ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                > <span class="textcolor" style="color: #800080"
                  >(0,0)</span
                > <span class="textcolor" style="color: #000000"
                  ><a href="tikz-paths#pgf.--">--</a></span
                >
                <span class="textcolor" style="color: #800080">(1,1)</span
                >;<br />
                <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                  >\stoptikzpicture</span
                ><br />
                <span class="textcolor" style="color: #0000b2">\stoptext</span
                ><br />
              </code>
            </div>
          </figure>
          <h5 id="autosec-177">
            <span
              ><span class="sectionnumber" id="sec-3.3">3.3</span> Introduction
              to Nodes</span
            ><a
              class="anchor-link"
              data-html-link="sec-3.3"
              data-pdf-destination="subsection.3.3"
              data-pdf-page="51"
              href="#sec-3.3"
              >&para;</a
            >
          </h5>
          <a id="pgfmanual-autopage-177"></a>

          <p>
            In principle, we already know how to create the graphics that Hagen
            desires (except perhaps for the snaked line, we will come to that):
            We start with big light gray rectangle and then add lots of circles
            and small rectangle, plus some arrows.
          </p>

          <p>
            However, this approach has numerous disadvantages: First, it is hard
            to change anything at a later stage. For example, if we decide to
            add more places to the Petri nets (the circles are called places in
            Petri net theory), all of the coordinates change and we need to
            recalculate everything. Second, it is hard to read the code for the
            Petri net as it is just a long and complicated list of coordinates
            and drawing commands &ndash; the underlying structure of the Petri
            net is lost.
          </p>

          <p>
            Fortunately, <span class="tikzname">TikZ</span> offers a powerful
            mechanism for avoiding the above problems: nodes. We already came
            across nodes in the previous tutorial, where we used them to add
            labels to Karl&rsquo;s graphic. In the present tutorial we will see
            that nodes are much more powerful.
          </p>

          <p>
            A node is a small part of a picture. When a node is created, you
            provide a position where the node should be drawn and a
            <em>shape</em>. A node of shape
            <span class="verb">circle</span> will be drawn as a circle, a node
            of shape <span class="verb">rectangle</span> as a rectangle, and so
            on. A node may also contain some text, which is why Karl used nodes
            to show text. Finally, a node can get a <em>name</em> for later
            reference.
          </p>

          <p>
            In Hagen&rsquo;s picture we will use nodes for the places and for
            the transitions of the Petri net (the places are the circles, the
            transitions are the rectangles). Let us start with the upper half of
            the left Petri net. In this upper half we have three places and two
            transitions. Instead of drawing three circles and two rectangles, we
            use three nodes of shape <span class="verb">circle</span> and two
            nodes of shape <span class="verb">rectangle</span>.
          </p>

          <figure class="example">
            <div class="example-image">
              <p>
                <span class="lateximagesource" id="lateximage-pgfmanual-60"
                  ><!--
--><img
                    alt="(-tikz-&nbsp;diagram)"
                    class="lateximage"
                    height="91.346"
                    loading="lazy"
                    src="pgfmanual-images/image-60.png"
                    style
                    width="87.644"
                /></span>
              </p>
            </div>

            <div class="example-code">
              <button class="clipboardButton" type="button">copy</button>

              <code>
                <br />
                <span class="textcolor" style="color: #000000">\begin</span
                >{<span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-scopes#pgf.tikzpicture">tikzpicture</a></span
                >}<br />
                <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-paths#pgf.back/path">\path</a></span
                > <span class="textcolor" style="color: #800080"
                  >( 0,2)</span
                > <span class="textcolor" style="color: #000000"
                  ><a href="tikz-coordinates#pgf.node">node</a></span
                >
                [<span class="textcolor" style="color: #008000"
                  ><a href="tikz-shapes#pgf.shape">shape</a></span
                >=<span class="textcolor" style="color: #008000"
                  ><a href="tikz-paths#pgf.circle">circle</a></span
                >,<span class="textcolor" style="color: #008000"
                  ><a href="tikz-actions#pgf.draw">draw</a></span
                >] {}<br />
                <span class="spaces">        </span><span
                  class="textcolor"
                  style="color: #800080"
                  >( 0,1)</span
                > <span class="textcolor" style="color: #000000"
                  ><a href="tikz-coordinates#pgf.node">node</a></span
                >
                [<span class="textcolor" style="color: #008000"
                  ><a href="tikz-shapes#pgf.shape">shape</a></span
                >=<span class="textcolor" style="color: #008000"
                  ><a href="tikz-paths#pgf.circle">circle</a></span
                >,<span class="textcolor" style="color: #008000"
                  ><a href="tikz-actions#pgf.draw">draw</a></span
                >] {}<br />
                <span class="spaces">        </span><span
                  class="textcolor"
                  style="color: #800080"
                  >( 0,0)</span
                > <span class="textcolor" style="color: #000000"
                  ><a href="tikz-coordinates#pgf.node">node</a></span
                >
                [<span class="textcolor" style="color: #008000"
                  ><a href="tikz-shapes#pgf.shape">shape</a></span
                >=<span class="textcolor" style="color: #008000"
                  ><a href="tikz-paths#pgf.circle">circle</a></span
                >,<span class="textcolor" style="color: #008000"
                  ><a href="tikz-actions#pgf.draw">draw</a></span
                >] {}<br />
                <span class="spaces">        </span><span
                  class="textcolor"
                  style="color: #800080"
                  >( 1,1)</span
                > <span class="textcolor" style="color: #000000"
                  ><a href="tikz-coordinates#pgf.node">node</a></span
                >
                [<span class="textcolor" style="color: #008000"
                  ><a href="tikz-shapes#pgf.shape">shape</a></span
                >=<span class="textcolor" style="color: #008000"
                  ><a href="tikz-paths#pgf.rectangle">rectangle</a></span
                >,<span class="textcolor" style="color: #008000"
                  ><a href="tikz-actions#pgf.draw">draw</a></span
                >] {}<br />
                <span class="spaces">        </span><span
                  class="textcolor"
                  style="color: #800080"
                  >(-1,1)</span
                > <span class="textcolor" style="color: #000000"
                  ><a href="tikz-coordinates#pgf.node">node</a></span
                >
                [<span class="textcolor" style="color: #008000"
                  ><a href="tikz-shapes#pgf.shape">shape</a></span
                >=<span class="textcolor" style="color: #008000"
                  ><a href="tikz-paths#pgf.rectangle">rectangle</a></span
                >,<span class="textcolor" style="color: #008000"
                  ><a href="tikz-actions#pgf.draw">draw</a></span
                >] {};<br />
                <span class="textcolor" style="color: #000000">\end</span>{<span
                  class="textcolor"
                  style="color: #0000b2"
                  ><a href="tikz-scopes#pgf.tikzpicture">tikzpicture</a></span
                >}<br />
              </code>
            </div>
          </figure>

          <p>
            Hagen notes that this does not quite look like the final picture,
            but it seems like a good first step.
          </p>

          <p>
            Let us have a more detailed look at the code. The whole picture
            consists of a single path. Ignoring the
            <span class="verb">node</span> operations, there is not much going
            on in this path: It is just a sequence of coordinates with nothing
            &ldquo;happening&rdquo; between them. Indeed, even if something were
            to happen like a line-to or a curve-to, the
            <span class="verb">\path</span> command would not &ldquo;do&rdquo;
            anything with the resulting path. So, all the magic must be in the
            <span class="verb">node</span> commands.
          </p>

          <p>
            In the previous tutorial we learned that a
            <span class="verb">node</span> will add a piece of text at the last
            coordinate. Thus, each of the five nodes is added at a different
            position. In the above code, this text is empty (because of the
            empty <span class="verb">{}</span>). So, why do we see anything at
            all? The answer is the <span class="verb">draw</span> option for the
            <span class="verb">node</span> operation: It causes the &ldquo;shape
            around the text&rdquo; to be drawn.
          </p>

          <p>
            So, the code
            <span class="verb">(0,2) node [shape=circle,draw] {}</span> means
            the following: &ldquo;In the main path, add a move-to to the
            coordinate <span class="verb">(0,2)</span>. Then, temporarily
            suspend the construction of the main path while the node is built.
            This node will be a <span class="verb">circle</span> around an empty
            text. This circle is to be <span class="verb">draw</span>n, but not
            filled or otherwise used. Once this whole node is constructed, it is
            saved until after the main path is finished. Then, it is
            drawn.&rdquo; The following
            <span class="verb">(0,1) node [shape=circle,draw] {}</span> then has
            the following effect: &ldquo;Continue the main path with a move-to
            to <span class="verb">(0,1)</span>. Then construct a node at this
            position also. This node is also shown after the main path is
            finished.&rdquo; And so on.
          </p>
          <h5 id="autosec-180">
            <span
              ><span class="sectionnumber" id="sec-3.4">3.4</span> Placing Nodes
              Using the At Syntax</span
            ><a
              class="anchor-link"
              data-html-link="sec-3.4"
              data-pdf-destination="subsection.3.4"
              data-pdf-page="52"
              href="#sec-3.4"
              >&para;</a
            >
          </h5>
          <a id="pgfmanual-autopage-180"></a>

          <p>
            Hagen now understands how the
            <span class="verb">node</span> operation adds nodes to the path, but
            it seems a bit silly to create a path using the
            <span class="verb">\path</span> operation, consisting of numerous
            superfluous move-to operations, only to place nodes. He is pleased
            to learn that there are ways to add nodes in a more sensible manner.
          </p>

          <p>
            First, the <span class="verb">node</span> operation allows one to
            add <span class="verb">at (</span><span class="angle">&langle;</span
            ><i>coordinate</i><span class="angle">&rangle;</span
            ><span class="verb">)</span> in order to directly specify where the
            node should be placed, sidestepping the rule that nodes are placed
            on the last coordinate. Hagen can then write the following:
          </p>

          <figure class="example">
            <div class="example-image">
              <p>
                <span class="lateximagesource" id="lateximage-pgfmanual-61"
                  ><!--
--><img
                    alt="(-tikz-&nbsp;diagram)"
                    class="lateximage"
                    height="91.346"
                    loading="lazy"
                    src="pgfmanual-images/image-61.png"
                    style
                    width="87.644"
                /></span>
              </p>
            </div>

            <div class="example-code">
              <button class="clipboardButton" type="button">copy</button>

              <code>
                <br />
                <span class="textcolor" style="color: #000000">\begin</span
                >{<span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-scopes#pgf.tikzpicture">tikzpicture</a></span
                >}<br />
                <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-paths#pgf.back/path">\path</a></span
                > <span class="textcolor" style="color: #000000"
                  ><a href="tikz-coordinates#pgf.node">node</a></span
                >
                <span class="textcolor" style="color: #000000"
                  ><a href="tikz-paths#pgf.at">at</a></span
                >
                <span class="textcolor" style="color: #800080">( 0,2)</span
                > [<span class="textcolor" style="color: #008000"
                  ><a href="tikz-shapes#pgf.shape">shape</a></span
                >=<span class="textcolor" style="color: #008000"
                  ><a href="tikz-paths#pgf.circle">circle</a></span
                >,<span class="textcolor" style="color: #008000"
                  ><a href="tikz-actions#pgf.draw">draw</a></span
                >] {}<br />
                <span class="spaces">        </span><span
                  class="textcolor"
                  style="color: #000000"
                  ><a href="tikz-coordinates#pgf.node">node</a></span
                >
                <span class="textcolor" style="color: #000000"
                  ><a href="tikz-paths#pgf.at">at</a></span
                >
                <span class="textcolor" style="color: #800080">( 0,1)</span
                > [<span class="textcolor" style="color: #008000"
                  ><a href="tikz-shapes#pgf.shape">shape</a></span
                >=<span class="textcolor" style="color: #008000"
                  ><a href="tikz-paths#pgf.circle">circle</a></span
                >,<span class="textcolor" style="color: #008000"
                  ><a href="tikz-actions#pgf.draw">draw</a></span
                >] {}<br />
                <span class="spaces">        </span><span
                  class="textcolor"
                  style="color: #000000"
                  ><a href="tikz-coordinates#pgf.node">node</a></span
                >
                <span class="textcolor" style="color: #000000"
                  ><a href="tikz-paths#pgf.at">at</a></span
                >
                <span class="textcolor" style="color: #800080">( 0,0)</span
                > [<span class="textcolor" style="color: #008000"
                  ><a href="tikz-shapes#pgf.shape">shape</a></span
                >=<span class="textcolor" style="color: #008000"
                  ><a href="tikz-paths#pgf.circle">circle</a></span
                >,<span class="textcolor" style="color: #008000"
                  ><a href="tikz-actions#pgf.draw">draw</a></span
                >] {}<br />
                <span class="spaces">        </span><span
                  class="textcolor"
                  style="color: #000000"
                  ><a href="tikz-coordinates#pgf.node">node</a></span
                >
                <span class="textcolor" style="color: #000000"
                  ><a href="tikz-paths#pgf.at">at</a></span
                >
                <span class="textcolor" style="color: #800080">( 1,1)</span
                > [<span class="textcolor" style="color: #008000"
                  ><a href="tikz-shapes#pgf.shape">shape</a></span
                >=<span class="textcolor" style="color: #008000"
                  ><a href="tikz-paths#pgf.rectangle">rectangle</a></span
                >,<span class="textcolor" style="color: #008000"
                  ><a href="tikz-actions#pgf.draw">draw</a></span
                >] {}<br />
                <span class="spaces">        </span><span
                  class="textcolor"
                  style="color: #000000"
                  ><a href="tikz-coordinates#pgf.node">node</a></span
                >
                <span class="textcolor" style="color: #000000"
                  ><a href="tikz-paths#pgf.at">at</a></span
                >
                <span class="textcolor" style="color: #800080">(-1,1)</span
                > [<span class="textcolor" style="color: #008000"
                  ><a href="tikz-shapes#pgf.shape">shape</a></span
                >=<span class="textcolor" style="color: #008000"
                  ><a href="tikz-paths#pgf.rectangle">rectangle</a></span
                >,<span class="textcolor" style="color: #008000"
                  ><a href="tikz-actions#pgf.draw">draw</a></span
                >] {};<br />
                <span class="textcolor" style="color: #000000">\end</span>{<span
                  class="textcolor"
                  style="color: #0000b2"
                  ><a href="tikz-scopes#pgf.tikzpicture">tikzpicture</a></span
                >}<br />
              </code>
            </div>
          </figure>

          <p>
            Now Hagen is still left with a single empty path, but at least the
            path no longer contains strange move-to&rsquo;s. It turns out that
            this can be improved further: The
            <span class="verb">\node</span> command is an abbreviation for
            <span class="verb">\path node</span>, which allows Hagen to write:
          </p>

          <figure class="example">
            <div class="example-image">
              <p>
                <span class="lateximagesource" id="lateximage-pgfmanual-62"
                  ><!--
--><img
                    alt="(-tikz-&nbsp;diagram)"
                    class="lateximage"
                    height="91.346"
                    loading="lazy"
                    src="pgfmanual-images/image-62.png"
                    style
                    width="87.644"
                /></span>
              </p>
            </div>

            <div class="example-code">
              <button class="clipboardButton" type="button">copy</button>

              <code>
                <br />
                <span class="textcolor" style="color: #000000">\begin</span
                >{<span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-scopes#pgf.tikzpicture">tikzpicture</a></span
                >}<br />
                <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-shapes#pgf.back/node">\node</a></span
                > <span class="textcolor" style="color: #000000"
                  ><a href="tikz-paths#pgf.at">at</a></span
                >
                <span class="textcolor" style="color: #800080">( 0,2)</span
                > [<span class="textcolor" style="color: #008000"
                  ><a href="tikz-paths#pgf.circle">circle</a></span
                >,<span class="textcolor" style="color: #008000"
                  ><a href="tikz-actions#pgf.draw">draw</a></span
                >] {};<br />
                <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-shapes#pgf.back/node">\node</a></span
                > <span class="textcolor" style="color: #000000"
                  ><a href="tikz-paths#pgf.at">at</a></span
                >
                <span class="textcolor" style="color: #800080">( 0,1)</span
                > [<span class="textcolor" style="color: #008000"
                  ><a href="tikz-paths#pgf.circle">circle</a></span
                >,<span class="textcolor" style="color: #008000"
                  ><a href="tikz-actions#pgf.draw">draw</a></span
                >] {};<br />
                <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-shapes#pgf.back/node">\node</a></span
                > <span class="textcolor" style="color: #000000"
                  ><a href="tikz-paths#pgf.at">at</a></span
                >
                <span class="textcolor" style="color: #800080">( 0,0)</span
                > [<span class="textcolor" style="color: #008000"
                  ><a href="tikz-paths#pgf.circle">circle</a></span
                >,<span class="textcolor" style="color: #008000"
                  ><a href="tikz-actions#pgf.draw">draw</a></span
                >] {};<br />
                <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-shapes#pgf.back/node">\node</a></span
                > <span class="textcolor" style="color: #000000"
                  ><a href="tikz-paths#pgf.at">at</a></span
                >
                <span class="textcolor" style="color: #800080">( 1,1)</span
                > [<span class="textcolor" style="color: #008000"
                  ><a href="tikz-paths#pgf.rectangle">rectangle</a></span
                >,<span class="textcolor" style="color: #008000"
                  ><a href="tikz-actions#pgf.draw">draw</a></span
                >] {};<br />
                <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-shapes#pgf.back/node">\node</a></span
                > <span class="textcolor" style="color: #000000"
                  ><a href="tikz-paths#pgf.at">at</a></span
                >
                <span class="textcolor" style="color: #800080">(-1,1)</span
                > [<span class="textcolor" style="color: #008000"
                  ><a href="tikz-paths#pgf.rectangle">rectangle</a></span
                >,<span class="textcolor" style="color: #008000"
                  ><a href="tikz-actions#pgf.draw">draw</a></span
                >] {};<br />
                <span class="textcolor" style="color: #000000">\end</span>{<span
                  class="textcolor"
                  style="color: #0000b2"
                  ><a href="tikz-scopes#pgf.tikzpicture">tikzpicture</a></span
                >}<br />
              </code>
            </div>
          </figure>

          <p>
            Hagen likes this syntax much better than the previous one. Note that
            Hagen has also omitted the <span class="verb">shape=</span> since,
            like <span class="verb">color=</span>,
            <span class="tikzname">TikZ</span> allows you to omit the
            <span class="verb">shape=</span> if there is no confusion.
          </p>
          <h5 id="autosec-185">
            <span
              ><span class="sectionnumber" id="sec-3.5">3.5</span> Using
              Styles</span
            ><a
              class="anchor-link"
              data-html-link="sec-3.5"
              data-pdf-destination="subsection.3.5"
              data-pdf-page="52"
              href="#sec-3.5"
              >&para;</a
            >
          </h5>
          <a id="pgfmanual-autopage-185"></a>

          <p>
            Feeling adventurous, Hagen tries to make the nodes look nicer. In
            the final picture, the circles and rectangle should be filled with
            different colors, resulting in the following code:
          </p>

          <figure class="example">
            <div class="example-image">
              <p>
                <span class="lateximagesource" id="lateximage-pgfmanual-63"
                  ><!--
--><img
                    alt="(-tikz-&nbsp;diagram)"
                    class="lateximage"
                    height="91.874"
                    loading="lazy"
                    src="pgfmanual-images/image-63.png"
                    style
                    width="88.176"
                /></span>
              </p>
            </div>

            <div class="example-code">
              <button class="clipboardButton" type="button">copy</button>

              <code>
                <br />
                <span class="textcolor" style="color: #000000">\begin</span
                >{<span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-scopes#pgf.tikzpicture">tikzpicture</a></span
                >}[<span class="textcolor" style="color: #008000"
                  ><a href="tikz-actions#pgf.thick">thick</a></span
                >]<br />
                <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-shapes#pgf.back/node">\node</a></span
                > <span class="textcolor" style="color: #000000"
                  ><a href="tikz-paths#pgf.at">at</a></span
                >
                <span class="textcolor" style="color: #800080">( 0,2)</span
                > [<span class="textcolor" style="color: #008000"
                  ><a href="tikz-paths#pgf.circle">circle</a></span
                >,<span class="textcolor" style="color: #008000"
                  ><a href="tikz-actions#pgf.draw">draw</a></span
                >=<span class="textcolor" style="color: #008000">blue!50</span
                >,<span class="textcolor" style="color: #008000"
                  ><a href="tikz-actions#pgf.fill">fill</a></span
                >=<span class="textcolor" style="color: #008000">blue!20</span
                >] {};<br />
                <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-shapes#pgf.back/node">\node</a></span
                > <span class="textcolor" style="color: #000000"
                  ><a href="tikz-paths#pgf.at">at</a></span
                >
                <span class="textcolor" style="color: #800080">( 0,1)</span
                > [<span class="textcolor" style="color: #008000"
                  ><a href="tikz-paths#pgf.circle">circle</a></span
                >,<span class="textcolor" style="color: #008000"
                  ><a href="tikz-actions#pgf.draw">draw</a></span
                >=<span class="textcolor" style="color: #008000">blue!50</span
                >,<span class="textcolor" style="color: #008000"
                  ><a href="tikz-actions#pgf.fill">fill</a></span
                >=<span class="textcolor" style="color: #008000">blue!20</span
                >] {};<br />
                <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-shapes#pgf.back/node">\node</a></span
                > <span class="textcolor" style="color: #000000"
                  ><a href="tikz-paths#pgf.at">at</a></span
                >
                <span class="textcolor" style="color: #800080">( 0,0)</span
                > [<span class="textcolor" style="color: #008000"
                  ><a href="tikz-paths#pgf.circle">circle</a></span
                >,<span class="textcolor" style="color: #008000"
                  ><a href="tikz-actions#pgf.draw">draw</a></span
                >=<span class="textcolor" style="color: #008000">blue!50</span
                >,<span class="textcolor" style="color: #008000"
                  ><a href="tikz-actions#pgf.fill">fill</a></span
                >=<span class="textcolor" style="color: #008000">blue!20</span
                >] {};<br />
                <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-shapes#pgf.back/node">\node</a></span
                > <span class="textcolor" style="color: #000000"
                  ><a href="tikz-paths#pgf.at">at</a></span
                >
                <span class="textcolor" style="color: #800080">( 1,1)</span
                > [<span class="textcolor" style="color: #008000"
                  ><a href="tikz-paths#pgf.rectangle">rectangle</a></span
                >,<span class="textcolor" style="color: #008000"
                  ><a href="tikz-actions#pgf.draw">draw</a></span
                >=<span class="textcolor" style="color: #008000">black!50</span
                >,<span class="textcolor" style="color: #008000"
                  ><a href="tikz-actions#pgf.fill">fill</a></span
                >=<span class="textcolor" style="color: #008000">black!20</span
                >] {};<br />
                <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-shapes#pgf.back/node">\node</a></span
                > <span class="textcolor" style="color: #000000"
                  ><a href="tikz-paths#pgf.at">at</a></span
                >
                <span class="textcolor" style="color: #800080">(-1,1)</span
                > [<span class="textcolor" style="color: #008000"
                  ><a href="tikz-paths#pgf.rectangle">rectangle</a></span
                >,<span class="textcolor" style="color: #008000"
                  ><a href="tikz-actions#pgf.draw">draw</a></span
                >=<span class="textcolor" style="color: #008000">black!50</span
                >,<span class="textcolor" style="color: #008000"
                  ><a href="tikz-actions#pgf.fill">fill</a></span
                >=<span class="textcolor" style="color: #008000">black!20</span
                >] {};<br />
                <span class="textcolor" style="color: #000000">\end</span>{<span
                  class="textcolor"
                  style="color: #0000b2"
                  ><a href="tikz-scopes#pgf.tikzpicture">tikzpicture</a></span
                >}<br />
              </code>
            </div>
          </figure>

          <p>
            While this looks nicer in the picture, the code starts to get a bit
            ugly. Ideally, we would like our code to transport the message
            &ldquo;there are three places and two transitions&rdquo; and not so
            much which filling colors should be used.
          </p>

          <p>
            To solve this problem, Hagen uses styles. He defines a style for
            places and another style for transitions:
          </p>

          <figure class="example">
            <div class="example-image">
              <p>
                <span class="lateximagesource" id="lateximage-pgfmanual-64"
                  ><!--
--><img
                    alt="(-tikz-&nbsp;diagram)"
                    class="lateximage"
                    height="91.874"
                    loading="lazy"
                    src="pgfmanual-images/image-64.png"
                    style
                    width="88.176"
                /></span>
              </p>
            </div>

            <div class="example-code">
              <button class="clipboardButton" type="button">copy</button>

              <code>
                <br />
                <span class="textcolor" style="color: #000000">\begin</span
                >{<span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-scopes#pgf.tikzpicture">tikzpicture</a></span
                >}<br />
                <span class="spaces">  </span>[<span class="textcolor" style="color: #008000"
                  ><a href="library-petri#pgf.place">place</a></span
                >/<span class="textcolor" style="color: #0000b2"
                  ><a href="pgfkeys#pgf./handlers/.style">.style</a></span
                >={<span class="textcolor" style="color: #008000"
                  ><a href="tikz-paths#pgf.circle">circle</a></span
                >,<span class="textcolor" style="color: #008000"
                  ><a href="tikz-actions#pgf.draw">draw</a></span
                >=<span class="textcolor" style="color: #008000">blue!50</span
                >,<span class="textcolor" style="color: #008000"
                  ><a href="tikz-actions#pgf.fill">fill</a></span
                >=<span class="textcolor" style="color: #008000">blue!20</span
                >,<span class="textcolor" style="color: #008000"
                  ><a href="tikz-actions#pgf.thick">thick</a></span
                >},<br />
                <span class="spaces">   </span><span
                  class="textcolor"
                  style="color: #008000"
                  ><a href="library-petri#pgf.transition">transition</a></span
                >/<span class="textcolor" style="color: #0000b2"
                  ><a href="pgfkeys#pgf./handlers/.style">.style</a></span
                >={<span class="textcolor" style="color: #008000"
                  ><a href="tikz-paths#pgf.rectangle">rectangle</a></span
                >,<span class="textcolor" style="color: #008000"
                  ><a href="tikz-actions#pgf.draw">draw</a></span
                >=<span class="textcolor" style="color: #008000">black!50</span
                >,<span class="textcolor" style="color: #008000"
                  ><a href="tikz-actions#pgf.fill">fill</a></span
                >=<span class="textcolor" style="color: #008000">black!20</span
                >,<span class="textcolor" style="color: #008000"
                  ><a href="tikz-actions#pgf.thick">thick</a></span
                >}]<br />
                <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-shapes#pgf.back/node">\node</a></span
                > <span class="textcolor" style="color: #000000"
                  ><a href="tikz-paths#pgf.at">at</a></span
                >
                <span class="textcolor" style="color: #800080">( 0,2)</span
                > [<span class="textcolor" style="color: #008000"
                  ><a href="library-petri#pgf.place">place</a></span
                >] {};<br />
                <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-shapes#pgf.back/node">\node</a></span
                > <span class="textcolor" style="color: #000000"
                  ><a href="tikz-paths#pgf.at">at</a></span
                >
                <span class="textcolor" style="color: #800080">( 0,1)</span
                > [<span class="textcolor" style="color: #008000"
                  ><a href="library-petri#pgf.place">place</a></span
                >] {};<br />
                <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-shapes#pgf.back/node">\node</a></span
                > <span class="textcolor" style="color: #000000"
                  ><a href="tikz-paths#pgf.at">at</a></span
                >
                <span class="textcolor" style="color: #800080">( 0,0)</span
                > [<span class="textcolor" style="color: #008000"
                  ><a href="library-petri#pgf.place">place</a></span
                >] {};<br />
                <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-shapes#pgf.back/node">\node</a></span
                > <span class="textcolor" style="color: #000000"
                  ><a href="tikz-paths#pgf.at">at</a></span
                >
                <span class="textcolor" style="color: #800080">( 1,1)</span
                > [<span class="textcolor" style="color: #008000"
                  ><a href="library-petri#pgf.transition">transition</a></span
                >] {};<br />
                <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-shapes#pgf.back/node">\node</a></span
                > <span class="textcolor" style="color: #000000"
                  ><a href="tikz-paths#pgf.at">at</a></span
                >
                <span class="textcolor" style="color: #800080">(-1,1)</span
                > [<span class="textcolor" style="color: #008000"
                  ><a href="library-petri#pgf.transition">transition</a></span
                >] {};<br />
                <span class="textcolor" style="color: #000000">\end</span>{<span
                  class="textcolor"
                  style="color: #0000b2"
                  ><a href="tikz-scopes#pgf.tikzpicture">tikzpicture</a></span
                >}<br />
              </code>
            </div>
          </figure>
          <h5 id="autosec-190">
            <span
              ><span class="sectionnumber" id="sec-3.6">3.6</span> Node
              Size</span
            ><a
              class="anchor-link"
              data-html-link="sec-3.6"
              data-pdf-destination="subsection.3.6"
              data-pdf-page="53"
              href="#sec-3.6"
              >&para;</a
            >
          </h5>
          <a id="pgfmanual-autopage-190"></a>

          <p>
            Before Hagen starts naming and connecting the nodes, let us first
            make sure that the nodes get their final appearance. They are still
            too small. Indeed, Hagen wonders why they have any size at all,
            after all, the text is empty. The reason is that
            <span class="tikzname">TikZ</span> automatically adds some space
            around the text. The amount is set using the option
            <span class="verb">inner sep</span>. So, to increase the size of the
            nodes, Hagen could write:
          </p>

          <figure class="example">
            <div class="example-image">
              <p>
                <span class="lateximagesource" id="lateximage-pgfmanual-65"
                  ><!--
--><img
                    alt="(-tikz-&nbsp;diagram)"
                    class="lateximage"
                    height="100.730"
                    loading="lazy"
                    src="pgfmanual-images/image-65.png"
                    style
                    width="94.438"
                /></span>
              </p>
            </div>

            <div class="example-code">
              <button class="clipboardButton" type="button">copy</button>

              <code>
                <br />
                <span class="textcolor" style="color: #000000">\begin</span
                >{<span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-scopes#pgf.tikzpicture">tikzpicture</a></span
                >}<br />
                <span class="spaces">  </span>[<span class="textcolor" style="color: #008000"
                  ><a href="tikz-shapes#pgf.inner:sep">inner sep</a></span
                >=<span class="textcolor" style="color: #008000">2mm</span
                >,<br />
                <span class="spaces">   </span><span
                  class="textcolor"
                  style="color: #008000"
                  ><a href="library-petri#pgf.place">place</a></span
                >/<span class="textcolor" style="color: #0000b2"
                  ><a href="pgfkeys#pgf./handlers/.style">.style</a></span
                >={<span class="textcolor" style="color: #008000"
                  ><a href="tikz-paths#pgf.circle">circle</a></span
                >,<span class="textcolor" style="color: #008000"
                  ><a href="tikz-actions#pgf.draw">draw</a></span
                >=<span class="textcolor" style="color: #008000">blue!50</span
                >,<span class="textcolor" style="color: #008000"
                  ><a href="tikz-actions#pgf.fill">fill</a></span
                >=<span class="textcolor" style="color: #008000">blue!20</span
                >,<span class="textcolor" style="color: #008000"
                  ><a href="tikz-actions#pgf.thick">thick</a></span
                >},<br />
                <span class="spaces">   </span><span
                  class="textcolor"
                  style="color: #008000"
                  ><a href="library-petri#pgf.transition">transition</a></span
                >/<span class="textcolor" style="color: #0000b2"
                  ><a href="pgfkeys#pgf./handlers/.style">.style</a></span
                >={<span class="textcolor" style="color: #008000"
                  ><a href="tikz-paths#pgf.rectangle">rectangle</a></span
                >,<span class="textcolor" style="color: #008000"
                  ><a href="tikz-actions#pgf.draw">draw</a></span
                >=<span class="textcolor" style="color: #008000">black!50</span
                >,<span class="textcolor" style="color: #008000"
                  ><a href="tikz-actions#pgf.fill">fill</a></span
                >=<span class="textcolor" style="color: #008000">black!20</span
                >,<span class="textcolor" style="color: #008000"
                  ><a href="tikz-actions#pgf.thick">thick</a></span
                >}]<br />
                <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-shapes#pgf.back/node">\node</a></span
                > <span class="textcolor" style="color: #000000"
                  ><a href="tikz-paths#pgf.at">at</a></span
                >
                <span class="textcolor" style="color: #800080">( 0,2)</span
                > [<span class="textcolor" style="color: #008000"
                  ><a href="library-petri#pgf.place">place</a></span
                >] {};<br />
                <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-shapes#pgf.back/node">\node</a></span
                > <span class="textcolor" style="color: #000000"
                  ><a href="tikz-paths#pgf.at">at</a></span
                >
                <span class="textcolor" style="color: #800080">( 0,1)</span
                > [<span class="textcolor" style="color: #008000"
                  ><a href="library-petri#pgf.place">place</a></span
                >] {};<br />
                <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-shapes#pgf.back/node">\node</a></span
                > <span class="textcolor" style="color: #000000"
                  ><a href="tikz-paths#pgf.at">at</a></span
                >
                <span class="textcolor" style="color: #800080">( 0,0)</span
                > [<span class="textcolor" style="color: #008000"
                  ><a href="library-petri#pgf.place">place</a></span
                >] {};<br />
                <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-shapes#pgf.back/node">\node</a></span
                > <span class="textcolor" style="color: #000000"
                  ><a href="tikz-paths#pgf.at">at</a></span
                >
                <span class="textcolor" style="color: #800080">( 1,1)</span
                > [<span class="textcolor" style="color: #008000"
                  ><a href="library-petri#pgf.transition">transition</a></span
                >] {};<br />
                <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-shapes#pgf.back/node">\node</a></span
                > <span class="textcolor" style="color: #000000"
                  ><a href="tikz-paths#pgf.at">at</a></span
                >
                <span class="textcolor" style="color: #800080">(-1,1)</span
                > [<span class="textcolor" style="color: #008000"
                  ><a href="library-petri#pgf.transition">transition</a></span
                >] {};<br />
                <span class="textcolor" style="color: #000000">\end</span>{<span
                  class="textcolor"
                  style="color: #0000b2"
                  ><a href="tikz-scopes#pgf.tikzpicture">tikzpicture</a></span
                >}<br />
              </code>
            </div>
          </figure>

          <p>
            However, this is not really the best way to achieve the desired
            effect. It is much better to use the
            <span class="verb">minimum size</span> option instead. This option
            allows Hagen to specify a minimum size that the node should have. If
            the node actually needs to be bigger because of a longer text, it
            will be larger, but if the text is empty, then the node will have
            <span class="verb">minimum size</span>. This option is also useful
            to ensure that several nodes containing different amounts of text
            have the same size. The options
            <span class="verb">minimum height</span> and
            <span class="verb">minimum width</span> allow you to specify the
            minimum height and width independently.
          </p>

          <p>
            So, what Hagen needs to do is to provide
            <span class="verb">minimum size</span> for the nodes. To be on the
            safe side, he also sets <span class="verb">inner sep=0pt</span>.
            This ensures that the nodes will really have size
            <span class="verb">minimum size</span> and not, for very small
            minimum sizes, the minimal size necessary to encompass the
            automatically added space.
          </p>

          <figure class="example">
            <div class="example-image">
              <p>
                <span class="lateximagesource" id="lateximage-pgfmanual-66"
                  ><!--
--><img
                    alt="(-tikz-&nbsp;diagram)"
                    class="lateximage"
                    height="102.026"
                    loading="lazy"
                    src="pgfmanual-images/image-66.png"
                    style
                    width="94.438"
                /></span>
              </p>
            </div>

            <div class="example-code">
              <button class="clipboardButton" type="button">copy</button>

              <code>
                <br />
                <span class="textcolor" style="color: #000000">\begin</span
                >{<span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-scopes#pgf.tikzpicture">tikzpicture</a></span
                >}<br />
                <span class="spaces">  </span>[<span class="textcolor" style="color: #008000"
                  ><a href="library-petri#pgf.place">place</a></span
                >/<span class="textcolor" style="color: #0000b2"
                  ><a href="pgfkeys#pgf./handlers/.style">.style</a></span
                >={<span class="textcolor" style="color: #008000"
                  ><a href="tikz-paths#pgf.circle">circle</a></span
                >,<span class="textcolor" style="color: #008000"
                  ><a href="tikz-actions#pgf.draw">draw</a></span
                >=<span class="textcolor" style="color: #008000">blue!50</span
                >,<span class="textcolor" style="color: #008000"
                  ><a href="tikz-actions#pgf.fill">fill</a></span
                >=<span class="textcolor" style="color: #008000">blue!20</span
                >,<span class="textcolor" style="color: #008000"
                  ><a href="tikz-actions#pgf.thick">thick</a></span
                >,<br />
                <span class="spaces">                 </span><span
                  class="textcolor"
                  style="color: #008000"
                  ><a href="tikz-shapes#pgf.inner:sep">inner sep</a></span
                >=<span class="textcolor" style="color: #008000">0pt</span
                >,<span class="textcolor" style="color: #008000"
                  ><a href="tikz-shapes#pgf.minimum:size">minimum size</a></span
                >=<span class="textcolor" style="color: #008000">6mm}</span
                >,<br />
                <span class="spaces">   </span><span
                  class="textcolor"
                  style="color: #008000"
                  ><a href="library-petri#pgf.transition">transition</a></span
                >/<span class="textcolor" style="color: #0000b2"
                  ><a href="pgfkeys#pgf./handlers/.style">.style</a></span
                >={<span class="textcolor" style="color: #008000"
                  ><a href="tikz-paths#pgf.rectangle">rectangle</a></span
                >,<span class="textcolor" style="color: #008000"
                  ><a href="tikz-actions#pgf.draw">draw</a></span
                >=<span class="textcolor" style="color: #008000">black!50</span
                >,<span class="textcolor" style="color: #008000"
                  ><a href="tikz-actions#pgf.fill">fill</a></span
                >=<span class="textcolor" style="color: #008000">black!20</span
                >,<span class="textcolor" style="color: #008000"
                  ><a href="tikz-actions#pgf.thick">thick</a></span
                >,<br />
                <span class="spaces">                      </span><span
                  class="textcolor"
                  style="color: #008000"
                  ><a href="tikz-shapes#pgf.inner:sep">inner sep</a></span
                >=<span class="textcolor" style="color: #008000">0pt</span
                >,<span class="textcolor" style="color: #008000"
                  ><a href="tikz-shapes#pgf.minimum:size">minimum size</a></span
                >=<span class="textcolor" style="color: #008000">4mm}</span
                >]<br />
                <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-shapes#pgf.back/node">\node</a></span
                > <span class="textcolor" style="color: #000000"
                  ><a href="tikz-paths#pgf.at">at</a></span
                >
                <span class="textcolor" style="color: #800080">( 0,2)</span
                > [<span class="textcolor" style="color: #008000"
                  ><a href="library-petri#pgf.place">place</a></span
                >] {};<br />
                <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-shapes#pgf.back/node">\node</a></span
                > <span class="textcolor" style="color: #000000"
                  ><a href="tikz-paths#pgf.at">at</a></span
                >
                <span class="textcolor" style="color: #800080">( 0,1)</span
                > [<span class="textcolor" style="color: #008000"
                  ><a href="library-petri#pgf.place">place</a></span
                >] {};<br />
                <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-shapes#pgf.back/node">\node</a></span
                > <span class="textcolor" style="color: #000000"
                  ><a href="tikz-paths#pgf.at">at</a></span
                >
                <span class="textcolor" style="color: #800080">( 0,0)</span
                > [<span class="textcolor" style="color: #008000"
                  ><a href="library-petri#pgf.place">place</a></span
                >] {};<br />
                <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-shapes#pgf.back/node">\node</a></span
                > <span class="textcolor" style="color: #000000"
                  ><a href="tikz-paths#pgf.at">at</a></span
                >
                <span class="textcolor" style="color: #800080">( 1,1)</span
                > [<span class="textcolor" style="color: #008000"
                  ><a href="library-petri#pgf.transition">transition</a></span
                >] {};<br />
                <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-shapes#pgf.back/node">\node</a></span
                > <span class="textcolor" style="color: #000000"
                  ><a href="tikz-paths#pgf.at">at</a></span
                >
                <span class="textcolor" style="color: #800080">(-1,1)</span
                > [<span class="textcolor" style="color: #008000"
                  ><a href="library-petri#pgf.transition">transition</a></span
                >] {};<br />
                <span class="textcolor" style="color: #000000">\end</span>{<span
                  class="textcolor"
                  style="color: #0000b2"
                  ><a href="tikz-scopes#pgf.tikzpicture">tikzpicture</a></span
                >}<br />
              </code>
            </div>
          </figure>
          <h5 id="autosec-195">
            <span
              ><span class="sectionnumber" id="sec-3.7">3.7</span> Naming
              Nodes</span
            ><a
              class="anchor-link"
              data-html-link="sec-3.7"
              data-pdf-destination="subsection.3.7"
              data-pdf-page="53"
              href="#sec-3.7"
              >&para;</a
            >
          </h5>
          <a id="pgfmanual-autopage-195"></a>

          <p>
            Hagen&rsquo;s next aim is to connect the nodes using arrows. This
            seems like a tricky business since the arrows should not start in
            the middle of the nodes, but somewhere on the border and Hagen would
            very much like to avoid computing these positions by hand.
          </p>

          <p>
            Fortunately, <span class="textsc">pgf</span> will perform all the
            necessary calculations for him. However, he first has to assign
            names to the nodes so that he can reference them later on.
          </p>

          <p>
            There are two ways to name a node. The first is to use the
            <span class="verb">name=</span> option. The second method is to
            write the desired name in parentheses after the
            <span class="verb">node</span> operation. Hagen thinks that this
            second method seems strange, but he will soon change his opinion.
          </p>

          <div class="hidden"></div>

          <figure class="example">
            <div class="example-image">
              <p>
                <span class="lateximagesource" id="lateximage-pgfmanual-67"
                  ><!--
--><img
                    alt="(-tikz-&nbsp;diagram)"
                    class="lateximage"
                    height="102.026"
                    loading="lazy"
                    src="pgfmanual-images/image-67.png"
                    style
                    width="94.438"
                /></span>
              </p>
            </div>

            <div class="example-code">
              <button class="clipboardButton" type="button">copy</button>

              <code>
                <br />
                <span class="example-code-comment">% ... set up styles</span
                ><br />
                <span class="textcolor" style="color: #000000">\begin</span
                >{<span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-scopes#pgf.tikzpicture">tikzpicture</a></span
                >}<br />
                <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-shapes#pgf.back/node">\node</a></span
                > <span class="textcolor" style="color: #800080"
                  >(waiting 1)</span
                ><span class="spaces">      </span><span
                  class="textcolor"
                  style="color: #000000"
                  ><a href="tikz-paths#pgf.at">at</a></span
                >
                <span class="textcolor" style="color: #800080">( 0,2)</span
                > [<span class="textcolor" style="color: #008000"
                  ><a href="library-petri#pgf.place">place</a></span
                >] {};<br />
                <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-shapes#pgf.back/node">\node</a></span
                > <span class="textcolor" style="color: #800080"
                  >(critical 1)</span
                ><span class="spaces">     </span><span
                  class="textcolor"
                  style="color: #000000"
                  ><a href="tikz-paths#pgf.at">at</a></span
                >
                <span class="textcolor" style="color: #800080">( 0,1)</span
                > [<span class="textcolor" style="color: #008000"
                  ><a href="library-petri#pgf.place">place</a></span
                >] {};<br />
                <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-shapes#pgf.back/node">\node</a></span
                > <span class="textcolor" style="color: #800080"
                  >(semaphore)</span
                ><span class="spaces">      </span><span
                  class="textcolor"
                  style="color: #000000"
                  ><a href="tikz-paths#pgf.at">at</a></span
                >
                <span class="textcolor" style="color: #800080">( 0,0)</span
                > [<span class="textcolor" style="color: #008000"
                  ><a href="library-petri#pgf.place">place</a></span
                >] {};<br />
                <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-shapes#pgf.back/node">\node</a></span
                > <span class="textcolor" style="color: #800080"
                  >(leave critical)</span
                > <span class="textcolor" style="color: #000000"
                  ><a href="tikz-paths#pgf.at">at</a></span
                >
                <span class="textcolor" style="color: #800080">( 1,1)</span
                > [<span class="textcolor" style="color: #008000"
                  ><a href="library-petri#pgf.transition">transition</a></span
                >] {};<br />
                <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-shapes#pgf.back/node">\node</a></span
                > <span class="textcolor" style="color: #800080"
                  >(enter critical)</span
                > <span class="textcolor" style="color: #000000"
                  ><a href="tikz-paths#pgf.at">at</a></span
                >
                <span class="textcolor" style="color: #800080">(-1,1)</span
                > [<span class="textcolor" style="color: #008000"
                  ><a href="library-petri#pgf.transition">transition</a></span
                >] {};<br />
                <span class="textcolor" style="color: #000000">\end</span>{<span
                  class="textcolor"
                  style="color: #0000b2"
                  ><a href="tikz-scopes#pgf.tikzpicture">tikzpicture</a></span
                >}<br />
              </code>
            </div>
          </figure>

          <p>
            Hagen is pleased to note that the names help in understanding the
            code. Names for nodes can be pretty arbitrary, but they should not
            contain commas, periods, parentheses, colons, and some other special
            characters. However, they can contain underscores and hyphens.
          </p>

          <p>
            The syntax for the <span class="verb">node</span> operation is quite
            liberal with respect to the order in which node names, the
            <span class="verb">at</span> specifier, and the options must come.
            Indeed, you can even have multiple option blocks between the
            <span class="verb">node</span> and the text in curly braces, they
            accumulate. You can rearrange them arbitrarily and perhaps the
            following might be preferable:
          </p>

          <figure class="example">
            <div class="example-image">
              <p>
                <span class="lateximagesource" id="lateximage-pgfmanual-68"
                  ><!--
--><img
                    alt="(-tikz-&nbsp;diagram)"
                    class="lateximage"
                    height="102.026"
                    loading="lazy"
                    src="pgfmanual-images/image-68.png"
                    style
                    width="94.438"
                /></span>
              </p>
            </div>

            <div class="example-code">
              <button class="clipboardButton" type="button">copy</button>

              <code>
                <br />
                <span class="textcolor" style="color: #000000">\begin</span
                >{<span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-scopes#pgf.tikzpicture">tikzpicture</a></span
                >}<br />
                <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-shapes#pgf.back/node">\node</a></span
                >[<span class="textcolor" style="color: #008000"
                  ><a href="library-petri#pgf.place">place</a></span
                >]<span class="spaces">      </span><span
                  class="textcolor"
                  style="color: #800080"
                  >(waiting 1)</span
                ><span class="spaces">      </span><span
                  class="textcolor"
                  style="color: #000000"
                  ><a href="tikz-paths#pgf.at">at</a></span
                >
                <span class="textcolor" style="color: #800080">( 0,2)</span
                > {};<br />
                <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-shapes#pgf.back/node">\node</a></span
                >[<span class="textcolor" style="color: #008000"
                  ><a href="library-petri#pgf.place">place</a></span
                >]<span class="spaces">      </span><span
                  class="textcolor"
                  style="color: #800080"
                  >(critical 1)</span
                ><span class="spaces">     </span><span
                  class="textcolor"
                  style="color: #000000"
                  ><a href="tikz-paths#pgf.at">at</a></span
                >
                <span class="textcolor" style="color: #800080">( 0,1)</span
                > {};<br />
                <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-shapes#pgf.back/node">\node</a></span
                >[<span class="textcolor" style="color: #008000"
                  ><a href="library-petri#pgf.place">place</a></span
                >]<span class="spaces">      </span><span
                  class="textcolor"
                  style="color: #800080"
                  >(semaphore)</span
                ><span class="spaces">      </span><span
                  class="textcolor"
                  style="color: #000000"
                  ><a href="tikz-paths#pgf.at">at</a></span
                >
                <span class="textcolor" style="color: #800080">( 0,0)</span
                > {};<br />
                <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-shapes#pgf.back/node">\node</a></span
                >[<span class="textcolor" style="color: #008000"
                  ><a href="library-petri#pgf.transition">transition</a></span
                >] <span class="textcolor" style="color: #800080"
                  >(leave critical)</span
                > <span class="textcolor" style="color: #000000"
                  ><a href="tikz-paths#pgf.at">at</a></span
                >
                <span class="textcolor" style="color: #800080">( 1,1)</span
                > {};<br />
                <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-shapes#pgf.back/node">\node</a></span
                >[<span class="textcolor" style="color: #008000"
                  ><a href="library-petri#pgf.transition">transition</a></span
                >] <span class="textcolor" style="color: #800080"
                  >(enter critical)</span
                > <span class="textcolor" style="color: #000000"
                  ><a href="tikz-paths#pgf.at">at</a></span
                >
                <span class="textcolor" style="color: #800080">(-1,1)</span
                > {};<br />
                <span class="textcolor" style="color: #000000">\end</span>{<span
                  class="textcolor"
                  style="color: #0000b2"
                  ><a href="tikz-scopes#pgf.tikzpicture">tikzpicture</a></span
                >}<br />
              </code>
            </div>
          </figure>
          <h5 id="autosec-200">
            <span
              ><span class="sectionnumber" id="sec-3.8">3.8</span> Placing Nodes
              Using Relative Placement</span
            ><a
              class="anchor-link"
              data-html-link="sec-3.8"
              data-pdf-destination="subsection.3.8"
              data-pdf-page="54"
              href="#sec-3.8"
              >&para;</a
            >
          </h5>
          <a id="pgfmanual-autopage-200"></a>

          <p>
            Although Hagen still wishes to connect the nodes, he first wishes to
            address another problem again: The placement of the nodes. Although
            he likes the <span class="verb">at</span> syntax, in this particular
            case he would prefer placing the nodes &ldquo;relative to each
            other&rdquo;. So, Hagen would like to say that the
            <span class="verb">critical 1</span> node should be below the
            <span class="verb">waiting 1</span> node, wherever the
            <span class="verb">waiting 1</span> node might be. There are
            different ways of achieving this, but the nicest one in
            Hagen&rsquo;s case is the <span class="verb">below</span> option:
          </p>

          <figure class="example">
            <div class="example-image">
              <p>
                <span class="lateximagesource" id="lateximage-pgfmanual-69"
                  ><!--
--><img
                    alt="(-tikz-&nbsp;diagram)"
                    class="lateximage"
                    height="149.522"
                    loading="lazy"
                    src="pgfmanual-images/image-69.png"
                    style
                    width="134.360"
                /></span>
              </p>
            </div>

            <div class="example-code">
              <button class="clipboardButton" type="button">copy</button>

              <code>
                <span class="codepreamble">\usetikzlibrary {positioning} </span
                ><br />
                <span class="textcolor" style="color: #000000">\begin</span
                >{<span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-scopes#pgf.tikzpicture">tikzpicture</a></span
                >}<br />
                <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-shapes#pgf.back/node">\node</a></span
                >[<span class="textcolor" style="color: #008000"
                  ><a href="library-petri#pgf.place">place</a></span
                >]<span class="spaces">      </span><span
                  class="textcolor"
                  style="color: #800080"
                  >(waiting)</span
                ><span class="spaces">                            </span>{};<br />
                <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-shapes#pgf.back/node">\node</a></span
                >[<span class="textcolor" style="color: #008000"
                  ><a href="library-petri#pgf.place">place</a></span
                >]<span class="spaces">      </span><span
                  class="textcolor"
                  style="color: #800080"
                  >(critical)</span
                ><span class="spaces">       </span>[<span
                  class="textcolor"
                  style="color: #008000"
                  ><a href="tikz-shapes#pgf.below">below</a></span
                >=<span class="textcolor" style="color: #008000"
                  ><a href="tikz-coordinates#pgf.of">of</a> waiting</span
                >]<span class="spaces">  </span>{};<br />
                <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-shapes#pgf.back/node">\node</a></span
                >[<span class="textcolor" style="color: #008000"
                  ><a href="library-petri#pgf.place">place</a></span
                >]<span class="spaces">      </span><span
                  class="textcolor"
                  style="color: #800080"
                  >(semaphore)</span
                ><span class="spaces">      </span>[<span
                  class="textcolor"
                  style="color: #008000"
                  ><a href="tikz-shapes#pgf.below">below</a></span
                >=<span class="textcolor" style="color: #008000"
                  ><a href="tikz-coordinates#pgf.of">of</a> critical</span
                >] {};<br />
                <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-shapes#pgf.back/node">\node</a></span
                >[<span class="textcolor" style="color: #008000"
                  ><a href="library-petri#pgf.transition">transition</a></span
                >] <span class="textcolor" style="color: #800080"
                  >(leave critical)</span
                > [<span class="textcolor" style="color: #008000"
                  ><a href="tikz-arrows#pgf.right">right</a></span
                >=<span class="textcolor" style="color: #008000"
                  ><a href="tikz-coordinates#pgf.of">of</a> critical</span
                >] {};<br />
                <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-shapes#pgf.back/node">\node</a></span
                >[<span class="textcolor" style="color: #008000"
                  ><a href="library-petri#pgf.transition">transition</a></span
                >] <span class="textcolor" style="color: #800080"
                  >(enter critical)</span
                > [<span class="textcolor" style="color: #008000"
                  ><a href="tikz-arrows#pgf.left">left</a></span
                >=<span class="textcolor" style="color: #008000"
                  ><a href="tikz-coordinates#pgf.of">of</a> critical</span
                >]<span class="spaces">  </span>{};<br />
                <span class="textcolor" style="color: #000000">\end</span>{<span
                  class="textcolor"
                  style="color: #0000b2"
                  ><a href="tikz-scopes#pgf.tikzpicture">tikzpicture</a></span
                >}<br />
              </code>
            </div>
          </figure>

          <p>
            With the <span class="verb">positioning</span> library loaded, when
            an option like <span class="verb">below</span> is followed by
            <span class="verb">of</span>, then the position of the node is
            shifted in such a manner that it is placed at the distance
            <span class="verb">node distance</span> in the specified direction
            of the given direction. The
            <span class="verb">node distance</span> is either the distance
            between the centers of the nodes (when the
            <span class="verb">on grid</span> option is set to true) or the
            distance between the borders (when the
            <span class="verb">on grid</span> option is set to false, which is
            the default).
          </p>

          <p>
            Even though the above code has the same effect as the earlier code,
            Hagen can pass it to his colleagues who will be able to just read
            and understand it, perhaps without even having to see the picture.
          </p>
          <h5 id="autosec-203">
            <span
              ><span class="sectionnumber" id="sec-3.9">3.9</span> Adding Labels
              Next to Nodes</span
            ><a
              class="anchor-link"
              data-html-link="sec-3.9"
              data-pdf-destination="subsection.3.9"
              data-pdf-page="54"
              href="#sec-3.9"
              >&para;</a
            >
          </h5>
          <a id="pgfmanual-autopage-203"></a>

          <p>
            Before we have a look at how Hagen can connect the nodes, let us add
            the capacity &ldquo;\(s \le 3\)&rdquo; to the bottom node. For this,
            two approaches are possible:
          </p>
          <ul class="enumerate" style="list-style-type: none">
            <li>
              <p>
                <span class="listmarker">1.</span> Hagen can just add a new node
                above the <span class="verb">north</span> anchor of the
                <span class="verb">semaphore</span> node.
              </p>

              <figure class="example">
                <div class="example-image">
                  <p>
                    <span class="lateximagesource" id="lateximage-pgfmanual-70"
                      ><!--
sâ‰¤3
--><img
                        alt="(-tikz-&nbsp;diagram)"
                        class="lateximage"
                        height="149.522"
                        loading="lazy"
                        src="pgfmanual-images/image-70.png"
                        style
                        width="134.360"
                    /></span>
                  </p>
                </div>

                <div class="example-code">
                  <button class="clipboardButton" type="button">copy</button>
                  <code>
                    <span class="codepreamble"
                      >\usetikzlibrary {positioning} </span
                    ><br />
                    <span class="textcolor" style="color: #000000">\begin</span
                    >{<span class="textcolor" style="color: #0000b2"
                      ><a href="tikz-scopes#pgf.tikzpicture"
                        >tikzpicture</a
                      ></span
                    >}<br />
                    <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                      ><a href="tikz-shapes#pgf.back/node">\node</a></span
                    >[<span class="textcolor" style="color: #008000"
                      ><a href="library-petri#pgf.place">place</a></span
                    >]<span class="spaces">      </span><span
                      class="textcolor"
                      style="color: #800080"
                      >(waiting)</span
                    ><span class="spaces">                            </span>{};<br />
                    <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                      ><a href="tikz-shapes#pgf.back/node">\node</a></span
                    >[<span class="textcolor" style="color: #008000"
                      ><a href="library-petri#pgf.place">place</a></span
                    >]<span class="spaces">      </span><span
                      class="textcolor"
                      style="color: #800080"
                      >(critical)</span
                    ><span class="spaces">       </span>[<span
                      class="textcolor"
                      style="color: #008000"
                      ><a href="tikz-shapes#pgf.below">below</a></span
                    >=<span class="textcolor" style="color: #008000"
                      ><a href="tikz-coordinates#pgf.of">of</a> waiting</span
                    >]<span class="spaces">  </span>{};<br />
                    <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                      ><a href="tikz-shapes#pgf.back/node">\node</a></span
                    >[<span class="textcolor" style="color: #008000"
                      ><a href="library-petri#pgf.place">place</a></span
                    >]<span class="spaces">      </span><span
                      class="textcolor"
                      style="color: #800080"
                      >(semaphore)</span
                    ><span class="spaces">      </span>[<span
                      class="textcolor"
                      style="color: #008000"
                      ><a href="tikz-shapes#pgf.below">below</a></span
                    >=<span class="textcolor" style="color: #008000"
                      ><a href="tikz-coordinates#pgf.of">of</a> critical</span
                    >] {};<br />
                    <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                      ><a href="tikz-shapes#pgf.back/node">\node</a></span
                    >[<span class="textcolor" style="color: #008000"
                      ><a href="library-petri#pgf.transition"
                        >transition</a
                      ></span
                    >] <span class="textcolor" style="color: #800080"
                      >(leave critical)</span
                    > [<span class="textcolor" style="color: #008000"
                      ><a href="tikz-arrows#pgf.right">right</a></span
                    >=<span class="textcolor" style="color: #008000"
                      ><a href="tikz-coordinates#pgf.of">of</a> critical</span
                    >] {};<br />
                    <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                      ><a href="tikz-shapes#pgf.back/node">\node</a></span
                    >[<span class="textcolor" style="color: #008000"
                      ><a href="library-petri#pgf.transition"
                        >transition</a
                      ></span
                    >] <span class="textcolor" style="color: #800080"
                      >(enter critical)</span
                    > [<span class="textcolor" style="color: #008000"
                      ><a href="tikz-arrows#pgf.left">left</a></span
                    >=<span class="textcolor" style="color: #008000"
                      ><a href="tikz-coordinates#pgf.of">of</a> critical</span
                    >]<span class="spaces">  </span>{};<br />
                    <br />
                    <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                      ><a href="tikz-shapes#pgf.back/node">\node</a></span
                    > [<span class="textcolor" style="color: #008000"
                      >red</span
                    >,<span class="textcolor" style="color: #008000"
                      ><a href="tikz-shapes#pgf.above">above</a></span
                    >] <span class="textcolor" style="color: #000000"
                      ><a href="tikz-paths#pgf.at">at</a></span
                    >
                    <span class="textcolor" style="color: #800080"
                      >(semaphore.north)</span
                    > {<span class="textcolor" style="color: #000000"
                      >$s</span
                    ><span class="textcolor" style="color: #0000b2">\le</span
                    > <span class="textcolor" style="color: #000000"
                      >3$</span
                    >};<br />
                    <span class="textcolor" style="color: #000000">\end</span
                    >{<span class="textcolor" style="color: #0000b2"
                      ><a href="tikz-scopes#pgf.tikzpicture"
                        >tikzpicture</a
                      ></span
                    >}<br />
                  </code>
                </div>
              </figure>
              <p>
                This is a general approach that will &ldquo;always work&rdquo;.
              </p>
            </li>
            <li>
              <p>
                <span class="listmarker">2.</span> Hagen can use the special
                <span class="verb">label</span> option. This option is given to
                a <span class="verb">node</span> and it causes
                <em>another</em> node to be added next to the node where the
                option is given. Here is the idea: When we construct the
                <span class="verb">semaphore</span> node, we wish to indicate
                that we want another node with the capacity above it. For this,
                we use the option
                <span class="verb">label=above:$s\le 3$</span>. This option is
                interpreted as follows: We want a node above the
                <span class="verb">semaphore</span> node and this node should
                read &ldquo;\(s \le 3\)&rdquo;. Instead of
                <span class="verb">above</span> we could also use things like
                <span class="verb">below left</span> before the colon or a
                number like <span class="verb">60</span>.
              </p>

              <figure class="example">
                <div class="example-image">
                  <p>
                    <span class="lateximagesource" id="lateximage-pgfmanual-71"
                      ><!--
sâ‰¤3
--><img
                        alt="(-tikz-&nbsp;diagram)"
                        class="lateximage"
                        height="149.522"
                        loading="lazy"
                        src="pgfmanual-images/image-71.png"
                        style
                        width="134.360"
                    /></span>
                  </p>
                </div>

                <div class="example-code">
                  <button class="clipboardButton" type="button">copy</button>
                  <code>
                    <span class="codepreamble"
                      >\usetikzlibrary {positioning} </span
                    ><br />
                    <span class="textcolor" style="color: #000000">\begin</span
                    >{<span class="textcolor" style="color: #0000b2"
                      ><a href="tikz-scopes#pgf.tikzpicture"
                        >tikzpicture</a
                      ></span
                    >}<br />
                    <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                      ><a href="tikz-shapes#pgf.back/node">\node</a></span
                    >[<span class="textcolor" style="color: #008000"
                      ><a href="library-petri#pgf.place">place</a></span
                    >]<span class="spaces">      </span><span
                      class="textcolor"
                      style="color: #800080"
                      >(waiting)</span
                    ><span class="spaces">                            </span>{};<br />
                    <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                      ><a href="tikz-shapes#pgf.back/node">\node</a></span
                    >[<span class="textcolor" style="color: #008000"
                      ><a href="library-petri#pgf.place">place</a></span
                    >]<span class="spaces">      </span><span
                      class="textcolor"
                      style="color: #800080"
                      >(critical)</span
                    ><span class="spaces">       </span>[<span
                      class="textcolor"
                      style="color: #008000"
                      ><a href="tikz-shapes#pgf.below">below</a></span
                    >=<span class="textcolor" style="color: #008000"
                      ><a href="tikz-coordinates#pgf.of">of</a> waiting</span
                    >]<span class="spaces">  </span>{};<br />
                    <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                      ><a href="tikz-shapes#pgf.back/node">\node</a></span
                    >[<span class="textcolor" style="color: #008000"
                      ><a href="library-petri#pgf.place">place</a></span
                    >]<span class="spaces">      </span><span
                      class="textcolor"
                      style="color: #800080"
                      >(semaphore)</span
                    ><span class="spaces">      </span>[<span
                      class="textcolor"
                      style="color: #008000"
                      ><a href="tikz-shapes#pgf.below">below</a></span
                    >=<span class="textcolor" style="color: #008000"
                      ><a href="tikz-coordinates#pgf.of">of</a> critical</span
                    >,<br />
                    <span class="spaces">                              </span><span class="spaces">        </span><span
                      class="textcolor"
                      style="color: #008000"
                      ><a href="tikz-shapes#pgf.label">label</a></span
                    >=<span class="textcolor" style="color: #008000"
                      >above:$s<span class="textcolor" style="color: #0000b2"
                        >\le</span
                      >3$</span
                    >] {};<br />
                    <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                      ><a href="tikz-shapes#pgf.back/node">\node</a></span
                    >[<span class="textcolor" style="color: #008000"
                      ><a href="library-petri#pgf.transition"
                        >transition</a
                      ></span
                    >] <span class="textcolor" style="color: #800080"
                      >(leave critical)</span
                    > [<span class="textcolor" style="color: #008000"
                      ><a href="tikz-arrows#pgf.right">right</a></span
                    >=<span class="textcolor" style="color: #008000"
                      ><a href="tikz-coordinates#pgf.of">of</a> critical</span
                    >] {};<br />
                    <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                      ><a href="tikz-shapes#pgf.back/node">\node</a></span
                    >[<span class="textcolor" style="color: #008000"
                      ><a href="library-petri#pgf.transition"
                        >transition</a
                      ></span
                    >] <span class="textcolor" style="color: #800080"
                      >(enter critical)</span
                    > [<span class="textcolor" style="color: #008000"
                      ><a href="tikz-arrows#pgf.left">left</a></span
                    >=<span class="textcolor" style="color: #008000"
                      ><a href="tikz-coordinates#pgf.of">of</a> critical</span
                    >]<span class="spaces">  </span>{};<br />
                    <span class="textcolor" style="color: #000000">\end</span
                    >{<span class="textcolor" style="color: #0000b2"
                      ><a href="tikz-scopes#pgf.tikzpicture"
                        >tikzpicture</a
                      ></span
                    >}<br />
                  </code>
                </div>
              </figure>
              <p>
                It is also possible to give multiple
                <span class="verb">label</span> options, this causes multiple
                labels to be drawn.
              </p>

              <figure class="example">
                <div class="example-image">
                  <p>
                    <span class="lateximagesource" id="lateximage-pgfmanual-72"
                      ><!--
         60â—¦

my circle


  âˆ’90â—¦
--><img
                        alt="(-tikz-&nbsp;diagram)"
                        class="lateximage"
                        height="98.738"
                        loading="lazy"
                        src="pgfmanual-images/image-72.png"
                        style
                        width="80.138"
                    /></span>
                  </p>
                </div>

                <div class="example-code">
                  <button class="clipboardButton" type="button">copy</button>
                  <code>
                    <br />
                    <span class="textcolor" style="color: #0000b2"
                      ><a href="tikz-scopes#pgf.back/tikz">\tikz</a></span
                    ><br />
                    <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                      ><a href="tikz-shapes#pgf.back/node">\node</a></span
                    > [<span class="textcolor" style="color: #008000"
                      ><a href="tikz-paths#pgf.circle">circle</a></span
                    >,<span class="textcolor" style="color: #008000"
                      ><a href="tikz-actions#pgf.draw">draw</a></span
                    >,<span class="textcolor" style="color: #008000"
                      ><a href="tikz-shapes#pgf.label">label</a></span
                    >=<span class="textcolor" style="color: #008000"
                      >60:$60^<span class="textcolor" style="color: #0000b2"
                        >\circ</span
                      >$</span
                    >,<span class="textcolor" style="color: #008000"
                      ><a href="tikz-shapes#pgf.label">label</a></span
                    >=<span class="textcolor" style="color: #008000"
                      >below:$-90^<span class="textcolor" style="color: #0000b2"
                        >\circ</span
                      >$</span
                    >] {<span class="textcolor" style="color: #000000"
                      >my</span
                    >
                    <span class="textcolor" style="color: #000000"
                      ><a href="tikz-paths#pgf.circle">circle</a></span
                    >};<br />
                  </code>
                </div>
              </figure>
              <p>
                Hagen is not fully satisfied with the
                <span class="verb">label</span> option since the label is not
                red. To achieve this, he has two options: First, he can redefine
                the <span class="verb">every label</span> style. Second, he can
                add options to the label&rsquo;s node. These options are given
                following the <span class="verb">label=</span>, so he would
                write <span class="verb">label=[red]above:$s\le3$</span>.
                However, this does not quite work since
                <span class="latexlogofont"
                  ><span class="latexlogo"
                    >T<span class="latexlogosub">e</span>X</span
                  ></span
                >
                thinks that the <span class="verb">]</span> closes the whole
                option list of the <span class="verb">semaphore</span> node. So,
                Hagen has to add braces and writes
                <span class="verb">label={[red]above:$s\le3$}</span>. Since this
                looks a bit ugly, Hagen decides to redefine the
                <span class="verb">every label</span> style.
              </p>

              <figure class="example">
                <div class="example-image">
                  <p>
                    <span class="lateximagesource" id="lateximage-pgfmanual-73"
                      ><!--
sâ‰¤3
--><img
                        alt="(-tikz-&nbsp;diagram)"
                        class="lateximage"
                        height="149.522"
                        loading="lazy"
                        src="pgfmanual-images/image-73.png"
                        style
                        width="134.360"
                    /></span>
                  </p>
                </div>

                <div class="example-code">
                  <button class="clipboardButton" type="button">copy</button>
                  <code>
                    <span class="codepreamble"
                      >\usetikzlibrary {positioning} </span
                    ><br />
                    <span class="textcolor" style="color: #000000">\begin</span
                    >{<span class="textcolor" style="color: #0000b2"
                      ><a href="tikz-scopes#pgf.tikzpicture"
                        >tikzpicture</a
                      ></span
                    >}[<span class="textcolor" style="color: #008000"
                      ><a href="tikz-shapes#pgf.every:label"
                        >every label</a
                      ></span
                    >/<span class="textcolor" style="color: #0000b2"
                      ><a href="pgfkeys#pgf./handlers/.style">.style</a></span
                    >={<span class="textcolor" style="color: #008000">red</span
                    >}]<br />
                    <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                      ><a href="tikz-shapes#pgf.back/node">\node</a></span
                    >[<span class="textcolor" style="color: #008000"
                      ><a href="library-petri#pgf.place">place</a></span
                    >]<span class="spaces">      </span><span
                      class="textcolor"
                      style="color: #800080"
                      >(waiting)</span
                    ><span class="spaces">                            </span>{};<br />
                    <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                      ><a href="tikz-shapes#pgf.back/node">\node</a></span
                    >[<span class="textcolor" style="color: #008000"
                      ><a href="library-petri#pgf.place">place</a></span
                    >]<span class="spaces">      </span><span
                      class="textcolor"
                      style="color: #800080"
                      >(critical)</span
                    ><span class="spaces">       </span>[<span
                      class="textcolor"
                      style="color: #008000"
                      ><a href="tikz-shapes#pgf.below">below</a></span
                    >=<span class="textcolor" style="color: #008000"
                      ><a href="tikz-coordinates#pgf.of">of</a> waiting</span
                    >]<span class="spaces">  </span>{};<br />
                    <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                      ><a href="tikz-shapes#pgf.back/node">\node</a></span
                    >[<span class="textcolor" style="color: #008000"
                      ><a href="library-petri#pgf.place">place</a></span
                    >]<span class="spaces">      </span><span
                      class="textcolor"
                      style="color: #800080"
                      >(semaphore)</span
                    ><span class="spaces">      </span>[<span
                      class="textcolor"
                      style="color: #008000"
                      ><a href="tikz-shapes#pgf.below">below</a></span
                    >=<span class="textcolor" style="color: #008000"
                      ><a href="tikz-coordinates#pgf.of">of</a> critical</span
                    >,<br />
                    <span class="spaces">                              </span><span class="spaces">        </span><span
                      class="textcolor"
                      style="color: #008000"
                      ><a href="tikz-shapes#pgf.label">label</a></span
                    >=<span class="textcolor" style="color: #008000"
                      >above:$s<span class="textcolor" style="color: #0000b2"
                        >\le</span
                      >3$</span
                    >] {};<br />
                    <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                      ><a href="tikz-shapes#pgf.back/node">\node</a></span
                    >[<span class="textcolor" style="color: #008000"
                      ><a href="library-petri#pgf.transition"
                        >transition</a
                      ></span
                    >] <span class="textcolor" style="color: #800080"
                      >(leave critical)</span
                    > [<span class="textcolor" style="color: #008000"
                      ><a href="tikz-arrows#pgf.right">right</a></span
                    >=<span class="textcolor" style="color: #008000"
                      ><a href="tikz-coordinates#pgf.of">of</a> critical</span
                    >] {};<br />
                    <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                      ><a href="tikz-shapes#pgf.back/node">\node</a></span
                    >[<span class="textcolor" style="color: #008000"
                      ><a href="library-petri#pgf.transition"
                        >transition</a
                      ></span
                    >] <span class="textcolor" style="color: #800080"
                      >(enter critical)</span
                    > [<span class="textcolor" style="color: #008000"
                      ><a href="tikz-arrows#pgf.left">left</a></span
                    >=<span class="textcolor" style="color: #008000"
                      ><a href="tikz-coordinates#pgf.of">of</a> critical</span
                    >]<span class="spaces">  </span>{};<br />
                    <span class="textcolor" style="color: #000000">\end</span
                    >{<span class="textcolor" style="color: #0000b2"
                      ><a href="tikz-scopes#pgf.tikzpicture"
                        >tikzpicture</a
                      ></span
                    >}<br />
                  </code>
                </div>
              </figure>
            </li>
          </ul>
          <h5 id="autosec-212">
            <span
              ><span class="sectionnumber" id="sec-3.10">3.10</span> Connecting
              Nodes</span
            ><a
              class="anchor-link"
              data-html-link="sec-3.10"
              data-pdf-destination="subsection.3.10"
              data-pdf-page="56"
              href="#sec-3.10"
              >&para;</a
            >
          </h5>
          <a id="pgfmanual-autopage-212"></a>

          <p>
            It is now high time to connect the nodes. Let us start with
            something simple, namely with the straight line from
            <span class="verb">enter critical</span> to
            <span class="verb">critical</span>. We want this line to start at
            the right side of <span class="verb">enter critical</span> and to
            end at the left side of <span class="verb">critical</span>. For
            this, we can use the <em>anchors</em> of the nodes. Every node
            defines a whole bunch of anchors that lie on its border or inside
            it. For example, the <span class="verb">center</span> anchor is at
            the center of the node, the <span class="verb">west</span> anchor is
            on the left of the node, and so on. To access the coordinate of a
            node, we use a coordinate that contains the node&rsquo;s name
            followed by a dot, followed by the anchor&rsquo;s name:
          </p>

          <figure class="example">
            <div class="example-image">
              <p>
                <span class="lateximagesource" id="lateximage-pgfmanual-74"
                  ><!--
--><img
                    alt="(-tikz-&nbsp;diagram)"
                    class="lateximage"
                    height="149.522"
                    loading="lazy"
                    src="pgfmanual-images/image-74.png"
                    style
                    width="134.360"
                /></span>
              </p>
            </div>

            <div class="example-code">
              <button class="clipboardButton" type="button">copy</button>

              <code>
                <span class="codepreamble">\usetikzlibrary {positioning} </span
                ><br />
                <span class="textcolor" style="color: #000000">\begin</span
                >{<span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-scopes#pgf.tikzpicture">tikzpicture</a></span
                >}<br />
                <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-shapes#pgf.back/node">\node</a></span
                >[<span class="textcolor" style="color: #008000"
                  ><a href="library-petri#pgf.place">place</a></span
                >]<span class="spaces">      </span><span
                  class="textcolor"
                  style="color: #800080"
                  >(waiting)</span
                ><span class="spaces">                            </span>{};<br />
                <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-shapes#pgf.back/node">\node</a></span
                >[<span class="textcolor" style="color: #008000"
                  ><a href="library-petri#pgf.place">place</a></span
                >]<span class="spaces">      </span><span
                  class="textcolor"
                  style="color: #800080"
                  >(critical)</span
                ><span class="spaces">       </span>[<span
                  class="textcolor"
                  style="color: #008000"
                  ><a href="tikz-shapes#pgf.below">below</a></span
                >=<span class="textcolor" style="color: #008000"
                  ><a href="tikz-coordinates#pgf.of">of</a> waiting</span
                >]<span class="spaces">  </span>{};<br />
                <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-shapes#pgf.back/node">\node</a></span
                >[<span class="textcolor" style="color: #008000"
                  ><a href="library-petri#pgf.place">place</a></span
                >]<span class="spaces">      </span><span
                  class="textcolor"
                  style="color: #800080"
                  >(semaphore)</span
                ><span class="spaces">      </span>[<span
                  class="textcolor"
                  style="color: #008000"
                  ><a href="tikz-shapes#pgf.below">below</a></span
                >=<span class="textcolor" style="color: #008000"
                  ><a href="tikz-coordinates#pgf.of">of</a> critical</span
                >] {};<br />
                <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-shapes#pgf.back/node">\node</a></span
                >[<span class="textcolor" style="color: #008000"
                  ><a href="library-petri#pgf.transition">transition</a></span
                >] <span class="textcolor" style="color: #800080"
                  >(leave critical)</span
                > [<span class="textcolor" style="color: #008000"
                  ><a href="tikz-arrows#pgf.right">right</a></span
                >=<span class="textcolor" style="color: #008000"
                  ><a href="tikz-coordinates#pgf.of">of</a> critical</span
                >] {};<br />
                <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-shapes#pgf.back/node">\node</a></span
                >[<span class="textcolor" style="color: #008000"
                  ><a href="library-petri#pgf.transition">transition</a></span
                >] <span class="textcolor" style="color: #800080"
                  >(enter critical)</span
                > [<span class="textcolor" style="color: #008000"
                  ><a href="tikz-arrows#pgf.left">left</a></span
                >=<span class="textcolor" style="color: #008000"
                  ><a href="tikz-coordinates#pgf.of">of</a> critical</span
                >]<span class="spaces">  </span>{};<br />
                <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                > [<span class="textcolor" style="color: #008000"
                  ><a href="tikz-graphs#pgf.-&gt;">-&gt;</a></span
                >] <span class="textcolor" style="color: #800080"
                  >(enter critical.east)</span
                > <span class="textcolor" style="color: #000000"
                  ><a href="tikz-paths#pgf.--">--</a></span
                >
                <span class="textcolor" style="color: #800080"
                  >(critical.west)</span
                >;<br />
                <span class="textcolor" style="color: #000000">\end</span>{<span
                  class="textcolor"
                  style="color: #0000b2"
                  ><a href="tikz-scopes#pgf.tikzpicture">tikzpicture</a></span
                >}<br />
              </code>
            </div>
          </figure>

          <p>
            Next, let us tackle the curve from
            <span class="verb">waiting</span> to
            <span class="verb">enter critical</span>. This can be specified
            using curves and controls:
          </p>

          <figure class="example">
            <div class="example-image">
              <p>
                <span class="lateximagesource" id="lateximage-pgfmanual-75"
                  ><!--
--><img
                    alt="(-tikz-&nbsp;diagram)"
                    class="lateximage"
                    height="149.522"
                    loading="lazy"
                    src="pgfmanual-images/image-75.png"
                    style
                    width="134.360"
                /></span>
              </p>
            </div>

            <div class="example-code">
              <button class="clipboardButton" type="button">copy</button>

              <code>
                <span class="codepreamble">\usetikzlibrary {positioning} </span
                ><br />
                <span class="textcolor" style="color: #000000">\begin</span
                >{<span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-scopes#pgf.tikzpicture">tikzpicture</a></span
                >}<br />
                <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-shapes#pgf.back/node">\node</a></span
                >[<span class="textcolor" style="color: #008000"
                  ><a href="library-petri#pgf.place">place</a></span
                >]<span class="spaces">      </span><span
                  class="textcolor"
                  style="color: #800080"
                  >(waiting)</span
                ><span class="spaces">                            </span>{};<br />
                <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-shapes#pgf.back/node">\node</a></span
                >[<span class="textcolor" style="color: #008000"
                  ><a href="library-petri#pgf.place">place</a></span
                >]<span class="spaces">      </span><span
                  class="textcolor"
                  style="color: #800080"
                  >(critical)</span
                ><span class="spaces">       </span>[<span
                  class="textcolor"
                  style="color: #008000"
                  ><a href="tikz-shapes#pgf.below">below</a></span
                >=<span class="textcolor" style="color: #008000"
                  ><a href="tikz-coordinates#pgf.of">of</a> waiting</span
                >]<span class="spaces">  </span>{};<br />
                <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-shapes#pgf.back/node">\node</a></span
                >[<span class="textcolor" style="color: #008000"
                  ><a href="library-petri#pgf.place">place</a></span
                >]<span class="spaces">      </span><span
                  class="textcolor"
                  style="color: #800080"
                  >(semaphore)</span
                ><span class="spaces">      </span>[<span
                  class="textcolor"
                  style="color: #008000"
                  ><a href="tikz-shapes#pgf.below">below</a></span
                >=<span class="textcolor" style="color: #008000"
                  ><a href="tikz-coordinates#pgf.of">of</a> critical</span
                >] {};<br />
                <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-shapes#pgf.back/node">\node</a></span
                >[<span class="textcolor" style="color: #008000"
                  ><a href="library-petri#pgf.transition">transition</a></span
                >] <span class="textcolor" style="color: #800080"
                  >(leave critical)</span
                > [<span class="textcolor" style="color: #008000"
                  ><a href="tikz-arrows#pgf.right">right</a></span
                >=<span class="textcolor" style="color: #008000"
                  ><a href="tikz-coordinates#pgf.of">of</a> critical</span
                >] {};<br />
                <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-shapes#pgf.back/node">\node</a></span
                >[<span class="textcolor" style="color: #008000"
                  ><a href="library-petri#pgf.transition">transition</a></span
                >] <span class="textcolor" style="color: #800080"
                  >(enter critical)</span
                > [<span class="textcolor" style="color: #008000"
                  ><a href="tikz-arrows#pgf.left">left</a></span
                >=<span class="textcolor" style="color: #008000"
                  ><a href="tikz-coordinates#pgf.of">of</a> critical</span
                >]<span class="spaces">  </span>{};<br />
                <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                > [<span class="textcolor" style="color: #008000"
                  ><a href="tikz-graphs#pgf.-&gt;">-&gt;</a></span
                >] <span class="textcolor" style="color: #800080"
                  >(enter critical.east)</span
                > <span class="textcolor" style="color: #000000"
                  ><a href="tikz-paths#pgf.--">--</a></span
                >
                <span class="textcolor" style="color: #800080"
                  >(critical.west)</span
                >;<br />
                <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                > [<span class="textcolor" style="color: #008000"
                  ><a href="tikz-graphs#pgf.-&gt;">-&gt;</a></span
                >] <span class="textcolor" style="color: #800080"
                  >(waiting.west)</span
                ><span class="spaces"> </span>..<span class="spaces"> </span><span class="textcolor" style="color: #000000"
                  ><a href="library-edges#pgf.controls">controls</a></span
                >
                <span class="textcolor" style="color: #000000">+</span
                ><span class="textcolor" style="color: #800080"
                  >(<a href="tikz-arrows#pgf.left">left</a>:5mm)</span
                > <span class="textcolor" style="color: #000000"
                  ><a href="pgfkeys#pgf.and">and</a></span
                >
                <span class="textcolor" style="color: #000000">+</span
                ><span class="textcolor" style="color: #800080">(up:5mm)</span
                ><br />
                <span class="spaces">                            </span>..<span class="spaces"> </span><span
                  class="textcolor"
                  style="color: #800080"
                  >(enter critical.north)</span
                >;<br />
                <span class="textcolor" style="color: #000000">\end</span>{<span
                  class="textcolor"
                  style="color: #0000b2"
                  ><a href="tikz-scopes#pgf.tikzpicture">tikzpicture</a></span
                >}<br />
              </code>
            </div>
          </figure>

          <p>
            Hagen sees how he can now add all his edges, but the whole process
            seems a but awkward and not very flexible. Again, the code seems to
            obscure the structure of the graphic rather than showing it.
          </p>

          <p>
            So, let us start improving the code for the edges. First, Hagen can
            leave out the anchors:
          </p>

          <figure class="example">
            <div class="example-image">
              <p>
                <span class="lateximagesource" id="lateximage-pgfmanual-76"
                  ><!--
--><img
                    alt="(-tikz-&nbsp;diagram)"
                    class="lateximage"
                    height="149.522"
                    loading="lazy"
                    src="pgfmanual-images/image-76.png"
                    style
                    width="134.360"
                /></span>
              </p>
            </div>

            <div class="example-code">
              <button class="clipboardButton" type="button">copy</button>

              <code>
                <span class="codepreamble">\usetikzlibrary {positioning} </span
                ><br />
                <span class="textcolor" style="color: #000000">\begin</span
                >{<span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-scopes#pgf.tikzpicture">tikzpicture</a></span
                >}<br />
                <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-shapes#pgf.back/node">\node</a></span
                >[<span class="textcolor" style="color: #008000"
                  ><a href="library-petri#pgf.place">place</a></span
                >]<span class="spaces">      </span><span
                  class="textcolor"
                  style="color: #800080"
                  >(waiting)</span
                ><span class="spaces">                            </span>{};<br />
                <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-shapes#pgf.back/node">\node</a></span
                >[<span class="textcolor" style="color: #008000"
                  ><a href="library-petri#pgf.place">place</a></span
                >]<span class="spaces">      </span><span
                  class="textcolor"
                  style="color: #800080"
                  >(critical)</span
                ><span class="spaces">       </span>[<span
                  class="textcolor"
                  style="color: #008000"
                  ><a href="tikz-shapes#pgf.below">below</a></span
                >=<span class="textcolor" style="color: #008000"
                  ><a href="tikz-coordinates#pgf.of">of</a> waiting</span
                >]<span class="spaces">  </span>{};<br />
                <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-shapes#pgf.back/node">\node</a></span
                >[<span class="textcolor" style="color: #008000"
                  ><a href="library-petri#pgf.place">place</a></span
                >]<span class="spaces">      </span><span
                  class="textcolor"
                  style="color: #800080"
                  >(semaphore)</span
                ><span class="spaces">      </span>[<span
                  class="textcolor"
                  style="color: #008000"
                  ><a href="tikz-shapes#pgf.below">below</a></span
                >=<span class="textcolor" style="color: #008000"
                  ><a href="tikz-coordinates#pgf.of">of</a> critical</span
                >] {};<br />
                <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-shapes#pgf.back/node">\node</a></span
                >[<span class="textcolor" style="color: #008000"
                  ><a href="library-petri#pgf.transition">transition</a></span
                >] <span class="textcolor" style="color: #800080"
                  >(leave critical)</span
                > [<span class="textcolor" style="color: #008000"
                  ><a href="tikz-arrows#pgf.right">right</a></span
                >=<span class="textcolor" style="color: #008000"
                  ><a href="tikz-coordinates#pgf.of">of</a> critical</span
                >] {};<br />
                <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-shapes#pgf.back/node">\node</a></span
                >[<span class="textcolor" style="color: #008000"
                  ><a href="library-petri#pgf.transition">transition</a></span
                >] <span class="textcolor" style="color: #800080"
                  >(enter critical)</span
                > [<span class="textcolor" style="color: #008000"
                  ><a href="tikz-arrows#pgf.left">left</a></span
                >=<span class="textcolor" style="color: #008000"
                  ><a href="tikz-coordinates#pgf.of">of</a> critical</span
                >]<span class="spaces">  </span>{};<br />
                <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                > [<span class="textcolor" style="color: #008000"
                  ><a href="tikz-graphs#pgf.-&gt;">-&gt;</a></span
                >] <span class="textcolor" style="color: #800080"
                  >(enter critical)</span
                > <span class="textcolor" style="color: #000000"
                  ><a href="tikz-paths#pgf.--">--</a></span
                >
                <span class="textcolor" style="color: #800080">(critical)</span
                >;<br />
                <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                > [<span class="textcolor" style="color: #008000"
                  ><a href="tikz-graphs#pgf.-&gt;">-&gt;</a></span
                >] <span class="textcolor" style="color: #800080"
                  >(waiting)</span
                ><span class="spaces"> </span>..<span class="spaces"> </span><span class="textcolor" style="color: #000000"
                  ><a href="library-edges#pgf.controls">controls</a></span
                >
                <span class="textcolor" style="color: #000000">+</span
                ><span class="textcolor" style="color: #800080"
                  >(<a href="tikz-arrows#pgf.left">left</a>:8mm)</span
                > <span class="textcolor" style="color: #000000"
                  ><a href="pgfkeys#pgf.and">and</a></span
                >
                <span class="textcolor" style="color: #000000">+</span
                ><span class="textcolor" style="color: #800080">(up:8mm)</span
                ><br />
                <span class="spaces">                       </span>..<span class="spaces"> </span><span
                  class="textcolor"
                  style="color: #800080"
                  >(enter critical)</span
                >;<br />
                <span class="textcolor" style="color: #000000">\end</span>{<span
                  class="textcolor"
                  style="color: #0000b2"
                  ><a href="tikz-scopes#pgf.tikzpicture">tikzpicture</a></span
                >}<br />
              </code>
            </div>
          </figure>

          <p>
            Hagen is a bit surprised that this works. After all, how did
            <span class="tikzname">TikZ</span> know that the line from
            <span class="verb">enter critical</span> to
            <span class="verb">critical</span> should actually start on the
            borders? Whenever <span class="tikzname">TikZ</span> encounters a
            whole node name as a &ldquo;coordinate&rdquo;, it tries to &ldquo;be
            smart&rdquo; about the anchor that it should choose for this node.
            Depending on what happens next,
            <span class="tikzname">TikZ</span> will choose an anchor that lies
            on the border of the node on a line to the next coordinate or
            control point. The exact rules are a bit complex, but the chosen
            point will usually be correct &ndash; and when it is not, Hagen can
            still specify the desired anchor by hand.
          </p>

          <p>
            Hagen would now like to simplify the curve operation somehow. It
            turns out that this can be accomplished using a special path
            operation: the <span class="verb">to</span> operation. This
            operation takes many options (you can even define new ones
            yourself). One pair of options is useful for Hagen: The pair
            <span class="verb">in</span> and <span class="verb">out</span>.
            These options take angles at which a curve should leave or reach the
            start or target coordinates. Without these options, a straight line
            is drawn:
          </p>

          <figure class="example">
            <div class="example-image">
              <p>
                <span class="lateximagesource" id="lateximage-pgfmanual-77"
                  ><!--
--><img
                    alt="(-tikz-&nbsp;diagram)"
                    class="lateximage"
                    height="149.522"
                    loading="lazy"
                    src="pgfmanual-images/image-77.png"
                    style
                    width="134.360"
                /></span>
              </p>
            </div>

            <div class="example-code">
              <button class="clipboardButton" type="button">copy</button>

              <code>
                <span class="codepreamble">\usetikzlibrary {positioning} </span
                ><br />
                <span class="textcolor" style="color: #000000">\begin</span
                >{<span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-scopes#pgf.tikzpicture">tikzpicture</a></span
                >}<br />
                <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-shapes#pgf.back/node">\node</a></span
                >[<span class="textcolor" style="color: #008000"
                  ><a href="library-petri#pgf.place">place</a></span
                >]<span class="spaces">      </span><span
                  class="textcolor"
                  style="color: #800080"
                  >(waiting)</span
                ><span class="spaces">                            </span>{};<br />
                <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-shapes#pgf.back/node">\node</a></span
                >[<span class="textcolor" style="color: #008000"
                  ><a href="library-petri#pgf.place">place</a></span
                >]<span class="spaces">      </span><span
                  class="textcolor"
                  style="color: #800080"
                  >(critical)</span
                ><span class="spaces">       </span>[<span
                  class="textcolor"
                  style="color: #008000"
                  ><a href="tikz-shapes#pgf.below">below</a></span
                >=<span class="textcolor" style="color: #008000"
                  ><a href="tikz-coordinates#pgf.of">of</a> waiting</span
                >]<span class="spaces">  </span>{};<br />
                <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-shapes#pgf.back/node">\node</a></span
                >[<span class="textcolor" style="color: #008000"
                  ><a href="library-petri#pgf.place">place</a></span
                >]<span class="spaces">      </span><span
                  class="textcolor"
                  style="color: #800080"
                  >(semaphore)</span
                ><span class="spaces">      </span>[<span
                  class="textcolor"
                  style="color: #008000"
                  ><a href="tikz-shapes#pgf.below">below</a></span
                >=<span class="textcolor" style="color: #008000"
                  ><a href="tikz-coordinates#pgf.of">of</a> critical</span
                >] {};<br />
                <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-shapes#pgf.back/node">\node</a></span
                >[<span class="textcolor" style="color: #008000"
                  ><a href="library-petri#pgf.transition">transition</a></span
                >] <span class="textcolor" style="color: #800080"
                  >(leave critical)</span
                > [<span class="textcolor" style="color: #008000"
                  ><a href="tikz-arrows#pgf.right">right</a></span
                >=<span class="textcolor" style="color: #008000"
                  ><a href="tikz-coordinates#pgf.of">of</a> critical</span
                >] {};<br />
                <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-shapes#pgf.back/node">\node</a></span
                >[<span class="textcolor" style="color: #008000"
                  ><a href="library-petri#pgf.transition">transition</a></span
                >] <span class="textcolor" style="color: #800080"
                  >(enter critical)</span
                > [<span class="textcolor" style="color: #008000"
                  ><a href="tikz-arrows#pgf.left">left</a></span
                >=<span class="textcolor" style="color: #008000"
                  ><a href="tikz-coordinates#pgf.of">of</a> critical</span
                >]<span class="spaces">  </span>{};<br />
                <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                > [<span class="textcolor" style="color: #008000"
                  ><a href="tikz-graphs#pgf.-&gt;">-&gt;</a></span
                >] <span class="textcolor" style="color: #800080"
                  >(enter critical)</span
                > <span class="textcolor" style="color: #000000"
                  ><a href="tikz-paths#pgf.to">to</a></span
                >
                <span class="spaces">                </span><span
                  class="textcolor"
                  style="color: #800080"
                  >(critical)</span
                >;<br />
                <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                > [<span class="textcolor" style="color: #008000"
                  ><a href="tikz-graphs#pgf.-&gt;">-&gt;</a></span
                >] <span class="textcolor" style="color: #800080"
                  >(waiting)</span
                ><span class="spaces">        </span><span
                  class="textcolor"
                  style="color: #000000"
                  ><a href="tikz-paths#pgf.to">to</a></span
                >
                [<span class="textcolor" style="color: #008000"
                  ><a href="library-edges#pgf.out">out</a></span
                >=<span class="textcolor" style="color: #008000">180</span
                >,<span class="textcolor" style="color: #008000"
                  ><a href="library-edges#pgf.in">in</a></span
                >=<span class="textcolor" style="color: #008000">90</span
                >] <span class="textcolor" style="color: #800080"
                  >(enter critical)</span
                >;<br />
                <span class="textcolor" style="color: #000000">\end</span>{<span
                  class="textcolor"
                  style="color: #0000b2"
                  ><a href="tikz-scopes#pgf.tikzpicture">tikzpicture</a></span
                >}<br />
              </code>
            </div>
          </figure>

          <p>
            There is another option for the
            <span class="verb">to</span> operation, that is even better suited
            to Hagen&rsquo;s problem: The
            <span class="verb">bend right</span> option. This option also takes
            an angle, but this angle only specifies the angle by which the curve
            is bent to the right:
          </p>

          <figure class="example">
            <div class="example-image">
              <p>
                <span class="lateximagesource" id="lateximage-pgfmanual-78"
                  ><!--
--><img
                    alt="(-tikz-&nbsp;diagram)"
                    class="lateximage"
                    height="149.522"
                    loading="lazy"
                    src="pgfmanual-images/image-78.png"
                    style
                    width="134.360"
                /></span>
              </p>
            </div>

            <div class="example-code">
              <button class="clipboardButton" type="button">copy</button>

              <code>
                <span class="codepreamble">\usetikzlibrary {positioning} </span
                ><br />
                <span class="textcolor" style="color: #000000">\begin</span
                >{<span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-scopes#pgf.tikzpicture">tikzpicture</a></span
                >}<br />
                <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-shapes#pgf.back/node">\node</a></span
                >[<span class="textcolor" style="color: #008000"
                  ><a href="library-petri#pgf.place">place</a></span
                >]<span class="spaces">      </span><span
                  class="textcolor"
                  style="color: #800080"
                  >(waiting)</span
                ><span class="spaces">                            </span>{};<br />
                <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-shapes#pgf.back/node">\node</a></span
                >[<span class="textcolor" style="color: #008000"
                  ><a href="library-petri#pgf.place">place</a></span
                >]<span class="spaces">      </span><span
                  class="textcolor"
                  style="color: #800080"
                  >(critical)</span
                ><span class="spaces">       </span>[<span
                  class="textcolor"
                  style="color: #008000"
                  ><a href="tikz-shapes#pgf.below">below</a></span
                >=<span class="textcolor" style="color: #008000"
                  ><a href="tikz-coordinates#pgf.of">of</a> waiting</span
                >]<span class="spaces">  </span>{};<br />
                <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-shapes#pgf.back/node">\node</a></span
                >[<span class="textcolor" style="color: #008000"
                  ><a href="library-petri#pgf.place">place</a></span
                >]<span class="spaces">      </span><span
                  class="textcolor"
                  style="color: #800080"
                  >(semaphore)</span
                ><span class="spaces">      </span>[<span
                  class="textcolor"
                  style="color: #008000"
                  ><a href="tikz-shapes#pgf.below">below</a></span
                >=<span class="textcolor" style="color: #008000"
                  ><a href="tikz-coordinates#pgf.of">of</a> critical</span
                >] {};<br />
                <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-shapes#pgf.back/node">\node</a></span
                >[<span class="textcolor" style="color: #008000"
                  ><a href="library-petri#pgf.transition">transition</a></span
                >] <span class="textcolor" style="color: #800080"
                  >(leave critical)</span
                > [<span class="textcolor" style="color: #008000"
                  ><a href="tikz-arrows#pgf.right">right</a></span
                >=<span class="textcolor" style="color: #008000"
                  ><a href="tikz-coordinates#pgf.of">of</a> critical</span
                >] {};<br />
                <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-shapes#pgf.back/node">\node</a></span
                >[<span class="textcolor" style="color: #008000"
                  ><a href="library-petri#pgf.transition">transition</a></span
                >] <span class="textcolor" style="color: #800080"
                  >(enter critical)</span
                > [<span class="textcolor" style="color: #008000"
                  ><a href="tikz-arrows#pgf.left">left</a></span
                >=<span class="textcolor" style="color: #008000"
                  ><a href="tikz-coordinates#pgf.of">of</a> critical</span
                >]<span class="spaces">  </span>{};<br />
                <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                > [<span class="textcolor" style="color: #008000"
                  ><a href="tikz-graphs#pgf.-&gt;">-&gt;</a></span
                >] <span class="textcolor" style="color: #800080"
                  >(enter critical)</span
                > <span class="textcolor" style="color: #000000"
                  ><a href="tikz-paths#pgf.to">to</a></span
                >
                <span class="spaces">                </span><span
                  class="textcolor"
                  style="color: #800080"
                  >(critical)</span
                >;<br />
                <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                > [<span class="textcolor" style="color: #008000"
                  ><a href="tikz-graphs#pgf.-&gt;">-&gt;</a></span
                >] <span class="textcolor" style="color: #800080"
                  >(waiting)</span
                ><span class="spaces">        </span><span
                  class="textcolor"
                  style="color: #000000"
                  ><a href="tikz-paths#pgf.to">to</a></span
                >
                [<span class="textcolor" style="color: #008000"
                  ><a href="library-edges#pgf.bend:right">bend right</a></span
                >=<span class="textcolor" style="color: #008000">45</span
                >] <span class="textcolor" style="color: #800080"
                  >(enter critical)</span
                >;<br />
                <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                > [<span class="textcolor" style="color: #008000"
                  ><a href="tikz-graphs#pgf.-&gt;">-&gt;</a></span
                >] <span class="textcolor" style="color: #800080"
                  >(enter critical)</span
                > <span class="textcolor" style="color: #000000"
                  ><a href="tikz-paths#pgf.to">to</a></span
                >
                [<span class="textcolor" style="color: #008000"
                  ><a href="library-edges#pgf.bend:right">bend right</a></span
                >=<span class="textcolor" style="color: #008000">45</span
                >] <span class="textcolor" style="color: #800080"
                  >(semaphore)</span
                >;<br />
                <span class="textcolor" style="color: #000000">\end</span>{<span
                  class="textcolor"
                  style="color: #0000b2"
                  ><a href="tikz-scopes#pgf.tikzpicture">tikzpicture</a></span
                >}<br />
              </code>
            </div>
          </figure>

          <p>
            It is now time for Hagen to learn about yet another way of
            specifying edges: Using the <span class="verb">edge</span> path
            operation. This operation is very similar to the
            <span class="verb">to</span> operation, but there is one important
            difference: Like a node the edge generated by the
            <span class="verb">edge</span> operation is not part of the main
            path, but is added only later. This may not seem very important, but
            it has some nice consequences. For example, every edge can have its
            own arrow tips and its own color and so on and, still, all the edges
            can be given on the same path. This allows Hagen to write the
            following:
          </p>

          <figure class="example">
            <div class="example-image">
              <p>
                <span class="lateximagesource" id="lateximage-pgfmanual-79"
                  ><!--
--><img
                    alt="(-tikz-&nbsp;diagram)"
                    class="lateximage"
                    height="149.522"
                    loading="lazy"
                    src="pgfmanual-images/image-79.png"
                    style
                    width="134.360"
                /></span>
              </p>
            </div>

            <div class="example-code">
              <button class="clipboardButton" type="button">copy</button>

              <code>
                <span class="codepreamble">\usetikzlibrary {positioning} </span
                ><br />
                <span class="textcolor" style="color: #000000">\begin</span
                >{<span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-scopes#pgf.tikzpicture">tikzpicture</a></span
                >}<br />
                <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-shapes#pgf.back/node">\node</a></span
                >[<span class="textcolor" style="color: #008000"
                  ><a href="library-petri#pgf.place">place</a></span
                >]<span class="spaces">      </span><span
                  class="textcolor"
                  style="color: #800080"
                  >(waiting)</span
                ><span class="spaces">                            </span>{};<br />
                <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-shapes#pgf.back/node">\node</a></span
                >[<span class="textcolor" style="color: #008000"
                  ><a href="library-petri#pgf.place">place</a></span
                >]<span class="spaces">      </span><span
                  class="textcolor"
                  style="color: #800080"
                  >(critical)</span
                ><span class="spaces">       </span>[<span
                  class="textcolor"
                  style="color: #008000"
                  ><a href="tikz-shapes#pgf.below">below</a></span
                >=<span class="textcolor" style="color: #008000"
                  ><a href="tikz-coordinates#pgf.of">of</a> waiting</span
                >]<span class="spaces">  </span>{};<br />
                <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-shapes#pgf.back/node">\node</a></span
                >[<span class="textcolor" style="color: #008000"
                  ><a href="library-petri#pgf.place">place</a></span
                >]<span class="spaces">      </span><span
                  class="textcolor"
                  style="color: #800080"
                  >(semaphore)</span
                ><span class="spaces">      </span>[<span
                  class="textcolor"
                  style="color: #008000"
                  ><a href="tikz-shapes#pgf.below">below</a></span
                >=<span class="textcolor" style="color: #008000"
                  ><a href="tikz-coordinates#pgf.of">of</a> critical</span
                >] {};<br />
                <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-shapes#pgf.back/node">\node</a></span
                >[<span class="textcolor" style="color: #008000"
                  ><a href="library-petri#pgf.transition">transition</a></span
                >] <span class="textcolor" style="color: #800080"
                  >(leave critical)</span
                > [<span class="textcolor" style="color: #008000"
                  ><a href="tikz-arrows#pgf.right">right</a></span
                >=<span class="textcolor" style="color: #008000"
                  ><a href="tikz-coordinates#pgf.of">of</a> critical</span
                >] {};<br />
                <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-shapes#pgf.back/node">\node</a></span
                >[<span class="textcolor" style="color: #008000"
                  ><a href="library-petri#pgf.transition">transition</a></span
                >] <span class="textcolor" style="color: #800080"
                  >(enter critical)</span
                > [<span class="textcolor" style="color: #008000"
                  ><a href="tikz-arrows#pgf.left">left</a></span
                >=<span class="textcolor" style="color: #008000"
                  ><a href="tikz-coordinates#pgf.of">of</a> critical</span
                >]<span class="spaces">  </span>{}<br />
                <span class="spaces">    </span><span
                  class="textcolor"
                  style="color: #000000"
                  ><a href="tikz-shapes#pgf.edge">edge</a></span
                >
                [<span class="textcolor" style="color: #008000"
                  ><a href="tikz-graphs#pgf.-&gt;">-&gt;</a></span
                >]<span class="spaces">               </span><span
                  class="textcolor"
                  style="color: #800080"
                  >(critical)</span
                ><br />
                <span class="spaces">    </span><span
                  class="textcolor"
                  style="color: #000000"
                  ><a href="tikz-shapes#pgf.edge">edge</a></span
                >
                [<span class="textcolor" style="color: #008000"
                  ><a href="tikz-graphs#pgf.&lt;-">&lt;-</a></span
                >,<span class="textcolor" style="color: #008000"
                  ><a href="library-edges#pgf.bend:left">bend left</a></span
                >=<span class="textcolor" style="color: #008000">45</span
                >]<span class="spaces">  </span><span class="textcolor" style="color: #800080"
                  >(waiting)</span
                ><br />
                <span class="spaces">    </span><span
                  class="textcolor"
                  style="color: #000000"
                  ><a href="tikz-shapes#pgf.edge">edge</a></span
                >
                [<span class="textcolor" style="color: #008000"
                  ><a href="tikz-graphs#pgf.-&gt;">-&gt;</a></span
                >,<span class="textcolor" style="color: #008000"
                  ><a href="library-edges#pgf.bend:right">bend right</a></span
                >=<span class="textcolor" style="color: #008000">45</span
                >] <span class="textcolor" style="color: #800080"
                  >(semaphore)</span
                >;<br />
                <span class="textcolor" style="color: #000000">\end</span>{<span
                  class="textcolor"
                  style="color: #0000b2"
                  ><a href="tikz-scopes#pgf.tikzpicture">tikzpicture</a></span
                >}<br />
              </code>
            </div>
          </figure>

          <p>
            Each <span class="verb">edge</span> caused a new path to be
            constructed, consisting of a <span class="verb">to</span> between
            the node <span class="verb">enter critical</span> and the node
            following the <span class="verb">edge</span>
            command.
          </p>

          <p>
            The finishing touch is to introduce two styles
            <span class="verb">pre</span> and <span class="verb">post</span> and
            to use the <span class="verb">bend angle=45</span> option to set the
            bend angle once and for all:
          </p>

          <figure class="example">
            <div class="example-image">
              <p>
                <span class="lateximagesource" id="lateximage-pgfmanual-80"
                  ><!--
--><img
                    alt="(-tikz-&nbsp;diagram)"
                    class="lateximage"
                    height="149.522"
                    loading="lazy"
                    src="pgfmanual-images/image-80.png"
                    style
                    width="134.360"
                /></span>
              </p>
            </div>

            <div class="example-code">
              <button class="clipboardButton" type="button">copy</button>

              <code>
                <span class="codepreamble"
                  >\usetikzlibrary {arrows.meta,positioning} </span
                ><br />
                <span class="example-code-comment"
                  >% Styles place and transition as before</span
                ><br />
                <span class="textcolor" style="color: #000000">\begin</span
                >{<span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-scopes#pgf.tikzpicture">tikzpicture</a></span
                >}<br />
                <span class="spaces">  </span>[<span class="textcolor" style="color: #008000"
                  ><a href="library-edges#pgf.bend:angle">bend angle</a></span
                >=<span class="textcolor" style="color: #008000">45</span
                >,<br />
                <span class="spaces">   </span><span
                  class="textcolor"
                  style="color: #008000"
                  ><a href="tikz-decorations#pgf.pre">pre</a></span
                >/<span class="textcolor" style="color: #0000b2"
                  ><a href="pgfkeys#pgf./handlers/.style">.style</a></span
                >={<span class="textcolor" style="color: #008000"
                  ><a href="tikz-graphs#pgf.&lt;-">&lt;-</a></span
                >,<span class="textcolor" style="color: #008000"
                  ><a href="tikz-arrows#pgf.shorten:&lt;">shorten &lt;</a></span
                >=<span class="textcolor" style="color: #008000">1pt</span
                >,<span class="textcolor" style="color: #008000"
                  ><a href="tikz-arrows#pgf.&gt;">&gt;</a></span
                >=<span class="textcolor" style="color: #008000"
                  >{Stealth[<span class="textcolor" style="color: #008000"
                    ><a href="tikz-arrows#pgf.round">round</a></span
                  >]}</span
                >,<span class="textcolor" style="color: #008000"
                  ><a href="tikz-actions#pgf.semithick">semithick</a></span
                >},<br />
                <span class="spaces">   </span><span
                  class="textcolor"
                  style="color: #008000"
                  ><a href="tikz-decorations#pgf.post">post</a></span
                >/<span class="textcolor" style="color: #0000b2"
                  ><a href="pgfkeys#pgf./handlers/.style">.style</a></span
                >={<span class="textcolor" style="color: #008000"
                  ><a href="tikz-graphs#pgf.-&gt;">-&gt;</a></span
                >,<span class="textcolor" style="color: #008000"
                  ><a href="tikz-arrows#pgf.shorten:&gt;">shorten &gt;</a></span
                >=<span class="textcolor" style="color: #008000">1pt</span
                >,<span class="textcolor" style="color: #008000"
                  ><a href="tikz-arrows#pgf.&gt;">&gt;</a></span
                >=<span class="textcolor" style="color: #008000"
                  >{Stealth[<span class="textcolor" style="color: #008000"
                    ><a href="tikz-arrows#pgf.round">round</a></span
                  >]}</span
                >,<span class="textcolor" style="color: #008000"
                  ><a href="tikz-actions#pgf.semithick">semithick</a></span
                >}]<br />
                <br />
                <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-shapes#pgf.back/node">\node</a></span
                >[<span class="textcolor" style="color: #008000"
                  ><a href="library-petri#pgf.place">place</a></span
                >]<span class="spaces">      </span><span
                  class="textcolor"
                  style="color: #800080"
                  >(waiting)</span
                ><span class="spaces">                            </span>{};<br />
                <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-shapes#pgf.back/node">\node</a></span
                >[<span class="textcolor" style="color: #008000"
                  ><a href="library-petri#pgf.place">place</a></span
                >]<span class="spaces">      </span><span
                  class="textcolor"
                  style="color: #800080"
                  >(critical)</span
                ><span class="spaces">       </span>[<span
                  class="textcolor"
                  style="color: #008000"
                  ><a href="tikz-shapes#pgf.below">below</a></span
                >=<span class="textcolor" style="color: #008000"
                  ><a href="tikz-coordinates#pgf.of">of</a> waiting</span
                >]<span class="spaces">  </span>{};<br />
                <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-shapes#pgf.back/node">\node</a></span
                >[<span class="textcolor" style="color: #008000"
                  ><a href="library-petri#pgf.place">place</a></span
                >]<span class="spaces">      </span><span
                  class="textcolor"
                  style="color: #800080"
                  >(semaphore)</span
                ><span class="spaces">      </span>[<span
                  class="textcolor"
                  style="color: #008000"
                  ><a href="tikz-shapes#pgf.below">below</a></span
                >=<span class="textcolor" style="color: #008000"
                  ><a href="tikz-coordinates#pgf.of">of</a> critical</span
                >] {};<br />
                <br />
                <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-shapes#pgf.back/node">\node</a></span
                >[<span class="textcolor" style="color: #008000"
                  ><a href="library-petri#pgf.transition">transition</a></span
                >] <span class="textcolor" style="color: #800080"
                  >(leave critical)</span
                > [<span class="textcolor" style="color: #008000"
                  ><a href="tikz-arrows#pgf.right">right</a></span
                >=<span class="textcolor" style="color: #008000"
                  ><a href="tikz-coordinates#pgf.of">of</a> critical</span
                >] {}<br />
                <span class="spaces">    </span><span
                  class="textcolor"
                  style="color: #000000"
                  ><a href="tikz-shapes#pgf.edge">edge</a></span
                >
                [<span class="textcolor" style="color: #008000"
                  ><a href="tikz-decorations#pgf.pre">pre</a></span
                >]<span class="spaces">             </span><span
                  class="textcolor"
                  style="color: #800080"
                  >(critical)</span
                ><br />
                <span class="spaces">    </span><span
                  class="textcolor"
                  style="color: #000000"
                  ><a href="tikz-shapes#pgf.edge">edge</a></span
                >
                [<span class="textcolor" style="color: #008000"
                  ><a href="tikz-decorations#pgf.post">post</a></span
                >,<span class="textcolor" style="color: #008000"
                  ><a href="library-edges#pgf.bend:right">bend right</a></span
                >] <span class="textcolor" style="color: #800080"
                  >(waiting)</span
                ><br />
                <span class="spaces">    </span><span
                  class="textcolor"
                  style="color: #000000"
                  ><a href="tikz-shapes#pgf.edge">edge</a></span
                >
                [<span class="textcolor" style="color: #008000"
                  ><a href="tikz-decorations#pgf.pre">pre</a></span
                >, <span class="textcolor" style="color: #008000"
                  ><a href="library-edges#pgf.bend:left">bend left</a></span
                >]<span class="spaces">  </span><span class="textcolor" style="color: #800080"
                  >(semaphore)</span
                >;<br />
                <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-shapes#pgf.back/node">\node</a></span
                >[<span class="textcolor" style="color: #008000"
                  ><a href="library-petri#pgf.transition">transition</a></span
                >] <span class="textcolor" style="color: #800080"
                  >(enter critical)</span
                > [<span class="textcolor" style="color: #008000"
                  ><a href="tikz-arrows#pgf.left">left</a></span
                >=<span class="textcolor" style="color: #008000"
                  ><a href="tikz-coordinates#pgf.of">of</a> critical</span
                >]<span class="spaces">  </span>{}<br />
                <span class="spaces">    </span><span
                  class="textcolor"
                  style="color: #000000"
                  ><a href="tikz-shapes#pgf.edge">edge</a></span
                >
                [<span class="textcolor" style="color: #008000"
                  ><a href="tikz-decorations#pgf.post">post</a></span
                >]<span class="spaces">            </span><span
                  class="textcolor"
                  style="color: #800080"
                  >(critical)</span
                ><br />
                <span class="spaces">    </span><span
                  class="textcolor"
                  style="color: #000000"
                  ><a href="tikz-shapes#pgf.edge">edge</a></span
                >
                [<span class="textcolor" style="color: #008000"
                  ><a href="tikz-decorations#pgf.pre">pre</a></span
                >, <span class="textcolor" style="color: #008000"
                  ><a href="library-edges#pgf.bend:left">bend left</a></span
                >]<span class="spaces">  </span><span class="textcolor" style="color: #800080"
                  >(waiting)</span
                ><br />
                <span class="spaces">    </span><span
                  class="textcolor"
                  style="color: #000000"
                  ><a href="tikz-shapes#pgf.edge">edge</a></span
                >
                [<span class="textcolor" style="color: #008000"
                  ><a href="tikz-decorations#pgf.post">post</a></span
                >,<span class="textcolor" style="color: #008000"
                  ><a href="library-edges#pgf.bend:right">bend right</a></span
                >] <span class="textcolor" style="color: #800080"
                  >(semaphore)</span
                >;<br />
                <span class="textcolor" style="color: #000000">\end</span>{<span
                  class="textcolor"
                  style="color: #0000b2"
                  ><a href="tikz-scopes#pgf.tikzpicture">tikzpicture</a></span
                >}<br />
              </code>
            </div>
          </figure>
          <h5 id="autosec-227">
            <span
              ><span class="sectionnumber" id="sec-3.11">3.11</span> Adding
              Labels Next to Lines</span
            ><a
              class="anchor-link"
              data-html-link="sec-3.11"
              data-pdf-destination="subsection.3.11"
              data-pdf-page="58"
              href="#sec-3.11"
              >&para;</a
            >
          </h5>
          <a id="pgfmanual-autopage-227"></a>

          <p>
            The next thing that Hagen needs to add is the &ldquo;\(2\)&rdquo; at
            the arcs. For this Hagen can use
            <span class="tikzname">TikZ</span>&rsquo;s automatic node placement:
            By adding the option <span class="verb">auto</span>,
            <span class="tikzname">TikZ</span> will position nodes on curves and
            lines in such a way that they are not on the curve but next to it.
            Adding <span class="verb">swap</span> will mirror the label with
            respect to the line. Here is a general example:
          </p>

          <figure class="example">
            <div class="example-image">
              <p>
                <span class="lateximagesource" id="lateximage-pgfmanual-81"
                  ><!--
  120â—¦ 1â€™
         1
2â€™ 2 0â—¦
         3
  240â—¦ 3â€™
--><img
                    alt="(-tikz-&nbsp;diagram)"
                    class="lateximage"
                    height="82.490"
                    loading="lazy"
                    src="pgfmanual-images/image-81.png"
                    style
                    width="92.330"
                /></span>
              </p>
            </div>

            <div class="example-code">
              <button class="clipboardButton" type="button">copy</button>

              <code>
                <br />
                <span class="textcolor" style="color: #000000">\begin</span
                >{<span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-scopes#pgf.tikzpicture">tikzpicture</a></span
                >}[<span class="textcolor" style="color: #008000"
                  ><a href="tikz-shapes#pgf.auto">auto</a></span
                >,<span class="textcolor" style="color: #008000"
                  ><a href="library-edges#pgf.bend:right">bend right</a></span
                >]<br />
                <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-shapes#pgf.back/node">\node</a></span
                > <span class="textcolor" style="color: #800080">(a)</span
                > <span class="textcolor" style="color: #000000"
                  ><a href="tikz-paths#pgf.at">at</a></span
                >
                <span class="textcolor" style="color: #800080">(0:1)</span
                > {<span class="textcolor" style="color: #000000"
                  >$0^</span
                ><span class="textcolor" style="color: #0000b2">\circ</span
                ><span class="textcolor" style="color: #000000">$</span>};<br />
                <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-shapes#pgf.back/node">\node</a></span
                > <span class="textcolor" style="color: #800080">(b)</span
                > <span class="textcolor" style="color: #000000"
                  ><a href="tikz-paths#pgf.at">at</a></span
                >
                <span class="textcolor" style="color: #800080">(120:1)</span
                > {<span class="textcolor" style="color: #000000"
                  >$120^</span
                ><span class="textcolor" style="color: #0000b2">\circ</span
                ><span class="textcolor" style="color: #000000">$</span>};<br />
                <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-shapes#pgf.back/node">\node</a></span
                > <span class="textcolor" style="color: #800080">(c)</span
                > <span class="textcolor" style="color: #000000"
                  ><a href="tikz-paths#pgf.at">at</a></span
                >
                <span class="textcolor" style="color: #800080">(240:1)</span
                > {<span class="textcolor" style="color: #000000"
                  >$240^</span
                ><span class="textcolor" style="color: #0000b2">\circ</span
                ><span class="textcolor" style="color: #000000">$</span>};<br />
                <br />
                <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                > <span class="textcolor" style="color: #800080">(a)</span
                > <span class="textcolor" style="color: #000000"
                  ><a href="tikz-paths#pgf.to">to</a></span
                >
                <span class="textcolor" style="color: #000000"
                  ><a href="tikz-coordinates#pgf.node">node</a></span
                >
                {<span class="textcolor" style="color: #000000">1</span
                >} <span class="textcolor" style="color: #000000"
                  ><a href="tikz-coordinates#pgf.node">node</a></span
                >
                [<span class="textcolor" style="color: #008000"
                  ><a href="tikz-arrows#pgf.swap">swap</a></span
                >] {<span class="textcolor" style="color: #000000"
                  >1'</span
                >} <span class="textcolor" style="color: #800080"
                  >(b)</span
                ><br />
                <span class="spaces">        </span><span
                  class="textcolor"
                  style="color: #800080"
                  >(b)</span
                > <span class="textcolor" style="color: #000000"
                  ><a href="tikz-paths#pgf.to">to</a></span
                >
                <span class="textcolor" style="color: #000000"
                  ><a href="tikz-coordinates#pgf.node">node</a></span
                >
                {<span class="textcolor" style="color: #000000">2</span
                >} <span class="textcolor" style="color: #000000"
                  ><a href="tikz-coordinates#pgf.node">node</a></span
                >
                [<span class="textcolor" style="color: #008000"
                  ><a href="tikz-arrows#pgf.swap">swap</a></span
                >] {<span class="textcolor" style="color: #000000"
                  >2'</span
                >} <span class="textcolor" style="color: #800080"
                  >(c)</span
                ><br />
                <span class="spaces">        </span><span
                  class="textcolor"
                  style="color: #800080"
                  >(c)</span
                > <span class="textcolor" style="color: #000000"
                  ><a href="tikz-paths#pgf.to">to</a></span
                >
                <span class="textcolor" style="color: #000000"
                  ><a href="tikz-coordinates#pgf.node">node</a></span
                >
                {<span class="textcolor" style="color: #000000">3</span
                >} <span class="textcolor" style="color: #000000"
                  ><a href="tikz-coordinates#pgf.node">node</a></span
                >
                [<span class="textcolor" style="color: #008000"
                  ><a href="tikz-arrows#pgf.swap">swap</a></span
                >] {<span class="textcolor" style="color: #000000"
                  >3'</span
                >} <span class="textcolor" style="color: #800080"
                  >(a)</span
                >;<br />
                <span class="textcolor" style="color: #000000">\end</span>{<span
                  class="textcolor"
                  style="color: #0000b2"
                  ><a href="tikz-scopes#pgf.tikzpicture">tikzpicture</a></span
                >}<br />
              </code>
            </div>
          </figure>

          <p>
            What is happening here? The nodes are given somehow inside the
            <span class="verb">to</span> operation! When this is done, the node
            is placed on the middle of the curve or line created by the
            <span class="verb">to</span> operation. The
            <span class="verb">auto</span> option then causes the node to be
            moved in such a way that it does not lie on the curve, but next to
            it. In the example we provide even two nodes on each
            <span class="verb">to</span> operation.
          </p>

          <p>
            For Hagen that <span class="verb">auto</span> option is not really
            necessary since the two &ldquo;2&rdquo; labels could also easily be
            placed &ldquo;by hand&rdquo;. However, in a complicated plot with
            numerous edges automatic placement can be a blessing.
          </p>

          <figure class="example">
            <div class="example-image">
              <p>
                <span class="lateximagesource" id="lateximage-pgfmanual-82"
                  ><!--
2
--><img
                    alt="(-tikz-&nbsp;diagram)"
                    class="lateximage"
                    height="149.522"
                    loading="lazy"
                    src="pgfmanual-images/image-82.png"
                    style
                    width="134.360"
                /></span>
              </p>
            </div>

            <div class="example-code">
              <button class="clipboardButton" type="button">copy</button>

              <code>
                <span class="codepreamble"
                  >\usetikzlibrary {arrows.meta,positioning} </span
                ><br />
                <span class="example-code-comment">% Styles as before</span
                ><br />
                <span class="textcolor" style="color: #000000">\begin</span
                >{<span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-scopes#pgf.tikzpicture">tikzpicture</a></span
                >}[<span class="textcolor" style="color: #008000"
                  ><a href="library-edges#pgf.bend:angle">bend angle</a></span
                >=<span class="textcolor" style="color: #008000">45</span
                >]<br />
                <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-shapes#pgf.back/node">\node</a></span
                >[<span class="textcolor" style="color: #008000"
                  ><a href="library-petri#pgf.place">place</a></span
                >]<span class="spaces">      </span><span
                  class="textcolor"
                  style="color: #800080"
                  >(waiting)</span
                ><span class="spaces">                            </span>{};<br />
                <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-shapes#pgf.back/node">\node</a></span
                >[<span class="textcolor" style="color: #008000"
                  ><a href="library-petri#pgf.place">place</a></span
                >]<span class="spaces">      </span><span
                  class="textcolor"
                  style="color: #800080"
                  >(critical)</span
                ><span class="spaces">       </span>[<span
                  class="textcolor"
                  style="color: #008000"
                  ><a href="tikz-shapes#pgf.below">below</a></span
                >=<span class="textcolor" style="color: #008000"
                  ><a href="tikz-coordinates#pgf.of">of</a> waiting</span
                >]<span class="spaces">  </span>{};<br />
                <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-shapes#pgf.back/node">\node</a></span
                >[<span class="textcolor" style="color: #008000"
                  ><a href="library-petri#pgf.place">place</a></span
                >]<span class="spaces">      </span><span
                  class="textcolor"
                  style="color: #800080"
                  >(semaphore)</span
                ><span class="spaces">      </span>[<span
                  class="textcolor"
                  style="color: #008000"
                  ><a href="tikz-shapes#pgf.below">below</a></span
                >=<span class="textcolor" style="color: #008000"
                  ><a href="tikz-coordinates#pgf.of">of</a> critical</span
                >] {};<br />
                <br />
                <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-shapes#pgf.back/node">\node</a></span
                >[<span class="textcolor" style="color: #008000"
                  ><a href="library-petri#pgf.transition">transition</a></span
                >] <span class="textcolor" style="color: #800080"
                  >(leave critical)</span
                > [<span class="textcolor" style="color: #008000"
                  ><a href="tikz-arrows#pgf.right">right</a></span
                >=<span class="textcolor" style="color: #008000"
                  ><a href="tikz-coordinates#pgf.of">of</a> critical</span
                >] {}<br />
                <span class="spaces">    </span><span
                  class="textcolor"
                  style="color: #000000"
                  ><a href="tikz-shapes#pgf.edge">edge</a></span
                >
                [<span class="textcolor" style="color: #008000"
                  ><a href="tikz-decorations#pgf.pre">pre</a></span
                >]<span class="spaces">                              </span><span class="spaces">   </span><span
                  class="textcolor"
                  style="color: #800080"
                  >(critical)</span
                ><br />
                <span class="spaces">    </span><span
                  class="textcolor"
                  style="color: #000000"
                  ><a href="tikz-shapes#pgf.edge">edge</a></span
                >
                [<span class="textcolor" style="color: #008000"
                  ><a href="tikz-decorations#pgf.post">post</a></span
                >,<span class="textcolor" style="color: #008000"
                  ><a href="library-edges#pgf.bend:right">bend right</a></span
                >] <span class="textcolor" style="color: #000000"
                  ><a href="tikz-coordinates#pgf.node">node</a></span
                >[<span class="textcolor" style="color: #008000"
                  ><a href="tikz-shapes#pgf.auto">auto</a></span
                >,<span class="textcolor" style="color: #008000"
                  ><a href="tikz-arrows#pgf.swap">swap</a></span
                >] {<span class="textcolor" style="color: #000000">2</span
                >} <span class="textcolor" style="color: #800080"
                  >(waiting)</span
                ><br />
                <span class="spaces">    </span><span
                  class="textcolor"
                  style="color: #000000"
                  ><a href="tikz-shapes#pgf.edge">edge</a></span
                >
                [<span class="textcolor" style="color: #008000"
                  ><a href="tikz-decorations#pgf.pre">pre</a></span
                >, <span class="textcolor" style="color: #008000"
                  ><a href="library-edges#pgf.bend:left">bend left</a></span
                >]<span class="spaces">                      </span><span
                  class="textcolor"
                  style="color: #800080"
                  >(semaphore)</span
                >;<br />
                <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-shapes#pgf.back/node">\node</a></span
                >[<span class="textcolor" style="color: #008000"
                  ><a href="library-petri#pgf.transition">transition</a></span
                >] <span class="textcolor" style="color: #800080"
                  >(enter critical)</span
                > [<span class="textcolor" style="color: #008000"
                  ><a href="tikz-arrows#pgf.left">left</a></span
                >=<span class="textcolor" style="color: #008000"
                  ><a href="tikz-coordinates#pgf.of">of</a> critical</span
                >]<span class="spaces">  </span>{}<br />
                <span class="spaces">    </span><span
                  class="textcolor"
                  style="color: #000000"
                  ><a href="tikz-shapes#pgf.edge">edge</a></span
                >
                [<span class="textcolor" style="color: #008000"
                  ><a href="tikz-decorations#pgf.post">post</a></span
                >]<span class="spaces">                              </span><span class="spaces">  </span><span
                  class="textcolor"
                  style="color: #800080"
                  >(critical)</span
                ><br />
                <span class="spaces">    </span><span
                  class="textcolor"
                  style="color: #000000"
                  ><a href="tikz-shapes#pgf.edge">edge</a></span
                >
                [<span class="textcolor" style="color: #008000"
                  ><a href="tikz-decorations#pgf.pre">pre</a></span
                >, <span class="textcolor" style="color: #008000"
                  ><a href="library-edges#pgf.bend:left">bend left</a></span
                >]<span class="spaces">                      </span><span
                  class="textcolor"
                  style="color: #800080"
                  >(waiting)</span
                ><br />
                <span class="spaces">    </span><span
                  class="textcolor"
                  style="color: #000000"
                  ><a href="tikz-shapes#pgf.edge">edge</a></span
                >
                [<span class="textcolor" style="color: #008000"
                  ><a href="tikz-decorations#pgf.post">post</a></span
                >,<span class="textcolor" style="color: #008000"
                  ><a href="library-edges#pgf.bend:right">bend right</a></span
                >]<span class="spaces">                     </span><span
                  class="textcolor"
                  style="color: #800080"
                  >(semaphore)</span
                >;<br />
                <span class="textcolor" style="color: #000000">\end</span>{<span
                  class="textcolor"
                  style="color: #0000b2"
                  ><a href="tikz-scopes#pgf.tikzpicture">tikzpicture</a></span
                >}<br />
              </code>
            </div>
          </figure>
          <h5 id="autosec-232">
            <span
              ><span class="sectionnumber" id="sec-3.12">3.12</span> Adding the
              Snaked Line and Multi-Line Text</span
            ><a
              class="anchor-link"
              data-html-link="sec-3.12"
              data-pdf-destination="subsection.3.12"
              data-pdf-page="58"
              href="#sec-3.12"
              >&para;</a
            >
          </h5>
          <a id="pgfmanual-autopage-232"></a>

          <p>
            With the node mechanism Hagen can now easily create the two Petri
            nets. What he is unsure of is how he can create the snaked line
            between the nets.
          </p>

          <p>
            For this he can use a <em>decoration</em>. To draw the snaked line,
            Hagen only needs to set the two options
            <span class="verb">decoration=snake</span> and
            <span class="verb">decorate</span> on the path. This causes all
            lines of the path to be replaced by snakes. It is also possible to
            use snakes only in certain parts of a path, but Hagen will not need
            this.
          </p>

          <figure class="example">
            <div class="example-image">
              <p>
                <span class="lateximagesource" id="lateximage-pgfmanual-83"
                  ><!--
--><img
                    alt="(-tikz-&nbsp;diagram)"
                    class="lateximage"
                    height="9.867"
                    loading="lazy"
                    src="pgfmanual-images/image-83.png"
                    style
                    width="78.278"
                /></span>
              </p>
            </div>

            <div class="example-code">
              <button class="clipboardButton" type="button">copy</button>

              <code>
                <span class="codepreamble"
                  >\usetikzlibrary {decorations.pathmorphing} </span
                ><br />
                <span class="textcolor" style="color: #000000">\begin</span
                >{<span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-scopes#pgf.tikzpicture">tikzpicture</a></span
                >}<br />
                <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                > [<span class="textcolor" style="color: #008000"
                  ><a href="tikz-graphs#pgf.-&gt;">-&gt;</a></span
                >,<span class="textcolor" style="color: #008000"
                  ><a href="tikz-decorations#pgf.decorate">decorate</a></span
                >,<span class="textcolor" style="color: #008000"
                  ><a href="tikz-decorations#pgf.decoration"
                    >decoration</a
                  ></span
                >=<span class="textcolor" style="color: #008000">snake</span
                >] <span class="textcolor" style="color: #800080"
                  >(0,0)</span
                > <span class="textcolor" style="color: #000000"
                  ><a href="tikz-paths#pgf.--">--</a></span
                >
                <span class="textcolor" style="color: #800080">(2,0)</span
                >;<br />
                <span class="textcolor" style="color: #000000">\end</span>{<span
                  class="textcolor"
                  style="color: #0000b2"
                  ><a href="tikz-scopes#pgf.tikzpicture">tikzpicture</a></span
                >}<br />
              </code>
            </div>
          </figure>

          <p>
            Well, that does not look quite right, yet. The problem is that the
            snake happens to end exactly at the position where the arrow begins.
            Fortunately, there is an option that helps here. Also, the snake
            should be a bit smaller, which can be influenced by even more
            options.
          </p>

          <figure class="example">
            <div class="example-image">
              <p>
                <span class="lateximagesource" id="lateximage-pgfmanual-84"
                  ><!--
--><img
                    alt="(-tikz-&nbsp;diagram)"
                    class="lateximage"
                    height="9.603"
                    loading="lazy"
                    src="pgfmanual-images/image-84.png"
                    style
                    width="116.077"
                /></span>
              </p>
            </div>

            <div class="example-code">
              <button class="clipboardButton" type="button">copy</button>

              <code>
                <span class="codepreamble"
                  >\usetikzlibrary {decorations.pathmorphing} </span
                ><br />
                <span class="textcolor" style="color: #000000">\begin</span
                >{<span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-scopes#pgf.tikzpicture">tikzpicture</a></span
                >}<br />
                <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                > [<span class="textcolor" style="color: #008000"
                  ><a href="tikz-graphs#pgf.-&gt;">-&gt;</a></span
                >,<span class="textcolor" style="color: #008000"
                  ><a href="tikz-decorations#pgf.decorate">decorate</a></span
                >,<br />
                <span class="spaces">     </span><span
                  class="textcolor"
                  style="color: #008000"
                  ><a href="tikz-decorations#pgf.decoration"
                    >decoration</a
                  ></span
                >=<span class="textcolor" style="color: #008000"
                  >{snake,amplitude=.4mm,segment length=2mm,<a
                    href="tikz-decorations#pgf.post"
                    >post</a
                  >
                  length=1mm}</span
                >]<br />
                <span class="spaces">    </span><span
                  class="textcolor"
                  style="color: #800080"
                  >(0,0)</span
                > <span class="textcolor" style="color: #000000"
                  ><a href="tikz-paths#pgf.--">--</a></span
                >
                <span class="textcolor" style="color: #800080">(3,0)</span
                >;<br />
                <span class="textcolor" style="color: #000000">\end</span>{<span
                  class="textcolor"
                  style="color: #0000b2"
                  ><a href="tikz-scopes#pgf.tikzpicture">tikzpicture</a></span
                >}<br />
              </code>
            </div>
          </figure>

          <p>
            Now Hagen needs to add the text above the snake. This text is a bit
            challenging since it is a multi-line text. Hagen has two options for
            this: First, he can specify an
            <span class="verb">align=center</span> and then use the
            <span class="verb">\\</span> command to enforce the line breaks at
            the desired positions.
          </p>

          <figure class="example">
            <div class="example-image">
              <p>
                <span class="lateximagesource" id="lateximage-pgfmanual-85"
                  ><!--
replacement of
  the capacity
 by two places
--><img
                    alt="(-tikz-&nbsp;diagram)"
                    class="lateximage"
                    height="54.675"
                    loading="lazy"
                    src="pgfmanual-images/image-85.png"
                    style
                    width="116.077"
                /></span>
              </p>
            </div>

            <div class="example-code">
              <button class="clipboardButton" type="button">copy</button>

              <code>
                <span class="codepreamble"
                  >\usetikzlibrary {decorations.pathmorphing} </span
                ><br />
                <span class="textcolor" style="color: #000000">\begin</span
                >{<span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-scopes#pgf.tikzpicture">tikzpicture</a></span
                >}<br />
                <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                > [<span class="textcolor" style="color: #008000"
                  ><a href="tikz-graphs#pgf.-&gt;">-&gt;</a></span
                >,<span class="textcolor" style="color: #008000"
                  ><a href="tikz-decorations#pgf.decorate">decorate</a></span
                >,<br />
                <span class="spaces">      </span><span
                  class="textcolor"
                  style="color: #008000"
                  ><a href="tikz-decorations#pgf.decoration"
                    >decoration</a
                  ></span
                >=<span class="textcolor" style="color: #008000"
                  >{snake,amplitude=.4mm,segment length=2mm,<a
                    href="tikz-decorations#pgf.post"
                    >post</a
                  >
                  length=1mm}</span
                >]<br />
                <span class="spaces">    </span><span
                  class="textcolor"
                  style="color: #800080"
                  >(0,0)</span
                > <span class="textcolor" style="color: #000000"
                  ><a href="tikz-paths#pgf.--">--</a></span
                >
                <span class="textcolor" style="color: #800080">(3,0)</span
                ><br />
                <span class="spaces">    </span><span
                  class="textcolor"
                  style="color: #000000"
                  ><a href="tikz-coordinates#pgf.node">node</a></span
                >
                [<span class="textcolor" style="color: #008000"
                  ><a href="tikz-shapes#pgf.above">above</a></span
                >,<span class="textcolor" style="color: #008000"
                  ><a href="tikz-shapes#pgf.align">align</a></span
                >=<span class="textcolor" style="color: #008000">center</span
                >,<span class="textcolor" style="color: #008000"
                  ><a href="tikz-shapes#pgf.midway">midway</a></span
                >]<br />
                <span class="spaces">    </span>{<br />
                <span class="spaces">      </span><span
                  class="textcolor"
                  style="color: #000000"
                  >replacement</span
                >
                <span class="textcolor" style="color: #000000"
                  ><a href="tikz-coordinates#pgf.of">of</a></span
                ><span class="textcolor" style="color: #0000b2">\</span
                ><span class="textcolor" style="color: #0000b2">\</span><br />
                <span class="spaces">      </span><span
                  class="textcolor"
                  style="color: #000000"
                  >the</span
                >
                <span class="textcolor" style="color: #0000b2">\textcolor</span
                >{<span class="textcolor" style="color: #000000">red</span
                >}{<span class="textcolor" style="color: #000000">capacity</span
                >}<span class="textcolor" style="color: #0000b2">\</span
                ><span class="textcolor" style="color: #0000b2">\</span><br />
                <span class="spaces">      </span><span
                  class="textcolor"
                  style="color: #000000"
                  ><a href="tikz-coordinates#pgf.by">by</a></span
                >
                <span class="textcolor" style="color: #0000b2">\textcolor</span
                >{<span class="textcolor" style="color: #000000">red</span
                >}{<span class="textcolor" style="color: #000000">two</span>
                <span class="textcolor" style="color: #000000">places</span
                >}<br />
                <span class="spaces">    </span>};<br />
                <span class="textcolor" style="color: #000000">\end</span>{<span
                  class="textcolor"
                  style="color: #0000b2"
                  ><a href="tikz-scopes#pgf.tikzpicture">tikzpicture</a></span
                >}<br />
              </code>
            </div>
          </figure>

          <p>
            Instead of specifying the line breaks &ldquo;by hand&rdquo;, Hagen
            can also specify a width for the text and let
            <span class="latexlogofont"
              ><span class="latexlogo"
                >T<span class="latexlogosub">e</span>X</span
              ></span
            >
            perform the line breaking for him:
          </p>

          <figure class="example">
            <div class="example-image">
              <p>
                <span class="lateximagesource" id="lateximage-pgfmanual-86"
                  ><!--
 replacement
of the capacity
 by two places
--><img
                    alt="(-tikz-&nbsp;diagram)"
                    class="lateximage"
                    height="54.555"
                    loading="lazy"
                    src="pgfmanual-images/image-86.png"
                    style
                    width="116.074"
                /></span>
              </p>
            </div>

            <div class="example-code">
              <button class="clipboardButton" type="button">copy</button>

              <code>
                <span class="codepreamble"
                  >\usetikzlibrary {decorations.pathmorphing} </span
                ><br />
                <span class="textcolor" style="color: #000000">\begin</span
                >{<span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-scopes#pgf.tikzpicture">tikzpicture</a></span
                >}<br />
                <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                > [<span class="textcolor" style="color: #008000"
                  ><a href="tikz-graphs#pgf.-&gt;">-&gt;</a></span
                >,<span class="textcolor" style="color: #008000"
                  ><a href="tikz-decorations#pgf.decorate">decorate</a></span
                >,<br />
                <span class="spaces">      </span><span
                  class="textcolor"
                  style="color: #008000"
                  ><a href="tikz-decorations#pgf.decoration"
                    >decoration</a
                  ></span
                >=<span class="textcolor" style="color: #008000"
                  >{snake,amplitude=.4mm,segment length=2mm,<a
                    href="tikz-decorations#pgf.post"
                    >post</a
                  >
                  length=1mm}</span
                >]<br />
                <span class="spaces">    </span><span
                  class="textcolor"
                  style="color: #800080"
                  >(0,0)</span
                > <span class="textcolor" style="color: #000000"
                  ><a href="tikz-paths#pgf.--">--</a></span
                >
                <span class="textcolor" style="color: #800080">(3,0)</span
                ><br />
                <span class="spaces">    </span><span
                  class="textcolor"
                  style="color: #000000"
                  ><a href="tikz-coordinates#pgf.node">node</a></span
                >
                [<span class="textcolor" style="color: #008000"
                  ><a href="tikz-shapes#pgf.above">above</a></span
                >,<span class="textcolor" style="color: #008000"
                  ><a href="tikz-shapes#pgf.text:width">text width</a></span
                >=<span class="textcolor" style="color: #008000">3cm</span
                >,<span class="textcolor" style="color: #008000"
                  ><a href="tikz-shapes#pgf.align">align</a></span
                >=<span class="textcolor" style="color: #008000">center</span
                >,<span class="textcolor" style="color: #008000"
                  ><a href="tikz-shapes#pgf.midway">midway</a></span
                >]<br />
                <span class="spaces">    </span>{<br />
                <span class="spaces">      </span><span
                  class="textcolor"
                  style="color: #000000"
                  >replacement</span
                >
                <span class="textcolor" style="color: #000000"
                  ><a href="tikz-coordinates#pgf.of">of</a></span
                >
                <span class="textcolor" style="color: #000000">the</span>
                <span class="textcolor" style="color: #0000b2">\textcolor</span
                >{<span class="textcolor" style="color: #000000">red</span
                >}{<span class="textcolor" style="color: #000000">capacity</span
                >} <span class="textcolor" style="color: #000000"
                  ><a href="tikz-coordinates#pgf.by">by</a></span
                ><br />
                <span class="spaces">      </span><span
                  class="textcolor"
                  style="color: #0000b2"
                  >\textcolor</span
                >{<span class="textcolor" style="color: #000000">red</span
                >}{<span class="textcolor" style="color: #000000">two</span>
                <span class="textcolor" style="color: #000000">places</span
                >}<br />
                <span class="spaces">    </span>};<br />
                <span class="textcolor" style="color: #000000">\end</span>{<span
                  class="textcolor"
                  style="color: #0000b2"
                  ><a href="tikz-scopes#pgf.tikzpicture">tikzpicture</a></span
                >}<br />
              </code>
            </div>
          </figure>
          <h5 id="autosec-241">
            <span
              ><span class="sectionnumber" id="sec-3.13">3.13</span> Using
              Layers: The Background Rectangles</span
            ><a
              class="anchor-link"
              data-html-link="sec-3.13"
              data-pdf-destination="subsection.3.13"
              data-pdf-page="59"
              href="#sec-3.13"
              >&para;</a
            >
          </h5>
          <a id="pgfmanual-autopage-241"></a>

          <p>
            Hagen still needs to add the background rectangles. These are a bit
            tricky: Hagen would like to draw the rectangles <em>after</em> the
            Petri nets are finished. The reason is that only then can he
            conveniently refer to the coordinates that make up the corners of
            the rectangle. If Hagen draws the rectangle first, then he needs to
            know the exact size of the Petri net &ndash; which he does not.
          </p>

          <p>
            The solution is to use <em>layers</em>. When the
            <span class="verb">backgrounds</span> library is loaded, Hagen can
            put parts of his picture inside a scope with the
            <span class="verb">on background layer</span> option. Then this part
            of the picture becomes part of the layer that is given as an
            argument to this environment. When the
            <span class="verb">{tikzpicture}</span> environment ends, the layers
            are put on top of each other, starting with the background layer.
            This causes everything drawn on the background layer to be behind
            the main text.
          </p>

          <p>
            The next tricky question is, how big should the rectangle be?
            Naturally, Hagen can compute the size &ldquo;by hand&rdquo; or using
            some clever observations concerning the \(x\)- and \(y\)-coordinates
            of the nodes, but it would be nicer to just have
            <span class="tikzname">TikZ</span> compute a rectangle into which
            all the nodes &ldquo;fit&rdquo;. For this, the
            <span class="verb">fit</span> library can be used. It defines the
            <span class="verb">fit</span> options, which, when given to a node,
            causes the node to be resized and shifted such that it exactly
            covers all the nodes and coordinates given as parameters to the
            <span class="verb">fit</span> option.
          </p>

          <figure class="example">
            <div class="example-image">
              <p>
                <span class="lateximagesource" id="lateximage-pgfmanual-87"
                  ><!--
2
--><img
                    alt="(-tikz-&nbsp;diagram)"
                    class="lateximage"
                    height="158.378"
                    loading="lazy"
                    src="pgfmanual-images/image-87.png"
                    style
                    width="143.258"
                /></span>
              </p>
            </div>

            <div class="example-code">
              <button class="clipboardButton" type="button">copy</button>

              <code>
                <span class="codepreamble"
                  >\usetikzlibrary {arrows.meta,backgrounds,fit,positioning} </span
                ><br />
                <span class="example-code-comment">% Styles as before</span
                ><br />
                <span class="textcolor" style="color: #000000">\begin</span
                >{<span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-scopes#pgf.tikzpicture">tikzpicture</a></span
                >}[<span class="textcolor" style="color: #008000"
                  ><a href="library-edges#pgf.bend:angle">bend angle</a></span
                >=<span class="textcolor" style="color: #008000">45</span
                >]<br />
                <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-shapes#pgf.back/node">\node</a></span
                >[<span class="textcolor" style="color: #008000"
                  ><a href="library-petri#pgf.place">place</a></span
                >]<span class="spaces">      </span><span
                  class="textcolor"
                  style="color: #800080"
                  >(waiting)</span
                ><span class="spaces">                            </span>{};<br />
                <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-shapes#pgf.back/node">\node</a></span
                >[<span class="textcolor" style="color: #008000"
                  ><a href="library-petri#pgf.place">place</a></span
                >]<span class="spaces">      </span><span
                  class="textcolor"
                  style="color: #800080"
                  >(critical)</span
                ><span class="spaces">       </span>[<span
                  class="textcolor"
                  style="color: #008000"
                  ><a href="tikz-shapes#pgf.below">below</a></span
                >=<span class="textcolor" style="color: #008000"
                  ><a href="tikz-coordinates#pgf.of">of</a> waiting</span
                >]<span class="spaces">  </span>{};<br />
                <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-shapes#pgf.back/node">\node</a></span
                >[<span class="textcolor" style="color: #008000"
                  ><a href="library-petri#pgf.place">place</a></span
                >]<span class="spaces">      </span><span
                  class="textcolor"
                  style="color: #800080"
                  >(semaphore)</span
                ><span class="spaces">      </span>[<span
                  class="textcolor"
                  style="color: #008000"
                  ><a href="tikz-shapes#pgf.below">below</a></span
                >=<span class="textcolor" style="color: #008000"
                  ><a href="tikz-coordinates#pgf.of">of</a> critical</span
                >] {};<br />
                <br />
                <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-shapes#pgf.back/node">\node</a></span
                >[<span class="textcolor" style="color: #008000"
                  ><a href="library-petri#pgf.transition">transition</a></span
                >] <span class="textcolor" style="color: #800080"
                  >(leave critical)</span
                > [<span class="textcolor" style="color: #008000"
                  ><a href="tikz-arrows#pgf.right">right</a></span
                >=<span class="textcolor" style="color: #008000"
                  ><a href="tikz-coordinates#pgf.of">of</a> critical</span
                >] {}<br />
                <span class="spaces">    </span><span
                  class="textcolor"
                  style="color: #000000"
                  ><a href="tikz-shapes#pgf.edge">edge</a></span
                >
                [<span class="textcolor" style="color: #008000"
                  ><a href="tikz-decorations#pgf.pre">pre</a></span
                >]<span class="spaces">                              </span><span class="spaces">   </span><span
                  class="textcolor"
                  style="color: #800080"
                  >(critical)</span
                ><br />
                <span class="spaces">    </span><span
                  class="textcolor"
                  style="color: #000000"
                  ><a href="tikz-shapes#pgf.edge">edge</a></span
                >
                [<span class="textcolor" style="color: #008000"
                  ><a href="tikz-decorations#pgf.post">post</a></span
                >,<span class="textcolor" style="color: #008000"
                  ><a href="library-edges#pgf.bend:right">bend right</a></span
                >] <span class="textcolor" style="color: #000000"
                  ><a href="tikz-coordinates#pgf.node">node</a></span
                >[<span class="textcolor" style="color: #008000"
                  ><a href="tikz-shapes#pgf.auto">auto</a></span
                >,<span class="textcolor" style="color: #008000"
                  ><a href="tikz-arrows#pgf.swap">swap</a></span
                >] {<span class="textcolor" style="color: #000000">2</span
                >} <span class="textcolor" style="color: #800080"
                  >(waiting)</span
                ><br />
                <span class="spaces">    </span><span
                  class="textcolor"
                  style="color: #000000"
                  ><a href="tikz-shapes#pgf.edge">edge</a></span
                >
                [<span class="textcolor" style="color: #008000"
                  ><a href="tikz-decorations#pgf.pre">pre</a></span
                >, <span class="textcolor" style="color: #008000"
                  ><a href="library-edges#pgf.bend:left">bend left</a></span
                >]<span class="spaces">                      </span><span
                  class="textcolor"
                  style="color: #800080"
                  >(semaphore)</span
                >;<br />
                <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-shapes#pgf.back/node">\node</a></span
                >[<span class="textcolor" style="color: #008000"
                  ><a href="library-petri#pgf.transition">transition</a></span
                >] <span class="textcolor" style="color: #800080"
                  >(enter critical)</span
                > [<span class="textcolor" style="color: #008000"
                  ><a href="tikz-arrows#pgf.left">left</a></span
                >=<span class="textcolor" style="color: #008000"
                  ><a href="tikz-coordinates#pgf.of">of</a> critical</span
                >]<span class="spaces">  </span>{}<br />
                <span class="spaces">    </span><span
                  class="textcolor"
                  style="color: #000000"
                  ><a href="tikz-shapes#pgf.edge">edge</a></span
                >
                [<span class="textcolor" style="color: #008000"
                  ><a href="tikz-decorations#pgf.post">post</a></span
                >]<span class="spaces">                              </span><span class="spaces">  </span><span
                  class="textcolor"
                  style="color: #800080"
                  >(critical)</span
                ><br />
                <span class="spaces">    </span><span
                  class="textcolor"
                  style="color: #000000"
                  ><a href="tikz-shapes#pgf.edge">edge</a></span
                >
                [<span class="textcolor" style="color: #008000"
                  ><a href="tikz-decorations#pgf.pre">pre</a></span
                >, <span class="textcolor" style="color: #008000"
                  ><a href="library-edges#pgf.bend:left">bend left</a></span
                >]<span class="spaces">                      </span><span
                  class="textcolor"
                  style="color: #800080"
                  >(waiting)</span
                ><br />
                <span class="spaces">    </span><span
                  class="textcolor"
                  style="color: #000000"
                  ><a href="tikz-shapes#pgf.edge">edge</a></span
                >
                [<span class="textcolor" style="color: #008000"
                  ><a href="tikz-decorations#pgf.post">post</a></span
                >,<span class="textcolor" style="color: #008000"
                  ><a href="library-edges#pgf.bend:right">bend right</a></span
                >]<span class="spaces">                     </span><span
                  class="textcolor"
                  style="color: #800080"
                  >(semaphore)</span
                >;<br />
                <br />
                <span class="spaces">  </span><span class="textcolor" style="color: #000000"
                  >\begin</span
                >{<span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-scopes#pgf.scope">scope</a></span
                >}[<span class="textcolor" style="color: #008000"
                  ><a href="library-backgrounds#pgf.on:background:layer"
                    >on background layer</a
                  ></span
                >]<br />
                <span class="spaces">    </span><span
                  class="textcolor"
                  style="color: #0000b2"
                  ><a href="tikz-shapes#pgf.back/node">\node</a></span
                > [<span class="textcolor" style="color: #008000"
                  ><a href="tikz-actions#pgf.fill">fill</a></span
                >=<span class="textcolor" style="color: #008000">black!30</span
                >,<span class="textcolor" style="color: #008000"
                  ><a href="library-fit#pgf.fit">fit</a></span
                >=<span class="textcolor" style="color: #008000"
                  ><span class="textcolor" style="color: #800080"
                    >(waiting)</span
                  > <span class="textcolor" style="color: #800080"
                    >(critical)</span
                  > <span class="textcolor" style="color: #800080"
                    >(semaphore)</span
                  ><br />
                  <span class="spaces">             </span><span
                    class="textcolor"
                    style="color: #800080"
                    >(leave critical)</span
                  > <span class="textcolor" style="color: #800080"
                    >(enter critical)</span
                  ></span
                >] {};<br />
                <span class="spaces">  </span><span class="textcolor" style="color: #000000"
                  >\end</span
                >{<span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-scopes#pgf.scope">scope</a></span
                >}<br />
                <span class="textcolor" style="color: #000000">\end</span>{<span
                  class="textcolor"
                  style="color: #0000b2"
                  ><a href="tikz-scopes#pgf.tikzpicture">tikzpicture</a></span
                >}<br />
              </code>
            </div>
          </figure>
          <h5 id="autosec-244">
            <span
              ><span class="sectionnumber" id="sec-3.14">3.14</span> The
              Complete Code</span
            ><a
              class="anchor-link"
              data-html-link="sec-3.14"
              data-pdf-destination="subsection.3.14"
              data-pdf-page="60"
              href="#sec-3.14"
              >&para;</a
            >
          </h5>
          <a id="pgfmanual-autopage-244"></a>

          <p>
            Hagen has now finally put everything together. Only then does he
            learn that there is already a library for drawing Petri nets! It
            turns out that this library mainly provides the same definitions as
            Hagen did. For example, it defines a
            <span class="verb">place</span> style in a similar way as Hagen did.
            Adjusting the code so that it uses the library shortens Hagen code a
            bit, as shown in the following.
          </p>

          <p>
            First, Hagen needs less style definitions, but he still needs to
            specify the colors of places and transitions.
          </p>

          <figure class="example">
            <div class="example-code">
              <button class="clipboardButton" type="button">copy</button>

              <code>
                <br />
                <span class="textcolor" style="color: #000000">\begin</span
                >{<span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-scopes#pgf.tikzpicture">tikzpicture</a></span
                >}<br />
                <span class="spaces">  </span>[<span class="textcolor" style="color: #008000"
                  ><a href="tikz-shapes#pgf.node:distance"
                    >node distance</a
                  ></span
                >=<span class="textcolor" style="color: #008000">1.3cm</span
                >,<span class="textcolor" style="color: #008000"
                  ><a href="tikz-shapes#pgf.on:grid">on grid</a></span
                >,<span class="textcolor" style="color: #008000"
                  ><a href="tikz-arrows#pgf.&gt;">&gt;</a></span
                >=<span class="textcolor" style="color: #008000"
                  >{Stealth[<span class="textcolor" style="color: #008000"
                    ><a href="tikz-arrows#pgf.round">round</a></span
                  >]}</span
                >,<span class="textcolor" style="color: #008000"
                  ><a href="library-edges#pgf.bend:angle">bend angle</a></span
                >=<span class="textcolor" style="color: #008000">45</span>,<span
                  class="textcolor"
                  style="color: #008000"
                  ><a href="tikz-shapes#pgf.auto">auto</a></span
                >,<br />
                <span class="spaces">   </span><span
                  class="textcolor"
                  style="color: #008000"
                  ><a href="library-petri#pgf.every:place">every place</a></span
                >/<span class="textcolor" style="color: #0000b2"
                  ><a href="pgfkeys#pgf./handlers/.style">.style</a></span
                >= {<span class="textcolor" style="color: #008000"
                  ><a href="tikz-shapes#pgf.minimum:size">minimum size</a></span
                >=<span class="textcolor" style="color: #008000">6mm</span
                >,<span class="textcolor" style="color: #008000"
                  ><a href="tikz-actions#pgf.thick">thick</a></span
                >,<span class="textcolor" style="color: #008000"
                  ><a href="tikz-actions#pgf.draw">draw</a></span
                >=<span class="textcolor" style="color: #008000">blue!75</span
                >,<span class="textcolor" style="color: #008000"
                  ><a href="tikz-actions#pgf.fill">fill</a></span
                >=<span class="textcolor" style="color: #008000">blue!20}</span
                >,<br />
                <span class="spaces">   </span><span
                  class="textcolor"
                  style="color: #008000"
                  ><a href="library-petri#pgf.every:transition"
                    >every transition</a
                  ></span
                >/<span class="textcolor" style="color: #0000b2"
                  ><a href="pgfkeys#pgf./handlers/.style">.style</a></span
                >={<span class="textcolor" style="color: #008000"
                  ><a href="tikz-actions#pgf.thick">thick</a></span
                >,<span class="textcolor" style="color: #008000"
                  ><a href="tikz-actions#pgf.draw">draw</a></span
                >=<span class="textcolor" style="color: #008000">black!75</span
                >,<span class="textcolor" style="color: #008000"
                  ><a href="tikz-actions#pgf.fill">fill</a></span
                >=<span class="textcolor" style="color: #008000">black!20}</span
                >,<br />
                <span class="spaces">   </span><span
                  class="textcolor"
                  style="color: #008000"
                  >red place</span
                >/<span class="textcolor" style="color: #0000b2"
                  ><a href="pgfkeys#pgf./handlers/.style">.style</a></span
                >= {<span class="textcolor" style="color: #008000"
                  ><a href="library-petri#pgf.place">place</a></span
                >,<span class="textcolor" style="color: #008000"
                  ><a href="tikz-actions#pgf.draw">draw</a></span
                >=<span class="textcolor" style="color: #008000">red!75</span
                >,<span class="textcolor" style="color: #008000"
                  ><a href="tikz-actions#pgf.fill">fill</a></span
                >=<span class="textcolor" style="color: #008000">red!20}</span
                >,<br />
                <span class="spaces">   </span><span
                  class="textcolor"
                  style="color: #008000"
                  ><a href="tikz-shapes#pgf.every:label">every label</a></span
                >/<span class="textcolor" style="color: #0000b2"
                  ><a href="pgfkeys#pgf./handlers/.style">.style</a></span
                >= {<span class="textcolor" style="color: #008000">red</span
                >}]<br />
              </code>
            </div>
          </figure>

          <p>Now comes the code for the nets:</p>

          <figure class="example">
            <div class="example-image">
              <p>
                <span class="lateximagesource" id="lateximage-pgfmanual-88"
                  ><!--
      2




sâ‰¤3




      2
--><img
                    alt="(-tikz-&nbsp;diagram)"
                    class="lateximage"
                    height="222.986"
                    loading="lazy"
                    src="pgfmanual-images/image-88.png"
                    style
                    width="117.117"
                /></span>
              </p>
            </div>

            <div class="example-code">
              <button class="clipboardButton" type="button">copy</button>

              <code>
                <span class="codepreamble"
                  >\usetikzlibrary {arrows.meta,petri,positioning} </span
                ><br />
                <span class="spaces">   </span><span
                  class="textcolor"
                  style="color: #0000b2"
                  ><a href="tikz-shapes#pgf.back/node">\node</a></span
                > [<span class="textcolor" style="color: #008000"
                  ><a href="library-petri#pgf.place">place</a></span
                >,<span class="textcolor" style="color: #008000"
                  ><a href="library-petri#pgf.tokens">tokens</a></span
                >=<span class="textcolor" style="color: #008000">1</span
                >] <span class="textcolor" style="color: #800080"
                  >(w1)</span
                ><span class="spaces">                              </span><span class="spaces">      </span>{};<br />
                <span class="spaces">   </span><span
                  class="textcolor"
                  style="color: #0000b2"
                  ><a href="tikz-shapes#pgf.back/node">\node</a></span
                > [<span class="textcolor" style="color: #008000"
                  ><a href="library-petri#pgf.place">place</a></span
                >]<span class="spaces">          </span><span
                  class="textcolor"
                  style="color: #800080"
                  >(c1)</span
                > [<span class="textcolor" style="color: #008000"
                  ><a href="tikz-shapes#pgf.below">below</a></span
                >=<span class="textcolor" style="color: #008000"
                  ><a href="tikz-coordinates#pgf.of">of</a> w1</span
                >]<span class="spaces">                      </span>{};<br />
                <span class="spaces">   </span><span
                  class="textcolor"
                  style="color: #0000b2"
                  ><a href="tikz-shapes#pgf.back/node">\node</a></span
                > [<span class="textcolor" style="color: #008000"
                  ><a href="library-petri#pgf.place">place</a></span
                >]<span class="spaces">          </span><span
                  class="textcolor"
                  style="color: #800080"
                  >(s)</span
                ><span class="spaces">  </span>[<span class="textcolor" style="color: #008000"
                  ><a href="tikz-shapes#pgf.below">below</a></span
                >=<span class="textcolor" style="color: #008000"
                  ><a href="tikz-coordinates#pgf.of">of</a> c1</span
                >,<span class="textcolor" style="color: #008000"
                  ><a href="tikz-shapes#pgf.label">label</a></span
                >=<span class="textcolor" style="color: #008000"
                  >above:$s<span class="textcolor" style="color: #0000b2"
                    >\le</span
                  ><span class="spaces"> </span>3$</span
                >] {};<br />
                <span class="spaces">   </span><span
                  class="textcolor"
                  style="color: #0000b2"
                  ><a href="tikz-shapes#pgf.back/node">\node</a></span
                > [<span class="textcolor" style="color: #008000"
                  ><a href="library-petri#pgf.place">place</a></span
                >]<span class="spaces">          </span><span
                  class="textcolor"
                  style="color: #800080"
                  >(c2)</span
                > [<span class="textcolor" style="color: #008000"
                  ><a href="tikz-shapes#pgf.below">below</a></span
                >=<span class="textcolor" style="color: #008000"
                  ><a href="tikz-coordinates#pgf.of">of</a> s</span
                >]<span class="spaces">                       </span>{};<br />
                <span class="spaces">   </span><span
                  class="textcolor"
                  style="color: #0000b2"
                  ><a href="tikz-shapes#pgf.back/node">\node</a></span
                > [<span class="textcolor" style="color: #008000"
                  ><a href="library-petri#pgf.place">place</a></span
                >,<span class="textcolor" style="color: #008000"
                  ><a href="library-petri#pgf.tokens">tokens</a></span
                >=<span class="textcolor" style="color: #008000">1</span
                >] <span class="textcolor" style="color: #800080"
                  >(w2)</span
                > [<span class="textcolor" style="color: #008000"
                  ><a href="tikz-shapes#pgf.below">below</a></span
                >=<span class="textcolor" style="color: #008000"
                  ><a href="tikz-coordinates#pgf.of">of</a> c2</span
                >]<span class="spaces">                      </span>{};<br />
                <br />
                <span class="spaces">   </span><span
                  class="textcolor"
                  style="color: #0000b2"
                  ><a href="tikz-shapes#pgf.back/node">\node</a></span
                > [<span class="textcolor" style="color: #008000"
                  ><a href="library-petri#pgf.transition">transition</a></span
                >] <span class="textcolor" style="color: #800080"
                  >(e1)</span
                > [<span class="textcolor" style="color: #008000"
                  ><a href="tikz-arrows#pgf.left">left</a></span
                >=<span class="textcolor" style="color: #008000"
                  ><a href="tikz-coordinates#pgf.of">of</a> c1</span
                >] {}<br />
                <span class="spaces">     </span><span
                  class="textcolor"
                  style="color: #000000"
                  ><a href="tikz-shapes#pgf.edge">edge</a></span
                >
                [<span class="textcolor" style="color: #008000"
                  ><a href="tikz-decorations#pgf.pre">pre</a></span
                >,<span class="textcolor" style="color: #008000"
                  ><a href="library-edges#pgf.bend:left">bend left</a></span
                >]<span class="spaces">                  </span><span
                  class="textcolor"
                  style="color: #800080"
                  >(w1)</span
                ><br />
                <span class="spaces">     </span><span
                  class="textcolor"
                  style="color: #000000"
                  ><a href="tikz-shapes#pgf.edge">edge</a></span
                >
                [<span class="textcolor" style="color: #008000"
                  ><a href="tikz-decorations#pgf.post">post</a></span
                >,<span class="textcolor" style="color: #008000"
                  ><a href="library-edges#pgf.bend:right">bend right</a></span
                >]<span class="spaces">                </span><span
                  class="textcolor"
                  style="color: #800080"
                  >(s)</span
                ><br />
                <span class="spaces">     </span><span
                  class="textcolor"
                  style="color: #000000"
                  ><a href="tikz-shapes#pgf.edge">edge</a></span
                >
                [<span class="textcolor" style="color: #008000"
                  ><a href="tikz-decorations#pgf.post">post</a></span
                >]<span class="spaces">                           </span><span
                  class="textcolor"
                  style="color: #800080"
                  >(c1)</span
                >;<br />
                <span class="spaces">   </span><span
                  class="textcolor"
                  style="color: #0000b2"
                  ><a href="tikz-shapes#pgf.back/node">\node</a></span
                > [<span class="textcolor" style="color: #008000"
                  ><a href="library-petri#pgf.transition">transition</a></span
                >] <span class="textcolor" style="color: #800080"
                  >(e2)</span
                > [<span class="textcolor" style="color: #008000"
                  ><a href="tikz-arrows#pgf.left">left</a></span
                >=<span class="textcolor" style="color: #008000"
                  ><a href="tikz-coordinates#pgf.of">of</a> c2</span
                >] {}<br />
                <span class="spaces">     </span><span
                  class="textcolor"
                  style="color: #000000"
                  ><a href="tikz-shapes#pgf.edge">edge</a></span
                >
                [<span class="textcolor" style="color: #008000"
                  ><a href="tikz-decorations#pgf.pre">pre</a></span
                >,<span class="textcolor" style="color: #008000"
                  ><a href="library-edges#pgf.bend:right">bend right</a></span
                >]<span class="spaces">                 </span><span
                  class="textcolor"
                  style="color: #800080"
                  >(w2)</span
                ><br />
                <span class="spaces">     </span><span
                  class="textcolor"
                  style="color: #000000"
                  ><a href="tikz-shapes#pgf.edge">edge</a></span
                >
                [<span class="textcolor" style="color: #008000"
                  ><a href="tikz-decorations#pgf.post">post</a></span
                >,<span class="textcolor" style="color: #008000"
                  ><a href="library-edges#pgf.bend:left">bend left</a></span
                >]<span class="spaces">                 </span><span
                  class="textcolor"
                  style="color: #800080"
                  >(s)</span
                ><br />
                <span class="spaces">     </span><span
                  class="textcolor"
                  style="color: #000000"
                  ><a href="tikz-shapes#pgf.edge">edge</a></span
                >
                [<span class="textcolor" style="color: #008000"
                  ><a href="tikz-decorations#pgf.post">post</a></span
                >]<span class="spaces">                           </span><span
                  class="textcolor"
                  style="color: #800080"
                  >(c2)</span
                >;<br />
                <span class="spaces">   </span><span
                  class="textcolor"
                  style="color: #0000b2"
                  ><a href="tikz-shapes#pgf.back/node">\node</a></span
                > [<span class="textcolor" style="color: #008000"
                  ><a href="library-petri#pgf.transition">transition</a></span
                >] <span class="textcolor" style="color: #800080"
                  >(l1)</span
                > [<span class="textcolor" style="color: #008000"
                  ><a href="tikz-arrows#pgf.right">right</a></span
                >=<span class="textcolor" style="color: #008000"
                  ><a href="tikz-coordinates#pgf.of">of</a> c1</span
                >] {}<br />
                <span class="spaces">     </span><span
                  class="textcolor"
                  style="color: #000000"
                  ><a href="tikz-shapes#pgf.edge">edge</a></span
                >
                [<span class="textcolor" style="color: #008000"
                  ><a href="tikz-decorations#pgf.pre">pre</a></span
                >]<span class="spaces">                            </span><span
                  class="textcolor"
                  style="color: #800080"
                  >(c1)</span
                ><br />
                <span class="spaces">     </span><span
                  class="textcolor"
                  style="color: #000000"
                  ><a href="tikz-shapes#pgf.edge">edge</a></span
                >
                [<span class="textcolor" style="color: #008000"
                  ><a href="tikz-decorations#pgf.pre">pre</a></span
                >,<span class="textcolor" style="color: #008000"
                  ><a href="library-edges#pgf.bend:left">bend left</a></span
                >]<span class="spaces">                  </span><span
                  class="textcolor"
                  style="color: #800080"
                  >(s)</span
                ><br />
                <span class="spaces">     </span><span
                  class="textcolor"
                  style="color: #000000"
                  ><a href="tikz-shapes#pgf.edge">edge</a></span
                >
                [<span class="textcolor" style="color: #008000"
                  ><a href="tikz-decorations#pgf.post">post</a></span
                >,<span class="textcolor" style="color: #008000"
                  ><a href="library-edges#pgf.bend:right">bend right</a></span
                >] <span class="textcolor" style="color: #000000"
                  ><a href="tikz-coordinates#pgf.node">node</a></span
                >[<span class="textcolor" style="color: #008000"
                  ><a href="tikz-arrows#pgf.swap">swap</a></span
                >] {<span class="textcolor" style="color: #000000">2</span
                >} <span class="textcolor" style="color: #800080"
                  >(w1)</span
                >;<br />
                <span class="spaces">   </span><span
                  class="textcolor"
                  style="color: #0000b2"
                  ><a href="tikz-shapes#pgf.back/node">\node</a></span
                > [<span class="textcolor" style="color: #008000"
                  ><a href="library-petri#pgf.transition">transition</a></span
                >] <span class="textcolor" style="color: #800080"
                  >(l2)</span
                > [<span class="textcolor" style="color: #008000"
                  ><a href="tikz-arrows#pgf.right">right</a></span
                >=<span class="textcolor" style="color: #008000"
                  ><a href="tikz-coordinates#pgf.of">of</a> c2</span
                >] {}<br />
                <span class="spaces">     </span><span
                  class="textcolor"
                  style="color: #000000"
                  ><a href="tikz-shapes#pgf.edge">edge</a></span
                >
                [<span class="textcolor" style="color: #008000"
                  ><a href="tikz-decorations#pgf.pre">pre</a></span
                >]<span class="spaces">                            </span><span
                  class="textcolor"
                  style="color: #800080"
                  >(c2)</span
                ><br />
                <span class="spaces">     </span><span
                  class="textcolor"
                  style="color: #000000"
                  ><a href="tikz-shapes#pgf.edge">edge</a></span
                >
                [<span class="textcolor" style="color: #008000"
                  ><a href="tikz-decorations#pgf.pre">pre</a></span
                >,<span class="textcolor" style="color: #008000"
                  ><a href="library-edges#pgf.bend:right">bend right</a></span
                >]<span class="spaces">                 </span><span
                  class="textcolor"
                  style="color: #800080"
                  >(s)</span
                ><br />
                <span class="spaces">     </span><span
                  class="textcolor"
                  style="color: #000000"
                  ><a href="tikz-shapes#pgf.edge">edge</a></span
                >
                [<span class="textcolor" style="color: #008000"
                  ><a href="tikz-decorations#pgf.post">post</a></span
                >,<span class="textcolor" style="color: #008000"
                  ><a href="library-edges#pgf.bend:left">bend left</a></span
                >]<span class="spaces">  </span><span class="textcolor" style="color: #000000"
                  ><a href="tikz-coordinates#pgf.node">node</a></span
                >
                {<span class="textcolor" style="color: #000000">2</span
                >}<span class="spaces">       </span><span
                  class="textcolor"
                  style="color: #800080"
                  >(w2)</span
                >;<br />
              </code>
            </div>
          </figure>

          <figure class="example">
            <div class="example-image">
              <p>
                <span class="lateximagesource" id="lateximage-pgfmanual-89"
                  ><!--
         2




s sÌ„




         2
--><img
                    alt="(-tikz-&nbsp;diagram)"
                    class="lateximage"
                    height="222.986"
                    loading="lazy"
                    src="pgfmanual-images/image-89.png"
                    style
                    width="117.116"
                /></span>
              </p>
            </div>

            <div class="example-code">
              <button class="clipboardButton" type="button">copy</button>

              <code>
                <span class="codepreamble"
                  >\usetikzlibrary {arrows.meta,petri,positioning} </span
                ><br />
                <span class="spaces">  </span><span class="textcolor" style="color: #000000"
                  >\begin</span
                >{<span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-scopes#pgf.scope">scope</a></span
                >}[<span class="textcolor" style="color: #008000"
                  ><a href="tikz-transformations#pgf.xshift">xshift</a></span
                >=<span class="textcolor" style="color: #008000">6cm</span
                >]<br />
                <span class="spaces">    </span><span
                  class="textcolor"
                  style="color: #0000b2"
                  ><a href="tikz-shapes#pgf.back/node">\node</a></span
                > [<span class="textcolor" style="color: #008000"
                  ><a href="library-petri#pgf.place">place</a></span
                >,<span class="textcolor" style="color: #008000"
                  ><a href="library-petri#pgf.tokens">tokens</a></span
                >=<span class="textcolor" style="color: #008000">1</span
                >]<span class="spaces">     </span><span
                  class="textcolor"
                  style="color: #800080"
                  >(w1')</span
                ><span class="spaces">                            </span>{};<br />
                <span class="spaces">    </span><span
                  class="textcolor"
                  style="color: #0000b2"
                  ><a href="tikz-shapes#pgf.back/node">\node</a></span
                > [<span class="textcolor" style="color: #008000"
                  ><a href="library-petri#pgf.place">place</a></span
                >]<span class="spaces">              </span><span
                  class="textcolor"
                  style="color: #800080"
                  >(c1')</span
                > [<span class="textcolor" style="color: #008000"
                  ><a href="tikz-shapes#pgf.below">below</a></span
                >=<span class="textcolor" style="color: #008000"
                  ><a href="tikz-coordinates#pgf.of">of</a> w1'</span
                >]<span class="spaces">             </span>{};<br />
                <span class="spaces">    </span><span
                  class="textcolor"
                  style="color: #0000b2"
                  ><a href="tikz-shapes#pgf.back/node">\node</a></span
                > [<span class="textcolor" style="color: #008000"
                  >red place</span
                >]<span class="spaces">          </span><span
                  class="textcolor"
                  style="color: #800080"
                  >(s1')</span
                > [<span class="textcolor" style="color: #008000"
                  ><a href="tikz-shapes#pgf.below">below</a></span
                >=<span class="textcolor" style="color: #008000"
                  ><a href="tikz-coordinates#pgf.of">of</a> c1'</span
                >,<span class="textcolor" style="color: #008000"
                  ><a href="tikz-transformations#pgf.xshift">xshift</a></span
                >=<span class="textcolor" style="color: #008000">-5mm</span
                >]<br />
                <span class="spaces">            </span>[<span
                  class="textcolor"
                  style="color: #008000"
                  ><a href="tikz-shapes#pgf.label">label</a></span
                >=<span class="textcolor" style="color: #008000">left:$s$</span
                >]<span class="spaces">                              </span><span class="spaces">      </span>{};<br />
                <span class="spaces">    </span><span
                  class="textcolor"
                  style="color: #0000b2"
                  ><a href="tikz-shapes#pgf.back/node">\node</a></span
                > [<span class="textcolor" style="color: #008000"
                  >red place</span
                >,<span class="textcolor" style="color: #008000"
                  ><a href="library-petri#pgf.tokens">tokens</a></span
                >=<span class="textcolor" style="color: #008000">3</span
                >] <span class="textcolor" style="color: #800080"
                  >(s2')</span
                > [<span class="textcolor" style="color: #008000"
                  ><a href="tikz-shapes#pgf.below">below</a></span
                >=<span class="textcolor" style="color: #008000"
                  ><a href="tikz-coordinates#pgf.of">of</a> c1'</span
                >,<span class="textcolor" style="color: #008000"
                  ><a href="tikz-transformations#pgf.xshift">xshift</a></span
                >=<span class="textcolor" style="color: #008000">5mm</span
                >]<br />
                <span class="spaces">            </span>[<span
                  class="textcolor"
                  style="color: #008000"
                  ><a href="tikz-shapes#pgf.label">label</a></span
                >=<span class="textcolor" style="color: #008000"
                  >right:$<span class="textcolor" style="color: #0000b2"
                    >\bar</span
                  ><span class="spaces"> </span>s$</span
                >]<span class="spaces">                              </span>{};<br />
                <span class="spaces">    </span><span
                  class="textcolor"
                  style="color: #0000b2"
                  ><a href="tikz-shapes#pgf.back/node">\node</a></span
                > [<span class="textcolor" style="color: #008000"
                  ><a href="library-petri#pgf.place">place</a></span
                >]<span class="spaces">              </span><span
                  class="textcolor"
                  style="color: #800080"
                  >(c2')</span
                > [<span class="textcolor" style="color: #008000"
                  ><a href="tikz-shapes#pgf.below">below</a></span
                >=<span class="textcolor" style="color: #008000"
                  ><a href="tikz-coordinates#pgf.of">of</a> s1'</span
                >,<span class="textcolor" style="color: #008000"
                  ><a href="tikz-transformations#pgf.xshift">xshift</a></span
                >=<span class="textcolor" style="color: #008000">5mm</span
                >]<span class="spaces">  </span>{};<br />
                <span class="spaces">    </span><span
                  class="textcolor"
                  style="color: #0000b2"
                  ><a href="tikz-shapes#pgf.back/node">\node</a></span
                > [<span class="textcolor" style="color: #008000"
                  ><a href="library-petri#pgf.place">place</a></span
                >,<span class="textcolor" style="color: #008000"
                  ><a href="library-petri#pgf.tokens">tokens</a></span
                >=<span class="textcolor" style="color: #008000">1</span
                >]<span class="spaces">     </span><span
                  class="textcolor"
                  style="color: #800080"
                  >(w2')</span
                > [<span class="textcolor" style="color: #008000"
                  ><a href="tikz-shapes#pgf.below">below</a></span
                >=<span class="textcolor" style="color: #008000"
                  ><a href="tikz-coordinates#pgf.of">of</a> c2'</span
                >]<span class="spaces">             </span>{};<br />
                <br />
                <span class="spaces">    </span><span
                  class="textcolor"
                  style="color: #0000b2"
                  ><a href="tikz-shapes#pgf.back/node">\node</a></span
                > [<span class="textcolor" style="color: #008000"
                  ><a href="library-petri#pgf.transition">transition</a></span
                >] <span class="textcolor" style="color: #800080"
                  >(e1')</span
                > [<span class="textcolor" style="color: #008000"
                  ><a href="tikz-arrows#pgf.left">left</a></span
                >=<span class="textcolor" style="color: #008000"
                  ><a href="tikz-coordinates#pgf.of">of</a> c1'</span
                >] {}<br />
                <span class="spaces">      </span><span
                  class="textcolor"
                  style="color: #000000"
                  ><a href="tikz-shapes#pgf.edge">edge</a></span
                >
                [<span class="textcolor" style="color: #008000"
                  ><a href="tikz-decorations#pgf.pre">pre</a></span
                >,<span class="textcolor" style="color: #008000"
                  ><a href="library-edges#pgf.bend:left">bend left</a></span
                >]<span class="spaces">                  </span><span
                  class="textcolor"
                  style="color: #800080"
                  >(w1')</span
                ><br />
                <span class="spaces">      </span><span
                  class="textcolor"
                  style="color: #000000"
                  ><a href="tikz-shapes#pgf.edge">edge</a></span
                >
                [<span class="textcolor" style="color: #008000"
                  ><a href="tikz-decorations#pgf.post">post</a></span
                >]<span class="spaces">                           </span><span
                  class="textcolor"
                  style="color: #800080"
                  >(s1')</span
                ><br />
                <span class="spaces">      </span><span
                  class="textcolor"
                  style="color: #000000"
                  ><a href="tikz-shapes#pgf.edge">edge</a></span
                >
                [<span class="textcolor" style="color: #008000"
                  ><a href="tikz-decorations#pgf.pre">pre</a></span
                >]<span class="spaces">                            </span><span
                  class="textcolor"
                  style="color: #800080"
                  >(s2')</span
                ><br />
                <span class="spaces">      </span><span
                  class="textcolor"
                  style="color: #000000"
                  ><a href="tikz-shapes#pgf.edge">edge</a></span
                >
                [<span class="textcolor" style="color: #008000"
                  ><a href="tikz-decorations#pgf.post">post</a></span
                >]<span class="spaces">                           </span><span
                  class="textcolor"
                  style="color: #800080"
                  >(c1')</span
                >;<br />
                <span class="spaces">    </span><span
                  class="textcolor"
                  style="color: #0000b2"
                  ><a href="tikz-shapes#pgf.back/node">\node</a></span
                > [<span class="textcolor" style="color: #008000"
                  ><a href="library-petri#pgf.transition">transition</a></span
                >] <span class="textcolor" style="color: #800080"
                  >(e2')</span
                > [<span class="textcolor" style="color: #008000"
                  ><a href="tikz-arrows#pgf.left">left</a></span
                >=<span class="textcolor" style="color: #008000"
                  ><a href="tikz-coordinates#pgf.of">of</a> c2'</span
                >] {}<br />
                <span class="spaces">      </span><span
                  class="textcolor"
                  style="color: #000000"
                  ><a href="tikz-shapes#pgf.edge">edge</a></span
                >
                [<span class="textcolor" style="color: #008000"
                  ><a href="tikz-decorations#pgf.pre">pre</a></span
                >,<span class="textcolor" style="color: #008000"
                  ><a href="library-edges#pgf.bend:right">bend right</a></span
                >]<span class="spaces">                 </span><span
                  class="textcolor"
                  style="color: #800080"
                  >(w2')</span
                ><br />
                <span class="spaces">      </span><span
                  class="textcolor"
                  style="color: #000000"
                  ><a href="tikz-shapes#pgf.edge">edge</a></span
                >
                [<span class="textcolor" style="color: #008000"
                  ><a href="tikz-decorations#pgf.post">post</a></span
                >]<span class="spaces">                           </span><span
                  class="textcolor"
                  style="color: #800080"
                  >(s1')</span
                ><br />
                <span class="spaces">      </span><span
                  class="textcolor"
                  style="color: #000000"
                  ><a href="tikz-shapes#pgf.edge">edge</a></span
                >
                [<span class="textcolor" style="color: #008000"
                  ><a href="tikz-decorations#pgf.pre">pre</a></span
                >]<span class="spaces">                            </span><span
                  class="textcolor"
                  style="color: #800080"
                  >(s2')</span
                ><br />
                <span class="spaces">      </span><span
                  class="textcolor"
                  style="color: #000000"
                  ><a href="tikz-shapes#pgf.edge">edge</a></span
                >
                [<span class="textcolor" style="color: #008000"
                  ><a href="tikz-decorations#pgf.post">post</a></span
                >]<span class="spaces">                           </span><span
                  class="textcolor"
                  style="color: #800080"
                  >(c2')</span
                >;<br />
                <span class="spaces">    </span><span
                  class="textcolor"
                  style="color: #0000b2"
                  ><a href="tikz-shapes#pgf.back/node">\node</a></span
                > [<span class="textcolor" style="color: #008000"
                  ><a href="library-petri#pgf.transition">transition</a></span
                >] <span class="textcolor" style="color: #800080"
                  >(l1')</span
                > [<span class="textcolor" style="color: #008000"
                  ><a href="tikz-arrows#pgf.right">right</a></span
                >=<span class="textcolor" style="color: #008000"
                  ><a href="tikz-coordinates#pgf.of">of</a> c1'</span
                >] {}<br />
                <span class="spaces">      </span><span
                  class="textcolor"
                  style="color: #000000"
                  ><a href="tikz-shapes#pgf.edge">edge</a></span
                >
                [<span class="textcolor" style="color: #008000"
                  ><a href="tikz-decorations#pgf.pre">pre</a></span
                >]<span class="spaces">                            </span><span
                  class="textcolor"
                  style="color: #800080"
                  >(c1')</span
                ><br />
                <span class="spaces">      </span><span
                  class="textcolor"
                  style="color: #000000"
                  ><a href="tikz-shapes#pgf.edge">edge</a></span
                >
                [<span class="textcolor" style="color: #008000"
                  ><a href="tikz-decorations#pgf.pre">pre</a></span
                >]<span class="spaces">                            </span><span
                  class="textcolor"
                  style="color: #800080"
                  >(s1')</span
                ><br />
                <span class="spaces">      </span><span
                  class="textcolor"
                  style="color: #000000"
                  ><a href="tikz-shapes#pgf.edge">edge</a></span
                >
                [<span class="textcolor" style="color: #008000"
                  ><a href="tikz-decorations#pgf.post">post</a></span
                >]<span class="spaces">                           </span><span
                  class="textcolor"
                  style="color: #800080"
                  >(s2')</span
                ><br />
                <span class="spaces">      </span><span
                  class="textcolor"
                  style="color: #000000"
                  ><a href="tikz-shapes#pgf.edge">edge</a></span
                >
                [<span class="textcolor" style="color: #008000"
                  ><a href="tikz-decorations#pgf.post">post</a></span
                >,<span class="textcolor" style="color: #008000"
                  ><a href="library-edges#pgf.bend:right">bend right</a></span
                >] <span class="textcolor" style="color: #000000"
                  ><a href="tikz-coordinates#pgf.node">node</a></span
                >[<span class="textcolor" style="color: #008000"
                  ><a href="tikz-arrows#pgf.swap">swap</a></span
                >] {<span class="textcolor" style="color: #000000">2</span
                >} <span class="textcolor" style="color: #800080"
                  >(w1')</span
                >;<br />
                <span class="spaces">    </span><span
                  class="textcolor"
                  style="color: #0000b2"
                  ><a href="tikz-shapes#pgf.back/node">\node</a></span
                > [<span class="textcolor" style="color: #008000"
                  ><a href="library-petri#pgf.transition">transition</a></span
                >] <span class="textcolor" style="color: #800080"
                  >(l2')</span
                > [<span class="textcolor" style="color: #008000"
                  ><a href="tikz-arrows#pgf.right">right</a></span
                >=<span class="textcolor" style="color: #008000"
                  ><a href="tikz-coordinates#pgf.of">of</a> c2'</span
                >] {}<br />
                <span class="spaces">      </span><span
                  class="textcolor"
                  style="color: #000000"
                  ><a href="tikz-shapes#pgf.edge">edge</a></span
                >
                [<span class="textcolor" style="color: #008000"
                  ><a href="tikz-decorations#pgf.pre">pre</a></span
                >]<span class="spaces">                            </span><span
                  class="textcolor"
                  style="color: #800080"
                  >(c2')</span
                ><br />
                <span class="spaces">      </span><span
                  class="textcolor"
                  style="color: #000000"
                  ><a href="tikz-shapes#pgf.edge">edge</a></span
                >
                [<span class="textcolor" style="color: #008000"
                  ><a href="tikz-decorations#pgf.pre">pre</a></span
                >]<span class="spaces">                            </span><span
                  class="textcolor"
                  style="color: #800080"
                  >(s1')</span
                ><br />
                <span class="spaces">      </span><span
                  class="textcolor"
                  style="color: #000000"
                  ><a href="tikz-shapes#pgf.edge">edge</a></span
                >
                [<span class="textcolor" style="color: #008000"
                  ><a href="tikz-decorations#pgf.post">post</a></span
                >]<span class="spaces">                           </span><span
                  class="textcolor"
                  style="color: #800080"
                  >(s2')</span
                ><br />
                <span class="spaces">      </span><span
                  class="textcolor"
                  style="color: #000000"
                  ><a href="tikz-shapes#pgf.edge">edge</a></span
                >
                [<span class="textcolor" style="color: #008000"
                  ><a href="tikz-decorations#pgf.post">post</a></span
                >,<span class="textcolor" style="color: #008000"
                  ><a href="library-edges#pgf.bend:left">bend left</a></span
                >]<span class="spaces">  </span><span class="textcolor" style="color: #000000"
                  ><a href="tikz-coordinates#pgf.node">node</a></span
                >
                {<span class="textcolor" style="color: #000000">2</span
                >}<span class="spaces">       </span><span
                  class="textcolor"
                  style="color: #800080"
                  >(w2')</span
                >;<br />
                <span class="spaces">  </span><span class="textcolor" style="color: #000000"
                  >\end</span
                >{<span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-scopes#pgf.scope">scope</a></span
                >}<br />
              </code>
            </div>
          </figure>

          <p>The code for the background and the snake is the following:</p>

          <figure class="example">
            <div class="example-code">
              <button class="clipboardButton" type="button">copy</button>

              <code>
                <br />
                <span class="spaces">  </span><span class="textcolor" style="color: #000000"
                  >\begin</span
                >{<span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-scopes#pgf.scope">scope</a></span
                >}[<span class="textcolor" style="color: #008000"
                  ><a href="library-backgrounds#pgf.on:background:layer"
                    >on background layer</a
                  ></span
                >]<br />
                <span class="spaces">    </span><span
                  class="textcolor"
                  style="color: #0000b2"
                  ><a href="tikz-shapes#pgf.back/node">\node</a></span
                > <span class="textcolor" style="color: #800080"
                  >(r1)</span
                > [<span class="textcolor" style="color: #008000"
                  ><a href="tikz-actions#pgf.fill">fill</a></span
                >=<span class="textcolor" style="color: #008000">black!10</span
                >,<span class="textcolor" style="color: #008000"
                  ><a href="tikz-paths#pgf.rounded:corners"
                    >rounded corners</a
                  ></span
                >,<span class="textcolor" style="color: #008000"
                  ><a href="library-fit#pgf.fit">fit</a></span
                >=<span class="textcolor" style="color: #008000"
                  ><span class="textcolor" style="color: #800080">(w1)</span
                  ><span class="textcolor" style="color: #800080">(w2)</span
                  ><span class="textcolor" style="color: #800080">(e1)</span
                  ><span class="textcolor" style="color: #800080">(e2)</span
                  ><span class="textcolor" style="color: #800080">(l1)</span
                  ><span class="textcolor" style="color: #800080"
                    >(l2)</span
                  ></span
                >] {};<br />
                <span class="spaces">    </span><span
                  class="textcolor"
                  style="color: #0000b2"
                  ><a href="tikz-shapes#pgf.back/node">\node</a></span
                > <span class="textcolor" style="color: #800080"
                  >(r2)</span
                > [<span class="textcolor" style="color: #008000"
                  ><a href="tikz-actions#pgf.fill">fill</a></span
                >=<span class="textcolor" style="color: #008000">black!10</span
                >,<span class="textcolor" style="color: #008000"
                  ><a href="tikz-paths#pgf.rounded:corners"
                    >rounded corners</a
                  ></span
                >,<span class="textcolor" style="color: #008000"
                  ><a href="library-fit#pgf.fit">fit</a></span
                >=<span class="textcolor" style="color: #008000"
                  ><span class="textcolor" style="color: #800080">(w1')</span
                  ><span class="textcolor" style="color: #800080">(w2')</span
                  ><span class="textcolor" style="color: #800080">(e1')</span
                  ><span class="textcolor" style="color: #800080">(e2')</span
                  ><span class="textcolor" style="color: #800080">(l1')</span
                  ><span class="textcolor" style="color: #800080"
                    >(l2')</span
                  ></span
                >] {};<br />
                <span class="spaces">  </span><span class="textcolor" style="color: #000000"
                  >\end</span
                >{<span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-scopes#pgf.scope">scope</a></span
                >}<br />
                <br />
                <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                > [<span class="textcolor" style="color: #008000"
                  ><a href="tikz-arrows#pgf.shorten:&gt;">shorten &gt;</a></span
                >=<span class="textcolor" style="color: #008000">1mm</span
                >,<span class="textcolor" style="color: #008000"
                  ><a href="tikz-graphs#pgf.-&gt;">-&gt;</a></span
                >,<span class="textcolor" style="color: #008000"
                  ><a href="tikz-actions#pgf.thick">thick</a></span
                >,<span class="textcolor" style="color: #008000"
                  ><a href="tikz-decorations#pgf.decorate">decorate</a></span
                >,<br />
                <span class="spaces">         </span><span
                  class="textcolor"
                  style="color: #008000"
                  ><a href="tikz-decorations#pgf.decoration"
                    >decoration</a
                  ></span
                >=<span class="textcolor" style="color: #008000"
                  >{snake,amplitude=.4mm,segment length=2mm,<br />
                  <span class="spaces">                     </span>pre=moveto,<a
                    href="tikz-decorations#pgf.pre"
                    >pre</a
                  >
                  length=1mm,<a href="tikz-decorations#pgf.post">post</a>
                  length=2mm}</span
                >]<br />
                <span class="spaces">    </span><span
                  class="textcolor"
                  style="color: #800080"
                  >(r1)</span
                > <span class="textcolor" style="color: #000000"
                  ><a href="tikz-paths#pgf.--">--</a></span
                >
                <span class="textcolor" style="color: #800080">(r2)</span
                > <span class="textcolor" style="color: #000000"
                  ><a href="tikz-coordinates#pgf.node">node</a></span
                >
                [<span class="textcolor" style="color: #008000"
                  ><a href="tikz-shapes#pgf.above">above</a></span
                >=<span class="textcolor" style="color: #008000">1mm</span
                >,<span class="textcolor" style="color: #008000"
                  ><a href="tikz-shapes#pgf.midway">midway</a></span
                >,<span class="textcolor" style="color: #008000"
                  ><a href="tikz-shapes#pgf.text:width">text width</a></span
                >=<span class="textcolor" style="color: #008000">3cm</span
                >,<span class="textcolor" style="color: #008000"
                  ><a href="tikz-shapes#pgf.align">align</a></span
                >=<span class="textcolor" style="color: #008000">center</span
                >]<br />
                <span class="spaces">      </span>{<span
                  class="textcolor"
                  style="color: #000000"
                  >replacement</span
                >
                <span class="textcolor" style="color: #000000"
                  ><a href="tikz-coordinates#pgf.of">of</a></span
                >
                <span class="textcolor" style="color: #000000">the</span>
                <span class="textcolor" style="color: #0000b2">\textcolor</span
                >{<span class="textcolor" style="color: #000000">red</span
                >}{<span class="textcolor" style="color: #000000">capacity</span
                >} <span class="textcolor" style="color: #000000"
                  ><a href="tikz-coordinates#pgf.by">by</a></span
                >
                <span class="textcolor" style="color: #0000b2">\textcolor</span
                >{<span class="textcolor" style="color: #000000">red</span
                >}{<span class="textcolor" style="color: #000000">two</span>
                <span class="textcolor" style="color: #000000">places</span
                >}};<br />
                <span class="textcolor" style="color: #000000">\end</span>{<span
                  class="textcolor"
                  style="color: #0000b2"
                  ><a href="tikz-scopes#pgf.tikzpicture">tikzpicture</a></span
                >}<br />
              </code>
            </div>
          </figure>

          <div class="hidden"></div>
        </section>
      </main>

      <footer>
        <div class="footer-left">
          <a href="/license">License</a> &middot;
          <a href="https://ctan.org/pkg/pgf">CTAN</a> &middot;
          <a href="https://pgf-tikz.github.io/pgf/pgfmanual.pdf"
            >Official PDF version</a
          >
          &middot;
          <a href="https://github.com/DominikPeters/tikz.dev-issues/issues"
            >Feedback and issues</a
          >
          &middot;
          <a href="https://github.com/DominikPeters/pgf-tikz-html-manual"
            >About this HTML version</a
          >
        </div>
        <div class="footer-right">
          <em>HTML version last updated: 2024-03-21</em>
        </div>
      </footer>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/@docsearch/js@3"></script>
    <script>
      docsearch({
        apiKey: "196e8c10ec187c9ae525dd5226fb9378",
        indexName: "tikz",
        appId: "JS6V5VZSDB",
        container: "#search",
        searchParameters: {
          filters: "tags:tikz",
        },
      });
    </script>
  </body>
</html>
