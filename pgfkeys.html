<!doctype html>
<html lang="en-US">
  <!--TikZ/PGF documentation:
Copyright 2019 by Till Tantau

This file may be distributed and/or modified

1. under the LaTeX Project Public License and/or
2. under the GNU Free Documentation License.

See https://tikz.dev/license for more details.

Translated to HTML using the lwarp package:
Copyright 2016-2024 Brian Dunn - BD Tech Concepts LLC

tikz.dev:
Copyright 2021-2024 Dominik Peters
This file may be distributed and/or modified under the LaTeX Project Public License.--><head>
    <meta charset="utf-8" />
    <meta content="LaTeX Lwarp package" name="generator" />
    <meta content="width=device-width, initial-scale=1.0" name="viewport" />
    <title>Key Management - PGF/TikZ Manual</title>
    <link href="style.css?v=20240321" rel="stylesheet" type="text/css" />

    <script
      async
      id="MathJax-script"
      src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"
    ></script>

    <script src="pgfmanual.js?v=20240321"></script>

    <script type="application/ld+json">
      {
        "@context": "https://schema.org",
        "@type": "BreadcrumbList",
        "itemListElement": [
          {
            "@type": "ListItem",
            "position": 1,
            "name": "Utilities",
            "item": "https://tikz.dev/utilities"
          },
          {
            "@type": "ListItem",
            "position": 2,
            "name": "Key Management",
            "item": "https://tikz.dev/pgfkeys"
          }
        ]
      }
    </script>
    <script async src="lwarp-mathjax-emulation.js"></script>
    <link
      href="https://cdn.jsdelivr.net/npm/@docsearch/css@3"
      rel="stylesheet"
    />
    <link href="/favicon-16x16.png" rel="icon" sizes="16x16" type="image/png" />
    <link href="/favicon-32x32.png" rel="icon" sizes="32x32" type="image/png" />
    <link
      href="/apple-touch-icon.png"
      rel="apple-touch-icon"
      sizes="180x180"
      type="image/png"
    />
    <link href="/site.webmanifest" rel="manifest" />
    <link href="https://tikz.dev/pgfkeys" rel="canonical" />
    <meta content="https://tikz.dev/pgfkeys" property="og:url" />
    <meta content="article" property="og:type" />
    <meta content="Key Management - PGF/TikZ Manual" property="og:title" />
    <meta content="summary" name="twitter:card" />
  </head>
  <body>
    <a id="pgfmanual-autopage-7514"></a>

    <div class="bodyandsidetoc grid-container">
      <header>
        <div id="hamburger-button">â˜°</div>
        <strong
          ><a href="/">PGF/<span class="tikzname">TikZ</span> Manual</a></strong
        >
        <div id="search"></div>
      </header>
      <div class="sidetoccontainer" id="local-toc-container">
        <nav class="sidetoc">
          <div class="sidetoctitle"><p>On this page</p></div>
          <div class="sidetoccontents">
            <p><a class="tocsubsection" href="#sec-87.1">Introduction</a></p>
            <p>
              <a class="tocsubsubsection" href="#sec-87.1.1"
                >Comparison to Other Packages</a
              >
            </p>
            <p>
              <a class="tocsubsubsection" href="#sec-87.1.2"
                >Quick Guide to Using the Key Mechanism</a
              >
            </p>
            <p><a class="tocsubsection" href="#sec-87.2">The Key Tree</a></p>
            <p><a class="tocsubsection" href="#sec-87.3">Setting Keys</a></p>
            <p>
              <a class="tocsubsubsection" href="#sec-87.3.1"
                >First Char Syntax Detection</a
              >
            </p>
            <p>
              <a class="tocsubsubsection" href="#sec-87.3.2"
                >Default Arguments</a
              >
            </p>
            <p>
              <a class="tocsubsubsection" href="#sec-87.3.3"
                >Keys That Execute Commands</a
              >
            </p>
            <p>
              <a class="tocsubsubsection" href="#sec-87.3.4"
                >Keys That Store Values</a
              >
            </p>
            <p>
              <a class="tocsubsubsection" href="#sec-87.3.5"
                >Keys That Are Handled</a
              >
            </p>
            <p>
              <a class="tocsubsubsection" href="#sec-87.3.6"
                >Keys That Are Unknown</a
              >
            </p>
            <p>
              <a class="tocsubsubsection" href="#sec-87.3.7"
                >Search Paths And Handled Keys</a
              >
            </p>
            <p><a class="tocsubsection" href="#sec-87.4">Key Handlers</a></p>
            <p>
              <a class="tocsubsubsection" href="#sec-87.4.1"
                >Handlers for Path Management</a
              >
            </p>
            <p>
              <a class="tocsubsubsection" href="#sec-87.4.2"
                >Setting Defaults</a
              >
            </p>
            <p>
              <a class="tocsubsubsection" href="#sec-87.4.3"
                >Defining Key Codes</a
              >
            </p>
            <p>
              <a class="tocsubsubsection" href="#sec-87.4.4">Defining Styles</a>
            </p>
            <p>
              <a class="tocsubsubsection" href="#sec-87.4.5"
                >Defining Value-, Macro-, If- and Choice-Keys</a
              >
            </p>
            <p>
              <a class="tocsubsubsection" href="#sec-87.4.6"
                >Expanded and Multiple Values</a
              >
            </p>
            <p>
              <a class="tocsubsubsection" href="#sec-87.4.7"
                >Handlers for Forwarding</a
              >
            </p>
            <p>
              <a class="tocsubsubsection" href="#sec-87.4.8"
                >Handlers for Testing Keys</a
              >
            </p>
            <p>
              <a class="tocsubsubsection" href="#sec-87.4.9"
                >Handlers for Key Inspection</a
              >
            </p>
            <p><a class="tocsubsection" href="#sec-87.5">Error Keys</a></p>
            <p><a class="tocsubsection" href="#sec-87.6">Key Filtering</a></p>
            <p>
              <a class="tocsubsubsection" href="#sec-87.6.1"
                >Starting With An Example</a
              >
            </p>
            <p>
              <a class="tocsubsubsection" href="#sec-87.6.2">Setting Filters</a>
            </p>
            <p>
              <a class="tocsubsubsection" href="#sec-87.6.3"
                >Handlers For Unprocessed Keys</a
              >
            </p>
            <p>
              <a class="tocsubsubsection" href="#sec-87.6.4">Family Support</a>
            </p>
            <p>
              <a class="tocsubsubsection" href="#sec-87.6.5"
                >Other Key Filters</a
              >
            </p>
            <p>
              <a class="tocsubsubsection" href="#sec-87.6.6"
                >Programmer Interface</a
              >
            </p>
            <p>
              <a class="tocsubsubsection" href="#sec-87.6.7"
                >Defining Own Filters Or Filter Handlers</a
              >
            </p>
          </div>
        </nav>
      </div>
      <div class="sidetoccontainer" id="chapter-toc-container">
        <nav class="sidetoc">
          <div class="sidetoctitle">
            <p>
              <span class="sidetocthetitle"
                >The <span class="tikzname">TikZ</span> and PGF Packages<br />
                Manual for version 3.1.10</span
              >
            </p>

            <p>Contents</p>
          </div>

          <div class="sidetoccontents">
            <p></p>

            <p>
              <a class="linkintro" href="/">Introduction</a>
            </p>

            <p>
              <a class="tocpart" href="tutorials-guidelines"
                >Tutorials and Guidelines</a
              >
            </p>

            <p>
              <a class="tocpart" href="install"
                >Installation and Configuration</a
              >
            </p>

            <p>
              <a class="tocpart" href="tikz">Ti<em>k</em>Z</a>
            </p>

            <p>
              <a class="tocpart" href="gd">Graph Drawing</a>
            </p>

            <p>
              <a class="tocpart" href="libraries">Libraries</a>
            </p>

            <p>
              <a class="tocpart" href="dv">Data Visualization</a>
            </p>

            <p class="current-part">
              <a class="tocpart" href="utilities">Utilities</a>
            </p>

            <p class="current current-part">
              <a class="tocsection" href="pgfkeys">Key Management</a>
            </p>

            <p class="current-part">
              <a class="tocsection" href="pgffor"
                >Repeating Things: The Foreach Statement</a
              >
            </p>

            <p class="current-part">
              <a class="tocsection" href="pgfcalendar"
                >Date and Calendar Utility Macros</a
              >
            </p>

            <p class="current-part">
              <a class="tocsection" href="pages">Page Management</a>
            </p>

            <p class="current-part">
              <a class="tocsection" href="xxcolor">Extended Color Support</a>
            </p>

            <p class="current-part">
              <a class="tocsection" href="module-parser">Parser Module</a>
            </p>

            <p>
              <a class="tocpart" href="math"
                >Mathematical and Object-Oriented Engines</a
              >
            </p>

            <p>
              <a class="tocpart" href="base">The Basic Layer</a>
            </p>

            <p>
              <a class="tocpart" href="pgfsys">The System Layer</a>
            </p>
          </div>
        </nav>
      </div>

      <main class="bodycontainer">
        <section class="textbody">
          <h1>
            The <span class="tikzname">TikZ</span> and PGF Packages<br />
            Manual for version 3.1.10
          </h1>
          <h2 class="inserted">Utilities</h2>

          <!--MathJax customizations:-->

          <p></p>
          <h4 id="autosec-7515">
            <a id="section-keys"></a
            ><span
              ><span class="sectionnumber" id="sec-87">87</span> Key
              Management</span
            ><a
              class="anchor-link"
              data-pdf-destination="section.87"
              data-pdf-page="975"
              href="#sec-87"
              >&para;</a
            >
          </h4>
          <a id="pgfmanual-autopage-7515"></a>
          <a id="pgfmanual-autofile-94"></a>

          <p>
            This section describes the package
            <span class="verb">pgfkeys</span>. It is loaded automatically by
            both <span class="textsc">pgf</span> and
            <span class="tikzname">TikZ</span>.
          </p>

          <div class="manualentry">
            <ul class="list" style="list-style-type: none">
              <div class="entryheadline">
                <li>
                  <p>
                    <a id="pgf.pgfkeys"></a>
                    <span class="hl-def"
                      ><kbd
                        >\usepackage{<span class="declare">pgfkeys</span>} %
                        <span class="latexlogofont"
                          ><span class="latexlogo"
                            >L<span class="latexlogosup">a</span>T<span
                              class="latexlogosub"
                              >e</span
                            >X</span
                          ></span
                        ></kbd
                      ></span
                    >
                    <a
                      class="anchor-link"
                      data-html-link="pgf.pgfkeys"
                      href="#pgf.pgfkeys"
                      id="pgf.pgfkeys"
                      >&para;</a
                    >
                  </p>
                </li>
              </div>

              <div class="entryheadline">
                <li>
                  <p>
                    <span class="hl-def"
                      ><kbd
                        >\input <span class="declare">pgfkeys</span>.tex % plain
                        <span class="latexlogofont"
                          ><span class="latexlogo"
                            >T<span class="latexlogosub">e</span>X</span
                          ></span
                        ></kbd
                      ></span
                    >
                  </p>
                </li>
              </div>

              <div class="entryheadline">
                <li>
                  <p>
                    <span class="hl-def"
                      ><kbd
                        >\usemodule[<span class="declare">pgfkeys</span>] %
                        Con<span class="latexlogofont"
                          ><span class="latexlogo"
                            >T<span class="latexlogosub">e</span>X</span
                          ></span
                        >t</kbd
                      ></span
                    >
                  </p>
                </li>
              </div>
              <p>
                This package can be used independently of
                <span class="textsc">pgf</span>. Note that no other package of
                <span class="textsc">pgf</span> needs to be loaded (so neither
                the emulation layer nor the system layer is needed). The
                Con<span class="latexlogofont"
                  ><span class="latexlogo"
                    >T<span class="latexlogosub">e</span>X</span
                  ></span
                >t abbreviation is <span class="verb">pgfkey</span> if
                <span class="verb">pgfmod</span> is not loaded.
              </p>
            </ul>
          </div>
          <h5 id="autosec-7517">
            <span
              ><span class="sectionnumber" id="sec-87.1">87.1</span>
              Introduction</span
            ><a
              class="anchor-link"
              data-html-link="sec-87.1"
              data-pdf-destination="subsection.87.1"
              data-pdf-page="975"
              href="#sec-87.1"
              >&para;</a
            >
          </h5>
          <a id="pgfmanual-autopage-7517"></a>
          <h6 id="autosec-7518">
            <span
              ><span class="sectionnumber" id="sec-87.1.1">87.1.1</span>
              Comparison to Other Packages</span
            ><a
              class="anchor-link"
              data-html-link="sec-87.1.1"
              data-pdf-destination="subsubsection.87.1.1"
              data-pdf-page="975"
              href="#sec-87.1.1"
              >&para;</a
            >
          </h6>
          <a id="pgfmanual-autopage-7518"></a>

          <p>
            The <span class="verb">pgfkeys</span> package defines a
            key&ndash;value management system that is in some sense similar to
            the more light-weight <span class="verb">keyval</span> system and
            the improved <span class="verb">xkeyval</span> system. However,
            <span class="verb">pgfkeys</span> uses a slightly different
            philosophy than these systems and it will coexist peacefully with
            both of them.
          </p>

          <p>
            The main differences between <span class="verb">pgfkeys</span> and
            <span class="verb">xkeyval</span> are the following:
          </p>
          <ul class="itemize" style="list-style-type: none">
            <li>
              <p>
                <span class="listmarker">&bull;</span>
                <span class="verb">pgfkeys</span> organizes keys in a tree,
                while <span class="verb">keyval</span> and
                <span class="verb">xkeyval</span> use families. In
                <span class="verb">pgfkeys</span> the families correspond to the
                root entries of the key tree.
              </p>
            </li>
            <li>
              <p>
                <span class="listmarker">&bull;</span>
                <span class="verb">pgfkeys</span> has no save-stack impact (you
                will have to read the
                <span class="latexlogofont"
                  ><span class="latexlogo"
                    >T<span class="latexlogosub">e</span>X</span
                  ></span
                >Book very carefully to appreciate this).
              </p>
            </li>
            <li>
              <p>
                <span class="listmarker">&bull;</span>
                <span class="verb">pgfkeys</span> is slightly slower than
                <span class="verb">keyval</span>, but not much.
              </p>
            </li>
            <li>
              <p>
                <span class="listmarker">&bull;</span>
                <span class="verb">pgfkeys</span> supports styles. This means
                that keys can just stand for other keys (which can stand for
                other keys in turn or which can also just execute some code).
                <span class="tikzname">TikZ</span> uses this mechanism heavily.
              </p>
            </li>
            <li>
              <p>
                <span class="listmarker">&bull;</span>
                <span class="verb">pgfkeys</span> supports multi-argument key
                code. This can, however, be emulated in
                <span class="verb">keyval</span>.
              </p>
            </li>
            <li>
              <p>
                <span class="listmarker">&bull;</span>
                <span class="verb">pgfkeys</span> supports handlers. These are
                call-backs that are called when a key is not known. They are
                very flexible, in fact even defining keys in different ways is
                handled by, well, handlers.
              </p>
            </li>
          </ul>
          <h6 id="autosec-7519">
            <span
              ><span class="sectionnumber" id="sec-87.1.2">87.1.2</span> Quick
              Guide to Using the Key Mechanism</span
            ><a
              class="anchor-link"
              data-html-link="sec-87.1.2"
              data-pdf-destination="subsubsection.87.1.2"
              data-pdf-page="975"
              href="#sec-87.1.2"
              >&para;</a
            >
          </h6>
          <a id="pgfmanual-autopage-7519"></a>

          <p>
            The following quick guide to <span class="textsc">pgf</span>&rsquo;s
            key mechanism only treats the most commonly used features. For an
            in-depth discussion of what is going on, please consult the
            remainder of this section.
          </p>

          <p>
            Keys are organized in a large tree that is reminiscent of the Unix
            file tree. A typical key might be, say,
            <span class="verb">/tikz/coordinate system/x</span> or just
            <span class="verb">/x</span>. Again as in Unix, when you specify
            keys you can provide the complete path of the key, but you usually
            just provide the name of the key (corresponding to the file name
            without any path) and the path is added automatically.
          </p>

          <p>
            Typically (but not necessarily) some code is associated with a key.
            To execute this code, you use the
            <span class="verb">\pgfkeys</span> command. This command takes a
            list of so-called key&ndash;value pairs. Each pair is of the form
            <span class="angle">&langle;</span><i>key</i
            ><span class="angle">&rangle;</span><span class="verb">=</span
            ><span class="angle">&langle;</span><i>value</i
            ><span class="angle">&rangle;</span>. For each pair the
            <span class="verb">\pgfkeys</span> command will execute the code
            stored for the <span class="angle">&langle;</span><i>key</i
            ><span class="angle">&rangle;</span> with its parameter set to
            <span class="angle">&langle;</span><i>value</i
            ><span class="angle">&rangle;</span>.
          </p>

          <p>
            Here is a typical example of how the
            <span class="verb">\pgfkeys</span> command is used:
          </p>

          <figure class="example">
            <div class="example-code">
              <button class="clipboardButton" type="button">copy</button>

              <code>
                <br />
                <span class="textcolor" style="color: #000000"
                  ><a href="pgfkeys#pgf.back/pgfkeys">\pgfkeys</a></span
                >{<span class="textcolor" style="color: #000000"
                  ><span class="textcolor" style="color: #008000">/my key</span
                  >=<span class="textcolor" style="color: #008000">hallo</span
                  >,<span class="textcolor" style="color: #008000"
                    >/your keys/main key</span
                  >=<span class="textcolor" style="color: #008000"
                    >something<span class="textcolor" style="color: #0000b2"
                      >\strange</span
                    ></span
                  >,<br />
                  <span class="spaces">         </span><span
                    class="textcolor"
                    style="color: #008000"
                    >key name without path</span
                  >=<span class="textcolor" style="color: #008000"
                    >something else</span
                  ></span
                >}<br />
              </code>
            </div>
          </figure>

          <p>
            Now, to set the code that is stored in a key you do not need to
            learn a new command. Rather, the
            <span class="verb">\pgfkeys</span> command can also be used to set
            the code of a key. This is done using so-called <em>handlers</em>.
            They look like keys whose names look like &ldquo;hidden files in
            Unix&rdquo; since they start with a dot. The handler for setting the
            code of a key is appropriately called
            <span class="verb">/.code</span> and it is used as follows:
          </p>

          <figure class="example">
            <div class="example-image">
              <p>The value is &rsquo;hi!&rsquo;.</p>
            </div>

            <div class="example-code">
              <button class="clipboardButton" type="button">copy</button>

              <code>
                <br />
                <span class="textcolor" style="color: #000000"
                  ><a href="pgfkeys#pgf.back/pgfkeys">\pgfkeys</a></span
                >{<span class="textcolor" style="color: #000000"
                  ><span class="textcolor" style="color: #008000">/my key</span
                  >/<span class="textcolor" style="color: #0000b2"
                    ><a href="pgfkeys#pgf./handlers/.code">.code</a></span
                  >=<span class="textcolor" style="color: #008000"
                    >The <a href="tikz-animations#pgf.value">value</a> is
                    '#1'.</span
                  ></span
                >}<br />
                <span class="textcolor" style="color: #000000"
                  ><a href="pgfkeys#pgf.back/pgfkeys">\pgfkeys</a></span
                >{<span class="textcolor" style="color: #000000"
                  ><span class="textcolor" style="color: #008000">/my key</span
                  >=<span class="textcolor" style="color: #008000"
                    >hi!</span
                  ></span
                >}<br />
              </code>
            </div>
          </figure>

          <p>
            As you can see, in the first line we defined the code for the key
            <span class="verb">/my key</span>. In the second line we executed
            this code with the parameter set to <span class="verb">hi!</span>.
          </p>

          <p>
            There are numerous handlers for defining a key. For instance, we can
            also define a key whose value actually consists of more than one
            parameter.
          </p>

          <figure class="example">
            <div class="example-image">
              <p>The values are &rsquo;a1&rsquo; and &rsquo;a2&rsquo;.</p>
            </div>

            <div class="example-code">
              <button class="clipboardButton" type="button">copy</button>

              <code>
                <br />
                <span class="textcolor" style="color: #000000"
                  ><a href="pgfkeys#pgf.back/pgfkeys">\pgfkeys</a></span
                >{<span class="textcolor" style="color: #000000"
                  ><span class="textcolor" style="color: #008000">/my key</span
                  >/<span class="textcolor" style="color: #0000b2"
                    ><a href="pgfkeys#pgf./handlers/.code:2:args"
                      >.code 2 args</a
                    ></span
                  >=<span class="textcolor" style="color: #008000"
                    >The values are '#1'
                    <a href="pgfkeys#pgf.and">and</a> '#2'.</span
                  ></span
                >}<br />
                <span class="textcolor" style="color: #000000"
                  ><a href="pgfkeys#pgf.back/pgfkeys">\pgfkeys</a></span
                >{<span class="textcolor" style="color: #000000"
                  ><span class="textcolor" style="color: #008000">/my key</span
                  >=<span class="textcolor" style="color: #008000"
                    >{a1}{a2}</span
                  ></span
                >}<br />
              </code>
            </div>
          </figure>

          <p>
            We often want to have keys where the code is called with some
            default value if the user does not provide a value. Not
            surprisingly, this is also done using a handler, this time called
            <span class="verb">/.default</span>.
          </p>

          <figure class="example">
            <div class="example-image">
              <p>(hallo)(hello)</p>
            </div>

            <div class="example-code">
              <button class="clipboardButton" type="button">copy</button>

              <code>
                <br />
                <span class="textcolor" style="color: #000000"
                  ><a href="pgfkeys#pgf.back/pgfkeys">\pgfkeys</a></span
                >{<span class="textcolor" style="color: #000000"
                  ><span class="textcolor" style="color: #008000">/my key</span
                  >/<span class="textcolor" style="color: #0000b2"
                    ><a href="pgfkeys#pgf./handlers/.code">.code</a></span
                  >=<span class="textcolor" style="color: #008000"
                    ><span class="textcolor" style="color: #800080"
                      >(#1)</span
                    ></span
                  ></span
                >}<br />
                <span class="textcolor" style="color: #000000"
                  ><a href="pgfkeys#pgf.back/pgfkeys">\pgfkeys</a></span
                >{<span class="textcolor" style="color: #000000"
                  ><span class="textcolor" style="color: #008000">/my key</span
                  >/<span class="textcolor" style="color: #0000b2"
                    ><a href="pgfkeys#pgf./handlers/.default">.default</a></span
                  >=<span class="textcolor" style="color: #008000"
                    >hello</span
                  ></span
                >}<br />
                <span class="textcolor" style="color: #000000"
                  ><a href="pgfkeys#pgf.back/pgfkeys">\pgfkeys</a></span
                >{<span class="textcolor" style="color: #000000"
                  ><span class="textcolor" style="color: #008000">/my key</span
                  >=<span class="textcolor" style="color: #008000">hallo</span
                  >,<span class="textcolor" style="color: #008000"
                    >/my key</span
                  ></span
                >}<br />
              </code>
            </div>
          </figure>

          <p>
            The other way round, it is also possible to specify that a value
            <em>must</em> be specified, using a handler called
            <span class="verb">/.value required</span>. Finally, you can also
            require that no value <em>may</em> be specified using
            <span class="verb">/.value forbidden</span>.
          </p>

          <p>
            All keys for a package like, say,
            <span class="tikzname">TikZ</span> start with the path
            <span class="verb">/tikz</span>. We obviously do not like to write
            this path down every time we use a key (so we do not have to write
            things like <span class="verb">\draw[/tikz/line width=1cm]</span>).
            What we need is to somehow &ldquo;change the default path to a
            specific location&rdquo;. This is done using the handler
            <span class="verb">/.cd</span> (for &ldquo;change directory&rdquo;).
            Once this handler has been used on a key, all subsequent keys in the
            current call of <span class="verb">\pgfkeys</span> only are
            automatically prefixed with this path, if necessary.
          </p>

          <p>Here is an example:</p>

          <figure class="example">
            <div class="example-code">
              <button class="clipboardButton" type="button">copy</button>

              <code>
                <br />
                <span class="textcolor" style="color: #000000"
                  ><a href="pgfkeys#pgf.back/pgfkeys">\pgfkeys</a></span
                >{<span class="textcolor" style="color: #000000"
                  ><span class="textcolor" style="color: #008000">/tikz</span
                  >/<span class="textcolor" style="color: #0000b2"
                    ><a href="pgfkeys#pgf./handlers/.cd">.cd</a></span
                  >,<span class="textcolor" style="color: #008000"
                    ><a href="tikz-actions#pgf.line:width">line width</a></span
                  >=<span class="textcolor" style="color: #008000">1cm</span
                  >,<span class="textcolor" style="color: #008000"
                    ><a href="tikz-actions#pgf.line:cap">line cap</a></span
                  >=<span class="textcolor" style="color: #008000"
                    ><a href="tikz-arrows#pgf.round">round</a></span
                  ></span
                >}<br />
              </code>
            </div>
          </figure>

          <p>
            This makes it easy to define commands like
            <span class="verb">\tikzset</span>, which could be defined as
            follows (the actual definition is a bit faster, but the effect is
            the same):
          </p>

          <figure class="example">
            <div class="example-code">
              <button class="clipboardButton" type="button">copy</button>

              <code>
                <br />
                <span class="textcolor" style="color: #0000b2">\def</span
                ><span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-scopes#pgf.back/tikzset">\tikzset</a></span
                ><span class="textcolor" style="color: #000000">#1</span>{<span
                  class="textcolor"
                  style="color: #000000"
                  ><a href="pgfkeys#pgf.back/pgfkeys">\pgfkeys</a></span
                >{<span class="textcolor" style="color: #000000"
                  ><span class="textcolor" style="color: #008000">/tikz</span
                  >/<span class="textcolor" style="color: #0000b2"
                    ><a href="pgfkeys#pgf./handlers/.cd">.cd</a></span
                  >,<span class="textcolor" style="color: #008000"
                    >#1</span
                  ></span
                >}}<br />
              </code>
            </div>
          </figure>

          <p>
            When a key is handled, instead of executing some code, the key can
            also cause further keys to be executed. Such keys will be called
            <em>styles</em>. A style is, in essence, just a key list that should
            be executed whenever the style is executed. Here is an example:
          </p>

          <figure class="example">
            <div class="example-image">
              <p>(a:foo)(b:bar)(a:wow)</p>
            </div>

            <div class="example-code">
              <button class="clipboardButton" type="button">copy</button>

              <code>
                <br />
                <span class="textcolor" style="color: #000000"
                  ><a href="pgfkeys#pgf.back/pgfkeys">\pgfkeys</a></span
                >{<span class="textcolor" style="color: #000000"
                  ><span class="textcolor" style="color: #008000">/a</span
                  >/<span class="textcolor" style="color: #0000b2"
                    ><a href="pgfkeys#pgf./handlers/.code">.code</a></span
                  >=<span class="textcolor" style="color: #008000"
                    ><span class="textcolor" style="color: #800080"
                      >(a:#1)</span
                    ></span
                  ></span
                >}<br />
                <span class="textcolor" style="color: #000000"
                  ><a href="pgfkeys#pgf.back/pgfkeys">\pgfkeys</a></span
                >{<span class="textcolor" style="color: #000000"
                  ><span class="textcolor" style="color: #008000">/b</span
                  >/<span class="textcolor" style="color: #0000b2"
                    ><a href="pgfkeys#pgf./handlers/.code">.code</a></span
                  >=<span class="textcolor" style="color: #008000"
                    ><span class="textcolor" style="color: #800080"
                      >(b:#1)</span
                    ></span
                  ></span
                >}<br />
                <span class="textcolor" style="color: #000000"
                  ><a href="pgfkeys#pgf.back/pgfkeys">\pgfkeys</a></span
                >{<span class="textcolor" style="color: #000000"
                  ><span class="textcolor" style="color: #008000"
                    >/my style</span
                  >/<span class="textcolor" style="color: #0000b2"
                    ><a href="pgfkeys#pgf./handlers/.style">.style</a></span
                  >={<span class="textcolor" style="color: #008000">/a</span
                  >=<span class="textcolor" style="color: #008000">foo</span
                  >,<span class="textcolor" style="color: #008000">/b</span
                  >=<span class="textcolor" style="color: #008000">bar</span
                  >,<span class="textcolor" style="color: #008000">/a</span
                  >=<span class="textcolor" style="color: #008000"
                    >#1}</span
                  ></span
                >}<br />
                <span class="textcolor" style="color: #000000"
                  ><a href="pgfkeys#pgf.back/pgfkeys">\pgfkeys</a></span
                >{<span class="textcolor" style="color: #000000"
                  ><span class="textcolor" style="color: #008000"
                    >/my style</span
                  >=<span class="textcolor" style="color: #008000"
                    >wow</span
                  ></span
                >}<br />
              </code>
            </div>
          </figure>

          <p>
            As the above example shows, styles can also be parameterized, just
            like the normal code keys.
          </p>

          <p>
            As a typical use of styles, suppose we wish to set up the key
            <span class="verb">/tikz</span> so that it will change the default
            path to <span class="verb">/tikz</span>. This can be achieved as
            follows:
          </p>

          <figure class="example">
            <div class="example-code">
              <button class="clipboardButton" type="button">copy</button>

              <code>
                <br />
                <span class="textcolor" style="color: #000000"
                  ><a href="pgfkeys#pgf.back/pgfkeys">\pgfkeys</a></span
                >{<span class="textcolor" style="color: #000000"
                  ><span class="textcolor" style="color: #008000">/tikz</span
                  >/<span class="textcolor" style="color: #0000b2"
                    ><a href="pgfkeys#pgf./handlers/.style">.style</a></span
                  >=<span class="textcolor" style="color: #008000">/tikz</span
                  >/<span class="textcolor" style="color: #0000b2"
                    ><a href="pgfkeys#pgf./handlers/.cd">.cd</a></span
                  ></span
                >}<br />
                <span class="textcolor" style="color: #000000"
                  ><a href="pgfkeys#pgf.back/pgfkeys">\pgfkeys</a></span
                >{<span class="textcolor" style="color: #000000"
                  ><span class="textcolor" style="color: #008000"
                    ><a href="tikz-scopes#pgf.tikz">tikz</a></span
                  >,<span class="textcolor" style="color: #008000"
                    ><a href="tikz-actions#pgf.line:width">line width</a></span
                  >=<span class="textcolor" style="color: #008000">1cm</span
                  >,<span class="textcolor" style="color: #008000"
                    ><a href="tikz-actions#pgf.draw">draw</a></span
                  >=<span class="textcolor" style="color: #008000"
                    >red</span
                  ></span
                >}<br />
              </code>
            </div>
          </figure>

          <p>
            Note that when <span class="verb">\pgfkeys</span> is executed, the
            default path is set to&nbsp;<span class="verb">/</span>. This means
            that the first <span class="verb">tikz</span> will be completed to
            <span class="verb">/tikz</span>. Then
            <span class="verb">/tikz</span> is a style and, thus, replaced by
            <span class="verb">/tikz/.cd</span>, which changes the default path
            to <span class="verb">/tikz</span>. Thus, the
            <span class="verb">line width</span> is correctly prefixed with
            <span class="verb">/tikz</span>.
          </p>
          <h5 id="autosec-7520">
            <span
              ><span class="sectionnumber" id="sec-87.2">87.2</span> The Key
              Tree</span
            ><a
              class="anchor-link"
              data-html-link="sec-87.2"
              data-pdf-destination="subsection.87.2"
              data-pdf-page="976"
              href="#sec-87.2"
              >&para;</a
            >
          </h5>
          <a id="pgfmanual-autopage-7520"></a>

          <p>
            The <span class="verb">pgfkeys</span> package organizes keys in a
            so-called <em>key tree</em>. This tree will be familiar to anyone
            who has used a Unix operating system: A key is addressed by a path,
            which consists of different parts separated by slashes. A typical
            key might be <span class="verb">/tikz/line width</span> or just
            <span class="verb">/tikz</span> or something more complicated like
            <span class="verb">/tikz/cs/x/.store in</span>.
          </p>

          <p>
            Let us fix some further terminology: Given a key like
            <span class="verb">/a/b/c</span>, we call the part leading up the
            last slash (<span class="verb">/a/b</span>) the <em>path</em> of the
            key. We call everything after the last slash (<span class="verb"
              >c</span
            >) the <em>name</em> of the key (in a file system this would be the
            file name).
          </p>

          <p>
            We do not always wish to specify keys completely. Instead, we
            usually specify only part of a key (typically only the name) and the
            <em>default path</em> is then added to the key at the front. So,
            when the default path is <span class="verb">/tikz</span> and you
            refer to the (partial) key <span class="verb">line width</span>, the
            actual key that is used is
            <span class="verb">/tikz/line width</span>. There is a simple rule
            for deciding whether a key is a partial key or a full key: If it
            starts with a slash, then it is a full key and it is not modified;
            if it does not start with a slash, then the default path is
            automatically prefixed.
          </p>

          <p>
            <em>Remark:</em> The above rule is actually a definition, hence the
            corresponding sufficiency conditions hold. That is, if it is a full
            key, then it starts with a slash; if it is a partial key, then it
            does not start with a slash. Moreover, a path always starts with a
            slash.
          </p>

          <p>
            Note that the default path is not the same as a search path. In
            particular, the default path is just a single path. When a partial
            key is given, only this single default path is prefixed;
            <span class="verb">pgfkeys</span> does not try to look up the key in
            different parts of a search path. It is, however, possible to
            emulate search paths, but a much more complicated mechanism must be
            used.
          </p>

          <p>
            When you set keys (to be explained in a moment), you can freely mix
            partial and full keys and you can change the default path. This
            makes it possible to temporarily use keys from another part of the
            key tree (this turns out to be a very useful feature).
          </p>

          <p>
            Each key (may) store some <em>tokens</em> and there exist commands,
            described below, for setting, getting, and changing the tokens
            stored in a key. However, you will only very seldom use these
            commands directly. Rather, the standard way of using keys is the
            <span class="verb">\pgfkeys</span> command or some command that uses
            it internally like, say, <span class="verb">\tikzset</span>. So, you
            may wish to skip the following commands and continue with the next
            subsection.
          </p>

          <div class="manualentry">
            <ul class="list" style="list-style-type: none">
              <div class="entryheadline">
                <li>
                  <p>
                    <a id="pgf.back/pgfkeyssetvalue"></a>
                    <span class="hl-def"
                      ><span class="declare"><kbd>\pgfkeyssetvalue</kbd></span
                      >{<span class="angle">&langle;</span><i>full key</i
                      ><span class="angle">&rangle;</span>}{<span class="angle"
                        >&langle;</span
                      ><i>token text</i
                      ><span class="angle">&rangle;</span>}</span
                    >
                    <a
                      class="anchor-link"
                      data-html-link="pgf.back/pgfkeyssetvalue"
                      href="#\pgfkeyssetvalue"
                      id="\pgfkeyssetvalue"
                      >&para;</a
                    >
                  </p>
                </li>
              </div>
              <p>
                Stores the <span class="angle">&langle;</span><i>token text</i
                ><span class="angle">&rangle;</span> in the
                <span class="angle">&langle;</span><i>full key</i
                ><span class="angle">&rangle;</span>. The
                <span class="angle">&langle;</span><i>full key</i
                ><span class="angle">&rangle;</span> may not be a partial key,
                so no default-path-adding is done. The
                <span class="angle">&langle;</span><i>token text</i
                ><span class="angle">&rangle;</span> can be arbitrary tokens and
                may even contain things like <span class="verb">#</span> or
                unbalanced
                <span class="latexlogofont"
                  ><span class="latexlogo"
                    >T<span class="latexlogosub">e</span>X</span
                  ></span
                >-ifs.
              </p>

              <figure class="example">
                <div class="example-image">
                  <p>Hello, world!</p>
                </div>

                <div class="example-code">
                  <button class="clipboardButton" type="button">copy</button>
                  <code>
                    <br />
                    <span class="textcolor" style="color: #0000b2"
                      ><a href="pgfkeys#pgf.back/pgfkeyssetvalue"
                        >\pgfkeyssetvalue</a
                      ></span
                    >{<span class="textcolor" style="color: #000000">/my</span>
                    <span class="textcolor" style="color: #000000"
                      >family/my</span
                    >
                    <span class="textcolor" style="color: #000000">key</span
                    >}{<span class="textcolor" style="color: #000000"
                      >Hello</span
                    >, <span class="textcolor" style="color: #000000"
                      >world!</span
                    >}<br />
                    <span class="textcolor" style="color: #0000b2"
                      ><a href="pgfkeys#pgf.back/pgfkeysvalueof"
                        >\pgfkeysvalueof</a
                      ></span
                    >{<span class="textcolor" style="color: #000000">/my</span>
                    <span class="textcolor" style="color: #000000"
                      >family/my</span
                    >
                    <span class="textcolor" style="color: #000000">key</span
                    >}<br />
                  </code>
                </div>
              </figure>
              <p>
                The setting of a key is always local to the current
                <span class="latexlogofont"
                  ><span class="latexlogo"
                    >T<span class="latexlogosub">e</span>X</span
                  ></span
                >
                group.
              </p>
            </ul>
          </div>

          <div class="manualentry">
            <ul class="list" style="list-style-type: none">
              <div class="entryheadline">
                <li>
                  <p>
                    <a id="pgf.back/pgfkeyssetevalue"></a>
                    <span class="hl-def"
                      ><span class="declare"><kbd>\pgfkeyssetevalue</kbd></span
                      >{<span class="angle">&langle;</span><i>full key</i
                      ><span class="angle">&rangle;</span>}{<span class="angle"
                        >&langle;</span
                      ><i>token text</i
                      ><span class="angle">&rangle;</span>}</span
                    >
                    <a
                      class="anchor-link"
                      data-html-link="pgf.back/pgfkeyssetevalue"
                      href="#\pgfkeyssetevalue"
                      id="\pgfkeyssetevalue"
                      >&para;</a
                    >
                  </p>
                </li>
              </div>
              <p>
                The <span class="verb">\edef</span> version of
                <span class="verb">\pgfkeyssetvalue</span>.
              </p>
            </ul>
          </div>

          <div class="manualentry">
            <ul class="list" style="list-style-type: none">
              <div class="entryheadline">
                <li>
                  <p>
                    <a id="pgf.back/pgfkeyslet"></a>
                    <span class="hl-def"
                      ><span class="declare"><kbd>\pgfkeyslet</kbd></span
                      >{<span class="angle">&langle;</span><i>full key</i
                      ><span class="angle">&rangle;</span>}{<span class="angle"
                        >&langle;</span
                      ><i>macro</i><span class="angle">&rangle;</span>}</span
                    >
                    <a
                      class="anchor-link"
                      data-html-link="pgf.back/pgfkeyslet"
                      href="#\pgfkeyslet"
                      id="\pgfkeyslet"
                      >&para;</a
                    >
                  </p>
                </li>
              </div>
              <p>
                Performs a <span class="verb">\let</span> statement so the
                <span class="angle">&langle;</span><i>full key</i
                ><span class="angle">&rangle;</span> points to the contents of
                <span class="angle">&langle;</span><i>macro</i
                ><span class="angle">&rangle;</span>.
              </p>

              <figure class="example">
                <div class="example-image">
                  <p>Hello, world!</p>
                </div>

                <div class="example-code">
                  <button class="clipboardButton" type="button">copy</button>
                  <code>
                    <br />
                    <span class="textcolor" style="color: #0000b2">\def</span
                    ><span class="textcolor" style="color: #0000b2"
                      >\helloworld</span
                    >{<span class="textcolor" style="color: #000000">Hello</span
                    >, <span class="textcolor" style="color: #000000"
                      >world!</span
                    >}<br />
                    <span class="textcolor" style="color: #0000b2"
                      ><a href="pgfkeys#pgf.back/pgfkeyslet"
                        >\pgfkeyslet</a
                      ></span
                    >{<span class="textcolor" style="color: #000000">/my</span>
                    <span class="textcolor" style="color: #000000"
                      >family/my</span
                    >
                    <span class="textcolor" style="color: #000000">key</span
                    >}{<span class="textcolor" style="color: #0000b2"
                      >\helloworld</span
                    >}<br />
                    <span class="textcolor" style="color: #0000b2"
                      ><a href="pgfkeys#pgf.back/pgfkeysvalueof"
                        >\pgfkeysvalueof</a
                      ></span
                    >{<span class="textcolor" style="color: #000000">/my</span>
                    <span class="textcolor" style="color: #000000"
                      >family/my</span
                    >
                    <span class="textcolor" style="color: #000000">key</span
                    >}<br />
                  </code>
                </div>
              </figure>
              <p>
                You should never let a key be equal to
                <span class="verb">\relax</span>. Such a key may or may not be
                indistinguishable from an undefined key.
              </p>
            </ul>
          </div>

          <div class="manualentry">
            <ul class="list" style="list-style-type: none">
              <div class="entryheadline">
                <li>
                  <p>
                    <a id="pgf.back/pgfkeysgetvalue"></a>
                    <span class="hl-def"
                      ><span class="declare"><kbd>\pgfkeysgetvalue</kbd></span
                      >{<span class="angle">&langle;</span><i>full key</i
                      ><span class="angle">&rangle;</span>}{<span class="angle"
                        >&langle;</span
                      ><i>macro</i><span class="angle">&rangle;</span>}</span
                    >
                    <a
                      class="anchor-link"
                      data-html-link="pgf.back/pgfkeysgetvalue"
                      href="#\pgfkeysgetvalue"
                      id="\pgfkeysgetvalue"
                      >&para;</a
                    >
                  </p>
                </li>
              </div>
              <p>
                Retrieves the tokens stored in the
                <span class="angle">&langle;</span><i>full key</i
                ><span class="angle">&rangle;</span> and lets
                <span class="angle">&langle;</span><i>macro</i
                ><span class="angle">&rangle;</span> be equal to these tokens.
                If the key has not been set, the
                <span class="angle">&langle;</span><i>macro</i
                ><span class="angle">&rangle;</span> will be equal to
                <span class="verb">\relax</span>.
              </p>

              <figure class="example">
                <div class="example-image">
                  <p>Hello, world!</p>
                </div>

                <div class="example-code">
                  <button class="clipboardButton" type="button">copy</button>
                  <code>
                    <br />
                    <span class="textcolor" style="color: #0000b2"
                      ><a href="pgfkeys#pgf.back/pgfkeyssetvalue"
                        >\pgfkeyssetvalue</a
                      ></span
                    >{<span class="textcolor" style="color: #000000">/my</span>
                    <span class="textcolor" style="color: #000000"
                      >family/my</span
                    >
                    <span class="textcolor" style="color: #000000">key</span
                    >}{<span class="textcolor" style="color: #000000"
                      >Hello</span
                    >, <span class="textcolor" style="color: #000000"
                      >world!</span
                    >}<br />
                    <span class="textcolor" style="color: #0000b2"
                      ><a href="pgfkeys#pgf.back/pgfkeysgetvalue"
                        >\pgfkeysgetvalue</a
                      ></span
                    >{<span class="textcolor" style="color: #000000">/my</span>
                    <span class="textcolor" style="color: #000000"
                      >family/my</span
                    >
                    <span class="textcolor" style="color: #000000">key</span
                    >}{<span class="textcolor" style="color: #0000b2"
                      >\helloworld</span
                    >}<br />
                    <span class="textcolor" style="color: #0000b2"
                      >\helloworld</span
                    ><br />
                  </code>
                </div>
              </figure>
              <p></p>
            </ul>
          </div>

          <div class="manualentry">
            <ul class="list" style="list-style-type: none">
              <div class="entryheadline">
                <li>
                  <p>
                    <a id="pgf.back/pgfkeysvalueof"></a>
                    <span class="hl-def"
                      ><span class="declare"><kbd>\pgfkeysvalueof</kbd></span
                      >{<span class="angle">&langle;</span><i>full key</i
                      ><span class="angle">&rangle;</span>}</span
                    >
                    <a
                      class="anchor-link"
                      data-html-link="pgf.back/pgfkeysvalueof"
                      href="#\pgfkeysvalueof"
                      id="\pgfkeysvalueof"
                      >&para;</a
                    >
                  </p>
                </li>
              </div>
              <p>
                Inserts the value stored in <span class="angle">&langle;</span
                ><i>full key</i><span class="angle">&rangle;</span> at the
                current position into the text. It expands to an alias of the
                primitive <span class="verb">\relax</span> if the key is
                undefined.
              </p>

              <figure class="example">
                <div class="example-image">
                  <p>Hello, world!</p>
                </div>

                <div class="example-code">
                  <button class="clipboardButton" type="button">copy</button>
                  <code>
                    <br />
                    <span class="textcolor" style="color: #0000b2"
                      ><a href="pgfkeys#pgf.back/pgfkeyssetvalue"
                        >\pgfkeyssetvalue</a
                      ></span
                    >{<span class="textcolor" style="color: #000000">/my</span>
                    <span class="textcolor" style="color: #000000"
                      >family/my</span
                    >
                    <span class="textcolor" style="color: #000000">key</span
                    >}{<span class="textcolor" style="color: #000000"
                      >Hello</span
                    >, <span class="textcolor" style="color: #000000"
                      >world!</span
                    >}<br />
                    <span class="textcolor" style="color: #0000b2"
                      ><a href="pgfkeys#pgf.back/pgfkeysvalueof"
                        >\pgfkeysvalueof</a
                      ></span
                    >{<span class="textcolor" style="color: #000000">/my</span>
                    <span class="textcolor" style="color: #000000"
                      >family/my</span
                    >
                    <span class="textcolor" style="color: #000000">key</span
                    >}<br />
                  </code>
                </div>
              </figure>
              <p>
                <em>Note:</em> It is an error to assign to the result of the
                expansion of <span class="verb">\pgfkeysvalueof</span>, not only
                semantically but in recent versions of
                <span class="textsc">pgf</span> also logically. To set the value
                of a key <em>always</em> use the appropriate interfaces, e.g.
                <span class="verb">\pgfkeyssetvalue</span>.
              </p>
            </ul>
          </div>

          <div class="manualentry">
            <ul class="list" style="list-style-type: none">
              <div class="entryheadline">
                <li>
                  <p>
                    <a id="pgf.back/pgfkeysifdefined"></a>
                    <span class="hl-def"
                      ><span class="declare"><kbd>\pgfkeysifdefined</kbd></span
                      >{<span class="angle">&langle;</span><i>full key</i
                      ><span class="angle">&rangle;</span>}{<span class="angle"
                        >&langle;</span
                      ><i>if</i><span class="angle">&rangle;</span>}{<span
                        class="angle"
                        >&langle;</span
                      ><i>else</i><span class="angle">&rangle;</span>}</span
                    >
                    <a
                      class="anchor-link"
                      data-html-link="pgf.back/pgfkeysifdefined"
                      href="#\pgfkeysifdefined"
                      id="\pgfkeysifdefined"
                      >&para;</a
                    >
                  </p>
                </li>
              </div>
              <p>
                Checks whether this key was previously set using either
                <span class="verb">\pgfkeyssetvalue</span> or
                <span class="verb">\pgfkeyslet</span>. If so, the code in
                <span class="angle">&langle;</span><i>if</i
                ><span class="angle">&rangle;</span> is executed, otherwise the
                code in <span class="angle">&langle;</span><i>else</i
                ><span class="angle">&rangle;</span>.
              </p>

              <figure class="example">
                <div class="example-image">
                  <p>yes</p>
                </div>

                <div class="example-code">
                  <button class="clipboardButton" type="button">copy</button>
                  <code>
                    <br />
                    <span class="textcolor" style="color: #0000b2"
                      ><a href="pgfkeys#pgf.back/pgfkeyssetvalue"
                        >\pgfkeyssetvalue</a
                      ></span
                    >{<span class="textcolor" style="color: #000000">/my</span>
                    <span class="textcolor" style="color: #000000"
                      >family/my</span
                    >
                    <span class="textcolor" style="color: #000000">key</span
                    >}{<span class="textcolor" style="color: #000000"
                      >Hello</span
                    >, <span class="textcolor" style="color: #000000"
                      >world!</span
                    >}<br />
                    <span class="textcolor" style="color: #0000b2"
                      ><a href="pgfkeys#pgf.back/pgfkeysifdefined"
                        >\pgfkeysifdefined</a
                      ></span
                    >{<span class="textcolor" style="color: #000000">/my</span>
                    <span class="textcolor" style="color: #000000"
                      >family/my</span
                    >
                    <span class="textcolor" style="color: #000000">key</span
                    >}{<span class="textcolor" style="color: #000000">yes</span
                    >}{<span class="textcolor" style="color: #000000">no</span
                    >}<br />
                  </code>
                </div>
              </figure>
              <p></p>
            </ul>
          </div>
          <h5 id="autosec-7521">
            <span
              ><span class="sectionnumber" id="sec-87.3">87.3</span> Setting
              Keys</span
            ><a
              class="anchor-link"
              data-html-link="sec-87.3"
              data-pdf-destination="subsection.87.3"
              data-pdf-page="978"
              href="#sec-87.3"
              >&para;</a
            >
          </h5>
          <a id="pgfmanual-autopage-7521"></a>

          <p>
            Setting keys is done using a powerful command called
            <span class="verb">\pgfkeys</span>. This command takes a list of
            so-called <em>key&ndash;value pairs</em>. These are pairs of the
            form <span class="angle">&langle;</span><i>key</i
            ><span class="angle">&rangle;</span><span class="verb">=</span
            ><span class="angle">&langle;</span><i>value</i
            ><span class="angle">&rangle;</span>. The principal idea is the
            following: For each pair in the list, some <em>action</em> is taken.
            This action can be one of the following:
          </p>
          <ul class="enumerate" style="list-style-type: none">
            <li>
              <p>
                <span class="listmarker">1.</span> A command is executed whose
                argument(s) are <span class="angle">&langle;</span><i>value</i
                ><span class="angle">&rangle;</span>. This command is stored in
                a special subkey of <span class="angle">&langle;</span><i>key</i
                ><span class="angle">&rangle;</span>.
              </p>
            </li>
            <li>
              <p>
                <span class="listmarker">2.</span> The
                <span class="angle">&langle;</span><i>value</i
                ><span class="angle">&rangle;</span> is stored in the
                <span class="angle">&langle;</span><i>key</i
                ><span class="angle">&rangle;</span> itself.
              </p>
            </li>
            <li>
              <p>
                <span class="listmarker">3.</span> If the key&rsquo;s name (the
                part after the last slash) is a known <em>handler</em>, then
                this handler will take care of the key.
              </p>
            </li>
            <li>
              <p>
                <span class="listmarker">4.</span> If the key is totally
                unknown, one of several possible
                <em>unknown key handlers</em> is called.
              </p>
            </li>
          </ul>

          <p>
            Additionally, if the <span class="angle">&langle;</span><i>value</i
            ><span class="angle">&rangle;</span> is missing, a default value may
            or may not be substituted. Before we plunge into all the details,
            let us have a quick look at the command itself.
          </p>

          <div class="manualentry">
            <ul class="list" style="list-style-type: none">
              <div class="entryheadline">
                <li>
                  <p>
                    <a id="pgf.back/pgfkeys"></a>
                    <span class="hl-def"
                      ><span class="declare"><kbd>\pgfkeys</kbd></span
                      >{<span class="angle">&langle;</span><i>key list</i
                      ><span class="angle">&rangle;</span>}</span
                    >
                    <a
                      class="anchor-link"
                      data-html-link="pgf.back/pgfkeys"
                      href="#\pgfkeys"
                      id="\pgfkeys"
                      >&para;</a
                    >
                  </p>
                </li>
              </div>
              <p>
                The <span class="angle">&langle;</span><i>key list</i
                ><span class="angle">&rangle;</span> should be a list of
                key&ndash;value pairs, separated by commas. A key&ndash;value
                pair can have the following two forms:
                <span class="angle">&langle;</span><i>key</i
                ><span class="angle">&rangle;</span><span class="verb">=</span
                ><span class="angle">&langle;</span><i>value</i
                ><span class="angle">&rangle;</span> or just
                <span class="angle">&langle;</span><i>key</i
                ><span class="angle">&rangle;</span>. Any spaces around the
                <span class="angle">&langle;</span><i>key</i
                ><span class="angle">&rangle;</span> or around the
                <span class="angle">&langle;</span><i>value</i
                ><span class="angle">&rangle;</span> are removed. It is
                permissible to surround both the
                <span class="angle">&langle;</span><i>key</i
                ><span class="angle">&rangle;</span> or the
                <span class="angle">&langle;</span><i>value</i
                ><span class="angle">&rangle;</span> in curly braces, which are
                also removed. Especially putting the
                <span class="angle">&langle;</span><i>value</i
                ><span class="angle">&rangle;</span> in curly braces needs to be
                done quite often, namely whenever the
                <span class="angle">&langle;</span><i>value</i
                ><span class="angle">&rangle;</span> contains an equal-sign or a
                comma.
              </p>
              <p>
                The key&ndash;value pairs in the list are handled in the order
                they appear. How this handling is done, exactly, is described in
                the rest of this section.
              </p>
              <p>
                If a <span class="angle">&langle;</span><i>key</i
                ><span class="angle">&rangle;</span> is a partial key, the
                current value of the default path is prefixed to the
                <span class="angle">&langle;</span><i>key</i
                ><span class="angle">&rangle;</span> and this
                &ldquo;upgraded&rdquo; key is then used. The default path is
                just the root path <span class="verb">/</span> when the first
                key is handled, but it may change later on. At the end of the
                command, the default path is reset to the value it had before
                this command was executed.
              </p>
              <p>
                Calls of this command may be nested. Thus, it is permissible to
                call <span class="verb">\pgfkeys</span> inside the code that is
                executed for a key. Since the default path is restored after a
                call of <span class="verb">\pgfkeys</span>, the default path
                will not change when you call
                <span class="verb">\pgfkeys</span> while executing code for a
                key (which is exactly what you want).
              </p>
            </ul>
          </div>

          <div class="manualentry">
            <ul class="list" style="list-style-type: none">
              <div class="entryheadline">
                <li>
                  <p>
                    <a id="pgf.back/pgfqkeys"></a>
                    <span class="hl-def"
                      ><span class="declare"><kbd>\pgfqkeys</kbd></span
                      >{<span class="angle">&langle;</span><i>default path</i
                      ><span class="angle">&rangle;</span>}{<span class="angle"
                        >&langle;</span
                      ><i>key list</i><span class="angle">&rangle;</span>}</span
                    >
                    <a
                      class="anchor-link"
                      data-html-link="pgf.back/pgfqkeys"
                      href="#\pgfqkeys"
                      id="\pgfqkeys"
                      >&para;</a
                    >
                  </p>
                </li>
              </div>
              <p>
                This command has the same effect as
                <span class="verb">\pgfkeys{</span
                ><span class="angle">&langle;</span><i>default path</i
                ><span class="angle">&rangle;</span
                ><span class="verb">/.cd,</span
                ><span class="angle">&langle;</span><i>key list</i
                ><span class="angle">&rangle;</span><span class="verb">}</span>,
                it is only marginally quicker. This command should not be used
                in user code, but rather in commands like
                <span class="verb">\tikzset</span> or
                <span class="verb">\pgfset</span> that get called very often.
              </p>
            </ul>
          </div>

          <div class="manualentry">
            <ul class="list" style="list-style-type: none">
              <div class="entryheadline">
                <li>
                  <p>
                    <a id="pgf.back/pgfkeysalso"></a>
                    <span class="hl-def"
                      ><span class="declare"><kbd>\pgfkeysalso</kbd></span
                      >{<span class="angle">&langle;</span><i>key list</i
                      ><span class="angle">&rangle;</span>}</span
                    >
                    <a
                      class="anchor-link"
                      data-html-link="pgf.back/pgfkeysalso"
                      href="#\pgfkeysalso"
                      id="\pgfkeysalso"
                      >&para;</a
                    >
                  </p>
                </li>
              </div>
              <p>
                This command has exactly the same effect as
                <span class="verb">\pgfkeys</span>, only the default path is not
                modified before or after the keys are being set. This command is
                mainly intended to be called by the code that is being processed
                for a key.
              </p>
            </ul>
          </div>

          <div class="manualentry">
            <ul class="list" style="list-style-type: none">
              <div class="entryheadline">
                <li>
                  <p>
                    <a id="pgf.back/pgfqkeysalso"></a>
                    <span class="hl-def"
                      ><span class="declare"><kbd>\pgfqkeysalso</kbd></span
                      >{<span class="angle">&langle;</span><i>default path</i
                      ><span class="angle">&rangle;</span>}{<span class="angle"
                        >&langle;</span
                      ><i>key list</i><span class="angle">&rangle;</span>}</span
                    >
                    <a
                      class="anchor-link"
                      data-html-link="pgf.back/pgfqkeysalso"
                      href="#\pgfqkeysalso"
                      id="\pgfqkeysalso"
                      >&para;</a
                    >
                  </p>
                </li>
              </div>
              <p>
                This command has the same effect as
                <span class="verb">\pgfkeysalso{</span
                ><span class="angle">&langle;</span><i>default path</i
                ><span class="angle">&rangle;</span
                ><span class="verb">/.cd,</span
                ><span class="angle">&langle;</span><i>key list</i
                ><span class="angle">&rangle;</span><span class="verb">}</span>,
                it is only quicker. Changing the default path inside a
                <span class="verb">\pgfkeyalso</span> is dangerous, so use with
                care. A rather safe place to call this command is at the
                beginning of a
                <span class="latexlogofont"
                  ><span class="latexlogo"
                    >T<span class="latexlogosub">e</span>X</span
                  ></span
                >
                group.
              </p>
            </ul>
          </div>
          <h6 id="autosec-7522">
            <a id="sec:pgf:first:char:syntax"></a
            ><span
              ><span class="sectionnumber" id="sec-87.3.1">87.3.1</span> First
              Char Syntax Detection</span
            ><a
              class="anchor-link"
              data-html-link="sec-87.3.1"
              data-pdf-destination="subsubsection.87.3.1"
              data-pdf-page="978"
              href="#sec-87.3.1"
              >&para;</a
            >
          </h6>
          <a id="pgfmanual-autopage-7522"></a>

          <p>
            Usually, keys are of the form <span class="angle">&langle;</span
            ><i>key</i><span class="angle">&rangle;</span
            ><span class="verb">=</span><span class="angle">&langle;</span
            ><i>value</i><span class="angle">&rangle;</span> and how such keys
            are handled is discussed in the rest of this section. However, it is
            also possible to setup a different syntax for certain parts of the
            input to <span class="verb">\pgfkeys</span>. Since this is a rather
            advanced option, most readers may wish to skip the following
            discussion upon first reading; it is discussed here because this
            special syntax detection is the very first thing that is done when a
            key is processed, before any of the following operations are
            performed.
          </p>

          <p>
            The <span class="verb">\pgfkeys</span> command and its variants
            decompose their input into a list of
            <span class="angle">&langle;</span><i>string</i
            ><span class="angle">&rangle;</span>s that are separated by commas.
            By default, each such <span class="angle">&langle;</span
            ><i>string</i><span class="angle">&rangle;</span> must either have
            the form <span class="angle">&langle;</span><i>key</i
            ><span class="angle">&rangle;</span><span class="verb">=</span
            ><span class="angle">&langle;</span><i>value</i
            ><span class="angle">&rangle;</span> or of the form
            <span class="angle">&langle;</span><i>key</i
            ><span class="angle">&rangle;</span> with the value-part missing.
            However, you might wish to interpret some of these strings
            differently. For instance, when a <span class="angle">&langle;</span
            ><i>string</i><span class="angle">&rangle;</span> has the form
            <span class="verb">"</span><span class="angle">&langle;</span
            ><i>text</i><span class="angle">&rangle;</span
            ><span class="verb">"</span>, you might wish the
            <span class="angle">&langle;</span><i>string</i
            ><span class="angle">&rangle;</span> to be interpreted as if one had
            written <span class="verb">label text={</span
            ><span class="angle">&langle;</span><i>text</i
            ><span class="angle">&rangle;</span><span class="verb">}</span>.
            Then, people could write
          </p>

          <figure class="example">
            <div class="example-code">
              <button class="clipboardButton" type="button">copy</button>

              <code>
                <br />
                <span class="textcolor" style="color: #0000b2">\myset</span
                >{<span class="textcolor" style="color: #000000">red</span
                >, <span class="textcolor" style="color: #000000"
                  >"main</span
                >
                <span class="textcolor" style="color: #000000">valve"</span
                >, <span class="textcolor" style="color: #000000"
                  ><a href="tikz-actions#pgf.thick">thick</a></span
                >}<br />
              </code>
            </div>
          </figure>

          <p>instead of the more cumbersome</p>

          <figure class="example">
            <div class="example-code">
              <button class="clipboardButton" type="button">copy</button>

              <code>
                <br />
                <span class="textcolor" style="color: #0000b2">\myset</span
                >{<span class="textcolor" style="color: #000000">red</span
                >, <span class="textcolor" style="color: #000000"
                  ><a href="tikz-shapes#pgf.label">label</a></span
                >
                <span class="textcolor" style="color: #000000">text=main</span>
                <span class="textcolor" style="color: #000000">valve</span
                >, <span class="textcolor" style="color: #000000"
                  ><a href="tikz-actions#pgf.thick">thick</a></span
                >}<br />
              </code>
            </div>
          </figure>

          <p>
            An example where such a syntax reinterpretation is done is the
            <span class="verb">quotes</span> library, which allows you to write
            things like
          </p>

          <figure class="example">
            <div class="example-image">
              <p>
                <span class="lateximagesource" id="lateximage-pgfmanual-3089"
                  ><!--
    1 0
a b c
--><img
                    alt="(-tikz-&nbsp;diagram)"
                    class="lateximage"
                    height="20.859"
                    loading="lazy"
                    src="pgfmanual-images/image-3089.png"
                    style
                    width="84.554"
                /></span>
              </p>
            </div>

            <div class="example-code">
              <button class="clipboardButton" type="button">copy</button>

              <code>
                <span class="codepreamble"
                  >\usetikzlibrary {graphs,quotes} </span
                ><br />
                <span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-scopes#pgf.back/tikz">\tikz</a></span
                > <span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-graphs#pgf.back/graph">\graph</a></span
                > {<span class="spaces"> </span><span class="textcolor" style="color: #000000"
                  >a</span
                >
                <span class="textcolor" style="color: #000000"
                  ><a href="tikz-graphs#pgf.-&gt;">-&gt;</a></span
                >[<span class="textcolor" style="color: #008000">"1" red</span
                >] <span class="textcolor" style="color: #000000">b</span>
                <span class="textcolor" style="color: #000000"
                  ><a href="tikz-graphs#pgf.-&gt;">-&gt;</a></span
                >[<span class="textcolor" style="color: #008000">"0"</span
                >] <span class="textcolor" style="color: #000000">c</span>
                };<br />
              </code>
            </div>
          </figure>

          <p>instead of the somewhat longer</p>

          <figure class="example">
            <div class="example-image">
              <p>
                <span class="lateximagesource" id="lateximage-pgfmanual-3090"
                  ><!--
    1 0
a b c
--><img
                    alt="(-tikz-&nbsp;diagram)"
                    class="lateximage"
                    height="20.859"
                    loading="lazy"
                    src="pgfmanual-images/image-3090.png"
                    style
                    width="84.554"
                /></span>
              </p>
            </div>

            <div class="example-code">
              <button class="clipboardButton" type="button">copy</button>

              <code>
                <span class="codepreamble">\usetikzlibrary {graphs} </span
                ><br />
                <span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-scopes#pgf.back/tikz">\tikz</a></span
                > <span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-graphs#pgf.back/graph">\graph</a></span
                > {<span class="spaces"> </span><span class="textcolor" style="color: #000000"
                  >a</span
                >
                <span class="textcolor" style="color: #000000"
                  ><a href="tikz-graphs#pgf.-&gt;">-&gt;</a></span
                >[<span class="textcolor" style="color: #008000"
                  ><a href="tikz-paths#pgf.edge:node">edge node</a></span
                >=<span class="textcolor" style="color: #008000"
                  >{<a href="tikz-coordinates#pgf.node">node</a>[<span
                    class="textcolor"
                    style="color: #008000"
                    >red</span
                  >,<span class="textcolor" style="color: #008000"
                    ><a href="tikz-shapes#pgf.auto">auto</a></span
                  >]{1}}</span
                >] <span class="textcolor" style="color: #000000">b</span>
                <span class="textcolor" style="color: #000000"
                  ><a href="tikz-graphs#pgf.-&gt;">-&gt;</a></span
                >[<span class="textcolor" style="color: #008000"
                  ><a href="tikz-paths#pgf.edge:label">edge label</a></span
                >=<span class="textcolor" style="color: #008000">0</span
                >] <span class="textcolor" style="color: #000000">c</span>
                };<br />
              </code>
            </div>
          </figure>

          <p>
            In order to detect whether a <span class="angle">&langle;</span
            ><i>string</i><span class="angle">&rangle;</span> has a special
            syntax, you can request that the <em>first character</em> of
            <span class="angle">&langle;</span><i>string</i
            ><span class="angle">&rangle;</span> is analysed by the key parser.
            If this first character matches a character that has been flagged as
            a special character, the <span class="angle">&langle;</span
            ><i>string</i><span class="angle">&rangle;</span> is not interpreted
            as a usual key&ndash;value pair. Instead,
            <span class="angle">&langle;</span><i>string</i
            ><span class="angle">&rangle;</span> is passed as a parameter to a
            special macro that should take care of the
            <span class="angle">&langle;</span><i>string</i
            ><span class="angle">&rangle;</span>. After this macro has finished,
            the parsing continues with the <span class="angle">&langle;</span
            ><i>next string</i><span class="angle">&rangle;</span> in the list.
          </p>

          <p>
            In order to setup a special syntax handling for
            <span class="angle">&langle;</span><i>strings</i
            ><span class="angle">&rangle;</span> that begin with a certain
            character, two things need to be done:
          </p>
          <ul class="enumerate" style="list-style-type: none">
            <li>
              <p>
                <span class="listmarker">1.</span> First, the whole
                <span class="verb">first char syntax</span> detection must be
                &ldquo;switched on&rdquo;, since, by default, it is turned off
                for efficiency reasons (the overhead is rather small, however).
                This is done by setting the following key:
              </p>

              <div class="manualentry">
                <ul class="enumerate" style="list-style-type: none">
                  <div class="entryheadline">
                    <li>
                      <p>
                        <a id="pgf./handlers/first:char:syntax"></a
                        ><a id="pgf.first:char:syntax"></a>
                        <span class="hl-def"
                          ><kbd
                            ><span class="keyname"
                              ><span class="declare"
                                >/handlers/first char syntax</span
                              ></span
                            ><span class="textcolor" style="color: #008000"
                              >=</span
                            ></kbd
                          ><span class="textcolor" style="color: #008000"
                            ><span class="textcolor" style="color: #008000"
                              ><span class="angle">&langle;</span
                              ><i>true or false</i
                              ><span class="angle">&rangle;</span></span
                            >
                          </span></span
                        ><span class="hl-default"
                          >(default <kbd>true, initially false</kbd>)</span
                        >
                        <a
                          class="anchor-link"
                          data-html-link="pgf./handlers/first:char:syntax"
                          href="#handlers/first:char:syntax"
                          id="handlers/first:char:syntax"
                          >&para;</a
                        >
                      </p>
                    </li>
                  </div>
                  <p></p>
                </ul>
              </div>
            </li>
            <li>
              <p>
                <span class="listmarker">2.</span> Second, in order to handle
                strings starting with a certain
                <span class="angle">&langle;</span><i>character</i
                ><span class="angle">&rangle;</span> in a special way, you need
                to store a macro in the following key:
              </p>

              <div class="manualentry">
                <ul class="enumerate" style="list-style-type: none">
                  <div class="entryheadline">
                    <li>
                      <p>
                        <a
                          id="pgf./handlers/first:char:syntax/meta(meaning:of:character)"
                        ></a
                        ><a id="pgf.meta(meaning:of:character)"></a>
                        <span class="hl-def"
                          ><kbd
                            ><span class="keyname"
                              ><span class="declare"
                                >/handlers/first char syntax/<span class="angle"
                                  >&langle;</span
                                ><i>meaning of character</i
                                ><span class="angle">&rangle;</span></span
                              ></span
                            ></kbd
                          ></span
                        ><span class="hl-default">(no value)</span>
                        <a
                          class="anchor-link"
                          data-html-link="pgf./handlers/first:char:syntax/meta(meaning:of:character)"
                          href="#handlers/first:char:syntax/meta(meaning:of:character)"
                          id="handlers/first:char:syntax/meta(meaning:of:character)"
                          >&para;</a
                        >
                      </p>
                    </li>
                  </div>
                  <p>
                    The <span class="angle">&langle;</span
                    ><i>meaning of character</i
                    ><span class="angle">&rangle;</span> should be the text that
                    <span class="latexlogofont"
                      ><span class="latexlogo"
                        >T<span class="latexlogosub">e</span>X</span
                      ></span
                    >&rsquo;s command <span class="verb">\meaning</span> returns
                    for a macro that has been <span class="verb">\let</span> to
                    the <span class="angle">&langle;</span><i>character</i
                    ><span class="angle">&rangle;</span>. For instance, when
                    strings starting with <span class="verb">"</span> should be
                    treated in a special way, the
                    <span class="angle">&langle;</span
                    ><i>meaning of character</i
                    ><span class="angle">&rangle;</span> would be the string
                    <span class="verb">the character "</span> since this is what
                    <span class="latexlogofont"
                      ><span class="latexlogo"
                        >T<span class="latexlogosub">e</span>X</span
                      ></span
                    >
                    writes when you say
                  </p>

                  <figure class="example">
                    <div class="example-image">
                      <p>the character &rdquo;</p>
                    </div>

                    <div class="example-code">
                      <button class="clipboardButton" type="button">
                        copy
                      </button>
                      <code>
                        <br />
                        <span class="textcolor" style="color: #0000b2"
                          >\let</span
                        ><span class="textcolor" style="color: #0000b2"
                          >\mycharacter</span
                        ><span class="textcolor" style="color: #000000">="</span
                        ><br />
                        <span class="textcolor" style="color: #0000b2"
                          >\meaning</span
                        ><span class="textcolor" style="color: #0000b2"
                          >\mycharacter</span
                        ><br />
                      </code>
                    </div>
                  </figure>
                  <p>
                    Now, the key
                    <span class="verb">/handlers/first char syntax/</span
                    ><span class="angle">&langle;</span
                    ><i>meaning of character</i
                    ><span class="angle">&rangle;</span> should be setup (using
                    <span class="verb">\pgfkeyssetvalue</span> or using the
                    <span class="verb">.initial</span> handler) to store a
                    <span class="angle">&langle;</span><i>macro name</i
                    ><span class="angle">&rangle;</span>.
                  </p>
                  <p>
                    If this is the case and if
                    <span class="angle">&langle;</span><i>string</i
                    ><span class="angle">&rangle;</span> starts with the
                    <span class="angle">&langle;</span><i>character</i
                    ><span class="angle">&rangle;</span> (blanks at the
                    beginning of <span class="angle">&langle;</span><i>string</i
                    ><span class="angle">&rangle;</span> are deleted prior to
                    this test), then <span class="angle">&langle;</span
                    ><i>macro name</i><span class="angle">&rangle;</span> is
                    called with <span class="angle">&langle;</span><i>string</i
                    ><span class="angle">&rangle;</span> as its argument.
                  </p>
                </ul>
              </div>
            </li>
          </ul>

          <p>
            Let us now have a look at an example. We install two handlers, one
            for strings starting with <span class="verb">"</span> and one for
            strings starting with <span class="verb">&lt;</span>.
          </p>

          <figure class="example">
            <div class="example-image">
              <p>
                <span class="lateximagesource" id="lateximage-pgfmanual-3091"
                  ><!--
Quoted: "foo". Pointed: <bar>.
--><img
                    alt="(image)"
                    class="lateximage"
                    height="12.723"
                    loading="lazy"
                    src="pgfmanual-images/image-3091.png"
                    style
                    width="208.610"
                /></span>
              </p>
            </div>

            <div class="example-code">
              <button class="clipboardButton" type="button">copy</button>

              <code>
                <br />
                <span class="textcolor" style="color: #000000"
                  ><a href="pgfkeys#pgf.back/pgfkeys">\pgfkeys</a></span
                >{<span class="textcolor" style="color: #000000"
                  ><br />
                  <span class="spaces">  </span><span class="textcolor" style="color: #008000"
                    ><a href="pgfkeys#pgf./handlers/first:char:syntax"
                      >/handlers/first char syntax</a
                    ></span
                  >=<span class="textcolor" style="color: #008000"
                    ><a href="pgfkeys#pgf.true">true</a></span
                  >,<br />
                  <span class="spaces">  </span><span class="textcolor" style="color: #008000"
                    >/handlers/first char syntax/the character "</span
                  >/<span class="textcolor" style="color: #0000b2"
                    ><a href="pgfkeys#pgf./handlers/.initial">.initial</a></span
                  >=<span class="textcolor" style="color: #008000"
                    ><span class="textcolor" style="color: #0000b2"
                      >\myquotemacro</span
                    ></span
                  >,<br />
                  <span class="spaces">  </span><span class="textcolor" style="color: #008000"
                    >/handlers/first char syntax/the character &lt;</span
                  >/<span class="textcolor" style="color: #0000b2"
                    ><a href="pgfkeys#pgf./handlers/.initial">.initial</a></span
                  >=<span class="textcolor" style="color: #008000"
                    ><span class="textcolor" style="color: #0000b2"
                      >\mypointedmacro</span
                    ></span
                  >,<br /> </span
                >}<br />
                <br />
                <span class="textcolor" style="color: #0000b2">\def</span
                ><span class="textcolor" style="color: #0000b2"
                  >\myquotemacro</span
                ><span class="textcolor" style="color: #000000">#1</span>{<span
                  class="textcolor"
                  style="color: #000000"
                  >Quoted:</span
                >
                <span class="textcolor" style="color: #000000">#1</span
                >.<span class="spaces"> </span>}<br />
                <span class="textcolor" style="color: #0000b2">\def</span
                ><span class="textcolor" style="color: #0000b2"
                  >\mypointedmacro</span
                ><span class="textcolor" style="color: #000000">#1</span>{<span
                  class="textcolor"
                  style="color: #000000"
                  >Pointed:</span
                >
                <span class="textcolor" style="color: #000000">#1</span
                >.<span class="spaces"> </span>}<br />
                <br />
                <span class="textcolor" style="color: #0000b2">\ttfamily</span
                > <span class="textcolor" style="color: #000000"
                  ><a href="pgfkeys#pgf.back/pgfkeys">\pgfkeys</a></span
                >{<span class="textcolor" style="color: #000000"
                  ><span class="textcolor" style="color: #008000">"foo"</span
                  >, <span class="textcolor" style="color: #008000"
                    ><bar></bar></span></span
                >}<br />
              </code>
            </div>
          </figure>

          <p>
            Naturally, in the above examples, the two handling macros did not do
            something particularly exciting. In the next example, we setup a
            more elaborate macro that mimics a small part the behavior of the
            <span class="verb">quotes</span>
            library, only for single quotes:
          </p>

          <figure class="example">
            <div class="example-image">
              <p>
                <span class="lateximagesource" id="lateximage-pgfmanual-3092"
                  ><!--
â€™fooâ€™

bar
--><img
                    alt="(-tikz-&nbsp;diagram)"
                    class="lateximage"
                    height="53.283"
                    loading="lazy"
                    src="pgfmanual-images/image-3092.png"
                    style
                    width="39.219"
                /></span>
              </p>
            </div>

            <div class="example-code">
              <button class="clipboardButton" type="button">copy</button>

              <code>
                <br />
                <span class="textcolor" style="color: #000000"
                  ><a href="pgfkeys#pgf.back/pgfkeys">\pgfkeys</a></span
                >{<span class="textcolor" style="color: #000000"
                  ><br />
                  <span class="spaces">  </span><span class="textcolor" style="color: #008000"
                    ><a href="pgfkeys#pgf./handlers/first:char:syntax"
                      >/handlers/first char syntax</a
                    ></span
                  >=<span class="textcolor" style="color: #008000"
                    ><a href="pgfkeys#pgf.true">true</a></span
                  >,<br />
                  <span class="spaces">  </span><span class="textcolor" style="color: #008000"
                    >/handlers/first char syntax/the character '</span
                  >/<span class="textcolor" style="color: #0000b2"
                    ><a href="pgfkeys#pgf./handlers/.initial">.initial</a></span
                  >=<span class="textcolor" style="color: #008000"
                    ><span class="textcolor" style="color: #0000b2"
                      >\mysinglequotemacro</span
                    ><br /> </span></span
                >}<br />
                <br />
                <span class="textcolor" style="color: #0000b2">\def</span
                ><span class="textcolor" style="color: #0000b2"
                  >\mysinglequotemacro</span
                ><span class="textcolor" style="color: #000000">#1</span>{<span
                  class="textcolor"
                  style="color: #0000b2"
                  ><a href="pgfkeys#pgf.back/pgfkeysalso">\pgfkeysalso</a></span
                >{<span class="textcolor" style="color: #000000">label=</span
                >{<span class="textcolor" style="color: #000000">#1</span
                >}}}<br />
                <br />
                <span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-scopes#pgf.back/tikz">\tikz</a></span
                > <span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-shapes#pgf.back/node">\node</a></span
                > [<span class="textcolor" style="color: #008000"
                  ><a href="tikz-paths#pgf.circle">circle</a></span
                >, <span class="textcolor" style="color: #008000"
                  >'foo'</span
                >, <span class="textcolor" style="color: #008000"
                  ><a href="tikz-actions#pgf.draw">draw</a></span
                >] {<span class="textcolor" style="color: #000000"
                  >bar</span
                >};<br />
              </code>
            </div>
          </figure>

          <p>
            Note that in the above example, the macro
            <span class="verb">\mysinglequotemacro</span> gets passed the
            complete string, including the single quotes. It is the job of the
            macro to get rid of them, if this is necessary.
          </p>

          <p>
            The first char syntax detection allows you to perform rather
            powerful transformations on the syntax of keys &ndash; provided you
            can &ldquo;pin down&rdquo; the syntax on the first character. In the
            following example, you can write expressions in parentheses in front
            of a key&ndash;value pair and the pair will only be executed when
            the expression evaluates to true:
          </p>

          <figure class="example">
            <div class="example-image">
              <p>
                <span class="lateximagesource" id="lateximage-pgfmanual-3093"
                  ><!--
x
--><img
                    alt="(-tikz-&nbsp;diagram)"
                    class="lateximage"
                    height="26.211"
                    loading="lazy"
                    src="pgfmanual-images/image-3093.png"
                    style
                    width="26.211" /></span
                ><span class="lateximagesource" id="lateximage-pgfmanual-3094"
                  ><!--
x
--><img
                    alt="(-tikz-&nbsp;diagram)"
                    class="lateximage"
                    height="26.211"
                    loading="lazy"
                    src="pgfmanual-images/image-3094.png"
                    style
                    width="26.211" /></span
                ><span class="lateximagesource" id="lateximage-pgfmanual-3095"
                  ><!--
x
--><img
                    alt="(-tikz-&nbsp;diagram)"
                    class="lateximage"
                    height="26.211"
                    loading="lazy"
                    src="pgfmanual-images/image-3095.png"
                    style
                    width="26.211" /></span
                ><span class="lateximagesource" id="lateximage-pgfmanual-3096"
                  ><!--
x
--><img
                    alt="(-tikz-&nbsp;diagram)"
                    class="lateximage"
                    height="18.483"
                    loading="lazy"
                    src="pgfmanual-images/image-3096.png"
                    style
                    width="20.647"
                /></span>
              </p>
            </div>

            <div class="example-code">
              <button class="clipboardButton" type="button">copy</button>

              <code>
                <br />
                <span class="textcolor" style="color: #000000"
                  ><a href="pgfkeys#pgf.back/pgfkeys">\pgfkeys</a></span
                >{<span class="textcolor" style="color: #000000"
                  ><br />
                  <span class="spaces">  </span><span class="textcolor" style="color: #008000"
                    ><a href="pgfkeys#pgf./handlers/first:char:syntax"
                      >/handlers/first char syntax</a
                    ></span
                  >=<span class="textcolor" style="color: #008000"
                    ><a href="pgfkeys#pgf.true">true</a></span
                  >,<br />
                  <span class="spaces">  </span><span class="textcolor" style="color: #008000"
                    >/handlers/first char syntax/the character (</span
                  >/<span class="textcolor" style="color: #0000b2"
                    ><a href="pgfkeys#pgf./handlers/.initial">.initial</a></span
                  >=<span class="textcolor" style="color: #008000"
                    ><span class="textcolor" style="color: #0000b2"
                      >\myparamacro</span
                    ><br /> </span></span
                >}<br />
                <br />
                <span class="textcolor" style="color: #0000b2">\def</span
                ><span class="textcolor" style="color: #0000b2"
                  >\myparamacro</span
                ><span class="textcolor" style="color: #000000">#1</span>{<span
                  class="textcolor"
                  style="color: #0000b2"
                  >\myparaparser</span
                ><span class="textcolor" style="color: #000000">#1</span
                ><span class="textcolor" style="color: #0000b2"
                  >\someendtext</span
                >}<br />
                <span class="textcolor" style="color: #0000b2">\def</span
                ><span class="textcolor" style="color: #0000b2"
                  >\myparaparser</span
                ><span class="textcolor" style="color: #800080">(#1)</span
                ><span class="textcolor" style="color: #000000">#2</span
                ><span class="textcolor" style="color: #0000b2"
                  >\someendtext</span
                >{<br />
                <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                  ><a href="math-parsing#pgf.back/pgfmathparse"
                    >\pgfmathparse</a
                  ></span
                >{<span class="textcolor" style="color: #000000">#1</span
                >}<br />
                <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                  >\ifx</span
                ><span class="textcolor" style="color: #0000b2"
                  >\pgfmathresult</span
                ><span class="textcolor" style="color: #0000b2">\onetext</span
                ><br />
                <span class="spaces">    </span><span
                  class="textcolor"
                  style="color: #0000b2"
                  ><a href="pgfkeys#pgf.back/pgfkeysalso">\pgfkeysalso</a></span
                >{<span class="textcolor" style="color: #000000">#2</span
                >}<br />
                <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                  >\fi</span
                ><br />
                }<br />
                <span class="textcolor" style="color: #0000b2">\def</span
                ><span class="textcolor" style="color: #0000b2">\onetext</span
                >{<span class="textcolor" style="color: #000000">1</span>}<br />
                <br />
                <span class="textcolor" style="color: #0000b2"
                  ><a href="pgffor#pgf.back/foreach">\foreach</a></span
                > <span class="textcolor" style="color: #0000b2">\i</span
                > <span class="textcolor" style="color: #000000"
                  ><a href="library-edges#pgf.in">in</a></span
                >
                {<span class="textcolor" style="color: #000000">1</span
                >,...,<span class="textcolor" style="color: #000000">4</span
                >}<br />
                <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-scopes#pgf.back/tikz">\tikz</a></span
                > <span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-shapes#pgf.back/node">\node</a></span
                > [<span class="textcolor" style="color: #008000"
                  ><a href="tikz-actions#pgf.draw">draw</a></span
                >, <span class="textcolor" style="color: #008000"
                  ><a href="tikz-actions#pgf.thick">thick</a></span
                >, <span class="textcolor" style="color: #008000"
                  ><a href="tikz-paths#pgf.rectangle">rectangle</a></span
                >, <span class="textcolor" style="color: #008000"
                  >(pi&gt;</span
                ><span class="textcolor" style="color: #0000b2">\i</span
                ><span class="textcolor" style="color: #008000">) circle</span
                >, <span class="textcolor" style="color: #008000"
                  >(pi&gt;</span
                ><span class="textcolor" style="color: #0000b2">\i</span
                ><span class="textcolor" style="color: #008000">*2) draw</span
                >=<span class="textcolor" style="color: #008000">red</span
                >] {<span class="textcolor" style="color: #000000"
                  ><a href="tikz-coordinates#pgf.x">x</a></span
                >};<br />
              </code>
            </div>
          </figure>
          <h6 id="autosec-7539">
            <span
              ><span class="sectionnumber" id="sec-87.3.2">87.3.2</span> Default
              Arguments</span
            ><a
              class="anchor-link"
              data-html-link="sec-87.3.2"
              data-pdf-destination="subsubsection.87.3.2"
              data-pdf-page="980"
              href="#sec-87.3.2"
              >&para;</a
            >
          </h6>
          <a id="pgfmanual-autopage-7539"></a>

          <p>
            The arguments of the <span class="verb">\pgfkeys</span> command can
            either be of the form <span class="angle">&langle;</span><i>key</i
            ><span class="angle">&rangle;</span><span class="verb">=</span
            ><span class="angle">&langle;</span><i>value</i
            ><span class="angle">&rangle;</span> or of the form
            <span class="angle">&langle;</span><i>key</i
            ><span class="angle">&rangle;</span> with the value-part missing. In
            the second case, the <span class="verb">\pgfkeys</span> will try to
            provide a <em>default value</em> for the
            <span class="angle">&langle;</span><i>value</i
            ><span class="angle">&rangle;</span>. If such a default value is
            defined, it will be used as if you had written
            <span class="angle">&langle;</span><i>key</i
            ><span class="angle">&rangle;</span><span class="verb">=</span
            ><span class="angle">&langle;</span><i>default value</i
            ><span class="angle">&rangle;</span>.
          </p>

          <p>
            In the following, the details of how default values are determined
            is described; however, you should normally use the handlers
            <span class="verb">/.default</span> and
            <span class="verb">/.value required</span> as described in
            Section&nbsp;<a href="pgfkeys#section-default-handlers">87.4.2</a>
            and you may wish to skip the following details.
          </p>

          <p>
            When <span class="verb">\pgfkeys</span> encounters a
            <span class="angle">&langle;</span><i>key</i
            ><span class="angle">&rangle;</span> without an equal-sign, the
            following happens:
          </p>
          <ul class="enumerate" style="list-style-type: none">
            <li>
              <p>
                <span class="listmarker">1.</span> The input is replaced by
                <span class="angle">&langle;</span><i>key</i
                ><span class="angle">&rangle;</span
                ><span class="verb">=\pgfkeysnovalue</span>. In particular, the
                commands <span class="verb">\pgfkeys{my key}</span> and
                <span class="verb">\pgfkeys{my key=</span
                ><span class="verb">\pgfkeysnovalue}</span> have exactly the
                same effect and you can &ldquo;simulate&rdquo; a missing value
                by providing the value
                <span class="verb">\pgfkeysnovalue</span>, which is sometimes
                useful.
              </p>
            </li>
            <li>
              <p>
                <span class="listmarker">2.</span> If the
                <span class="angle">&langle;</span><i>value</i
                ><span class="angle">&rangle;</span> is
                <span class="verb">\pgfkeysnovalue</span>, then it is checked
                whether the subkey <span class="angle">&langle;</span><i>key</i
                ><span class="angle">&rangle;</span
                ><span class="verb">/.@def</span> exists. For instance, if you
                write <span class="verb">\pgfkeys{/my key}</span>, then it is
                checked whether the key
                <span class="verb">/my key/.@def</span> exists.
              </p>
            </li>
            <li>
              <p>
                <span class="listmarker">3.</span> If the key
                <span class="angle">&langle;</span><i>key</i
                ><span class="angle">&rangle;</span
                ><span class="verb">/.@def</span> exists, then the tokens stored
                in this key are used as <span class="angle">&langle;</span
                ><i>value</i><span class="angle">&rangle;</span>.
              </p>
            </li>
            <li>
              <p>
                <span class="listmarker">4.</span> If the key does not exist,
                then <span class="verb">\pgfkeysnovalue</span> is used as the
                <span class="angle">&langle;</span><i>value</i
                ><span class="angle">&rangle;</span>.
              </p>
            </li>
            <li>
              <p>
                <span class="listmarker">5.</span> At the end, if the
                <span class="angle">&langle;</span><i>value</i
                ><span class="angle">&rangle;</span> is now equal to
                <span class="verb">\pgfkeysvaluerequired</span>, then the code
                (or something fairly equivalent)
                <span class="verb">\pgfkeys{/errors/value required=</span
                ><span class="angle">&langle;</span><i>key</i
                ><span class="angle">&rangle;</span
                ><span class="verb">{}}</span> is executed. Thus, by changing
                this key you can change the error message that is printed or you
                can handle the missing value in some other way.
              </p>
            </li>
          </ul>
          <h6 id="autosec-7540">
            <a id="section-key-code"></a
            ><span
              ><span class="sectionnumber" id="sec-87.3.3">87.3.3</span> Keys
              That Execute Commands</span
            ><a
              class="anchor-link"
              data-html-link="sec-87.3.3"
              data-pdf-destination="subsubsection.87.3.3"
              data-pdf-page="981"
              href="#sec-87.3.3"
              >&para;</a
            >
          </h6>
          <a id="pgfmanual-autopage-7540"></a>

          <p>
            After the transformation process described in the previous
            subsection, we arrive at a key of the form
            <span class="angle">&langle;</span><i>key</i
            ><span class="angle">&rangle;</span>=<span class="angle"
              >&langle;</span
            ><i>value</i><span class="angle">&rangle;</span>, where
            <span class="angle">&langle;</span><i>key</i
            ><span class="angle">&rangle;</span> is a full key. Different things
            can now happen, but always the macro
            <span class="verb">\pgfkeyscurrentkey</span> will have been set up
            to expand to the text of the <span class="angle">&langle;</span
            ><i>key</i><span class="angle">&rangle;</span> that is currently
            being processed.
          </p>

          <p>
            The first things that is tested is whether the key
            <span class="angle">&langle;</span><i>key</i
            ><span class="angle">&rangle;</span
            ><span class="verb">/.@cmd</span> exists. If this is the case, then
            it is assumed that this key stores the code of a macro and this
            macro is executed. The argument of this macro is
            <span class="angle">&langle;</span><i>value</i
            ><span class="angle">&rangle;</span> directly followed by
            <span class="verb">\pgfeov</span>, which stands for &ldquo;end of
            value&rdquo;. The <span class="angle">&langle;</span><i>value</i
            ><span class="angle">&rangle;</span> is not surrounded by braces.
            After this code has been executed,
            <span class="verb">\pgfkeys</span> continues with the next key in
            the <span class="angle">&langle;</span><i>key list</i
            ><span class="angle">&rangle;</span>.
          </p>

          <p>
            It may seem quite peculiar that the macro stored in the key
            <span class="angle">&langle;</span><i>key</i
            ><span class="angle">&rangle;</span
            ><span class="verb">/.@cmd</span> is not simply executed with the
            argument <span class="verb">{</span
            ><span class="angle">&langle;</span><i>value</i
            ><span class="angle">&rangle;</span><span class="verb">}</span>.
            However, the approach taken in the
            <span class="verb">pgfkeys</span> packages allows for more
            flexibility. For instance, assume that you have a key that expects a
            <span class="angle">&langle;</span><i>value</i
            ><span class="angle">&rangle;</span> of the form &ldquo;<span
              class="angle"
              >&langle;</span
            ><i>text</i><span class="angle">&rangle;</span
            ><span class="verb">+</span><span class="angle">&langle;</span
            ><i>more text</i><span class="angle">&rangle;</span>&rdquo; and
            wishes to store <span class="angle">&langle;</span><i>text</i
            ><span class="angle">&rangle;</span> and
            <span class="angle">&langle;</span><i>more text</i
            ><span class="angle">&rangle;</span> in two different macros. This
            can be achieved as follows:
          </p>

          <figure class="example">
            <div class="example-image">
              <p>
                <span class="verb">\a</span> is &lsquo;hello&rsquo;,
                <span class="verb">\b</span> is &lsquo;world&rsquo;.
              </p>
            </div>

            <div class="example-code">
              <button class="clipboardButton" type="button">copy</button>

              <code>
                <span class="codepreamble"
                  >\usepackage {shortvrb} \MakeShortVerb {\|} </span
                ><br />
                <span class="textcolor" style="color: #0000b2">\def</span
                ><span class="textcolor" style="color: #0000b2">\mystore</span
                ><span class="textcolor" style="color: #000000">#1+#2</span
                ><span class="textcolor" style="color: #0000b2">\pgfeov</span
                >{<span class="textcolor" style="color: #0000b2">\def</span
                ><span class="textcolor" style="color: #0000b2">\a</span>{<span
                  class="textcolor"
                  style="color: #000000"
                  >#1</span
                >}<span class="textcolor" style="color: #0000b2">\def</span
                ><span class="textcolor" style="color: #0000b2">\b</span>{<span
                  class="textcolor"
                  style="color: #000000"
                  >#2</span
                >}}<br />
                <span class="textcolor" style="color: #0000b2"
                  ><a href="pgfkeys#pgf.back/pgfkeyslet">\pgfkeyslet</a></span
                >{<span class="textcolor" style="color: #000000">/my</span>
                <span class="textcolor" style="color: #000000">key/</span>.<span
                  class="textcolor"
                  style="color: #000000"
                  >@cmd</span
                >}{<span class="textcolor" style="color: #0000b2">\mystore</span
                >}<br />
                <span class="textcolor" style="color: #000000"
                  ><a href="pgfkeys#pgf.back/pgfkeys">\pgfkeys</a></span
                >{<span class="textcolor" style="color: #000000"
                  ><span class="textcolor" style="color: #008000">/my key</span
                  >=<span class="textcolor" style="color: #008000"
                    >hello+world</span
                  ></span
                >}<br />
                <br />
                <span class="textcolor" style="color: #000000">|</span
                ><span class="textcolor" style="color: #0000b2">\a</span
                ><span class="textcolor" style="color: #000000">|</span>
                <span class="textcolor" style="color: #000000">is</span>
                <span class="textcolor" style="color: #000000">`</span
                ><span class="textcolor" style="color: #0000b2">\a</span
                ><span class="textcolor" style="color: #000000"
                  ><a href="tikz-shapes#pgf.'">'</a></span
                >, <span class="textcolor" style="color: #000000">|</span
                ><span class="textcolor" style="color: #0000b2">\b</span
                ><span class="textcolor" style="color: #000000">|</span>
                <span class="textcolor" style="color: #000000">is</span>
                <span class="textcolor" style="color: #000000">`</span
                ><span class="textcolor" style="color: #0000b2">\b</span
                ><span class="textcolor" style="color: #000000"
                  ><a href="tikz-shapes#pgf.'">'</a></span
                >.<br />
              </code>
            </div>
          </figure>

          <p>
            Naturally, defining the code to be stored in a key in the above
            manner is too awkward. The following commands simplify things a bit,
            but the usual manner of setting up code for a key is to use one of
            the handlers described in Section&nbsp;<a
              href="pgfkeys#section-code-handlers"
              >87.4.3</a
            >.
          </p>

          <div class="manualentry">
            <ul class="list" style="list-style-type: none">
              <div class="entryheadline">
                <li>
                  <p>
                    <a id="pgf.back/pgfkeysdef"></a>
                    <span class="hl-def"
                      ><span class="declare"><kbd>\pgfkeysdef</kbd></span
                      >{<span class="angle">&langle;</span><i>key</i
                      ><span class="angle">&rangle;</span>}{<span class="angle"
                        >&langle;</span
                      ><i>code</i><span class="angle">&rangle;</span>}</span
                    >
                    <a
                      class="anchor-link"
                      data-html-link="pgf.back/pgfkeysdef"
                      href="#\pgfkeysdef"
                      id="\pgfkeysdef"
                      >&para;</a
                    >
                  </p>
                </li>
              </div>
              <p>
                This command temporarily defines a
                <span class="latexlogofont"
                  ><span class="latexlogo"
                    >T<span class="latexlogosub">e</span>X</span
                  ></span
                >-macro with the argument list
                <span class="verb">#1\pgfeov</span> and then lets
                <span class="angle">&langle;</span><i>key</i
                ><span class="angle">&rangle;</span
                ><span class="verb">/.@cmd</span> be equal to this macro. The
                net effect of all this is that you have then set up code for the
                key <span class="angle">&langle;</span><i>key</i
                ><span class="angle">&rangle;</span> so that when you write
                <span class="verb">\pgfkeys{</span
                ><span class="angle">&langle;</span><i>key</i
                ><span class="angle">&rangle;</span><span class="verb">=</span
                ><span class="angle">&langle;</span><i>value</i
                ><span class="angle">&rangle;</span><span class="verb">}</span>,
                then the <span class="angle">&langle;</span><i>code</i
                ><span class="angle">&rangle;</span> is executed with all
                occurrences of <span class="verb">#1</span> in
                <span class="angle">&langle;</span><i>code</i
                ><span class="angle">&rangle;</span> being replaced by
                <span class="angle">&langle;</span><i>value</i
                ><span class="angle">&rangle;</span>. (This behavior is quite
                similar to the <span class="verb">\define@key</span> command of
                <span class="verb">keyval</span> and
                <span class="verb">xkeyval</span>).
              </p>

              <figure class="example">
                <div class="example-image">
                  <p>hello, hello.</p>
                </div>

                <div class="example-code">
                  <button class="clipboardButton" type="button">copy</button>
                  <code>
                    <br />
                    <span class="textcolor" style="color: #0000b2"
                      ><a href="pgfkeys#pgf.back/pgfkeysdef"
                        >\pgfkeysdef</a
                      ></span
                    >{<span class="textcolor" style="color: #000000">/my</span>
                    <span class="textcolor" style="color: #000000">key</span
                    >}{<span class="textcolor" style="color: #000000">#1</span
                    >, <span class="textcolor" style="color: #000000"
                      >#1</span
                    >.}<br />
                    <span class="textcolor" style="color: #000000"
                      ><a href="pgfkeys#pgf.back/pgfkeys">\pgfkeys</a></span
                    >{<span class="textcolor" style="color: #000000"
                      ><span class="textcolor" style="color: #008000"
                        >/my key</span
                      >=<span class="textcolor" style="color: #008000"
                        >hello</span
                      ></span
                    >}<br />
                  </code>
                </div>
              </figure>
              <p></p>
            </ul>
          </div>

          <div class="manualentry">
            <ul class="list" style="list-style-type: none">
              <div class="entryheadline">
                <li>
                  <p>
                    <a id="pgf.back/pgfkeysedef"></a>
                    <span class="hl-def"
                      ><span class="declare"><kbd>\pgfkeysedef</kbd></span
                      >{<span class="angle">&langle;</span><i>key</i
                      ><span class="angle">&rangle;</span>}{<span class="angle"
                        >&langle;</span
                      ><i>code</i><span class="angle">&rangle;</span>}</span
                    >
                    <a
                      class="anchor-link"
                      data-html-link="pgf.back/pgfkeysedef"
                      href="#\pgfkeysedef"
                      id="\pgfkeysedef"
                      >&para;</a
                    >
                  </p>
                </li>
              </div>
              <p>
                This command works like <span class="verb">\pgfkeysdef</span>,
                but it uses <span class="verb">\edef</span> rather than
                <span class="verb">\def</span> when defining the key macro. If
                you do not know the difference between the two, then you will
                not need this command; and if you know the difference, then you
                will know when you need this command.
              </p>
            </ul>
          </div>

          <div class="manualentry">
            <ul class="list" style="list-style-type: none">
              <div class="entryheadline">
                <li>
                  <p>
                    <a id="pgf.back/pgfkeysdefnargs"></a>
                    <span class="hl-def"
                      ><span class="declare"><kbd>\pgfkeysdefnargs</kbd></span
                      >{<span class="angle">&langle;</span><i>key</i
                      ><span class="angle">&rangle;</span>}{<span class="angle"
                        >&langle;</span
                      ><i>argument count</i
                      ><span class="angle">&rangle;</span>}{<span class="angle"
                        >&langle;</span
                      ><i>code</i><span class="angle">&rangle;</span>}</span
                    >
                    <a
                      class="anchor-link"
                      data-html-link="pgf.back/pgfkeysdefnargs"
                      href="#\pgfkeysdefnargs"
                      id="\pgfkeysdefnargs"
                      >&para;</a
                    >
                  </p>
                </li>
              </div>
              <p>
                This command works like <span class="verb">\pgfkeysdef</span>,
                but it allows you to provide an arbitrary
                <span class="angle">&langle;</span><i>argument count</i
                ><span class="angle">&rangle;</span> between \(0\) and \(9\)
                (inclusive).
              </p>

              <figure class="example">
                <div class="example-image">
                  <p>
                    <span class="verb">\a</span> is &lsquo;hello&rsquo;,
                    <span class="verb">\b</span> is &lsquo;world&rsquo;.
                  </p>
                </div>

                <div class="example-code">
                  <button class="clipboardButton" type="button">copy</button>
                  <code>
                    <span class="codepreamble"
                      >\usepackage {shortvrb} \MakeShortVerb {\|} </span
                    ><br />
                    <span class="textcolor" style="color: #0000b2"
                      ><a href="pgfkeys#pgf.back/pgfkeysdefnargs"
                        >\pgfkeysdefnargs</a
                      ></span
                    >{<span class="textcolor" style="color: #000000">/my</span>
                    <span class="textcolor" style="color: #000000">key</span
                    >}{<span class="textcolor" style="color: #000000">2</span
                    >}{<span class="textcolor" style="color: #0000b2">\def</span
                    ><span class="textcolor" style="color: #0000b2">\a</span
                    >{<span class="textcolor" style="color: #000000">#1</span
                    >}<span class="textcolor" style="color: #0000b2">\def</span
                    ><span class="textcolor" style="color: #0000b2">\b</span
                    >{<span class="textcolor" style="color: #000000">#2</span
                    >}}<br />
                    <span class="textcolor" style="color: #000000"
                      ><a href="pgfkeys#pgf.back/pgfkeys">\pgfkeys</a></span
                    >{<span class="textcolor" style="color: #000000"
                      ><span class="textcolor" style="color: #008000"
                        >/my key</span
                      >=<br />
                      <span class="textcolor" style="color: #008000"
                        >{hello}<br />
                        <span class="spaces">    </span>{world}</span
                      ></span
                    >}<br />
                    <br />
                    <span class="textcolor" style="color: #000000">|</span
                    ><span class="textcolor" style="color: #0000b2">\a</span
                    ><span class="textcolor" style="color: #000000">|</span>
                    <span class="textcolor" style="color: #000000">is</span>
                    <span class="textcolor" style="color: #000000">`</span
                    ><span class="textcolor" style="color: #0000b2">\a</span
                    ><span class="textcolor" style="color: #000000"
                      ><a href="tikz-shapes#pgf.'">'</a></span
                    >, <span class="textcolor" style="color: #000000"
                      >|</span
                    ><span class="textcolor" style="color: #0000b2">\b</span
                    ><span class="textcolor" style="color: #000000">|</span>
                    <span class="textcolor" style="color: #000000">is</span>
                    <span class="textcolor" style="color: #000000">`</span
                    ><span class="textcolor" style="color: #0000b2">\b</span
                    ><span class="textcolor" style="color: #000000"
                      ><a href="tikz-shapes#pgf.'">'</a></span
                    >.<br />
                  </code>
                </div>
              </figure>
              <p>
                The resulting key will expect exactly {<span class="angle"
                  >&langle;</span
                ><i>argument count</i><span class="angle">&rangle;</span>}
                arguments.
              </p>
            </ul>
          </div>

          <div class="manualentry">
            <ul class="list" style="list-style-type: none">
              <div class="entryheadline">
                <li>
                  <p>
                    <a id="pgf.back/pgfkeysedefnargs"></a>
                    <span class="hl-def"
                      ><span class="declare"><kbd>\pgfkeysedefnargs</kbd></span
                      >{<span class="angle">&langle;</span><i>key</i
                      ><span class="angle">&rangle;</span>}{<span class="angle"
                        >&langle;</span
                      ><i>argument count</i
                      ><span class="angle">&rangle;</span>}{<span class="angle"
                        >&langle;</span
                      ><i>code</i><span class="angle">&rangle;</span>}</span
                    >
                    <a
                      class="anchor-link"
                      data-html-link="pgf.back/pgfkeysedefnargs"
                      href="#\pgfkeysedefnargs"
                      id="\pgfkeysedefnargs"
                      >&para;</a
                    >
                  </p>
                </li>
              </div>
              <p>
                The <span class="verb">\edef</span> version of
                <span class="verb">\pgfkeysdefnargs</span>.
              </p>
            </ul>
          </div>

          <div class="manualentry">
            <ul class="list" style="list-style-type: none">
              <div class="entryheadline">
                <li>
                  <p>
                    <a id="pgf.back/pgfkeysdefargs"></a>
                    <span class="hl-def"
                      ><span class="declare"><kbd>\pgfkeysdefargs</kbd></span
                      >{<span class="angle">&langle;</span><i>key</i
                      ><span class="angle">&rangle;</span>}{<span class="angle"
                        >&langle;</span
                      ><i>argument pattern</i
                      ><span class="angle">&rangle;</span>}{<span class="angle"
                        >&langle;</span
                      ><i>code</i><span class="angle">&rangle;</span>}</span
                    >
                    <a
                      class="anchor-link"
                      data-html-link="pgf.back/pgfkeysdefargs"
                      href="#\pgfkeysdefargs"
                      id="\pgfkeysdefargs"
                      >&para;</a
                    >
                  </p>
                </li>
              </div>
              <p>
                This command works like
                <span class="verb">\pgfkeysdefnargs</span>, but it allows you to
                provide an arbitrary <span class="angle">&langle;</span
                ><i>argument pattern</i
                ><span class="angle">&rangle;</span> rather than just a number
                of arguments.
              </p>

              <figure class="example">
                <div class="example-image">
                  <p>
                    <span class="verb">\a</span> is &lsquo;hello&rsquo;,
                    <span class="verb">\b</span> is &lsquo;world&rsquo;.
                  </p>
                </div>

                <div class="example-code">
                  <button class="clipboardButton" type="button">copy</button>
                  <code>
                    <span class="codepreamble"
                      >\usepackage {shortvrb} \MakeShortVerb {\|} </span
                    ><br />
                    <span class="textcolor" style="color: #0000b2"
                      ><a href="pgfkeys#pgf.back/pgfkeysdefargs"
                        >\pgfkeysdefargs</a
                      ></span
                    >{<span class="textcolor" style="color: #000000">/my</span>
                    <span class="textcolor" style="color: #000000">key</span
                    >}{<span class="textcolor" style="color: #000000"
                      >#1+#2</span
                    >}{<span class="textcolor" style="color: #0000b2">\def</span
                    ><span class="textcolor" style="color: #0000b2">\a</span
                    >{<span class="textcolor" style="color: #000000">#1</span
                    >}<span class="textcolor" style="color: #0000b2">\def</span
                    ><span class="textcolor" style="color: #0000b2">\b</span
                    >{<span class="textcolor" style="color: #000000">#2</span
                    >}}<br />
                    <span class="textcolor" style="color: #000000"
                      ><a href="pgfkeys#pgf.back/pgfkeys">\pgfkeys</a></span
                    >{<span class="textcolor" style="color: #000000"
                      ><span class="textcolor" style="color: #008000"
                        >/my key</span
                      >=<span class="textcolor" style="color: #008000"
                        >hello+world</span
                      ></span
                    >}<br />
                    <br />
                    <span class="textcolor" style="color: #000000">|</span
                    ><span class="textcolor" style="color: #0000b2">\a</span
                    ><span class="textcolor" style="color: #000000">|</span>
                    <span class="textcolor" style="color: #000000">is</span>
                    <span class="textcolor" style="color: #000000">`</span
                    ><span class="textcolor" style="color: #0000b2">\a</span
                    ><span class="textcolor" style="color: #000000"
                      ><a href="tikz-shapes#pgf.'">'</a></span
                    >, <span class="textcolor" style="color: #000000"
                      >|</span
                    ><span class="textcolor" style="color: #0000b2">\b</span
                    ><span class="textcolor" style="color: #000000">|</span>
                    <span class="textcolor" style="color: #000000">is</span>
                    <span class="textcolor" style="color: #000000">`</span
                    ><span class="textcolor" style="color: #0000b2">\b</span
                    ><span class="textcolor" style="color: #000000"
                      ><a href="tikz-shapes#pgf.'">'</a></span
                    >.<br />
                  </code>
                </div>
              </figure>
              <p>
                Note that <span class="verb">\pgfkeysdefnargs</span> is
                <em>better</em> when it comes to simple argument <em>counts</em
                ><sup>14</sup>.
              </p>
            </ul>
          </div>

          <div class="manualentry">
            <ul class="list" style="list-style-type: none">
              <div class="entryheadline">
                <li>
                  <p>
                    <a id="pgf.back/pgfkeysedefargs"></a>
                    <span class="hl-def"
                      ><span class="declare"><kbd>\pgfkeysedefargs</kbd></span
                      >{<span class="angle">&langle;</span><i>key</i
                      ><span class="angle">&rangle;</span>}{<span class="angle"
                        >&langle;</span
                      ><i>argument pattern</i
                      ><span class="angle">&rangle;</span>}{<span class="angle"
                        >&langle;</span
                      ><i>code</i><span class="angle">&rangle;</span>}</span
                    >
                    <a
                      class="anchor-link"
                      data-html-link="pgf.back/pgfkeysedefargs"
                      href="#\pgfkeysedefargs"
                      id="\pgfkeysedefargs"
                      >&para;</a
                    >
                  </p>
                </li>
              </div>
              <p>
                The <span class="verb">\edef</span> version of
                <span class="verb">\pgfkeysdefargs</span>.
              </p>
            </ul>
          </div>
          <div class="footnotes" role="note">
            <a id="pgfmanual-autopage-7541"></a>

            <p>
              <sup>14</sup>&nbsp;When the resulting keys are used, the
              <kbd>defnargs</kbd> variant allows spaces between arguments
              whereas the <kbd>defargs</kbd> variant does not; it considers the
              spaces as part of the argument.
            </p>
          </div>
          <h6 id="autosec-7542">
            <span
              ><span class="sectionnumber" id="sec-87.3.4">87.3.4</span> Keys
              That Store Values</span
            ><a
              class="anchor-link"
              data-html-link="sec-87.3.4"
              data-pdf-destination="subsubsection.87.3.4"
              data-pdf-page="982"
              href="#sec-87.3.4"
              >&para;</a
            >
          </h6>
          <a id="pgfmanual-autopage-7542"></a>

          <p>
            Let us continue with what happens when
            <span class="verb">\pgfkeys</span> processes the current key and the
            subkey <span class="angle">&langle;</span><i>key</i
            ><span class="angle">&rangle;</span
            ><span class="verb">/.@cmd</span> is not defined. Then it is checked
            whether the <span class="angle">&langle;</span><i>key</i
            ><span class="angle">&rangle;</span> itself exists (has been
            previously assigned a value using, for instance,
            <span class="verb">\pgfkeyssetvalue</span>). In this case, the
            tokens stored in <span class="angle">&langle;</span><i>key</i
            ><span class="angle">&rangle;</span> are replaced by
            <span class="angle">&langle;</span><i>value</i
            ><span class="angle">&rangle;</span> and
            <span class="verb">\pgfkeys</span> proceeds with the next key in the
            <span class="angle">&langle;</span><i>key list</i
            ><span class="angle">&rangle;</span>.
          </p>
          <h6 id="autosec-7543">
            <a id="section-key-handlers"></a
            ><span
              ><span class="sectionnumber" id="sec-87.3.5">87.3.5</span> Keys
              That Are Handled</span
            ><a
              class="anchor-link"
              data-html-link="sec-87.3.5"
              data-pdf-destination="subsubsection.87.3.5"
              data-pdf-page="982"
              href="#sec-87.3.5"
              >&para;</a
            >
          </h6>
          <a id="pgfmanual-autopage-7543"></a>

          <p>
            If neither the <span class="angle">&langle;</span><i>key</i
            ><span class="angle">&rangle;</span> itself nor the subkey
            <span class="angle">&langle;</span><i>key</i
            ><span class="angle">&rangle;</span
            ><span class="verb">/.@cmd</span> are defined, then the
            <span class="angle">&langle;</span><i>key</i
            ><span class="angle">&rangle;</span> cannot be processed &ldquo;all
            by itself&rdquo;. Rather, a <span class="angle">&langle;</span
            ><i>handler</i><span class="angle">&rangle;</span> is needed for
            this key. Most of the power of
            <span class="verb">pgfkeys</span> comes from the proper use of such
            handlers.
          </p>

          <p>
            Recall that the <span class="angle">&langle;</span><i>key</i
            ><span class="angle">&rangle;</span> is always a full key (if it was
            not originally, it has already been upgraded at this point to a full
            key). It decomposed into two parts:
          </p>

          <ul class="enumerate" style="list-style-type: none">
            <li>
              <p>
                <span class="listmarker">1.</span> The
                <span class="angle">&langle;</span><i>path</i
                ><span class="angle">&rangle;</span> of
                <span class="angle">&langle;</span><i>key</i
                ><span class="angle">&rangle;</span> (everything before the last
                slash) is stored in the macro
                <span class="verb">\pgfkeyscurrentpath</span>.
              </p>
            </li>
            <li>
              <p>
                <span class="listmarker">2.</span> The
                <span class="angle">&langle;</span><i>name</i
                ><span class="angle">&rangle;</span> of
                <span class="angle">&langle;</span><i>key</i
                ><span class="angle">&rangle;</span> (everything after the last
                slash) is stored in the macro
                <span class="verb">\pgfkeyscurrentname</span>.
              </p>
              <p>
                It is recommended (but not necessary) that the name of a handler
                starts with a dot (but not with <span class="verb">.@</span>),
                so that they are easy to detect for the reader.
              </p>
            </li>
          </ul>

          <p>
            (For efficiency reasons, these two macros are only set up at this
            point; so when code is executed for a key in the &ldquo;usual&rdquo;
            manner then these macros are not set up.)
          </p>

          <p>
            The <span class="verb">\pgfkeys</span> command now checks whether
            the key <span class="verb">/handlers/</span
            ><span class="angle">&langle;</span><i>name</i
            ><span class="angle">&rangle;</span
            ><span class="verb">/.@cmd</span> exists. If so, it should store a
            command and this command is executed exactly in the same manner as
            described in Section&nbsp;<a href="pgfkeys#section-key-code"
              >87.3.3</a
            >. Thus, this code gets the <span class="angle">&langle;</span
            ><i>value</i><span class="angle">&rangle;</span> that was originally
            intended for <span class="angle">&langle;</span><i>key</i
            ><span class="angle">&rangle;</span> as its argument, followed by
            <span class="verb">\pgfeov</span>. It is the job of the handlers to
            do something useful with the <span class="angle">&langle;</span
            ><i>value</i><span class="angle">&rangle;</span>.
          </p>

          <p>
            For an example, let us write a handler that will output the value
            stored in a key to the log file. We call this handler
            <span class="verb">/.print to log</span>. The idea is that when
            someone tries to use the key
            <span class="verb">/my key/.print to log</span>, then this key will
            not be defined and the handler gets executed. The handler will then
            have access to the path-part of the key, which is
            <span class="verb">/my key</span>, via the macro
            <span class="verb">\pgfkeyscurrentpath</span>. It can then lookup
            which value is stored in this key and print it.
          </p>

          <figure class="example">
            <div class="example-code">
              <button class="clipboardButton" type="button">copy</button>

              <code>
                <br />
                <span class="textcolor" style="color: #0000b2"
                  ><a href="pgfkeys#pgf.back/pgfkeysdef">\pgfkeysdef</a></span
                >{<span class="textcolor" style="color: #000000"
                  >/handlers/</span
                >.<span class="textcolor" style="color: #000000">print</span>
                <span class="textcolor" style="color: #000000"
                  ><a href="tikz-paths#pgf.to">to</a></span
                >
                <span class="textcolor" style="color: #000000"
                  ><a href="pgfkeys#pgf.log">log</a></span
                >}<br />
                {<span class="example-code-comment">%</span><br />
                <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                  ><a href="pgfkeys#pgf.back/pgfkeysgetvalue"
                    >\pgfkeysgetvalue</a
                  ></span
                >{<span class="textcolor" style="color: #0000b2"
                  >\pgfkeyscurrentpath</span
                >}{<span class="textcolor" style="color: #0000b2">\temp</span
                >}<br />
                <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                  >\writetolog</span
                >{<span class="textcolor" style="color: #0000b2">\temp</span
                >}<br />
                }<br />
                <span class="textcolor" style="color: #0000b2"
                  ><a href="pgfkeys#pgf.back/pgfkeyssetvalue"
                    >\pgfkeyssetvalue</a
                  ></span
                >{<span class="textcolor" style="color: #000000">/my</span>
                <span class="textcolor" style="color: #000000">key</span>}{<span
                  class="textcolor"
                  style="color: #000000"
                  >Hi!</span
                >}<br />
                ...<br />
                <span class="textcolor" style="color: #000000"
                  ><a href="pgfkeys#pgf.back/pgfkeys">\pgfkeys</a></span
                >{<span class="textcolor" style="color: #000000"
                  ><span class="textcolor" style="color: #008000">/my key</span
                  >/<span class="textcolor" style="color: #0000b2"
                    >.print to log</span
                  ></span
                >}<br />
              </code>
            </div>
          </figure>

          <p>
            The above code will print <span class="verb">Hi!</span> in the log,
            provided the macro <span class="verb">\writetolog</span> is set up
            appropriately.
          </p>

          <p>
            For a more interesting handler, let us program a handler that will
            set up a key so that when the key is used, some code is executed.
            This code is given as <span class="angle">&langle;</span><i>value</i
            ><span class="angle">&rangle;</span>. All the handler must do is to
            call <span class="verb">\pgfkeysdef</span> for the path of the key
            (which misses the handler&rsquo;s name) and assign the parameter
            value to it.
          </p>

          <figure class="example">
            <div class="example-image">
              <p>(hallo)</p>
            </div>

            <div class="example-code">
              <button class="clipboardButton" type="button">copy</button>

              <code>
                <br />
                <span class="textcolor" style="color: #0000b2"
                  ><a href="pgfkeys#pgf.back/pgfkeysdef">\pgfkeysdef</a></span
                >{<span class="textcolor" style="color: #000000"
                  >/handlers/</span
                >.<span class="textcolor" style="color: #000000">my</span>
                <span class="textcolor" style="color: #000000"
                  ><a href="tikz-pics#pgf.code">code</a></span
                >}{<span class="textcolor" style="color: #0000b2"
                  ><a href="pgfkeys#pgf.back/pgfkeysdef">\pgfkeysdef</a></span
                >{<span class="textcolor" style="color: #0000b2"
                  >\pgfkeyscurrentpath</span
                >}{<span class="textcolor" style="color: #000000">#1</span
                >}}<br />
                <span class="textcolor" style="color: #000000"
                  ><a href="pgfkeys#pgf.back/pgfkeys">\pgfkeys</a></span
                >{<span class="textcolor" style="color: #000000"
                  ><span class="textcolor" style="color: #008000">/my key</span
                  >/<span class="textcolor" style="color: #0000b2"
                    >.my code</span
                  >=<span class="textcolor" style="color: #008000"
                    ><span class="textcolor" style="color: #800080"
                      >(#1)</span
                    ></span
                  ></span
                >}<br />
                <span class="textcolor" style="color: #000000"
                  ><a href="pgfkeys#pgf.back/pgfkeys">\pgfkeys</a></span
                >{<span class="textcolor" style="color: #000000"
                  ><span class="textcolor" style="color: #008000">/my key</span
                  >=<span class="textcolor" style="color: #008000"
                    >hallo</span
                  ></span
                >}<br />
              </code>
            </div>
          </figure>

          <p>
            There are some parameters for handled keys which prove to be useful
            in some (possibly rare) special cases:
          </p>

          <div class="manualentry">
            <ul class="list" style="list-style-type: none">
              <div class="entryheadline">
                <li>
                  <p>
                    <a id="pgf.handler:config"></a>
                    <span class="hl-def"
                      ><kbd
                        ><span class="keyname"
                          ><span class="declare">/handler config</span></span
                        >=</kbd
                      ><kbd>all</kbd>|<kbd>only existing</kbd>|<kbd
                        >full or existing</kbd
                      > </span
                    ><span class="hl-default"
                      >(no default, initially <kbd>all</kbd>)</span
                    >
                    <a
                      class="anchor-link"
                      data-html-link="pgf.handler:config"
                      href="#pgf.handler:config"
                      id="pgf.handler:config"
                      >&para;</a
                    >
                  </p>
                </li>
              </div>
              <p>
                Changes the initial configuration how key handlers will be used.
              </p>
              <p>
                This configuration is for advanced users and rarely necessary.
              </p>
              <dl class="description">
                <dt>
                  <span class="listmarker"><kbd>all</kbd></span>
                </dt>
                <dd>
                  <p>
                    The preconfigured setting
                    <span class="verb">all</span> works as described above and
                    imposes no restriction on the key setting process.
                  </p>
                </dd>
                <dt>
                  <span class="listmarker"><kbd>only existing</kbd></span>
                </dt>
                <dd>
                  <p>
                    The value <span class="verb">only existing</span> modifies
                    the algorithm for handled keys as follows: a handler
                    <span class="angle">&langle;</span><i>key name</i
                    ><span class="angle">&rangle;</span
                    ><span class="verb">/.</span
                    ><span class="angle">&langle;</span><i>handler</i
                    ><span class="angle">&rangle;</span> will be executed only
                    if <span class="angle">&langle;</span><i>key name</i
                    ><span class="angle">&rangle;</span> is either a key which
                    stores its value directly or a command key for which
                    <span class="verb">/.@cmd</span> exists. If
                    <span class="angle">&langle;</span><i>key name</i
                    ><span class="angle">&rangle;</span> does <em>not</em> exist
                    already, the complete string
                    <span class="angle">&langle;</span><i>key name</i
                    ><span class="angle">&rangle;</span
                    ><span class="verb">/.</span
                    ><span class="angle">&langle;</span><i>handler</i
                    ><span class="angle">&rangle;</span> is considered to be an
                    unknown key and the procedure described in the next section
                    applies (for the path of <span class="angle">&langle;</span
                    ><i>key name</i><span class="angle">&rangle;</span>).
                  </p>

                  <figure class="example">
                    <div class="example-image">
                      <p>
                        Initial definition.Re-Definition.Unknown key
                        &lsquo;/the/other key/.code&rsquo;.
                      </p>
                    </div>

                    <div class="example-code">
                      <button class="clipboardButton" type="button">
                        copy
                      </button>
                      <code>
                        <br />
                        <span class="example-code-comment"
                          >% Define a test key and error handlers:</span
                        ><br />
                        <span class="textcolor" style="color: #000000"
                          ><a href="pgfkeys#pgf.back/pgfkeys">\pgfkeys</a></span
                        >{<span class="textcolor" style="color: #000000"
                          ><span class="textcolor" style="color: #008000"
                            >/the/key</span
                          >/<span class="textcolor" style="color: #0000b2"
                            ><a href="pgfkeys#pgf./handlers/.code"
                              >.code</a
                            ></span
                          >=<span class="textcolor" style="color: #008000"
                            >{Initial definition.<span class="spaces"> </span>}</span
                          ></span
                        >}<br />
                        <span class="textcolor" style="color: #000000"
                          ><a href="pgfkeys#pgf.back/pgfkeys">\pgfkeys</a></span
                        >{<span class="textcolor" style="color: #000000"
                          ><span class="textcolor" style="color: #008000"
                            >/handlers</span
                          >/<span class="textcolor" style="color: #0000b2"
                            >.unknown/.code</span
                          >=<span class="textcolor" style="color: #008000"
                            >{Unknown key `<span
                              class="textcolor"
                              style="color: #0000b2"
                              >\pgfkeyscurrentkey</span
                            ><a href="tikz-shapes#pgf.'">'</a>.<span class="spaces"> </span>}</span
                          ></span
                        >}<br />
                        <br />
                        <span class="example-code-comment"
                          >% calling the test key yields 'Initial definition.
                          ':</span
                        ><br />
                        <span class="textcolor" style="color: #000000"
                          ><a href="pgfkeys#pgf.back/pgfkeys">\pgfkeys</a></span
                        >{<span class="textcolor" style="color: #000000"
                          ><span class="textcolor" style="color: #008000"
                            >/the/key</span
                          ></span
                        >}<br />
                        <br />
                        <span class="example-code-comment"
                          >% Change configuration:</span
                        ><br />
                        <span class="textcolor" style="color: #000000"
                          ><a href="pgfkeys#pgf.back/pgfkeys">\pgfkeys</a></span
                        >{<span class="textcolor" style="color: #000000"
                          ><span class="textcolor" style="color: #008000"
                            >/handler config</span
                          >=<span class="textcolor" style="color: #008000"
                            >only existing</span
                          ></span
                        >}<br />
                        <br />
                        <span class="example-code-comment"
                          >% allowed: key *re*-definition:</span
                        ><br />
                        <span class="textcolor" style="color: #000000"
                          ><a href="pgfkeys#pgf.back/pgfkeys">\pgfkeys</a></span
                        >{<span class="textcolor" style="color: #000000"
                          ><span class="textcolor" style="color: #008000"
                            >/the/key</span
                          >/<span class="textcolor" style="color: #0000b2"
                            ><a href="pgfkeys#pgf./handlers/.code"
                              >.code</a
                            ></span
                          >=<span class="textcolor" style="color: #008000"
                            >{Re-Definition.<span class="spaces"> </span>}</span
                          ></span
                        >}<br />
                        <span class="example-code-comment"
                          >% calling the key yields 'Re-Definition. ':</span
                        ><br />
                        <span class="textcolor" style="color: #000000"
                          ><a href="pgfkeys#pgf.back/pgfkeys">\pgfkeys</a></span
                        >{<span class="textcolor" style="color: #000000"
                          ><span class="textcolor" style="color: #008000"
                            >/the/key</span
                          ></span
                        >}<br />
                        <br />
                        <span class="example-code-comment"
                          >% not allowed: definition of new keys:</span
                        ><br />
                        <span class="example-code-comment"
                          >% this checks for '/the/other key/.unknown'</span
                        ><br />
                        <span class="example-code-comment"
                          >% and '/handlers/.unknown'</span
                        ><br />
                        <span class="example-code-comment"
                          >% and yields finally</span
                        ><br />
                        <span class="example-code-comment"
                          >% 'Unknown key `/the/other key/.code`'</span
                        ><br />
                        <span class="textcolor" style="color: #000000"
                          ><a href="pgfkeys#pgf.back/pgfkeys">\pgfkeys</a></span
                        >{<span class="textcolor" style="color: #000000"
                          ><span class="textcolor" style="color: #008000"
                            >/the/other key</span
                          >/<span class="textcolor" style="color: #0000b2"
                            ><a href="pgfkeys#pgf./handlers/.code"
                              >.code</a
                            ></span
                          >=<span class="textcolor" style="color: #008000"
                            >{New definition.<span class="spaces"> </span>}</span
                          ></span
                        >}<br />
                      </code>
                    </div>
                  </figure>
                  <p>
                    It is necessary to exclude some key handlers from this
                    procedure. Altogether, the detailed procedure is as follows:
                  </p>
                  <ul class="enumerate" style="list-style-type: none">
                    <li>
                      <p>
                        <span class="listmarker">1.</span> If a handled key like
                        <span class="verb">/a path/a key/.a handler=value</span>
                        is encountered, it is checked whether the handler should
                        be invoked. This is the case if
                      </p>
                      <ul class="itemize" style="list-style-type: none">
                        <li>
                          <p>
                            <span class="listmarker">&bull;</span> An exception
                            from <span class="verb">only existing</span> for
                            this key exists (see below),
                          </p>
                        </li>
                        <li>
                          <p>
                            <span class="listmarker">&bull;</span> The key
                            <span class="verb">/a path/a key</span> exists
                            already &ndash; either directly as storage key or
                            with the <span class="verb">.@cmd</span> suffix.
                          </p>
                        </li>
                      </ul>
                    </li>
                    <li>
                      <p>
                        <span class="listmarker">2.</span> If the check passes,
                        everything works as before.
                      </p>
                    </li>
                    <li>
                      <p>
                        <span class="listmarker">3.</span> If the check fails,
                        the complete key will be considered to be unknown. In
                        that case, the handling of unknown keys as described in
                        the next section applies. There, the current key path
                        will be set to <span class="verb">/a path</span> and the
                        current key&rsquo;s name to
                        <span class="verb">key/.a handler</span>.
                      </p>
                    </li>
                  </ul>
                  <p>
                    A consequence of this configuration is to provide more
                    meaningful processing of handled keys if a search path for
                    keys is in effect, see section&nbsp;<a
                      href="pgfkeys#sec:pgf:unknown:keys"
                      >87.3.6</a
                    >
                    for an example.
                  </p>
                </dd>
                <dt>
                  <span class="listmarker"><kbd>full or existing</kbd></span>
                </dt>
                <dd>
                  <p>
                    Finally, the choice
                    <span class="verb">full or existing</span> is a variant of
                    <span class="verb">only existing</span>: it works in the
                    same way for keys which do not have a full key path. For
                    example, the style
                  </p>
                  <p>
                    <span class="verb">\pgfkeys{/my path/.cd,key/.style={</span
                    >\(\dotsc \)<span class="verb">}}</span>
                  </p>
                  <p>
                    can only be redefined: it doesn&rsquo;t have a full path, so
                    the <span class="verb">only existing</span> mechanism
                    applies. But the style
                  </p>
                  <p>
                    <span class="verb">\pgfkeys{/my path/key/.style={</span
                    >\(\dotsc \)<span class="verb">}}</span>
                  </p>
                  <p>
                    will still work. This allows users to override the
                    <span class="verb">only existing</span> feature if they know
                    what they&rsquo;re doing (and provide full key paths).
                  </p>
                </dd>
              </dl>
            </ul>
          </div>

          <div class="manualentry">
            <ul class="list" style="list-style-type: none">
              <div class="entryheadline">
                <li>
                  <p>
                    <a id="pgf./handler:config/only:existing/add:exception"></a
                    ><a id="pgf.add:exception"></a>
                    <span class="hl-def"
                      ><kbd
                        ><span class="keyname"
                          ><span class="declare"
                            >/handler config/only existing/add exception</span
                          ></span
                        >=</kbd
                      >{<span class="angle">&langle;</span
                      ><i>key handler name</i
                      ><span class="angle">&rangle;</span>}</span
                    ><span class="hl-default">(no default)</span>
                    <a
                      class="anchor-link"
                      data-html-link="pgf./handler:config/only:existing/add:exception"
                      href="#handler:config/only:existing/add:exception"
                      id="handler:config/only:existing/add:exception"
                      >&para;</a
                    >
                  </p>
                </li>
              </div>
              <p>
                Allows to add exceptions to the
                <span class="verb">/handler config=only existing</span> feature.
                Initially exceptions for the key handlers
                <span class="verb">/.cd</span>, <span class="verb">/.try</span>,
                <span class="verb">/.retry</span>,
                <span class="verb">/.lastretry</span> and
                <span class="verb">/.unknown</span> are defined. The value
                {<span class="angle">&langle;</span><i>key handler name</i
                ><span class="angle">&rangle;</span>} should be the name of a
                key handler.
              </p>
            </ul>
          </div>
          <h6 id="autosec-7544">
            <a id="sec:pgf:unknown:keys"></a
            ><span
              ><span class="sectionnumber" id="sec-87.3.6">87.3.6</span> Keys
              That Are Unknown</span
            ><a
              class="anchor-link"
              data-html-link="sec-87.3.6"
              data-pdf-destination="subsubsection.87.3.6"
              data-pdf-page="984"
              href="#sec-87.3.6"
              >&para;</a
            >
          </h6>
          <a id="pgfmanual-autopage-7544"></a>

          <p>
            For some keys, neither the key, nor its
            <span class="verb">.@cmd</span> subkey nor a handler is defined. In
            this case, it is checked whether the key
            <span class="angle">&langle;</span><i>current path</i
            ><span class="angle">&rangle;</span
            ><span class="verb">/.unknown/.@cmd</span> exists. Thus, when you
            try to use the key <span class="verb">/tikz/strange</span>, then it
            is checked whether
            <span class="verb">/tikz/.unknown/.@cmd</span> exists. If this key
            exists (which it does), it is executed. This code can then try to
            make sense of the key. For instance, the handler for
            <span class="tikzname">TikZ</span> will try to interpret the
            key&rsquo;s name as a color or as an arrow specification or as a
            <span class="textsc">pgf</span> option.
          </p>

          <p>
            You can set up unknown key handlers for your own keys by simply
            setting the code of the key <span class="angle">&langle;</span
            ><i>my path prefix</i><span class="angle">&rangle;</span
            ><span class="verb">/.unknown</span>. This also allows you to set up
            &ldquo;search paths&rdquo;. The idea is that you would like keys to
            be searched not only in a single default path, but in several.
            Suppose, for instance, that you would like keys to be searched for
            in <span class="verb">/a</span>, <span class="verb">/b</span>, and
            <span class="verb">/b/c</span>. We set up a key
            <span class="verb">/my search path</span> for this:
          </p>

          <figure class="example">
            <div class="example-code">
              <button class="clipboardButton" type="button">copy</button>

              <code>
                <br />
                <span class="textcolor" style="color: #000000"
                  ><a href="pgfkeys#pgf.back/pgfkeys">\pgfkeys</a></span
                >{<span class="textcolor" style="color: #000000"
                  ><span class="textcolor" style="color: #008000"
                    >/my search path</span
                  >/<span class="textcolor" style="color: #0000b2"
                    >.unknown/.code</span
                  >=<br />
                  <span class="textcolor" style="color: #008000"
                    >{<span class="example-code-comment">%</span><br />
                    <span class="spaces">    </span><span
                      class="textcolor"
                      style="color: #0000b2"
                      >\let</span
                    ><span class="textcolor" style="color: #0000b2"
                      >\searchname</span
                    >=<span class="textcolor" style="color: #0000b2"
                      >\pgfkeyscurrentname</span
                    ><span class="example-code-comment">%</span><br />
                    <span class="spaces">    </span><span
                      class="textcolor"
                      style="color: #0000b2"
                      ><a href="pgfkeys#pgf.back/pgfkeysalso"
                        >\pgfkeysalso</a
                      ></span
                    >{<span class="example-code-comment">%</span><br />
                    <span class="spaces">      </span>/a/<span
                      class="textcolor"
                      style="color: #0000b2"
                      >\searchname/</span
                    >.try=#1,<br />
                    <span class="spaces">      </span>/b/<span
                      class="textcolor"
                      style="color: #0000b2"
                      >\searchname/</span
                    >.retry=#1,<br />
                    <span class="spaces">      </span>/b/c/<span
                      class="textcolor"
                      style="color: #0000b2"
                      >\searchname/</span
                    >.retry=#1<span class="example-code-comment">%</span><br />
                    <span class="spaces">    </span>}<span
                      class="example-code-comment"
                      >%</span
                    ><br />
                    <span class="spaces">  </span>}<span class="example-code-comment">%</span
                    ><br /> </span></span
                >}<br />
                <span class="textcolor" style="color: #000000"
                  ><a href="pgfkeys#pgf.back/pgfkeys">\pgfkeys</a></span
                >{<span class="textcolor" style="color: #000000"
                  ><span class="textcolor" style="color: #008000"
                    >/my search path</span
                  >/<span class="textcolor" style="color: #0000b2"
                    ><a href="pgfkeys#pgf./handlers/.cd">.cd</a></span
                  >,<span class="textcolor" style="color: #008000">foo</span
                  >,<span class="textcolor" style="color: #008000"
                    >bar</span
                  ></span
                >}<br />
              </code>
            </div>
          </figure>

          <p>
            In the above code, <span class="verb">foo</span> and
            <span class="verb">bar</span> will be searched for in the three
            directories <span class="verb">/a</span>,
            <span class="verb">/b</span>, and <span class="verb">/b/c</span>.
            Before you start implementing search paths using this pattern,
            consider the <span class="verb">/.search also</span> handler
            discussed below.
          </p>

          <p>
            If the key <span class="angle">&langle;</span><i>current path</i
            ><span class="angle">&rangle;</span
            ><span class="verb">/.unknown/.@cmd</span> does not exist, the
            handler <span class="verb">/handlers/.unknown</span> is invoked
            instead, which is always defined and which prints an error message
            by default.
          </p>
          <h6 id="autosec-7545">
            <span
              ><span class="sectionnumber" id="sec-87.3.7">87.3.7</span> Search
              Paths And Handled Keys</span
            ><a
              class="anchor-link"
              data-html-link="sec-87.3.7"
              data-pdf-destination="subsubsection.87.3.7"
              data-pdf-page="984"
              href="#sec-87.3.7"
              >&para;</a
            >
          </h6>
          <a id="pgfmanual-autopage-7545"></a>

          <p>
            There is one special case which occurs in the search path example
            above. What happens if we want to change a style? For example,
          </p>

          <figure class="example">
            <div class="example-code">
              <button class="clipboardButton" type="button">copy</button>

              <code>
                <br />
                <span class="textcolor" style="color: #000000"
                  ><a href="pgfkeys#pgf.back/pgfkeys">\pgfkeys</a></span
                >{<span class="textcolor" style="color: #000000"
                  ><span class="textcolor" style="color: #008000"
                    >/my search path</span
                  >/<span class="textcolor" style="color: #0000b2"
                    ><a href="pgfkeys#pgf./handlers/.cd">.cd</a></span
                  >,<span class="textcolor" style="color: #008000">custom</span
                  >/<span class="textcolor" style="color: #0000b2"
                    ><a href="pgfkeys#pgf./handlers/.style">.style</a></span
                  >={<span class="textcolor" style="color: #008000"
                    >variables</span
                  >}</span
                >}<br />
              </code>
            </div>
          </figure>

          <p>
            could mean a style in <span class="verb">/my search path/</span>,
            <span class="verb">/a/</span>, <span class="verb">/b/</span> or even
            <span class="verb">/b/c/</span>!
          </p>

          <p>
            Due to the rules for handled keys, the answer is
            <span class="verb">/my search path/custom/.style={variables}</span>.
            It may be useful to modify this default behavior. One useful thing
            would be to search for <em>existing</em> styles named
            <span class="verb">custom</span> and redefine them. For example, if
            a style <span class="verb">/b/custom</span> exists, the assignment
            <span class="verb">custom/.style={variables}</span> should probably
            redefine <span class="verb">/b/custom</span> instead of
            <span class="verb">/my search path/custom</span>. This can be done
            using <span class="verb">handler config</span>:
          </p>

          <figure class="example">
            <div class="example-image">
              <p>
                This is &lsquo;/b/custom&rsquo;. This is
                &lsquo;/b/custom&rsquo;.Modified.
              </p>
            </div>

            <div class="example-code">
              <button class="clipboardButton" type="button">copy</button>

              <code>
                <br />
                <span class="textcolor" style="color: #000000"
                  ><a href="pgfkeys#pgf.back/pgfkeys">\pgfkeys</a></span
                >{<span class="textcolor" style="color: #000000"
                  ><span class="textcolor" style="color: #008000"
                    >/my search path</span
                  >/<span class="textcolor" style="color: #0000b2"
                    >.unknown/.code</span
                  >=<br />
                  <span class="textcolor" style="color: #008000"
                    >{<span class="example-code-comment">%</span><br />
                    <span class="spaces">    </span><span
                      class="textcolor"
                      style="color: #0000b2"
                      >\let</span
                    ><span class="textcolor" style="color: #0000b2"
                      >\searchname</span
                    >=<span class="textcolor" style="color: #0000b2"
                      >\pgfkeyscurrentname</span
                    ><span class="example-code-comment">%</span><br />
                    <span class="spaces">    </span><span
                      class="textcolor"
                      style="color: #0000b2"
                      ><a href="pgfkeys#pgf.back/pgfkeysalso"
                        >\pgfkeysalso</a
                      ></span
                    >{<span class="example-code-comment">%</span><br />
                    <span class="spaces">      </span>/a/<span
                      class="textcolor"
                      style="color: #0000b2"
                      >\searchname/</span
                    >.try=#1,<br />
                    <span class="spaces">      </span>/b/<span
                      class="textcolor"
                      style="color: #0000b2"
                      >\searchname/</span
                    >.retry=#1,<br />
                    <span class="spaces">      </span>/b/c/<span
                      class="textcolor"
                      style="color: #0000b2"
                      >\searchname/</span
                    >.retry=#1<span class="example-code-comment">%</span><br />
                    <span class="spaces">    </span>}<span
                      class="example-code-comment"
                      >%</span
                    ><br />
                    <span class="spaces">  </span>}<span class="example-code-comment">%</span
                    ><br /> </span></span
                >}<br />
                <br />
                <span class="example-code-comment"
                  >% Let's define /b/custom here:</span
                ><br />
                <span class="textcolor" style="color: #000000"
                  ><a href="pgfkeys#pgf.back/pgfkeys">\pgfkeys</a></span
                >{<span class="textcolor" style="color: #000000"
                  ><span class="textcolor" style="color: #008000"
                    >/b/custom</span
                  >/<span class="textcolor" style="color: #0000b2"
                    ><a href="pgfkeys#pgf./handlers/.code">.code</a></span
                  >=<span class="textcolor" style="color: #008000"
                    >{This is `<span class="textcolor" style="color: #0000b2"
                      >\pgfkeyscurrentkey</span
                    ><a href="tikz-shapes#pgf.'">'</a>.<span class="spaces"> </span>}</span
                  ></span
                >}<br />
                <br />
                <span class="example-code-comment"
                  >% Reconfigure treatment of key handlers:</span
                ><br />
                <span class="textcolor" style="color: #000000"
                  ><a href="pgfkeys#pgf.back/pgfkeys">\pgfkeys</a></span
                >{<span class="textcolor" style="color: #000000"
                  ><span class="textcolor" style="color: #008000"
                    >/handler config</span
                  >=<span class="textcolor" style="color: #008000"
                    >only existing</span
                  ></span
                >}<br />
                <br />
                <span class="example-code-comment"
                  >% The search path procedure will find /b/custom</span
                ><br />
                <span class="example-code-comment"
                  >% -&gt; leads to This is `/b/custom'</span
                ><br />
                <span class="textcolor" style="color: #000000"
                  ><a href="pgfkeys#pgf.back/pgfkeys">\pgfkeys</a></span
                >{<span class="textcolor" style="color: #000000"
                  ><span class="textcolor" style="color: #008000"
                    >/my search path</span
                  >/<span class="textcolor" style="color: #0000b2"
                    ><a href="pgfkeys#pgf./handlers/.cd">.cd</a></span
                  >,<span class="textcolor" style="color: #008000"
                    >custom</span
                  ></span
                >}<br />
                <br />
                <span class="example-code-comment"
                  >% Due to the reconfiguration, this will find /b/custom
                  instead of</span
                ><br />
                <span class="example-code-comment"
                  >% defining /my search path/custom:</span
                ><br />
                <span class="textcolor" style="color: #000000"
                  ><a href="pgfkeys#pgf.back/pgfkeys">\pgfkeys</a></span
                >{<span class="textcolor" style="color: #000000"
                  ><span class="textcolor" style="color: #008000"
                    >/my search path</span
                  >/<span class="textcolor" style="color: #0000b2"
                    ><a href="pgfkeys#pgf./handlers/.cd">.cd</a></span
                  >,<span class="textcolor" style="color: #008000">custom</span
                  >/<span class="textcolor" style="color: #0000b2"
                    ><a href="pgfkeys#pgf./handlers/.append:code"
                      >.append code</a
                    ></span
                  >=<span class="textcolor" style="color: #008000"
                    >{Modified.<span class="spaces"> </span>}</span
                  ></span
                >}<br />
                <br />
                <span class="example-code-comment"
                  >% So using the search path, we again find /b/custom
                  which</span
                ><br />
                <span class="example-code-comment"
                  >% leads to This is `/b/custom' Modified</span
                ><br />
                <span class="textcolor" style="color: #000000"
                  ><a href="pgfkeys#pgf.back/pgfkeys">\pgfkeys</a></span
                >{<span class="textcolor" style="color: #000000"
                  ><span class="textcolor" style="color: #008000"
                    >/my search path</span
                  >/<span class="textcolor" style="color: #0000b2"
                    ><a href="pgfkeys#pgf./handlers/.cd">.cd</a></span
                  >,<span class="textcolor" style="color: #008000"
                    >custom</span
                  ></span
                >}<br />
              </code>
            </div>
          </figure>

          <p>
            A slightly different approach to search paths can be realized using
            the <span class="verb">/.search also</span> key handler, see below.
          </p>
          <h5 id="autosec-7546">
            <span
              ><span class="sectionnumber" id="sec-87.4">87.4</span> Key
              Handlers</span
            ><a
              class="anchor-link"
              data-html-link="sec-87.4"
              data-pdf-destination="subsection.87.4"
              data-pdf-page="985"
              href="#sec-87.4"
              >&para;</a
            >
          </h5>
          <a id="pgfmanual-autopage-7546"></a>

          <p>
            We now describe which key handlers are defined by default. You can
            also define new ones as described in Section&nbsp;<a
              href="pgfkeys#section-key-handlers"
              >87.3.5</a
            >.
          </p>
          <h6 id="autosec-7547">
            <span
              ><span class="sectionnumber" id="sec-87.4.1">87.4.1</span>
              Handlers for Path Management</span
            ><a
              class="anchor-link"
              data-html-link="sec-87.4.1"
              data-pdf-destination="subsubsection.87.4.1"
              data-pdf-page="985"
              href="#sec-87.4.1"
              >&para;</a
            >
          </h6>
          <a id="pgfmanual-autopage-7547"></a>

          <div class="manualentry">
            <ul class="list" style="list-style-type: none">
              <div class="entryheadline">
                <li>
                  <p>
                    <a id="pgf./handlers/.cd"></a>
                    <span class="hl-def"
                      ><b>Key handler</b> <span class="angle">&langle;</span
                      ><i>key</i><span class="angle">&rangle;</span
                      ><kbd>/<span class="declare">.cd</span></kbd></span
                    >
                    <a
                      class="anchor-link"
                      data-html-link="pgf./handlers/.cd"
                      href="#handlers/.cd"
                      id="handlers/.cd"
                      >&para;</a
                    >
                  </p>
                </li>
              </div>
              <p>
                This handler causes the default path to be set to
                <span class="angle">&langle;</span><i>key</i
                ><span class="angle">&rangle;</span>. Note that the default path
                is reset at the beginning of each call to
                <span class="verb">\pgfkeys</span> to be equal to&nbsp;<span
                  class="verb"
                  >/</span
                >.
              </p>
              <p>
                <i>Example: </i
                ><span class="verb">\pgfkeys{/tikz/.cd,...}</span>
              </p>
            </ul>
          </div>

          <div class="manualentry">
            <ul class="list" style="list-style-type: none">
              <div class="entryheadline">
                <li>
                  <p>
                    <a id="pgf./handlers/.is:family"></a>
                    <span class="hl-def"
                      ><b>Key handler</b> <span class="angle">&langle;</span
                      ><i>key</i><span class="angle">&rangle;</span
                      ><kbd>/<span class="declare">.is family</span></kbd></span
                    >
                    <a
                      class="anchor-link"
                      data-html-link="pgf./handlers/.is:family"
                      href="#handlers/.is:family"
                      id="handlers/.is:family"
                      >&para;</a
                    >
                  </p>
                </li>
              </div>
              <a id="section-is family-handler"></a>
              <p>
                This handler sets up things such that when
                <span class="angle">&langle;</span><i>key</i
                ><span class="angle">&rangle;</span> is executed, then the
                current path is set to <span class="angle">&langle;</span
                ><i>key</i><span class="angle">&rangle;</span>. A typical use is
                the following:
              </p>

              <figure class="example">
                <div class="example-code">
                  <button class="clipboardButton" type="button">copy</button>
                  <code>
                    <br />
                    <span class="textcolor" style="color: #000000"
                      ><a href="pgfkeys#pgf.back/pgfkeys">\pgfkeys</a></span
                    >{<span class="textcolor" style="color: #000000"
                      ><span class="textcolor" style="color: #008000"
                        >/tikz</span
                      >/<span class="textcolor" style="color: #0000b2"
                        ><a href="pgfkeys#pgf./handlers/.is:family"
                          >.is family</a
                        ></span
                      ></span
                    >}<br />
                    <span class="textcolor" style="color: #000000"
                      ><a href="pgfkeys#pgf.back/pgfkeys">\pgfkeys</a></span
                    >{<span class="textcolor" style="color: #000000"
                      ><span class="textcolor" style="color: #008000"
                        ><a href="tikz-scopes#pgf.tikz">tikz</a></span
                      >,<span class="textcolor" style="color: #008000"
                        ><a href="tikz-actions#pgf.line:width"
                          >line width</a
                        ></span
                      >=<span class="textcolor" style="color: #008000"
                        >1cm</span
                      ></span
                    >}<br />
                  </code>
                </div>
              </figure>
              <p>
                The effect of this handler is the same as if you had written
                <span class="angle">&langle;</span><i>key</i
                ><span class="angle">&rangle;</span
                ><span class="verb">/.style=</span
                ><span class="angle">&langle;</span><i>key</i
                ><span class="angle">&rangle;</span
                ><span class="verb">/.cd</span>, only the code produced by the
                <span class="verb">/.is family</span> handler is quicker.
              </p>
            </ul>
          </div>
          <h6 id="autosec-7548">
            <a id="section-default-handlers"></a
            ><span
              ><span class="sectionnumber" id="sec-87.4.2">87.4.2</span> Setting
              Defaults</span
            ><a
              class="anchor-link"
              data-html-link="sec-87.4.2"
              data-pdf-destination="subsubsection.87.4.2"
              data-pdf-page="985"
              href="#sec-87.4.2"
              >&para;</a
            >
          </h6>
          <a id="pgfmanual-autopage-7548"></a>

          <div class="manualentry">
            <ul class="list" style="list-style-type: none">
              <div class="entryheadline">
                <li>
                  <p>
                    <a id="pgf./handlers/.default"></a>
                    <span class="hl-def"
                      ><b>Key handler</b> <span class="angle">&langle;</span
                      ><i>key</i><span class="angle">&rangle;</span
                      ><kbd>/<span class="declare">.default</span></kbd
                      ><span class="verb">=</span
                      ><span class="angle">&langle;</span><i>value</i
                      ><span class="angle">&rangle;</span></span
                    >
                    <a
                      class="anchor-link"
                      data-html-link="pgf./handlers/.default"
                      href="#handlers/.default"
                      id="handlers/.default"
                      >&para;</a
                    >
                  </p>
                </li>
              </div>
              <p>
                Sets the default value of <span class="angle">&langle;</span
                ><i>key</i><span class="angle">&rangle;</span> to
                <span class="angle">&langle;</span><i>value</i
                ><span class="angle">&rangle;</span>. This means that whenever
                no value is provided in a call to
                <span class="verb">\pgfkeys</span>, then this
                <span class="angle">&langle;</span><i>value</i
                ><span class="angle">&rangle;</span> will be used instead.
              </p>
              <p>
                <i>Example: </i
                ><span class="verb">\pgfkeys{/width/.default=1cm}</span>
              </p>
            </ul>
          </div>

          <div class="manualentry">
            <ul class="list" style="list-style-type: none">
              <div class="entryheadline">
                <li>
                  <p>
                    <a id="pgf./handlers/.value:required"></a>
                    <span class="hl-def"
                      ><b>Key handler</b> <span class="angle">&langle;</span
                      ><i>key</i><span class="angle">&rangle;</span
                      ><kbd
                        >/<span class="declare">.value required</span></kbd
                      ></span
                    >
                    <a
                      class="anchor-link"
                      data-html-link="pgf./handlers/.value:required"
                      href="#handlers/.value:required"
                      id="handlers/.value:required"
                      >&para;</a
                    >
                  </p>
                </li>
              </div>
              <p>
                This handler causes the error message key
                <span class="verb">/errors/value required</span> to be issued
                whenever the <span class="angle">&langle;</span><i>key</i
                ><span class="angle">&rangle;</span> is used without a value.
              </p>
              <p>
                <i>Example: </i
                ><span class="verb">\pgfkeys{/width/.value required}</span>
              </p>
            </ul>
          </div>

          <div class="manualentry">
            <ul class="list" style="list-style-type: none">
              <div class="entryheadline">
                <li>
                  <p>
                    <a id="pgf./handlers/.value:forbidden"></a>
                    <span class="hl-def"
                      ><b>Key handler</b> <span class="angle">&langle;</span
                      ><i>key</i><span class="angle">&rangle;</span
                      ><kbd
                        >/<span class="declare">.value forbidden</span></kbd
                      ></span
                    >
                    <a
                      class="anchor-link"
                      data-html-link="pgf./handlers/.value:forbidden"
                      href="#handlers/.value:forbidden"
                      id="handlers/.value:forbidden"
                      >&para;</a
                    >
                  </p>
                </li>
              </div>
              <p>
                This handler causes the error message key
                <span class="verb">/errors/value forbidden</span> to be issued
                whenever the <span class="angle">&langle;</span><i>key</i
                ><span class="angle">&rangle;</span> is used with a value.
              </p>
              <p>
                This handler works be adding code to the code of the key. This
                means that you have to define the key first before you can use
                this handler.
              </p>

              <figure class="example">
                <div class="example-code">
                  <button class="clipboardButton" type="button">copy</button>
                  <code>
                    <br />
                    <span class="textcolor" style="color: #000000"
                      ><a href="pgfkeys#pgf.back/pgfkeys">\pgfkeys</a></span
                    >{<span class="textcolor" style="color: #000000"
                      ><span class="textcolor" style="color: #008000"
                        >/my key</span
                      >/<span class="textcolor" style="color: #0000b2"
                        ><a href="pgfkeys#pgf./handlers/.code">.code</a></span
                      >=<span class="textcolor" style="color: #008000"
                        >I do <a href="pgfkeys#pgf.not">not</a> want an
                        argument!</span
                      ></span
                    >}<br />
                    <span class="textcolor" style="color: #000000"
                      ><a href="pgfkeys#pgf.back/pgfkeys">\pgfkeys</a></span
                    >{<span class="textcolor" style="color: #000000"
                      ><span class="textcolor" style="color: #008000"
                        >/my key</span
                      >/<span class="textcolor" style="color: #0000b2"
                        ><a href="pgfkeys#pgf./handlers/.value:forbidden"
                          >.value forbidden</a
                        ></span
                      ></span
                    >}<br />
                    <br />
                    <span class="textcolor" style="color: #000000"
                      ><a href="pgfkeys#pgf.back/pgfkeys">\pgfkeys</a></span
                    >{<span class="textcolor" style="color: #000000"
                      ><span class="textcolor" style="color: #008000"
                        >/my key</span
                      ></span
                    >}<span class="spaces">     </span><span
                      class="example-code-comment"
                      >% Ok</span
                    ><br />
                    <span class="textcolor" style="color: #000000"
                      ><a href="pgfkeys#pgf.back/pgfkeys">\pgfkeys</a></span
                    >{<span class="textcolor" style="color: #000000"
                      ><span class="textcolor" style="color: #008000"
                        >/my key</span
                      >=<span class="textcolor" style="color: #008000"
                        >foo</span
                      ></span
                    >} <span class="example-code-comment">% Error</span
                    ><br />
                  </code>
                </div>
              </figure>
              <p></p>
            </ul>
          </div>
          <h6 id="autosec-7549">
            <a id="section-code-handlers"></a
            ><span
              ><span class="sectionnumber" id="sec-87.4.3">87.4.3</span>
              Defining Key Codes</span
            ><a
              class="anchor-link"
              data-html-link="sec-87.4.3"
              data-pdf-destination="subsubsection.87.4.3"
              data-pdf-page="986"
              href="#sec-87.4.3"
              >&para;</a
            >
          </h6>
          <a id="pgfmanual-autopage-7549"></a>

          <p>A number of handlers exist for defining the code of keys.</p>

          <div class="manualentry">
            <ul class="list" style="list-style-type: none">
              <div class="entryheadline">
                <li>
                  <p>
                    <a id="pgf./handlers/.code"></a>
                    <span class="hl-def"
                      ><b>Key handler</b> <span class="angle">&langle;</span
                      ><i>key</i><span class="angle">&rangle;</span
                      ><kbd>/<span class="declare">.code</span></kbd
                      ><span class="verb">=</span
                      ><span class="angle">&langle;</span><i>code</i
                      ><span class="angle">&rangle;</span></span
                    >
                    <a
                      class="anchor-link"
                      data-html-link="pgf./handlers/.code"
                      href="#handlers/.code"
                      id="handlers/.code"
                      >&para;</a
                    >
                  </p>
                </li>
              </div>
              <p>
                This handler executes <span class="verb">\pgfkeysdef</span> with
                the parameters <span class="angle">&langle;</span><i>key</i
                ><span class="angle">&rangle;</span> and
                <span class="angle">&langle;</span><i>code</i
                ><span class="angle">&rangle;</span>. This means that,
                afterwards, whenever the <span class="angle">&langle;</span
                ><i>key</i><span class="angle">&rangle;</span> is used, the
                <span class="angle">&langle;</span><i>code</i
                ><span class="angle">&rangle;</span> gets executed. More
                precisely, when <span class="angle">&langle;</span><i>key</i
                ><span class="angle">&rangle;</span><span class="verb">=</span
                ><span class="angle">&langle;</span><i>value</i
                ><span class="angle">&rangle;</span> is encountered in a key
                list, <span class="angle">&langle;</span><i>code</i
                ><span class="angle">&rangle;</span> is executed with any
                occurrence of <span class="verb">#1</span> replaced by
                <span class="angle">&langle;</span><i>value</i
                ><span class="angle">&rangle;</span>. As always, if no
                <span class="angle">&langle;</span><i>value</i
                ><span class="angle">&rangle;</span> is given, the default value
                is used, if defined, or the special value
                <span class="verb">\pgfkeysnovalue</span>.
              </p>
              <p>
                It is permissible that <span class="angle">&langle;</span
                ><i>code</i><span class="angle">&rangle;</span> calls the
                command <span class="verb">\pgfkeys</span>. It is also
                permissible that <span class="angle">&langle;</span><i>code</i
                ><span class="angle">&rangle;</span> calls the command
                <span class="verb">\pgfkeysalso</span>, which is useful for
                styles, see below.
              </p>

              <figure class="example">
                <div class="example-code">
                  <button class="clipboardButton" type="button">copy</button>
                  <code>
                    <br />
                    <span class="textcolor" style="color: #000000"
                      ><a href="pgfkeys#pgf.back/pgfkeys">\pgfkeys</a></span
                    >{<span class="textcolor" style="color: #000000"
                      ><span class="textcolor" style="color: #008000"
                        >/par indent</span
                      >/<span class="textcolor" style="color: #0000b2"
                        ><a href="pgfkeys#pgf./handlers/.code">.code</a></span
                      >=<span class="textcolor" style="color: #008000"
                        >{<span class="textcolor" style="color: #0000b2"
                          >\parindent</span
                        >=#1}</span
                      >,<span class="textcolor" style="color: #008000"
                        >/par indent</span
                      >/<span class="textcolor" style="color: #0000b2"
                        ><a href="pgfkeys#pgf./handlers/.default"
                          >.default</a
                        ></span
                      >=<span class="textcolor" style="color: #008000"
                        >2em</span
                      ></span
                    >}<br />
                    <span class="textcolor" style="color: #000000"
                      ><a href="pgfkeys#pgf.back/pgfkeys">\pgfkeys</a></span
                    >{<span class="textcolor" style="color: #000000"
                      ><span class="textcolor" style="color: #008000"
                        >/par indent</span
                      >=<span class="textcolor" style="color: #008000"
                        >1cm</span
                      ></span
                    >}<br />
                    ...<br />
                    <span class="textcolor" style="color: #000000"
                      ><a href="pgfkeys#pgf.back/pgfkeys">\pgfkeys</a></span
                    >{<span class="textcolor" style="color: #000000"
                      ><span class="textcolor" style="color: #008000"
                        >/par indent</span
                      ></span
                    >}<br />
                  </code>
                </div>
              </figure>
              <p></p>
            </ul>
          </div>

          <div class="manualentry">
            <ul class="list" style="list-style-type: none">
              <div class="entryheadline">
                <li>
                  <p>
                    <a id="pgf./handlers/.ecode"></a>
                    <span class="hl-def"
                      ><b>Key handler</b> <span class="angle">&langle;</span
                      ><i>key</i><span class="angle">&rangle;</span
                      ><kbd>/<span class="declare">.ecode</span></kbd
                      ><span class="verb">=</span
                      ><span class="angle">&langle;</span><i>code</i
                      ><span class="angle">&rangle;</span></span
                    >
                    <a
                      class="anchor-link"
                      data-html-link="pgf./handlers/.ecode"
                      href="#handlers/.ecode"
                      id="handlers/.ecode"
                      >&para;</a
                    >
                  </p>
                </li>
              </div>
              <p>
                This handler works like <span class="verb">/.code</span>, only
                the command <span class="verb">\pgfkeysedef</span> is used.
              </p>
            </ul>
          </div>

          <div class="manualentry">
            <ul class="list" style="list-style-type: none">
              <div class="entryheadline">
                <li>
                  <p>
                    <a id="pgf./handlers/.code:2:args"></a>
                    <span class="hl-def"
                      ><b>Key handler</b> <span class="angle">&langle;</span
                      ><i>key</i><span class="angle">&rangle;</span
                      ><kbd>/<span class="declare">.code 2 args</span></kbd
                      ><span class="verb">=</span
                      ><span class="angle">&langle;</span><i>code</i
                      ><span class="angle">&rangle;</span></span
                    >
                    <a
                      class="anchor-link"
                      data-html-link="pgf./handlers/.code:2:args"
                      href="#handlers/.code:2:args"
                      id="handlers/.code:2:args"
                      >&para;</a
                    >
                  </p>
                </li>
              </div>
              <p>
                This handler works like <span class="verb">/.code</span>, only
                two arguments rather than one are expected when the
                <span class="angle">&langle;</span><i>code</i
                ><span class="angle">&rangle;</span> is executed. This means
                that when <span class="angle">&langle;</span><i>key</i
                ><span class="angle">&rangle;</span><span class="verb">=</span
                ><span class="angle">&langle;</span><i>value</i
                ><span class="angle">&rangle;</span> is encountered in a key
                list, the <span class="angle">&langle;</span><i>value</i
                ><span class="angle">&rangle;</span> should consist of two
                arguments. For instance, <span class="angle">&langle;</span
                ><i>value</i><span class="angle">&rangle;</span> could be
                <span class="verb">{first}{second}</span>. Then
                <span class="angle">&langle;</span><i>code</i
                ><span class="angle">&rangle;</span> is executed with any
                occurrence of <span class="verb">#1</span> replaced
                <span class="verb">first</span> and any occurrence of
                <span class="verb">#2</span> replaced by
                <span class="verb">second</span>.
              </p>

              <figure class="example">
                <div class="example-code">
                  <button class="clipboardButton" type="button">copy</button>
                  <code>
                    <br />
                    <span class="textcolor" style="color: #000000"
                      ><a href="pgfkeys#pgf.back/pgfkeys">\pgfkeys</a></span
                    >{<span class="textcolor" style="color: #000000"
                      ><span class="textcolor" style="color: #008000"
                        >/page size</span
                      >/<span class="textcolor" style="color: #0000b2"
                        ><a href="pgfkeys#pgf./handlers/.code:2:args"
                          >.code 2 args</a
                        ></span
                      >=<span class="textcolor" style="color: #008000"
                        >{<span class="textcolor" style="color: #0000b2"
                          >\paperheight</span
                        >=#2<span class="textcolor" style="color: #0000b2"
                          >\paperwidth</span
                        >=#1}</span
                      ></span
                    >}<br />
                    <span class="textcolor" style="color: #000000"
                      ><a href="pgfkeys#pgf.back/pgfkeys">\pgfkeys</a></span
                    >{<span class="textcolor" style="color: #000000"
                      ><span class="textcolor" style="color: #008000"
                        >/page size</span
                      >=<span class="textcolor" style="color: #008000"
                        >{30cm}{20cm}</span
                      ></span
                    >}<br />
                  </code>
                </div>
              </figure>
              <p>
                Because of the special way the
                <span class="angle">&langle;</span><i>value</i
                ><span class="angle">&rangle;</span> is parsed, if you set
                <span class="angle">&langle;</span><i>value</i
                ><span class="angle">&rangle;</span> to, for instance,
                <span class="verb">first</span> (without any braces), then
                <span class="verb">#1</span> will be set to
                <span class="verb">f</span> and
                <span class="verb">#2</span> will be set to
                <span class="verb">irst</span>.
              </p>
            </ul>
          </div>

          <div class="manualentry">
            <ul class="list" style="list-style-type: none">
              <div class="entryheadline">
                <li>
                  <p>
                    <a id="pgf./handlers/.ecode:2:args"></a>
                    <span class="hl-def"
                      ><b>Key handler</b> <span class="angle">&langle;</span
                      ><i>key</i><span class="angle">&rangle;</span
                      ><kbd>/<span class="declare">.ecode 2 args</span></kbd
                      ><span class="verb">=</span
                      ><span class="angle">&langle;</span><i>code</i
                      ><span class="angle">&rangle;</span></span
                    >
                    <a
                      class="anchor-link"
                      data-html-link="pgf./handlers/.ecode:2:args"
                      href="#handlers/.ecode:2:args"
                      id="handlers/.ecode:2:args"
                      >&para;</a
                    >
                  </p>
                </li>
              </div>
              <p>
                This handler works like <span class="verb">/.code 2 args</span>,
                only an <span class="verb">\edef</span> is used rather than a
                <span class="verb">\def</span> to define the macro.
              </p>
            </ul>
          </div>

          <div class="manualentry">
            <ul class="list" style="list-style-type: none">
              <div class="entryheadline">
                <li>
                  <p>
                    <a id="pgf./handlers/.code:n:args"></a>
                    <span class="hl-def"
                      ><b>Key handler</b> <span class="angle">&langle;</span
                      ><i>key</i><span class="angle">&rangle;</span
                      ><kbd>/<span class="declare">.code n args</span></kbd
                      ><span class="verb">=</span>{<span class="angle"
                        >&langle;</span
                      ><i>argument count</i
                      ><span class="angle">&rangle;</span>}{<span class="angle"
                        >&langle;</span
                      ><i>code</i><span class="angle">&rangle;</span>}</span
                    >
                    <a
                      class="anchor-link"
                      data-html-link="pgf./handlers/.code:n:args"
                      href="#handlers/.code:n:args"
                      id="handlers/.code:n:args"
                      >&para;</a
                    >
                  </p>
                </li>
              </div>
              <p>
                This handler also works like <span class="verb">/.code</span>,
                but you can now specify a number of arguments between \(0\) and
                \(9\) (inclusive).
              </p>

              <figure class="example">
                <div class="example-image">
                  <p>First=&lsquo;A&rsquo;, Second=&lsquo;B&rsquo;</p>
                </div>

                <div class="example-code">
                  <button class="clipboardButton" type="button">copy</button>
                  <code>
                    <br />
                    <span class="textcolor" style="color: #000000"
                      ><a href="pgfkeys#pgf.back/pgfkeys">\pgfkeys</a></span
                    >{<span class="textcolor" style="color: #000000"
                      ><span class="textcolor" style="color: #008000"
                        >/a key</span
                      >/<span class="textcolor" style="color: #0000b2"
                        ><a href="pgfkeys#pgf./handlers/.code:n:args"
                          >.code n args</a
                        ></span
                      >=<span class="textcolor" style="color: #008000"
                        >{2}{First=`#1',<span class="spaces"> </span>Second=`#2'}</span
                      ></span
                    >}<br />
                    <span class="textcolor" style="color: #000000"
                      ><a href="pgfkeys#pgf.back/pgfkeys">\pgfkeys</a></span
                    >{<span class="textcolor" style="color: #000000"
                      ><span class="textcolor" style="color: #008000"
                        >/a key</span
                      >=<span class="textcolor" style="color: #008000"
                        >{A}{B}</span
                      ></span
                    >}<br />
                  </code>
                </div>
              </figure>
              <p>
                In contrast to <span class="verb">/.code 2 args</span>, there
                must be exactly <span class="angle">&langle;</span
                ><i>argument count</i
                ><span class="angle">&rangle;</span> arguments, not more and not
                less and these arguments should be properly delimited.
              </p>
            </ul>
          </div>

          <div class="manualentry">
            <ul class="list" style="list-style-type: none">
              <div class="entryheadline">
                <li>
                  <p>
                    <a id="pgf./handlers/.ecode:n:args"></a>
                    <span class="hl-def"
                      ><b>Key handler</b> <span class="angle">&langle;</span
                      ><i>key</i><span class="angle">&rangle;</span
                      ><kbd>/<span class="declare">.ecode n args</span></kbd
                      ><span class="verb">=</span>{<span class="angle"
                        >&langle;</span
                      ><i>argument count</i
                      ><span class="angle">&rangle;</span>}{<span class="angle"
                        >&langle;</span
                      ><i>code</i><span class="angle">&rangle;</span>}</span
                    >
                    <a
                      class="anchor-link"
                      data-html-link="pgf./handlers/.ecode:n:args"
                      href="#handlers/.ecode:n:args"
                      id="handlers/.ecode:n:args"
                      >&para;</a
                    >
                  </p>
                </li>
              </div>
              <p>
                This handler works like <span class="verb">/.code n args</span>,
                only an <span class="verb">\edef</span> is used rather than a
                <span class="verb">\def</span> to define the macro.
              </p>
            </ul>
          </div>

          <div class="manualentry">
            <ul class="list" style="list-style-type: none">
              <div class="entryheadline">
                <li>
                  <p>
                    <a id="pgf./handlers/.code:args"></a>
                    <span class="hl-def"
                      ><b>Key handler</b> <span class="angle">&langle;</span
                      ><i>key</i><span class="angle">&rangle;</span
                      ><kbd>/<span class="declare">.code args</span></kbd
                      ><span class="verb">=</span>{<span class="angle"
                        >&langle;</span
                      ><i>argument pattern</i
                      ><span class="angle">&rangle;</span>}{<span class="angle"
                        >&langle;</span
                      ><i>code</i><span class="angle">&rangle;</span>}</span
                    >
                    <a
                      class="anchor-link"
                      data-html-link="pgf./handlers/.code:args"
                      href="#handlers/.code:args"
                      id="handlers/.code:args"
                      >&para;</a
                    >
                  </p>
                </li>
              </div>
              <p>
                This handler is the most flexible way to define a
                <span class="verb">/.code</span> key: you can now specify an
                arbitrary <span class="angle">&langle;</span
                ><i>argument pattern</i><span class="angle">&rangle;</span>.
                Such a pattern is a usual
                <span class="latexlogofont"
                  ><span class="latexlogo"
                    >T<span class="latexlogosub">e</span>X</span
                  ></span
                >
                macro pattern. For instance, suppose
                <span class="angle">&langle;</span><i>argument pattern</i
                ><span class="angle">&rangle;</span> is
                <span class="verb">(#1/#2)</span> and
                <span class="angle">&langle;</span><i>key</i
                ><span class="angle">&rangle;</span><span class="verb">=</span
                ><span class="angle">&langle;</span><i>value</i
                ><span class="angle">&rangle;</span> is encountered in a key
                list with <span class="angle">&langle;</span><i>value</i
                ><span class="angle">&rangle;</span> being
                <span class="verb">(first/second)</span>. Then
                <span class="angle">&langle;</span><i>code</i
                ><span class="angle">&rangle;</span> is executed with any
                occurrence of <span class="verb">#1</span> replaced
                <span class="verb">first</span> and any occurrence of
                <span class="verb">#2</span> replaced by
                <span class="verb">second</span>. So, the actual
                <span class="angle">&langle;</span><i>value</i
                ><span class="angle">&rangle;</span> is matched against the
                <span class="angle">&langle;</span><i>argument pattern</i
                ><span class="angle">&rangle;</span> in the standard
                <span class="latexlogofont"
                  ><span class="latexlogo"
                    >T<span class="latexlogosub">e</span>X</span
                  ></span
                >
                way.
              </p>

              <figure class="example">
                <div class="example-code">
                  <button class="clipboardButton" type="button">copy</button>
                  <code>
                    <br />
                    <span class="textcolor" style="color: #000000"
                      ><a href="pgfkeys#pgf.back/pgfkeys">\pgfkeys</a></span
                    >{<span class="textcolor" style="color: #000000"
                      ><span class="textcolor" style="color: #008000"
                        >/page size</span
                      >/<span class="textcolor" style="color: #0000b2"
                        ><a href="pgfkeys#pgf./handlers/.code:args"
                          >.code args</a
                        ></span
                      >=<span class="textcolor" style="color: #008000"
                        >{#1 <a href="pgfkeys#pgf.and">and</a> #2}{<span
                          class="textcolor"
                          style="color: #0000b2"
                          >\paperheight</span
                        >=#2<span class="textcolor" style="color: #0000b2"
                          >\paperwidth</span
                        >=#1}</span
                      ></span
                    >}<br />
                    <span class="textcolor" style="color: #000000"
                      ><a href="pgfkeys#pgf.back/pgfkeys">\pgfkeys</a></span
                    >{<span class="textcolor" style="color: #000000"
                      ><span class="textcolor" style="color: #008000"
                        >/page size</span
                      >=<span class="textcolor" style="color: #008000"
                        >30cm <a href="pgfkeys#pgf.and">and</a> 20cm</span
                      ></span
                    >}<br />
                  </code>
                </div>
              </figure>
              <p>
                Note that <span class="verb">/.code n args</span> should be
                preferred in case you need just a number of arguments (when the
                resulting keys are used,
                <span class="verb">/.code n args</span> gobbles spaces between
                the arguments whereas
                <span class="verb">/.code args</span> considers spaces to be
                part of the argument).
              </p>
            </ul>
          </div>

          <div class="manualentry">
            <ul class="list" style="list-style-type: none">
              <div class="entryheadline">
                <li>
                  <p>
                    <a id="pgf./handlers/.ecode:args"></a>
                    <span class="hl-def"
                      ><b>Key handler</b> <span class="angle">&langle;</span
                      ><i>key</i><span class="angle">&rangle;</span
                      ><kbd>/<span class="declare">.ecode args</span></kbd
                      ><span class="verb">=</span>{<span class="angle"
                        >&langle;</span
                      ><i>argument pattern</i
                      ><span class="angle">&rangle;</span>}{<span class="angle"
                        >&langle;</span
                      ><i>code</i><span class="angle">&rangle;</span>}</span
                    >
                    <a
                      class="anchor-link"
                      data-html-link="pgf./handlers/.ecode:args"
                      href="#handlers/.ecode:args"
                      id="handlers/.ecode:args"
                      >&para;</a
                    >
                  </p>
                </li>
              </div>
              <p>
                This handler works like <span class="verb">/.code args</span>,
                only an <span class="verb">\edef</span> is used rather than a
                <span class="verb">\def</span> to define the macro.
              </p>
            </ul>
          </div>

          <p>There are also handlers for modifying existing keys.</p>

          <div class="manualentry">
            <ul class="list" style="list-style-type: none">
              <div class="entryheadline">
                <li>
                  <p>
                    <a id="pgf./handlers/.add:code"></a>
                    <span class="hl-def"
                      ><b>Key handler</b> <span class="angle">&langle;</span
                      ><i>key</i><span class="angle">&rangle;</span
                      ><kbd>/<span class="declare">.add code</span></kbd
                      ><span class="verb">=</span>{<span class="angle"
                        >&langle;</span
                      ><i>prefix code</i
                      ><span class="angle">&rangle;</span>}{<span class="angle"
                        >&langle;</span
                      ><i>append code</i
                      ><span class="angle">&rangle;</span>}</span
                    >
                    <a
                      class="anchor-link"
                      data-html-link="pgf./handlers/.add:code"
                      href="#handlers/.add:code"
                      id="handlers/.add:code"
                      >&para;</a
                    >
                  </p>
                </li>
              </div>
              <p>
                This handler adds code to an existing key. The
                <span class="angle">&langle;</span><i>prefix code</i
                ><span class="angle">&rangle;</span> is added to the code stored
                in <span class="angle">&langle;</span><i>key</i
                ><span class="angle">&rangle;</span
                ><span class="verb">/.@cmd</span> at the beginning, the
                <span class="angle">&langle;</span><i>append code</i
                ><span class="angle">&rangle;</span> is added to this code at
                the end. Either can be empty. The argument list of
                <span class="angle">&langle;</span><i>code</i
                ><span class="angle">&rangle;</span> cannot be changed using
                this handler. Note that both <span class="angle">&langle;</span
                ><i>prefix code</i><span class="angle">&rangle;</span> and
                <span class="angle">&langle;</span><i>append code</i
                ><span class="angle">&rangle;</span> may contain parameters like
                <span class="verb">#2</span>.
              </p>

              <figure class="example">
                <div class="example-code">
                  <button class="clipboardButton" type="button">copy</button>
                  <code>
                    <br />
                    <span class="textcolor" style="color: #000000"
                      ><a href="pgfkeys#pgf.back/pgfkeys">\pgfkeys</a></span
                    >{<span class="textcolor" style="color: #000000"
                      ><span class="textcolor" style="color: #008000"
                        >/par indent</span
                      >/<span class="textcolor" style="color: #0000b2"
                        ><a href="pgfkeys#pgf./handlers/.code">.code</a></span
                      >=<span class="textcolor" style="color: #008000"
                        >{<span class="textcolor" style="color: #0000b2"
                          >\parindent</span
                        >=#1}</span
                      ></span
                    >}<br />
                    <span class="textcolor" style="color: #0000b2"
                      >\newdimen</span
                    ><span class="textcolor" style="color: #0000b2"
                      >\myparindent</span
                    ><br />
                    <span class="textcolor" style="color: #000000"
                      ><a href="pgfkeys#pgf.back/pgfkeys">\pgfkeys</a></span
                    >{<span class="textcolor" style="color: #000000"
                      ><span class="textcolor" style="color: #008000"
                        >/par indent</span
                      >/<span class="textcolor" style="color: #0000b2"
                        ><a href="pgfkeys#pgf./handlers/.add:code"
                          >.add code</a
                        ></span
                      >=<span class="textcolor" style="color: #008000"
                        >{}{<span class="textcolor" style="color: #0000b2"
                          >\myparindent</span
                        >=#1}</span
                      ></span
                    >}<br />
                    ...<br />
                    <span class="textcolor" style="color: #000000"
                      ><a href="pgfkeys#pgf.back/pgfkeys">\pgfkeys</a></span
                    >{<span class="textcolor" style="color: #000000"
                      ><span class="textcolor" style="color: #008000"
                        >/par indent</span
                      >=<span class="textcolor" style="color: #008000"
                        >1cm</span
                      ></span
                    >} <span class="example-code-comment"
                      >% This will set both \parindent and</span
                    ><br />
                    <span class="spaces">                          </span><span
                      class="example-code-comment"
                      >% \myparindent to 1cm</span
                    ><br />
                  </code>
                </div>
              </figure>
              <p></p>
            </ul>
          </div>

          <div class="manualentry">
            <ul class="list" style="list-style-type: none">
              <div class="entryheadline">
                <li>
                  <p>
                    <a id="pgf./handlers/.prefix:code"></a>
                    <span class="hl-def"
                      ><b>Key handler</b> <span class="angle">&langle;</span
                      ><i>key</i><span class="angle">&rangle;</span
                      ><kbd>/<span class="declare">.prefix code</span></kbd
                      ><span class="verb">=</span
                      ><span class="angle">&langle;</span><i>prefix code</i
                      ><span class="angle">&rangle;</span></span
                    >
                    <a
                      class="anchor-link"
                      data-html-link="pgf./handlers/.prefix:code"
                      href="#handlers/.prefix:code"
                      id="handlers/.prefix:code"
                      >&para;</a
                    >
                  </p>
                </li>
              </div>
              <p>
                This handler is a shortcut for
                <span class="angle">&langle;</span><i>key</i
                ><span class="angle">&rangle;</span
                ><span class="verb">/.add code={</span
                ><span class="angle">&langle;</span><i>prefix code</i
                ><span class="angle">&rangle;</span
                ><span class="verb">}{}</span>. That is, this handler adds the
                <span class="angle">&langle;</span><i>prefix code</i
                ><span class="angle">&rangle;</span> at the beginning of the
                code stored in <span class="angle">&langle;</span><i>key</i
                ><span class="angle">&rangle;</span
                ><span class="verb">/.@cmd</span>.
              </p>
            </ul>
          </div>

          <div class="manualentry">
            <ul class="list" style="list-style-type: none">
              <div class="entryheadline">
                <li>
                  <p>
                    <a id="pgf./handlers/.append:code"></a>
                    <span class="hl-def"
                      ><b>Key handler</b> <span class="angle">&langle;</span
                      ><i>key</i><span class="angle">&rangle;</span
                      ><kbd>/<span class="declare">.append code</span></kbd
                      ><span class="verb">=</span
                      ><span class="angle">&langle;</span><i>append code</i
                      ><span class="angle">&rangle;</span></span
                    >
                    <a
                      class="anchor-link"
                      data-html-link="pgf./handlers/.append:code"
                      href="#handlers/.append:code"
                      id="handlers/.append:code"
                      >&para;</a
                    >
                  </p>
                </li>
              </div>
              <p>
                This handler is a shortcut for
                <span class="angle">&langle;</span><i>key</i
                ><span class="angle">&rangle;</span
                ><span class="verb">/.add code={}{</span
                ><span class="angle">&langle;</span><i>append code</i
                ><span class="angle">&rangle;</span><span class="verb">}</span>.
              </p>
            </ul>
          </div>
          <h6 id="autosec-7550">
            <span
              ><span class="sectionnumber" id="sec-87.4.4">87.4.4</span>
              Defining Styles</span
            ><a
              class="anchor-link"
              data-html-link="sec-87.4.4"
              data-pdf-destination="subsubsection.87.4.4"
              data-pdf-page="987"
              href="#sec-87.4.4"
              >&para;</a
            >
          </h6>
          <a id="pgfmanual-autopage-7550"></a>

          <p>
            The following handlers allow you to define <em>styles</em>. A style
            is a key list that is processed whenever the style is given as a key
            in a key list. Thus, a style &ldquo;stands for&rdquo; a certain key
            value list. Styles can be parameterized just like normal code.
          </p>

          <div class="manualentry">
            <ul class="list" style="list-style-type: none">
              <div class="entryheadline">
                <li>
                  <p>
                    <a id="pgf./handlers/.style"></a>
                    <span class="hl-def"
                      ><b>Key handler</b> <span class="angle">&langle;</span
                      ><i>key</i><span class="angle">&rangle;</span
                      ><kbd>/<span class="declare">.style</span></kbd
                      ><span class="verb">=</span
                      ><span class="angle">&langle;</span><i>key list</i
                      ><span class="angle">&rangle;</span></span
                    >
                    <a
                      class="anchor-link"
                      data-html-link="pgf./handlers/.style"
                      href="#handlers/.style"
                      id="handlers/.style"
                      >&para;</a
                    >
                  </p>
                </li>
              </div>
              <p>
                This handler sets things up so that whenever
                <span class="angle">&langle;</span><i>key</i
                ><span class="angle">&rangle;</span><span class="verb">=</span
                ><span class="angle">&langle;</span><i>value</i
                ><span class="angle">&rangle;</span> is encountered in a key
                list, then the <span class="angle">&langle;</span><i>key list</i
                ><span class="angle">&rangle;</span>, with every occurrence of
                <span class="verb">#1</span> replaced by
                <span class="angle">&langle;</span><i>value</i
                ><span class="angle">&rangle;</span>, is processed instead. As
                always, if no <span class="angle">&langle;</span><i>value</i
                ><span class="angle">&rangle;</span> is given, the default value
                is used, if defined, or the special value
                <span class="verb">\pgfkeysnovalue</span>.
              </p>
              <p>
                You can achieve the same effect by writing
                <span class="angle">&langle;</span><i>key</i
                ><span class="angle">&rangle;</span
                ><span class="verb">/.code=\pgfkeysalso{</span
                ><span class="angle">&langle;</span><i>key list</i
                ><span class="angle">&rangle;</span><span class="verb">}</span>.
                This means, in particular, that the code of a key could also
                first execute some normal code and only then process some
                further keys.
              </p>

              <figure class="example">
                <div class="example-code">
                  <button class="clipboardButton" type="button">copy</button>
                  <code>
                    <br />
                    <span class="textcolor" style="color: #000000"
                      ><a href="pgfkeys#pgf.back/pgfkeys">\pgfkeys</a></span
                    >{<span class="textcolor" style="color: #000000"
                      ><span class="textcolor" style="color: #008000"
                        >/par indent</span
                      >/<span class="textcolor" style="color: #0000b2"
                        ><a href="pgfkeys#pgf./handlers/.code">.code</a></span
                      >=<span class="textcolor" style="color: #008000"
                        >{<span class="textcolor" style="color: #0000b2"
                          >\parindent</span
                        >=#1}</span
                      ></span
                    >}<br />
                    <span class="textcolor" style="color: #000000"
                      ><a href="pgfkeys#pgf.back/pgfkeys">\pgfkeys</a></span
                    >{<span class="textcolor" style="color: #000000"
                      ><span class="textcolor" style="color: #008000"
                        >/no indent</span
                      >/<span class="textcolor" style="color: #0000b2"
                        ><a href="pgfkeys#pgf./handlers/.style">.style</a></span
                      >={<span class="textcolor" style="color: #008000"
                        >/par indent</span
                      >=<span class="textcolor" style="color: #008000"
                        >0pt}</span
                      ></span
                    >}<br />
                    <span class="textcolor" style="color: #000000"
                      ><a href="pgfkeys#pgf.back/pgfkeys">\pgfkeys</a></span
                    >{<span class="textcolor" style="color: #000000"
                      ><span class="textcolor" style="color: #008000"
                        >/normal indent</span
                      >/<span class="textcolor" style="color: #0000b2"
                        ><a href="pgfkeys#pgf./handlers/.style">.style</a></span
                      >={<span class="textcolor" style="color: #008000"
                        >/par indent</span
                      >=<span class="textcolor" style="color: #008000"
                        >2em}</span
                      ></span
                    >}<br />
                    <span class="textcolor" style="color: #000000"
                      ><a href="pgfkeys#pgf.back/pgfkeys">\pgfkeys</a></span
                    >{<span class="textcolor" style="color: #000000"
                      ><span class="textcolor" style="color: #008000"
                        >/no indent</span
                      ></span
                    >}<br />
                    ...<br />
                    <span class="textcolor" style="color: #000000"
                      ><a href="pgfkeys#pgf.back/pgfkeys">\pgfkeys</a></span
                    >{<span class="textcolor" style="color: #000000"
                      ><span class="textcolor" style="color: #008000"
                        >/normal indent</span
                      ></span
                    >}<br />
                  </code>
                </div>
              </figure>
              <p>
                The following example shows a parameterized style &ldquo;in
                action&rdquo;.
              </p>

              <figure class="example">
                <div class="example-image">
                  <p>
                    <span
                      class="lateximagesource"
                      id="lateximage-pgfmanual-3097"
                      ><!--
red box

blue box
--><img
                        alt="(-tikz-&nbsp;diagram)"
                        class="lateximage"
                        height="59.147"
                        loading="lazy"
                        src="pgfmanual-images/image-3097.png"
                        style
                        width="69.544"
                    /></span>
                  </p>
                </div>

                <div class="example-code">
                  <button class="clipboardButton" type="button">copy</button>
                  <code>
                    <br />
                    <span class="textcolor" style="color: #000000">\begin</span
                    >{<span class="textcolor" style="color: #0000b2"
                      ><a href="tikz-scopes#pgf.tikzpicture"
                        >tikzpicture</a
                      ></span
                    >}[<span class="textcolor" style="color: #008000"
                      >outline</span
                    >/<span class="textcolor" style="color: #0000b2"
                      ><a href="pgfkeys#pgf./handlers/.style">.style</a></span
                    >={<span class="textcolor" style="color: #008000"
                      ><a href="tikz-actions#pgf.draw">draw</a></span
                    >=<span class="textcolor" style="color: #008000">#1</span
                    >,<span class="textcolor" style="color: #008000"
                      ><a href="tikz-actions#pgf.fill">fill</a></span
                    >=<span class="textcolor" style="color: #008000"
                      >#1!20}</span
                    >]<br />
                    <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                      ><a href="tikz-shapes#pgf.back/node">\node</a></span
                    > [<span class="textcolor" style="color: #008000"
                      >outline</span
                    >=<span class="textcolor" style="color: #008000">red</span
                    >]<span class="spaces">            </span>{<span
                      class="textcolor"
                      style="color: #000000"
                      >red</span
                    >
                    <span class="textcolor" style="color: #000000">box</span
                    >};<br />
                    <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                      ><a href="tikz-shapes#pgf.back/node">\node</a></span
                    > [<span class="textcolor" style="color: #008000"
                      >outline</span
                    >=<span class="textcolor" style="color: #008000">blue</span
                    >] <span class="textcolor" style="color: #000000"
                      ><a href="tikz-paths#pgf.at">at</a></span
                    >
                    <span class="textcolor" style="color: #800080">(0,-1)</span
                    > {<span class="textcolor" style="color: #000000"
                      >blue</span
                    >
                    <span class="textcolor" style="color: #000000">box</span
                    >};<br />
                    <span class="textcolor" style="color: #000000">\end</span
                    >{<span class="textcolor" style="color: #0000b2"
                      ><a href="tikz-scopes#pgf.tikzpicture"
                        >tikzpicture</a
                      ></span
                    >}<br />
                  </code>
                </div>
              </figure>
            </ul>
          </div>

          <div class="manualentry">
            <ul class="list" style="list-style-type: none">
              <div class="entryheadline">
                <li>
                  <p>
                    <a id="pgf./handlers/.estyle"></a>
                    <span class="hl-def"
                      ><b>Key handler</b> <span class="angle">&langle;</span
                      ><i>key</i><span class="angle">&rangle;</span
                      ><kbd>/<span class="declare">.estyle</span></kbd
                      ><span class="verb">=</span
                      ><span class="angle">&langle;</span><i>key list</i
                      ><span class="angle">&rangle;</span></span
                    >
                    <a
                      class="anchor-link"
                      data-html-link="pgf./handlers/.estyle"
                      href="#handlers/.estyle"
                      id="handlers/.estyle"
                      >&para;</a
                    >
                  </p>
                </li>
              </div>
              <p>
                This handler works like <span class="verb">/.style</span>, only
                the <span class="angle">&langle;</span><i>code</i
                ><span class="angle">&rangle;</span> is set using
                <span class="verb">\edef</span> rather than
                <span class="verb">\def</span>. Thus, all macros in the
                <span class="angle">&langle;</span><i>code</i
                ><span class="angle">&rangle;</span> are expanded prior to
                saving the style.
              </p>
            </ul>
          </div>

          <p>For styles the corresponding handlers as for normal code exist:</p>

          <div class="manualentry">
            <ul class="list" style="list-style-type: none">
              <div class="entryheadline">
                <li>
                  <p>
                    <a id="pgf./handlers/.style:2:args"></a>
                    <span class="hl-def"
                      ><b>Key handler</b> <span class="angle">&langle;</span
                      ><i>key</i><span class="angle">&rangle;</span
                      ><kbd>/<span class="declare">.style 2 args</span></kbd
                      ><span class="verb">=</span
                      ><span class="angle">&langle;</span><i>key list</i
                      ><span class="angle">&rangle;</span></span
                    >
                    <a
                      class="anchor-link"
                      data-html-link="pgf./handlers/.style:2:args"
                      href="#handlers/.style:2:args"
                      id="handlers/.style:2:args"
                      >&para;</a
                    >
                  </p>
                </li>
              </div>
              <p>
                This handler works like <span class="verb">/.code 2 args</span>,
                only for styles. Thus, the <span class="angle">&langle;</span
                ><i>key list</i><span class="angle">&rangle;</span> may contain
                occurrences of both <span class="verb">#1</span> and
                <span class="verb">#2</span> and when the style is used, two
                parameters must be given as <span class="angle">&langle;</span
                ><i>value</i><span class="angle">&rangle;</span>.
              </p>

              <figure class="example">
                <div class="example-code">
                  <button class="clipboardButton" type="button">copy</button>
                  <code>
                    <br />
                    <span class="textcolor" style="color: #000000"
                      ><a href="pgfkeys#pgf.back/pgfkeys">\pgfkeys</a></span
                    >{<span class="textcolor" style="color: #000000"
                      ><span class="textcolor" style="color: #008000"
                        >/paper height</span
                      >/<span class="textcolor" style="color: #0000b2"
                        ><a href="pgfkeys#pgf./handlers/.code">.code</a></span
                      >=<span class="textcolor" style="color: #008000"
                        >{<span class="textcolor" style="color: #0000b2"
                          >\paperheight</span
                        >=#1}</span
                      >,<span class="textcolor" style="color: #008000"
                        >/paper width</span
                      >/<span class="textcolor" style="color: #0000b2"
                        ><a href="pgfkeys#pgf./handlers/.code">.code</a></span
                      >=<span class="textcolor" style="color: #008000"
                        >{<span class="textcolor" style="color: #0000b2"
                          >\paperwidth</span
                        >=#1}</span
                      ></span
                    >}<br />
                    <span class="textcolor" style="color: #000000"
                      ><a href="pgfkeys#pgf.back/pgfkeys">\pgfkeys</a></span
                    >{<span class="textcolor" style="color: #000000"
                      ><span class="textcolor" style="color: #008000"
                        >/page size</span
                      >/<span class="textcolor" style="color: #0000b2"
                        ><a href="pgfkeys#pgf./handlers/.style:2:args"
                          >.style 2 args</a
                        ></span
                      >={<span class="textcolor" style="color: #008000"
                        >/paper height</span
                      >=<span class="textcolor" style="color: #008000">#1</span
                      >,<span class="textcolor" style="color: #008000"
                        >/paper width</span
                      >=<span class="textcolor" style="color: #008000"
                        >#2}</span
                      ></span
                    >}<br />
                    <span class="textcolor" style="color: #000000"
                      ><a href="pgfkeys#pgf.back/pgfkeys">\pgfkeys</a></span
                    >{<span class="textcolor" style="color: #000000"
                      ><span class="textcolor" style="color: #008000"
                        >/page size</span
                      >=<span class="textcolor" style="color: #008000"
                        >{30cm}{20cm}</span
                      ></span
                    >}<br />
                  </code>
                </div>
              </figure>
              <p></p>
            </ul>
          </div>

          <div class="manualentry">
            <ul class="list" style="list-style-type: none">
              <div class="entryheadline">
                <li>
                  <p>
                    <a id="pgf./handlers/.estyle:2:args"></a>
                    <span class="hl-def"
                      ><b>Key handler</b> <span class="angle">&langle;</span
                      ><i>key</i><span class="angle">&rangle;</span
                      ><kbd>/<span class="declare">.estyle 2 args</span></kbd
                      ><span class="verb">=</span
                      ><span class="angle">&langle;</span><i>key list</i
                      ><span class="angle">&rangle;</span></span
                    >
                    <a
                      class="anchor-link"
                      data-html-link="pgf./handlers/.estyle:2:args"
                      href="#handlers/.estyle:2:args"
                      id="handlers/.estyle:2:args"
                      >&para;</a
                    >
                  </p>
                </li>
              </div>
              <p>
                This handler works like
                <span class="verb">/.style 2 args</span>, only an
                <span class="verb">\edef</span> is used rather than a
                <span class="verb">\def</span> to define the macro.
              </p>
            </ul>
          </div>

          <div class="manualentry">
            <ul class="list" style="list-style-type: none">
              <div class="entryheadline">
                <li>
                  <p>
                    <a id="pgf./handlers/.style:n:args"></a>
                    <span class="hl-def"
                      ><b>Key handler</b> <span class="angle">&langle;</span
                      ><i>key</i><span class="angle">&rangle;</span
                      ><kbd>/<span class="declare">.style n args</span></kbd
                      ><span class="verb">=</span>{<span class="angle"
                        >&langle;</span
                      ><i>argument count</i
                      ><span class="angle">&rangle;</span>}<span class="angle"
                        >&langle;</span
                      ><i>key list</i><span class="angle">&rangle;</span></span
                    >
                    <a
                      class="anchor-link"
                      data-html-link="pgf./handlers/.style:n:args"
                      href="#handlers/.style:n:args"
                      id="handlers/.style:n:args"
                      >&para;</a
                    >
                  </p>
                </li>
              </div>
              <p>
                This handler works like <span class="verb">/.code n args</span>,
                only for styles. Here, <span class="angle">&langle;</span
                ><i>key list</i><span class="angle">&rangle;</span> may depend
                on all <span class="angle">&langle;</span><i>argument count</i
                ><span class="angle">&rangle;</span> parameters.
              </p>
            </ul>
          </div>

          <div class="manualentry">
            <ul class="list" style="list-style-type: none">
              <div class="entryheadline">
                <li>
                  <p>
                    <a id="pgf./handlers/.add:style"></a>
                    <span class="hl-def"
                      ><b>Key handler</b> <span class="angle">&langle;</span
                      ><i>key</i><span class="angle">&rangle;</span
                      ><kbd>/<span class="declare">.add style</span></kbd
                      ><span class="verb">=</span>{<span class="angle"
                        >&langle;</span
                      ><i>prefix key list</i
                      ><span class="angle">&rangle;</span>}{<span class="angle"
                        >&langle;</span
                      ><i>append key list</i
                      ><span class="angle">&rangle;</span>}</span
                    >
                    <a
                      class="anchor-link"
                      data-html-link="pgf./handlers/.add:style"
                      href="#handlers/.add:style"
                      id="handlers/.add:style"
                      >&para;</a
                    >
                  </p>
                </li>
              </div>
              <p>
                This handler works like <span class="verb">/.add code</span>,
                only for styles. However, it is permissible to add styles to
                keys that have previously been set using
                <span class="verb">/.code</span>. (It is also permissible to add
                normal <span class="angle">&langle;</span><i>code</i
                ><span class="angle">&rangle;</span> to a key that has
                previously been set using <span class="verb">/.style</span>).
                When you add a style to a key that was previously set using
                <span class="verb">/.code</span>, the following happens: When
                <span class="angle">&langle;</span><i>key</i
                ><span class="angle">&rangle;</span> is processed, the
                <span class="angle">&langle;</span><i>prefix key list</i
                ><span class="angle">&rangle;</span> will be processed first,
                then the <span class="angle">&langle;</span><i>code</i
                ><span class="angle">&rangle;</span> that was previously stored
                in <span class="angle">&langle;</span><i>key</i
                ><span class="angle">&rangle;</span
                ><span class="verb">/.@cmd</span>, and then the keys in
                <span class="angle">&langle;</span><i>append key list</i
                ><span class="angle">&rangle;</span> are processed.
              </p>

              <figure class="example">
                <div class="example-code">
                  <button class="clipboardButton" type="button">copy</button>
                  <code>
                    <br />
                    <span class="textcolor" style="color: #000000"
                      ><a href="pgfkeys#pgf.back/pgfkeys">\pgfkeys</a></span
                    >{<span class="textcolor" style="color: #000000"
                      ><span class="textcolor" style="color: #008000"
                        >/par indent</span
                      >/<span class="textcolor" style="color: #0000b2"
                        ><a href="pgfkeys#pgf./handlers/.code">.code</a></span
                      >=<span class="textcolor" style="color: #008000"
                        >{<span class="textcolor" style="color: #0000b2"
                          >\parindent</span
                        >=#1}</span
                      ></span
                    >}<br />
                    <span class="textcolor" style="color: #000000"
                      ><a href="pgfkeys#pgf.back/pgfkeys">\pgfkeys</a></span
                    >{<span class="textcolor" style="color: #000000"
                      ><span class="textcolor" style="color: #008000"
                        >/par indent</span
                      >/<span class="textcolor" style="color: #0000b2"
                        ><a href="pgfkeys#pgf./handlers/.add:style"
                          >.add style</a
                        ></span
                      >={}{<span class="textcolor" style="color: #008000"
                        >/my key</span
                      >=<span class="textcolor" style="color: #008000"
                        >#1}</span
                      ></span
                    >}<br />
                    ...<br />
                    <span class="textcolor" style="color: #000000"
                      ><a href="pgfkeys#pgf.back/pgfkeys">\pgfkeys</a></span
                    >{<span class="textcolor" style="color: #000000"
                      ><span class="textcolor" style="color: #008000"
                        >/par indent</span
                      >=<span class="textcolor" style="color: #008000"
                        >1cm</span
                      ></span
                    >} <span class="example-code-comment"
                      >% This will set \parindent and</span
                    ><br />
                    <span class="spaces">                          </span><span
                      class="example-code-comment"
                      >% then execute /my key=#1</span
                    ><br />
                  </code>
                </div>
              </figure>
              <p></p>
            </ul>
          </div>

          <div class="manualentry">
            <ul class="list" style="list-style-type: none">
              <div class="entryheadline">
                <li>
                  <p>
                    <a id="pgf./handlers/.style:args"></a>
                    <span class="hl-def"
                      ><b>Key handler</b> <span class="angle">&langle;</span
                      ><i>key</i><span class="angle">&rangle;</span
                      ><kbd>/<span class="declare">.style args</span></kbd
                      ><span class="verb">=</span>{<span class="angle"
                        >&langle;</span
                      ><i>argument pattern</i
                      ><span class="angle">&rangle;</span>}{<span class="angle"
                        >&langle;</span
                      ><i>key list</i><span class="angle">&rangle;</span>}</span
                    >
                    <a
                      class="anchor-link"
                      data-html-link="pgf./handlers/.style:args"
                      href="#handlers/.style:args"
                      id="handlers/.style:args"
                      >&para;</a
                    >
                  </p>
                </li>
              </div>
              <p>
                This handler works like <span class="verb">/.code args</span>,
                only for styles.
              </p>
            </ul>
          </div>

          <div class="manualentry">
            <ul class="list" style="list-style-type: none">
              <div class="entryheadline">
                <li>
                  <p>
                    <a id="pgf./handlers/.estyle:args"></a>
                    <span class="hl-def"
                      ><b>Key handler</b> <span class="angle">&langle;</span
                      ><i>key</i><span class="angle">&rangle;</span
                      ><kbd>/<span class="declare">.estyle args</span></kbd
                      ><span class="verb">=</span>{<span class="angle"
                        >&langle;</span
                      ><i>argument pattern</i
                      ><span class="angle">&rangle;</span>}{<span class="angle"
                        >&langle;</span
                      ><i>code</i><span class="angle">&rangle;</span>}</span
                    >
                    <a
                      class="anchor-link"
                      data-html-link="pgf./handlers/.estyle:args"
                      href="#handlers/.estyle:args"
                      id="handlers/.estyle:args"
                      >&para;</a
                    >
                  </p>
                </li>
              </div>
              <p>
                This handler works like <span class="verb">/.ecode args</span>,
                only for styles.
              </p>
            </ul>
          </div>

          <div class="manualentry">
            <ul class="list" style="list-style-type: none">
              <div class="entryheadline">
                <li>
                  <p>
                    <a id="pgf./handlers/.prefix:style"></a>
                    <span class="hl-def"
                      ><b>Key handler</b> <span class="angle">&langle;</span
                      ><i>key</i><span class="angle">&rangle;</span
                      ><kbd>/<span class="declare">.prefix style</span></kbd
                      ><span class="verb">=</span
                      ><span class="angle">&langle;</span><i>prefix key list</i
                      ><span class="angle">&rangle;</span></span
                    >
                    <a
                      class="anchor-link"
                      data-html-link="pgf./handlers/.prefix:style"
                      href="#handlers/.prefix:style"
                      id="handlers/.prefix:style"
                      >&para;</a
                    >
                  </p>
                </li>
              </div>
              <p>
                Works like <span class="verb">/.add style</span>, but only for
                the prefix key list.
              </p>
            </ul>
          </div>

          <div class="manualentry">
            <ul class="list" style="list-style-type: none">
              <div class="entryheadline">
                <li>
                  <p>
                    <a id="pgf./handlers/.append:style"></a>
                    <span class="hl-def"
                      ><b>Key handler</b> <span class="angle">&langle;</span
                      ><i>key</i><span class="angle">&rangle;</span
                      ><kbd>/<span class="declare">.append style</span></kbd
                      ><span class="verb">=</span
                      ><span class="angle">&langle;</span><i>append key list</i
                      ><span class="angle">&rangle;</span></span
                    >
                    <a
                      class="anchor-link"
                      data-html-link="pgf./handlers/.append:style"
                      href="#handlers/.append:style"
                      id="handlers/.append:style"
                      >&para;</a
                    >
                  </p>
                </li>
              </div>
              <p>
                Works like <span class="verb">/.add style</span>, but only for
                the append key list.
              </p>
            </ul>
          </div>
          <h6 id="autosec-7553">
            <span
              ><span class="sectionnumber" id="sec-87.4.5">87.4.5</span>
              Defining Value-, Macro-, If- and Choice-Keys</span
            ><a
              class="anchor-link"
              data-html-link="sec-87.4.5"
              data-pdf-destination="subsubsection.87.4.5"
              data-pdf-page="988"
              href="#sec-87.4.5"
              >&para;</a
            >
          </h6>
          <a id="pgfmanual-autopage-7553"></a>

          <p>
            For some keys, the code that should be executed for them is rather
            &ldquo;specialized&rdquo;. For instance, it happens often that the
            code for a key just sets a certain
            <span class="latexlogofont"
              ><span class="latexlogo"
                >T<span class="latexlogosub">e</span>X</span
              ></span
            >-if to true or false. For these cases, predefined handlers make it
            easier to install the necessary code.
          </p>

          <p>
            However, we start with some handlers that are used to manage the
            value that is directly stored in a key.
          </p>

          <div class="manualentry">
            <ul class="list" style="list-style-type: none">
              <div class="entryheadline">
                <li>
                  <p>
                    <a id="pgf./handlers/.initial"></a>
                    <span class="hl-def"
                      ><b>Key handler</b> <span class="angle">&langle;</span
                      ><i>key</i><span class="angle">&rangle;</span
                      ><kbd>/<span class="declare">.initial</span></kbd
                      ><span class="verb">=</span
                      ><span class="angle">&langle;</span><i>value</i
                      ><span class="angle">&rangle;</span></span
                    >
                    <a
                      class="anchor-link"
                      data-html-link="pgf./handlers/.initial"
                      href="#handlers/.initial"
                      id="handlers/.initial"
                      >&para;</a
                    >
                  </p>
                </li>
              </div>
              <p>
                This handler sets the value of
                <span class="angle">&langle;</span><i>key</i
                ><span class="angle">&rangle;</span> to
                <span class="angle">&langle;</span><i>value</i
                ><span class="angle">&rangle;</span>. Note that no subkeys are
                involved. After this handler has been used, by the rules
                governing keys, you can subsequently change the value of the
                <span class="angle">&langle;</span><i>key</i
                ><span class="angle">&rangle;</span> by just writing
                <span class="angle">&langle;</span><i>key</i
                ><span class="angle">&rangle;</span><span class="verb">=</span
                ><span class="angle">&langle;</span><i>value</i
                ><span class="angle">&rangle;</span>. Thus, this handler is used
                to set the initial value of key.
              </p>

              <figure class="example">
                <div class="example-code">
                  <button class="clipboardButton" type="button">copy</button>
                  <code>
                    <br />
                    <span class="textcolor" style="color: #000000"
                      ><a href="pgfkeys#pgf.back/pgfkeys">\pgfkeys</a></span
                    >{<span class="textcolor" style="color: #000000"
                      ><span class="textcolor" style="color: #008000"
                        >/my key</span
                      >/<span class="textcolor" style="color: #0000b2"
                        ><a href="pgfkeys#pgf./handlers/.initial"
                          >.initial</a
                        ></span
                      >=<span class="textcolor" style="color: #008000"
                        >red</span
                      ></span
                    >}<br />
                    <span class="example-code-comment"
                      >% "/my key" now stores the value "red"</span
                    ><br />
                    <span class="textcolor" style="color: #000000"
                      ><a href="pgfkeys#pgf.back/pgfkeys">\pgfkeys</a></span
                    >{<span class="textcolor" style="color: #000000"
                      ><span class="textcolor" style="color: #008000"
                        >/my key</span
                      >=<span class="textcolor" style="color: #008000"
                        >blue</span
                      ></span
                    >}<br />
                    <span class="example-code-comment"
                      >% "/my key" now stores the value "blue"</span
                    ><br />
                  </code>
                </div>
              </figure>
              <p>
                Note that with this configuration, writing
                <span class="verb">\pgfkeys{/my key}</span> will not have the
                effect you might expect (namely that
                <span class="verb">blue</span> is inserted into the main text).
                Rather, <span class="verb">/my key</span> will be promoted to
                <span class="verb">/my key=\pgfkeysnovalue</span> and, thus,
                <span class="verb">\pgfkeysnovalue</span> will be stored in
                <span class="verb">/my key</span>.
              </p>
              <p>
                To retrieve the value stored in a key, the handler
                <span class="verb">/.get</span> is used.
              </p>
              <p>
                <em>Remark:</em> A key can both store a value and execute
                commands<sup>15</sup>. If so, using
                <span class="angle">&langle;</span><i>key</i
                ><span class="angle">&rangle;</span> will
                <em>always</em> execute commands with the passed value, or the
                default value <span class="verb">\pgfkeysnovalue</span> if no
                value is provided. Note that the stored value is never used. To
                update the stored value, the handler
                <span class="verb">/.initial</span> or command
                <span class="verb">\pgfkeyssetvalue</span> is used.
              </p>

              <figure class="example">
                <div class="example-image">
                  <p>blue</p>
                </div>

                <div class="example-code">
                  <button class="clipboardButton" type="button">copy</button>
                  <code>
                    <br />
                    <span class="textcolor" style="color: #000000"
                      ><a href="pgfkeys#pgf.back/pgfkeys">\pgfkeys</a></span
                    >{<span class="textcolor" style="color: #000000"
                      ><span class="textcolor" style="color: #008000"
                        >/my key</span
                      >/<span class="textcolor" style="color: #0000b2"
                        ><a href="pgfkeys#pgf./handlers/.initial"
                          >.initial</a
                        ></span
                      >=<span class="textcolor" style="color: #008000"
                        >red</span
                      ></span
                    >}<br />
                    <span class="textcolor" style="color: #000000"
                      ><a href="pgfkeys#pgf.back/pgfkeys">\pgfkeys</a></span
                    >{<span class="textcolor" style="color: #000000"
                      ><span class="textcolor" style="color: #008000"
                        >/my key</span
                      >/<span class="textcolor" style="color: #0000b2"
                        ><a href="pgfkeys#pgf./handlers/.code">.code</a></span
                      >=<span class="textcolor" style="color: #008000"
                        >#1</span
                      ></span
                    >}<br />
                    <span class="example-code-comment"
                      >% "/my key" now both stores the value "red" and executes
                      commands</span
                    ><br />
                    <span class="textcolor" style="color: #000000"
                      ><a href="pgfkeys#pgf.back/pgfkeys">\pgfkeys</a></span
                    >{<span class="textcolor" style="color: #000000"
                      ><span class="textcolor" style="color: #008000"
                        >/my key</span
                      >=<span class="textcolor" style="color: #008000"
                        >blue</span
                      ></span
                    >}<br />
                    <span class="example-code-comment"
                      >% "/my key" now still stores the value "red"</span
                    ><br />
                  </code>
                </div>
              </figure>
              <p></p>
            </ul>
          </div>

          <div class="manualentry">
            <ul class="list" style="list-style-type: none">
              <div class="entryheadline">
                <li>
                  <p>
                    <a id="pgf./handlers/.get"></a>
                    <span class="hl-def"
                      ><b>Key handler</b> <span class="angle">&langle;</span
                      ><i>key</i><span class="angle">&rangle;</span
                      ><kbd>/<span class="declare">.get</span></kbd
                      ><span class="verb">=</span
                      ><span class="angle">&langle;</span><i>macro</i
                      ><span class="angle">&rangle;</span></span
                    >
                    <a
                      class="anchor-link"
                      data-html-link="pgf./handlers/.get"
                      href="#handlers/.get"
                      id="handlers/.get"
                      >&para;</a
                    >
                  </p>
                </li>
              </div>
              <p>
                Executes a <span class="verb">\let</span> command so that
                <span class="angle">&langle;</span><i>macro</i
                ><span class="angle">&rangle;</span> contains the contents
                stored in <span class="angle">&langle;</span><i>key</i
                ><span class="angle">&rangle;</span>.
              </p>

              <figure class="example">
                <div class="example-image">
                  <p>blue</p>
                </div>

                <div class="example-code">
                  <button class="clipboardButton" type="button">copy</button>
                  <code>
                    <br />
                    <span class="textcolor" style="color: #000000"
                      ><a href="pgfkeys#pgf.back/pgfkeys">\pgfkeys</a></span
                    >{<span class="textcolor" style="color: #000000"
                      ><span class="textcolor" style="color: #008000"
                        >/my key</span
                      >/<span class="textcolor" style="color: #0000b2"
                        ><a href="pgfkeys#pgf./handlers/.initial"
                          >.initial</a
                        ></span
                      >=<span class="textcolor" style="color: #008000"
                        >red</span
                      ></span
                    >}<br />
                    <span class="textcolor" style="color: #000000"
                      ><a href="pgfkeys#pgf.back/pgfkeys">\pgfkeys</a></span
                    >{<span class="textcolor" style="color: #000000"
                      ><span class="textcolor" style="color: #008000"
                        >/my key</span
                      >=<span class="textcolor" style="color: #008000"
                        >blue</span
                      ></span
                    >}<br />
                    <span class="textcolor" style="color: #000000"
                      ><a href="pgfkeys#pgf.back/pgfkeys">\pgfkeys</a></span
                    >{<span class="textcolor" style="color: #000000"
                      ><span class="textcolor" style="color: #008000"
                        >/my key</span
                      >/<span class="textcolor" style="color: #0000b2"
                        ><a href="pgfkeys#pgf./handlers/.get">.get</a></span
                      >=<span class="textcolor" style="color: #008000"
                        ><span class="textcolor" style="color: #0000b2"
                          >\mymacro</span
                        ></span
                      ></span
                    >}<br />
                    <span class="textcolor" style="color: #0000b2"
                      >\mymacro</span
                    ><br />
                  </code>
                </div>
              </figure>
              <p></p>
            </ul>
          </div>

          <div class="manualentry">
            <ul class="list" style="list-style-type: none">
              <div class="entryheadline">
                <li>
                  <p>
                    <a id="pgf./handlers/.add"></a>
                    <span class="hl-def"
                      ><b>Key handler</b> <span class="angle">&langle;</span
                      ><i>key</i><span class="angle">&rangle;</span
                      ><kbd>/<span class="declare">.add</span></kbd
                      ><span class="verb">=</span>{<span class="angle"
                        >&langle;</span
                      ><i>prefix value</i
                      ><span class="angle">&rangle;</span>}{<span class="angle"
                        >&langle;</span
                      ><i>append value</i
                      ><span class="angle">&rangle;</span>}</span
                    >
                    <a
                      class="anchor-link"
                      data-html-link="pgf./handlers/.add"
                      href="#handlers/.add"
                      id="handlers/.add"
                      >&para;</a
                    >
                  </p>
                </li>
              </div>
              <p>
                Adds the <span class="angle">&langle;</span><i>prefix value</i
                ><span class="angle">&rangle;</span> at the beginning and the
                <span class="angle">&langle;</span><i>append value</i
                ><span class="angle">&rangle;</span> at the end of the value
                stored in <span class="angle">&langle;</span><i>key</i
                ><span class="angle">&rangle;</span>.
              </p>
            </ul>
          </div>

          <div class="manualentry">
            <ul class="list" style="list-style-type: none">
              <div class="entryheadline">
                <li>
                  <p>
                    <a id="pgf./handlers/.prefix"></a>
                    <span class="hl-def"
                      ><b>Key handler</b> <span class="angle">&langle;</span
                      ><i>key</i><span class="angle">&rangle;</span
                      ><kbd>/<span class="declare">.prefix</span></kbd
                      ><span class="verb">=</span>{<span class="angle"
                        >&langle;</span
                      ><i>prefix value</i
                      ><span class="angle">&rangle;</span>}</span
                    >
                    <a
                      class="anchor-link"
                      data-html-link="pgf./handlers/.prefix"
                      href="#handlers/.prefix"
                      id="handlers/.prefix"
                      >&para;</a
                    >
                  </p>
                </li>
              </div>
              <p>
                Adds the <span class="angle">&langle;</span><i>prefix value</i
                ><span class="angle">&rangle;</span> at the beginning of the
                value stored in <span class="angle">&langle;</span><i>key</i
                ><span class="angle">&rangle;</span>.
              </p>
            </ul>
          </div>

          <div class="manualentry">
            <ul class="list" style="list-style-type: none">
              <div class="entryheadline">
                <li>
                  <p>
                    <a id="pgf./handlers/.append"></a>
                    <span class="hl-def"
                      ><b>Key handler</b> <span class="angle">&langle;</span
                      ><i>key</i><span class="angle">&rangle;</span
                      ><kbd>/<span class="declare">.append</span></kbd
                      ><span class="verb">=</span>{<span class="angle"
                        >&langle;</span
                      ><i>append value</i
                      ><span class="angle">&rangle;</span>}</span
                    >
                    <a
                      class="anchor-link"
                      data-html-link="pgf./handlers/.append"
                      href="#handlers/.append"
                      id="handlers/.append"
                      >&para;</a
                    >
                  </p>
                </li>
              </div>
              <p>
                Adds the <span class="angle">&langle;</span><i>append value</i
                ><span class="angle">&rangle;</span> at the end of the value
                stored in <span class="angle">&langle;</span><i>key</i
                ><span class="angle">&rangle;</span>.
              </p>
            </ul>
          </div>

          <div class="manualentry">
            <ul class="list" style="list-style-type: none">
              <div class="entryheadline">
                <li>
                  <p>
                    <a id="pgf./handlers/.link"></a>
                    <span class="hl-def"
                      ><b>Key handler</b> <span class="angle">&langle;</span
                      ><i>key</i><span class="angle">&rangle;</span
                      ><kbd>/<span class="declare">.link</span></kbd
                      ><span class="verb">=</span
                      ><span class="angle">&langle;</span><i>another key</i
                      ><span class="angle">&rangle;</span></span
                    >
                    <a
                      class="anchor-link"
                      data-html-link="pgf./handlers/.link"
                      href="#handlers/.link"
                      id="handlers/.link"
                      >&para;</a
                    >
                  </p>
                </li>
              </div>
              <p>
                Stores the value <span class="verb">\pgfkeysvalueof{</span
                ><span class="angle">&langle;</span><i>another key</i
                ><span class="angle">&rangle;</span
                ><span class="verb">}</span> in the
                <span class="angle">&langle;</span><i>key</i
                ><span class="angle">&rangle;</span>. The idea is that when you
                expand the <span class="angle">&langle;</span><i>key</i
                ><span class="angle">&rangle;</span>, the value of
                <span class="angle">&langle;</span><i>another key</i
                ><span class="angle">&rangle;</span> is expanded instead. This
                corresponds loosely to the notion of soft links in Unix, hence
                the name.
              </p>
            </ul>
          </div>

          <p>
            The next handler is useful for the common situation where
            <span class="angle">&langle;</span><i>key</i
            ><span class="angle">&rangle;</span><span class="verb">=</span
            ><span class="angle">&langle;</span><i>value</i
            ><span class="angle">&rangle;</span> should cause the
            <span class="angle">&langle;</span><i>value</i
            ><span class="angle">&rangle;</span> to be stored in some macro.
            Note that, typically, you could just as well store the value in the
            key itself.
          </p>

          <div class="manualentry">
            <ul class="list" style="list-style-type: none">
              <div class="entryheadline">
                <li>
                  <p>
                    <a id="pgf./handlers/.store:in"></a>
                    <span class="hl-def"
                      ><b>Key handler</b> <span class="angle">&langle;</span
                      ><i>key</i><span class="angle">&rangle;</span
                      ><kbd>/<span class="declare">.store in</span></kbd
                      ><span class="verb">=</span
                      ><span class="angle">&langle;</span><i>macro</i
                      ><span class="angle">&rangle;</span></span
                    >
                    <a
                      class="anchor-link"
                      data-html-link="pgf./handlers/.store:in"
                      href="#handlers/.store:in"
                      id="handlers/.store:in"
                      >&para;</a
                    >
                  </p>
                </li>
              </div>
              <p>
                This handler has the following effect: When you write
                <span class="angle">&langle;</span><i>key</i
                ><span class="angle">&rangle;</span><span class="verb">=</span
                ><span class="angle">&langle;</span><i>value</i
                ><span class="angle">&rangle;</span>, the code
                <span class="verb">\def</span><span class="angle">&langle;</span
                ><i>macro</i><span class="angle">&rangle;</span
                ><span class="verb">{</span><span class="angle">&langle;</span
                ><i>value</i><span class="angle">&rangle;</span
                ><span class="verb">}</span> is executed. Thus, the given value
                is &ldquo;stored&rdquo; in the
                <span class="angle">&langle;</span><i>macro</i
                ><span class="angle">&rangle;</span>.
              </p>

              <figure class="example">
                <div class="example-image">
                  <p>Hello Gruffalo!</p>
                </div>

                <div class="example-code">
                  <button class="clipboardButton" type="button">copy</button>
                  <code>
                    <br />
                    <span class="textcolor" style="color: #000000"
                      ><a href="pgfkeys#pgf.back/pgfkeys">\pgfkeys</a></span
                    >{<span class="textcolor" style="color: #000000"
                      ><span class="textcolor" style="color: #008000"
                        >/text</span
                      >/<span class="textcolor" style="color: #0000b2"
                        ><a href="pgfkeys#pgf./handlers/.store:in"
                          >.store in</a
                        ></span
                      >=<span class="textcolor" style="color: #008000"
                        ><span class="textcolor" style="color: #0000b2"
                          >\mytext</span
                        ></span
                      ></span
                    >}<br />
                    <span class="textcolor" style="color: #0000b2">\def</span
                    ><span class="textcolor" style="color: #0000b2">\a</span
                    >{<span class="textcolor" style="color: #000000">world</span
                    >}<br />
                    <span class="textcolor" style="color: #000000"
                      ><a href="pgfkeys#pgf.back/pgfkeys">\pgfkeys</a></span
                    >{<span class="textcolor" style="color: #000000"
                      ><span class="textcolor" style="color: #008000"
                        >/text</span
                      >=<span class="textcolor" style="color: #008000"
                        >Hello
                        <span class="textcolor" style="color: #0000b2">\a</span
                        >!</span
                      ></span
                    >}<br />
                    <span class="textcolor" style="color: #0000b2">\def</span
                    ><span class="textcolor" style="color: #0000b2">\a</span
                    >{<span class="textcolor" style="color: #000000"
                      >Gruffalo</span
                    >}<br />
                    <span class="textcolor" style="color: #0000b2">\mytext</span
                    ><br />
                  </code>
                </div>
              </figure>
              <p></p>
            </ul>
          </div>

          <div class="manualentry">
            <ul class="list" style="list-style-type: none">
              <div class="entryheadline">
                <li>
                  <p>
                    <a id="pgf./handlers/.estore:in"></a>
                    <span class="hl-def"
                      ><b>Key handler</b> <span class="angle">&langle;</span
                      ><i>key</i><span class="angle">&rangle;</span
                      ><kbd>/<span class="declare">.estore in</span></kbd
                      ><span class="verb">=</span
                      ><span class="angle">&langle;</span><i>macro</i
                      ><span class="angle">&rangle;</span></span
                    >
                    <a
                      class="anchor-link"
                      data-html-link="pgf./handlers/.estore:in"
                      href="#handlers/.estore:in"
                      id="handlers/.estore:in"
                      >&para;</a
                    >
                  </p>
                </li>
              </div>
              <p>
                This handler is similar to <span class="verb">/.store in</span>,
                only the code <span class="verb">\edef</span
                ><span class="angle">&langle;</span><i>macro</i
                ><span class="angle">&rangle;</span><span class="verb">{</span
                ><span class="angle">&langle;</span><i>value</i
                ><span class="angle">&rangle;</span
                ><span class="verb">}</span> is used. Thus, the macro-expanded
                version of <span class="angle">&langle;</span><i>value</i
                ><span class="angle">&rangle;</span> is stored in the
                <span class="angle">&langle;</span><i>macro</i
                ><span class="angle">&rangle;</span>.
              </p>

              <figure class="example">
                <div class="example-image">
                  <p>Hello world!</p>
                </div>

                <div class="example-code">
                  <button class="clipboardButton" type="button">copy</button>
                  <code>
                    <br />
                    <span class="textcolor" style="color: #000000"
                      ><a href="pgfkeys#pgf.back/pgfkeys">\pgfkeys</a></span
                    >{<span class="textcolor" style="color: #000000"
                      ><span class="textcolor" style="color: #008000"
                        >/text</span
                      >/<span class="textcolor" style="color: #0000b2"
                        ><a href="pgfkeys#pgf./handlers/.estore:in"
                          >.estore in</a
                        ></span
                      >=<span class="textcolor" style="color: #008000"
                        ><span class="textcolor" style="color: #0000b2"
                          >\mytext</span
                        ></span
                      ></span
                    >}<br />
                    <span class="textcolor" style="color: #0000b2">\def</span
                    ><span class="textcolor" style="color: #0000b2">\a</span
                    >{<span class="textcolor" style="color: #000000">world</span
                    >}<br />
                    <span class="textcolor" style="color: #000000"
                      ><a href="pgfkeys#pgf.back/pgfkeys">\pgfkeys</a></span
                    >{<span class="textcolor" style="color: #000000"
                      ><span class="textcolor" style="color: #008000"
                        >/text</span
                      >=<span class="textcolor" style="color: #008000"
                        >Hello
                        <span class="textcolor" style="color: #0000b2">\a</span
                        >!</span
                      ></span
                    >}<br />
                    <span class="textcolor" style="color: #0000b2">\def</span
                    ><span class="textcolor" style="color: #0000b2">\a</span
                    >{<span class="textcolor" style="color: #000000"
                      >Gruffalo</span
                    >}<br />
                    <span class="textcolor" style="color: #0000b2">\mytext</span
                    ><br />
                  </code>
                </div>
              </figure>
              <p></p>
            </ul>
          </div>

          <p>
            In another common situation a key is used to set a
            <span class="latexlogofont"
              ><span class="latexlogo"
                >T<span class="latexlogosub">e</span>X</span
              ></span
            >-if to true or false.
          </p>

          <div class="manualentry">
            <ul class="list" style="list-style-type: none">
              <div class="entryheadline">
                <li>
                  <p>
                    <a id="pgf./handlers/.is:if"></a>
                    <span class="hl-def"
                      ><b>Key handler</b> <span class="angle">&langle;</span
                      ><i>key</i><span class="angle">&rangle;</span
                      ><kbd>/<span class="declare">.is if</span></kbd
                      ><span class="verb">=</span
                      ><span class="angle">&langle;</span
                      ><i
                        ><span class="latexlogofont"
                          ><span class="latexlogo"
                            >T<span class="latexlogosub">e</span>X</span
                          ></span
                        >-if name</i
                      ><span class="angle">&rangle;</span></span
                    >
                    <a
                      class="anchor-link"
                      data-html-link="pgf./handlers/.is:if"
                      href="#handlers/.is:if"
                      id="handlers/.is:if"
                      >&para;</a
                    >
                  </p>
                </li>
              </div>
              <p>
                This handler has the following effect: When you write
                <span class="angle">&langle;</span><i>key</i
                ><span class="angle">&rangle;</span><span class="verb">=</span
                ><span class="angle">&langle;</span><i>value</i
                ><span class="angle">&rangle;</span>, it is first checked that
                <span class="angle">&langle;</span><i>value</i
                ><span class="angle">&rangle;</span> is
                <span class="verb">true</span> or
                <span class="verb">false</span> (the default is
                <span class="verb">true</span> if no
                <span class="angle">&langle;</span><i>value</i
                ><span class="angle">&rangle;</span> is given). If this is not
                the case, the error key
                <span class="verb">/errors/boolean expected</span> is executed.
                Otherwise, the code <span class="verb">\</span
                ><span class="angle">&langle;</span
                ><i
                  ><span class="latexlogofont"
                    ><span class="latexlogo"
                      >T<span class="latexlogosub">e</span>X</span
                    ></span
                  >-if name</i
                ><span class="angle">&rangle;</span
                ><span class="angle">&langle;</span><i>value</i
                ><span class="angle">&rangle;</span> is executed, which sets the
                <span class="latexlogofont"
                  ><span class="latexlogo"
                    >T<span class="latexlogosub">e</span>X</span
                  ></span
                >-if accordingly.
              </p>

              <figure class="example">
                <div class="example-image">
                  <p>Round?</p>
                </div>

                <div class="example-code">
                  <button class="clipboardButton" type="button">copy</button>
                  <code>
                    <br />
                    <span class="textcolor" style="color: #0000b2">\newif</span
                    ><span class="textcolor" style="color: #0000b2"
                      >\iftheworldisflat</span
                    ><br />
                    <span class="textcolor" style="color: #000000"
                      ><a href="pgfkeys#pgf.back/pgfkeys">\pgfkeys</a></span
                    >{<span class="textcolor" style="color: #000000"
                      ><span class="textcolor" style="color: #008000"
                        >/flat world</span
                      >/<span class="textcolor" style="color: #0000b2"
                        ><a href="pgfkeys#pgf./handlers/.is:if">.is if</a></span
                      >=<span class="textcolor" style="color: #008000"
                        >theworldisflat</span
                      ></span
                    >}<br />
                    <span class="textcolor" style="color: #000000"
                      ><a href="pgfkeys#pgf.back/pgfkeys">\pgfkeys</a></span
                    >{<span class="textcolor" style="color: #000000"
                      ><span class="textcolor" style="color: #008000"
                        >/flat world</span
                      >=<span class="textcolor" style="color: #008000"
                        ><a href="pgfkeys#pgf.false">false</a></span
                      ></span
                    >}<br />
                    <span class="textcolor" style="color: #0000b2"
                      >\iftheworldisflat</span
                    ><br />
                    <span class="spaces">  </span><span class="textcolor" style="color: #000000"
                      >Flat</span
                    ><br />
                    <span class="textcolor" style="color: #0000b2">\else</span
                    ><br />
                    <span class="spaces">  </span><span class="textcolor" style="color: #000000"
                      >Round?</span
                    ><br />
                    <span class="textcolor" style="color: #0000b2">\fi</span
                    ><br />
                  </code>
                </div>
              </figure>
              <p></p>
            </ul>
          </div>

          <p>
            The next handler deals with the problem when a
            <span class="angle">&langle;</span><i>key</i
            ><span class="angle">&rangle;</span><span class="verb">=</span
            ><span class="angle">&langle;</span><i>value</i
            ><span class="angle">&rangle;</span> makes sense only for a small
            set of possible <span class="angle">&langle;</span><i>value</i
            ><span class="angle">&rangle;</span>s. For instance, the line cap
            can only be <span class="verb">rounded</span> or
            <span class="verb">rect</span> or <span class="verb">butt</span>,
            but nothing else. For this situation the following handler is
            useful.
          </p>

          <div class="manualentry">
            <ul class="list" style="list-style-type: none">
              <div class="entryheadline">
                <li>
                  <p>
                    <a id="pgf./handlers/.is:choice"></a>
                    <span class="hl-def"
                      ><b>Key handler</b> <span class="angle">&langle;</span
                      ><i>key</i><span class="angle">&rangle;</span
                      ><kbd>/<span class="declare">.is choice</span></kbd></span
                    >
                    <a
                      class="anchor-link"
                      data-html-link="pgf./handlers/.is:choice"
                      href="#handlers/.is:choice"
                      id="handlers/.is:choice"
                      >&para;</a
                    >
                  </p>
                </li>
              </div>
              <p>
                This handler sets things up so that writing
                <span class="angle">&langle;</span><i>key</i
                ><span class="angle">&rangle;</span><span class="verb">=</span
                ><span class="angle">&langle;</span><i>value</i
                ><span class="angle">&rangle;</span> will cause the subkey
                <span class="angle">&langle;</span><i>key</i
                ><span class="angle">&rangle;</span><span class="verb">/</span
                ><span class="angle">&langle;</span><i>value</i
                ><span class="angle">&rangle;</span> to be executed. So, each of
                the different possible choices should be given by a subkey of
                <span class="angle">&langle;</span><i>key</i
                ><span class="angle">&rangle;</span>.
              </p>

              <figure class="example">
                <div class="example-code">
                  <button class="clipboardButton" type="button">copy</button>
                  <code>
                    <br />
                    <span class="textcolor" style="color: #000000"
                      ><a href="pgfkeys#pgf.back/pgfkeys">\pgfkeys</a></span
                    >{<span class="textcolor" style="color: #000000"
                      ><span class="textcolor" style="color: #008000"
                        >/line cap</span
                      >/<span class="textcolor" style="color: #0000b2"
                        ><a href="pgfkeys#pgf./handlers/.is:choice"
                          >.is choice</a
                        ></span
                      ></span
                    >}<br />
                    <span class="textcolor" style="color: #000000"
                      ><a href="pgfkeys#pgf.back/pgfkeys">\pgfkeys</a></span
                    >{<span class="textcolor" style="color: #000000"
                      ><span class="textcolor" style="color: #008000"
                        >/line cap/round</span
                      >/<span class="textcolor" style="color: #0000b2"
                        ><a href="pgfkeys#pgf./handlers/.code">.code</a></span
                      >=<span class="textcolor" style="color: #008000"
                        >{<span class="textcolor" style="color: #0000b2"
                          ><a href="base-actions#pgf.back/pgfsetroundcap"
                            >\pgfsetroundcap</a
                          ></span
                        >}</span
                      ></span
                    >}<br />
                    <span class="textcolor" style="color: #000000"
                      ><a href="pgfkeys#pgf.back/pgfkeys">\pgfkeys</a></span
                    >{<span class="textcolor" style="color: #000000"
                      ><span class="textcolor" style="color: #008000"
                        >/line cap/butt</span
                      >/<span class="textcolor" style="color: #0000b2"
                        ><a href="pgfkeys#pgf./handlers/.code">.code</a></span
                      >=<span class="textcolor" style="color: #008000"
                        >{<span class="textcolor" style="color: #0000b2"
                          ><a href="base-actions#pgf.back/pgfsetbuttcap"
                            >\pgfsetbuttcap</a
                          ></span
                        >}</span
                      ></span
                    >}<br />
                    <span class="textcolor" style="color: #000000"
                      ><a href="pgfkeys#pgf.back/pgfkeys">\pgfkeys</a></span
                    >{<span class="textcolor" style="color: #000000"
                      ><span class="textcolor" style="color: #008000"
                        >/line cap/rect</span
                      >/<span class="textcolor" style="color: #0000b2"
                        ><a href="pgfkeys#pgf./handlers/.code">.code</a></span
                      >=<span class="textcolor" style="color: #008000"
                        >{<span class="textcolor" style="color: #0000b2"
                          ><a href="base-actions#pgf.back/pgfsetrectcap"
                            >\pgfsetrectcap</a
                          ></span
                        >}</span
                      ></span
                    >}<br />
                    <span class="textcolor" style="color: #000000"
                      ><a href="pgfkeys#pgf.back/pgfkeys">\pgfkeys</a></span
                    >{<span class="textcolor" style="color: #000000"
                      ><span class="textcolor" style="color: #008000"
                        >/line cap/rectangle</span
                      >/<span class="textcolor" style="color: #0000b2"
                        ><a href="pgfkeys#pgf./handlers/.style">.style</a></span
                      >={<span class="textcolor" style="color: #008000"
                        >/line cap</span
                      >=<span class="textcolor" style="color: #008000"
                        >rect}</span
                      ></span
                    >}<br />
                    ...<br />
                    <span class="textcolor" style="color: #0000b2"
                      ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                    > [<span class="textcolor" style="color: #008000"
                      >/line cap</span
                    >=<span class="textcolor" style="color: #008000">butt</span
                    >]<span class="spaces"> </span>...<br />
                  </code>
                </div>
              </figure>
              <p>
                If the subkey <span class="angle">&langle;</span><i>key</i
                ><span class="angle">&rangle;</span><span class="verb">/</span
                ><span class="angle">&langle;</span><i>value</i
                ><span class="angle">&rangle;</span> does not exist, the error
                key <span class="verb">/errors/unknown choice value</span> is
                executed.
              </p>
            </ul>
          </div>
          <div class="footnotes" role="note">
            <a id="pgfmanual-autopage-7554"></a>

            <p>
              <sup>15</sup>&nbsp;This behavior was partially changed in
              <span class="textsc">pgf</span> 3.1.6 and then restored in 3.1.7.
              For compatibility reasons, this behavior will not be changed in
              future releases anymore.
            </p>
          </div>
          <h6 id="autosec-7555">
            <span
              ><span class="sectionnumber" id="sec-87.4.6">87.4.6</span>
              Expanded and Multiple Values</span
            ><a
              class="anchor-link"
              data-html-link="sec-87.4.6"
              data-pdf-destination="subsubsection.87.4.6"
              data-pdf-page="990"
              href="#sec-87.4.6"
              >&para;</a
            >
          </h6>
          <a id="pgfmanual-autopage-7555"></a>

          <p>
            When you write <span class="angle">&langle;</span><i>key</i
            ><span class="angle">&rangle;</span><span class="verb">=</span
            ><span class="angle">&langle;</span><i>value</i
            ><span class="angle">&rangle;</span>, you usually wish to use the
            <span class="angle">&langle;</span><i>value</i
            ><span class="angle">&rangle;</span> &ldquo;as is&rdquo;. Indeed,
            great care is taken to ensure that you can even use things like
            <span class="verb">#1</span> or unbalanced
            <span class="latexlogofont"
              ><span class="latexlogo"
                >T<span class="latexlogosub">e</span>X</span
              ></span
            >-ifs inside <span class="angle">&langle;</span><i>value</i
            ><span class="angle">&rangle;</span>. However, sometimes you want
            the <span class="angle">&langle;</span><i>value</i
            ><span class="angle">&rangle;</span> to be expanded before it is
            used. For instance, <span class="angle">&langle;</span><i>value</i
            ><span class="angle">&rangle;</span> might be a macro name like
            <span class="verb">\mymacro</span> and you do not want
            <span class="verb">\mymacro</span> to be used as the macro, but
            rather the <em>contents</em> of <span class="verb">\mymacro</span>.
            Thus, instead of using <span class="angle">&langle;</span
            ><i>value</i><span class="angle">&rangle;</span>, you wish to use
            whatever <span class="angle">&langle;</span><i>value</i
            ><span class="angle">&rangle;</span> expands to. Instead of using
            some fancy <span class="verb">\expandafter</span> hackery, you can
            use the following handlers:
          </p>

          <div class="manualentry">
            <ul class="list" style="list-style-type: none">
              <div class="entryheadline">
                <li>
                  <p>
                    <a id="pgf./handlers/.expand:once"></a>
                    <span class="hl-def"
                      ><b>Key handler</b> <span class="angle">&langle;</span
                      ><i>key</i><span class="angle">&rangle;</span
                      ><kbd>/<span class="declare">.expand once</span></kbd
                      ><span class="verb">=</span
                      ><span class="angle">&langle;</span><i>value</i
                      ><span class="angle">&rangle;</span></span
                    >
                    <a
                      class="anchor-link"
                      data-html-link="pgf./handlers/.expand:once"
                      href="#handlers/.expand:once"
                      id="handlers/.expand:once"
                      >&para;</a
                    >
                  </p>
                </li>
              </div>
              <p>
                This handler expands <span class="angle">&langle;</span
                ><i>value</i><span class="angle">&rangle;</span> once (more
                precisely, it executes an
                <span class="verb">\expandafter</span> command on the first
                token of <span class="angle">&langle;</span><i>value</i
                ><span class="angle">&rangle;</span>) and then process the
                resulting <span class="angle">&langle;</span><i>result</i
                ><span class="angle">&rangle;</span> as if you had written
                <span class="angle">&langle;</span><i>key</i
                ><span class="angle">&rangle;</span><span class="verb">=</span
                ><span class="angle">&langle;</span><i>result</i
                ><span class="angle">&rangle;</span>. Note that if
                <span class="angle">&langle;</span><i>key</i
                ><span class="angle">&rangle;</span> contains a handler itself,
                this handler will be called normally.
              </p>

              <figure class="example">
                <div class="example-image">
                  <table>
                    <tbody>
                      <tr style="display: none">
                        <th>.</th>
                      </tr>

                      <tr>
                        <td class="tdl">Key 1:</td>
                        <td class="tdl">\c</td>
                      </tr>

                      <tr>
                        <td class="tdl">Key 2:</td>
                        <td class="tdl">\b</td>
                      </tr>

                      <tr>
                        <td class="tdl">Key 3:</td>
                        <td class="tdl">\a</td>
                      </tr>

                      <tr>
                        <td class="tdl">Key 4:</td>
                        <td class="tdl">bottom</td>
                      </tr>
                    </tbody>
                  </table>
                </div>

                <div class="example-code">
                  <button class="clipboardButton" type="button">copy</button>
                  <code>
                    <br />
                    <span class="textcolor" style="color: #0000b2">\def</span
                    ><span class="textcolor" style="color: #0000b2">\a</span
                    >{<span class="textcolor" style="color: #000000"
                      ><a href="base-scopes#pgf.bottom">bottom</a></span
                    >}<br />
                    <span class="textcolor" style="color: #0000b2">\def</span
                    ><span class="textcolor" style="color: #0000b2">\b</span
                    >{<span class="textcolor" style="color: #0000b2">\a</span
                    >}<br />
                    <span class="textcolor" style="color: #0000b2">\def</span
                    ><span class="textcolor" style="color: #0000b2">\c</span
                    >{<span class="textcolor" style="color: #0000b2">\b</span
                    >}<br />
                    <br />
                    <span class="textcolor" style="color: #000000"
                      ><a href="pgfkeys#pgf.back/pgfkeys">\pgfkeys</a></span
                    >{<span class="textcolor" style="color: #000000"
                      ><span class="textcolor" style="color: #008000"
                        >/key1</span
                      >/<span class="textcolor" style="color: #0000b2"
                        ><a href="pgfkeys#pgf./handlers/.initial"
                          >.initial</a
                        ></span
                      >=<span class="textcolor" style="color: #008000"
                        ><span class="textcolor" style="color: #0000b2"
                          >\c</span
                        ></span
                      ></span
                    >}<br />
                    <span class="textcolor" style="color: #000000"
                      ><a href="pgfkeys#pgf.back/pgfkeys">\pgfkeys</a></span
                    >{<span class="textcolor" style="color: #000000"
                      ><span class="textcolor" style="color: #008000"
                        >/key2</span
                      >/<span class="textcolor" style="color: #0000b2"
                        >.initial/.expand once</span
                      >=<span class="textcolor" style="color: #008000"
                        ><span class="textcolor" style="color: #0000b2"
                          >\c</span
                        ></span
                      ></span
                    >}<br />
                    <span class="textcolor" style="color: #000000"
                      ><a href="pgfkeys#pgf.back/pgfkeys">\pgfkeys</a></span
                    >{<span class="textcolor" style="color: #000000"
                      ><span class="textcolor" style="color: #008000"
                        >/key3</span
                      >/<span class="textcolor" style="color: #0000b2"
                        >.initial/.expand twice</span
                      >=<span class="textcolor" style="color: #008000"
                        ><span class="textcolor" style="color: #0000b2"
                          >\c</span
                        ></span
                      ></span
                    >}<br />
                    <span class="textcolor" style="color: #000000"
                      ><a href="pgfkeys#pgf.back/pgfkeys">\pgfkeys</a></span
                    >{<span class="textcolor" style="color: #000000"
                      ><span class="textcolor" style="color: #008000"
                        >/key4</span
                      >/<span class="textcolor" style="color: #0000b2"
                        >.initial/.expanded</span
                      >=<span class="textcolor" style="color: #008000"
                        ><span class="textcolor" style="color: #0000b2"
                          >\c</span
                        ></span
                      ></span
                    >}<br />
                    <br />
                    <span class="textcolor" style="color: #0000b2">\def</span
                    ><span class="textcolor" style="color: #0000b2">\a</span
                    >{{<span class="textcolor" style="color: #0000b2"
                      >\ttfamily</span
                    ><span class="textcolor" style="color: #0000b2"
                      >\string</span
                    ><span class="textcolor" style="color: #0000b2">\a</span
                    >}}<br />
                    <span class="textcolor" style="color: #0000b2">\def</span
                    ><span class="textcolor" style="color: #0000b2">\b</span
                    >{{<span class="textcolor" style="color: #0000b2"
                      >\ttfamily</span
                    ><span class="textcolor" style="color: #0000b2"
                      >\string</span
                    ><span class="textcolor" style="color: #0000b2">\b</span
                    >}}<br />
                    <span class="textcolor" style="color: #0000b2">\def</span
                    ><span class="textcolor" style="color: #0000b2">\c</span
                    >{{<span class="textcolor" style="color: #0000b2"
                      >\ttfamily</span
                    ><span class="textcolor" style="color: #0000b2"
                      >\string</span
                    ><span class="textcolor" style="color: #0000b2">\c</span
                    >}}<br />
                    <br />
                    <span class="textcolor" style="color: #000000">\begin</span
                    >{<span class="textcolor" style="color: #0000b2"
                      >tabular</span
                    >}{<span class="textcolor" style="color: #000000">ll</span
                    >}<br />
                    <span class="textcolor" style="color: #000000">Key</span>
                    <span class="textcolor" style="color: #000000"
                      >1:&amp;</span
                    >
                    <span class="textcolor" style="color: #000000"
                      ><a href="pgfkeys#pgf.back/pgfkeys">\pgfkeys</a></span
                    >{<span class="textcolor" style="color: #000000"
                      ><span class="textcolor" style="color: #008000"
                        >/key1</span
                      ></span
                    >} <span class="textcolor" style="color: #0000b2"
                      >\</span
                    ><span class="textcolor" style="color: #0000b2">\</span
                    ><br />
                    <span class="textcolor" style="color: #000000">Key</span>
                    <span class="textcolor" style="color: #000000"
                      >2:&amp;</span
                    >
                    <span class="textcolor" style="color: #000000"
                      ><a href="pgfkeys#pgf.back/pgfkeys">\pgfkeys</a></span
                    >{<span class="textcolor" style="color: #000000"
                      ><span class="textcolor" style="color: #008000"
                        >/key2</span
                      ></span
                    >} <span class="textcolor" style="color: #0000b2"
                      >\</span
                    ><span class="textcolor" style="color: #0000b2">\</span
                    ><br />
                    <span class="textcolor" style="color: #000000">Key</span>
                    <span class="textcolor" style="color: #000000"
                      >3:&amp;</span
                    >
                    <span class="textcolor" style="color: #000000"
                      ><a href="pgfkeys#pgf.back/pgfkeys">\pgfkeys</a></span
                    >{<span class="textcolor" style="color: #000000"
                      ><span class="textcolor" style="color: #008000"
                        >/key3</span
                      ></span
                    >} <span class="textcolor" style="color: #0000b2"
                      >\</span
                    ><span class="textcolor" style="color: #0000b2">\</span
                    ><br />
                    <span class="textcolor" style="color: #000000">Key</span>
                    <span class="textcolor" style="color: #000000"
                      >4:&amp;</span
                    >
                    <span class="textcolor" style="color: #000000"
                      ><a href="pgfkeys#pgf.back/pgfkeys">\pgfkeys</a></span
                    >{<span class="textcolor" style="color: #000000"
                      ><span class="textcolor" style="color: #008000"
                        >/key4</span
                      ></span
                    >}<br />
                    <span class="textcolor" style="color: #000000">\end</span
                    >{<span class="textcolor" style="color: #0000b2"
                      >tabular</span
                    >}<br />
                  </code>
                </div>
              </figure>
            </ul>
          </div>

          <div class="manualentry">
            <ul class="list" style="list-style-type: none">
              <div class="entryheadline">
                <li>
                  <p>
                    <a id="pgf./handlers/.expand:twice"></a>
                    <span class="hl-def"
                      ><b>Key handler</b> <span class="angle">&langle;</span
                      ><i>key</i><span class="angle">&rangle;</span
                      ><kbd>/<span class="declare">.expand twice</span></kbd
                      ><span class="verb">=</span
                      ><span class="angle">&langle;</span><i>value</i
                      ><span class="angle">&rangle;</span></span
                    >
                    <a
                      class="anchor-link"
                      data-html-link="pgf./handlers/.expand:twice"
                      href="#handlers/.expand:twice"
                      id="handlers/.expand:twice"
                      >&para;</a
                    >
                  </p>
                </li>
              </div>
              <p>
                This handler works like saying
                <span class="angle">&langle;</span><i>key</i
                ><span class="angle">&rangle;</span
                ><span class="verb">/.expand once/.expand once=</span
                ><span class="angle">&langle;</span><i>value</i
                ><span class="angle">&rangle;</span>.
              </p>
            </ul>
          </div>

          <div class="manualentry">
            <ul class="list" style="list-style-type: none">
              <div class="entryheadline">
                <li>
                  <p>
                    <a id="pgf./handlers/.expanded"></a>
                    <span class="hl-def"
                      ><b>Key handler</b> <span class="angle">&langle;</span
                      ><i>key</i><span class="angle">&rangle;</span
                      ><kbd>/<span class="declare">.expanded</span></kbd
                      ><span class="verb">=</span
                      ><span class="angle">&langle;</span><i>value</i
                      ><span class="angle">&rangle;</span></span
                    >
                    <a
                      class="anchor-link"
                      data-html-link="pgf./handlers/.expanded"
                      href="#handlers/.expanded"
                      id="handlers/.expanded"
                      >&para;</a
                    >
                  </p>
                </li>
              </div>
              <p>
                This handler will completely expand
                <span class="angle">&langle;</span><i>value</i
                ><span class="angle">&rangle;</span> (using
                <span class="verb">\edef</span>) before processing
                <span class="angle">&langle;</span><i>key</i
                ><span class="angle">&rangle;</span><span class="verb">=</span
                ><span class="angle">&langle;</span><i>result</i
                ><span class="angle">&rangle;</span>.
              </p>
            </ul>
          </div>

          <div class="manualentry">
            <ul class="list" style="list-style-type: none">
              <div class="entryheadline">
                <li>
                  <p>
                    <a id="pgf./handlers/.evaluated"></a>
                    <span class="hl-def"
                      ><b>Key handler</b> <span class="angle">&langle;</span
                      ><i>key</i><span class="angle">&rangle;</span
                      ><kbd>/<span class="declare">.evaluated</span></kbd
                      ><span class="verb">=</span
                      ><span class="angle">&langle;</span><i>value</i
                      ><span class="angle">&rangle;</span></span
                    >
                    <a
                      class="anchor-link"
                      data-html-link="pgf./handlers/.evaluated"
                      href="#handlers/.evaluated"
                      id="handlers/.evaluated"
                      >&para;</a
                    >
                  </p>
                </li>
              </div>
              <p>
                This handler will evaluate <span class="angle">&langle;</span
                ><i>value</i><span class="angle">&rangle;</span> as a
                mathematical expression with
                <span class="verb">\pgfmathparse</span> and assign
                <span class="angle">&langle;</span><i>key</i
                ><span class="angle">&rangle;</span
                ><span class="verb">=\pgfmathresult</span>.
              </p>

              <figure class="example">
                <div class="example-image">
                  <p>1.61803</p>
                </div>

                <div class="example-code">
                  <button class="clipboardButton" type="button">copy</button>
                  <code>
                    <br />
                    <span class="textcolor" style="color: #000000"
                      ><a href="pgfkeys#pgf.back/pgfkeys">\pgfkeys</a></span
                    >{<span class="textcolor" style="color: #000000"
                      ><br />
                      <span class="spaces">  </span><span
                        class="textcolor"
                        style="color: #008000"
                        >/golden ratio</span
                      >/<span class="textcolor" style="color: #0000b2"
                        >.initial/.evaluated</span
                      >=<span class="textcolor" style="color: #008000"
                        >{<span class="textcolor" style="color: #800080"
                          >(1 + sqrt(5)</span
                        >)/2}</span
                      >,<br /> </span
                    >}<br />
                    <span class="textcolor" style="color: #000000"
                      ><a href="pgfkeys#pgf.back/pgfkeys">\pgfkeys</a></span
                    >{<span class="textcolor" style="color: #000000"
                      ><span class="textcolor" style="color: #008000"
                        >/golden ratio</span
                      ></span
                    >}<br />
                  </code>
                </div>
              </figure>
              <p></p>
            </ul>
          </div>

          <div class="manualentry">
            <ul class="list" style="list-style-type: none">
              <div class="entryheadline">
                <li>
                  <p>
                    <a id="pgf./handlers/.list"></a>
                    <span class="hl-def"
                      ><b>Key handler</b> <span class="angle">&langle;</span
                      ><i>key</i><span class="angle">&rangle;</span
                      ><kbd>/<span class="declare">.list</span></kbd
                      ><span class="verb">=</span
                      ><span class="angle">&langle;</span
                      ><i>comma-separated list of values</i
                      ><span class="angle">&rangle;</span></span
                    >
                    <a
                      class="anchor-link"
                      data-html-link="pgf./handlers/.list"
                      href="#handlers/.list"
                      id="handlers/.list"
                      >&para;</a
                    >
                  </p>
                </li>
              </div>
              <p>
                This handler causes the key to be used repeatedly, namely once
                for every element of the list of values. Note that the list of
                values should typically be surrounded by braces since,
                otherwise,
                <span class="latexlogofont"
                  ><span class="latexlogo"
                    >T<span class="latexlogosub">e</span>X</span
                  ></span
                >
                will not be able to tell whether a comma starts a new key or a
                new value.
              </p>
              <p>
                The <span class="angle">&langle;</span><i>list of values</i
                ><span class="angle">&rangle;</span> is processed using the
                <span class="verb">\foreach</span> statement, so you can use the
                <span class="verb">...</span> notation.
              </p>

              <figure class="example">
                <div class="example-image">
                  <p>(a)(b)(0)(1)(2)(3)(4)(5)</p>
                </div>

                <div class="example-code">
                  <button class="clipboardButton" type="button">copy</button>
                  <code>
                    <br />
                    <span class="textcolor" style="color: #000000"
                      ><a href="pgfkeys#pgf.back/pgfkeys">\pgfkeys</a></span
                    >{<span class="textcolor" style="color: #000000"
                      ><span class="textcolor" style="color: #008000">/foo</span
                      >/<span class="textcolor" style="color: #0000b2"
                        ><a href="pgfkeys#pgf./handlers/.code">.code</a></span
                      >=<span class="textcolor" style="color: #008000"
                        ><span class="textcolor" style="color: #800080"
                          >(#1)</span
                        ></span
                      ></span
                    >}<br />
                    <span class="textcolor" style="color: #000000"
                      ><a href="pgfkeys#pgf.back/pgfkeys">\pgfkeys</a></span
                    >{<span class="textcolor" style="color: #000000"
                      ><span class="textcolor" style="color: #008000">/foo</span
                      >/<span class="textcolor" style="color: #0000b2"
                        ><a href="pgfkeys#pgf./handlers/.list">.list</a></span
                      >=<span class="textcolor" style="color: #008000"
                        >{a,b,0,1,...,5}</span
                      ></span
                    >}<br />
                  </code>
                </div>
              </figure>
              <p></p>
            </ul>
          </div>
          <h6 id="autosec-7557">
            <span
              ><span class="sectionnumber" id="sec-87.4.7">87.4.7</span>
              Handlers for Forwarding</span
            ><a
              class="anchor-link"
              data-html-link="sec-87.4.7"
              data-pdf-destination="subsubsection.87.4.7"
              data-pdf-page="991"
              href="#sec-87.4.7"
              >&para;</a
            >
          </h6>
          <a id="pgfmanual-autopage-7557"></a>

          <div class="manualentry">
            <ul class="list" style="list-style-type: none">
              <div class="entryheadline">
                <li>
                  <p>
                    <a id="pgf./handlers/.forward:to"></a>
                    <span class="hl-def"
                      ><b>Key handler</b> <span class="angle">&langle;</span
                      ><i>key</i><span class="angle">&rangle;</span
                      ><kbd>/<span class="declare">.forward to</span></kbd
                      ><span class="verb">=</span
                      ><span class="angle">&langle;</span><i>another key</i
                      ><span class="angle">&rangle;</span></span
                    >
                    <a
                      class="anchor-link"
                      data-html-link="pgf./handlers/.forward:to"
                      href="#handlers/.forward:to"
                      id="handlers/.forward:to"
                      >&para;</a
                    >
                  </p>
                </li>
              </div>
              <p>
                This handler causes the <span class="angle">&langle;</span
                ><i>key</i><span class="angle">&rangle;</span> to
                &ldquo;forward&rdquo; its argument to
                <span class="angle">&langle;</span><i>another key</i
                ><span class="angle">&rangle;</span>. When the
                <span class="angle">&langle;</span><i>key</i
                ><span class="angle">&rangle;</span> is used, its normal code
                will be executed first. Then, the value is (additionally) passed
                to <span class="angle">&langle;</span><i>another key</i
                ><span class="angle">&rangle;</span>. If the
                <span class="angle">&langle;</span><i>key</i
                ><span class="angle">&rangle;</span> has not yet been defined
                prior to the use of <span class="verb">.forward to</span>, it
                will be defined then (and do nothing by itself, expect for
                forwarding it to <span class="angle">&langle;</span
                ><i>key name</i><span class="angle">&rangle;</span>). The
                <span class="angle">&langle;</span><i>another key</i
                ><span class="angle">&rangle;</span> must be a fully qualified
                key name.
              </p>

              <figure class="example">
                <div class="example-image">
                  <p>(b:1)(a:1) (a:2)</p>
                </div>

                <div class="example-code">
                  <button class="clipboardButton" type="button">copy</button>
                  <code>
                    <br />
                    <span class="textcolor" style="color: #000000"
                      ><a href="pgfkeys#pgf.back/pgfkeys">\pgfkeys</a></span
                    >{<span class="textcolor" style="color: #000000"
                      ><br />
                      <span class="spaces">  </span><span
                        class="textcolor"
                        style="color: #008000"
                        >/a</span
                      >/<span class="textcolor" style="color: #0000b2"
                        ><a href="pgfkeys#pgf./handlers/.code">.code</a></span
                      >=<span class="textcolor" style="color: #008000"
                        ><span class="textcolor" style="color: #800080"
                          >(a:#1)</span
                        ></span
                      >,<br />
                      <span class="spaces">  </span><span
                        class="textcolor"
                        style="color: #008000"
                        >/b</span
                      >/<span class="textcolor" style="color: #0000b2"
                        ><a href="pgfkeys#pgf./handlers/.code">.code</a></span
                      >=<span class="textcolor" style="color: #008000"
                        ><span class="textcolor" style="color: #800080"
                          >(b:#1)</span
                        ></span
                      >,<br />
                      <span class="spaces">  </span><span
                        class="textcolor"
                        style="color: #008000"
                        >/b</span
                      >/<span class="textcolor" style="color: #0000b2"
                        ><a href="pgfkeys#pgf./handlers/.forward:to"
                          >.forward to</a
                        ></span
                      >=<span class="textcolor" style="color: #008000">/a</span
                      >,<br />
                      <span class="spaces">  </span><span
                        class="textcolor"
                        style="color: #008000"
                        >/c</span
                      >/<span class="textcolor" style="color: #0000b2"
                        ><a href="pgfkeys#pgf./handlers/.forward:to"
                          >.forward to</a
                        ></span
                      >=<span class="textcolor" style="color: #008000"
                        >/a<br /> </span></span
                    >}<br />
                    <span class="textcolor" style="color: #000000"
                      ><a href="pgfkeys#pgf.back/pgfkeys">\pgfkeys</a></span
                    >{<span class="textcolor" style="color: #000000"
                      ><span class="textcolor" style="color: #008000">/b</span
                      >=<span class="textcolor" style="color: #008000"
                        >1</span
                      ></span
                    >} <span class="textcolor" style="color: #000000"
                      ><a href="pgfkeys#pgf.back/pgfkeys">\pgfkeys</a></span
                    >{<span class="textcolor" style="color: #000000"
                      ><span class="textcolor" style="color: #008000">/c</span
                      >=<span class="textcolor" style="color: #008000"
                        >2</span
                      ></span
                    >}<br />
                  </code>
                </div>
              </figure>
              <p></p>
            </ul>
          </div>

          <div class="manualentry">
            <ul class="list" style="list-style-type: none">
              <div class="entryheadline">
                <li>
                  <p>
                    <a id="pgf./handlers/.search:also"></a>
                    <span class="hl-def"
                      ><b>Key handler</b> <span class="angle">&langle;</span
                      ><i>key</i><span class="angle">&rangle;</span
                      ><kbd>/<span class="declare">.search also</span></kbd
                      >={<span class="angle">&langle;</span><i>path list</i
                      ><span class="angle">&rangle;</span>}</span
                    >
                    <a
                      class="anchor-link"
                      data-html-link="pgf./handlers/.search:also"
                      href="#handlers/.search:also"
                      id="handlers/.search:also"
                      >&para;</a
                    >
                  </p>
                </li>
              </div>
              <p>
                A style which installs a
                <span class="verb">/.unknown</span> handler into
                <span class="angle">&langle;</span><i>key</i
                ><span class="angle">&rangle;</span>. This
                <span class="verb">/.unknown</span> handler will then search for
                unknown keys in every path provided in {<span class="angle"
                  >&langle;</span
                ><i>path list</i><span class="angle">&rangle;</span>}.
              </p>

              <figure class="example">
                <div class="example-image">
                  <p>
                    Invoking /secondary path/option with &lsquo;value&rsquo;
                  </p>
                </div>

                <div class="example-code">
                  <button class="clipboardButton" type="button">copy</button>
                  <code>
                    <br />
                    <span class="example-code-comment">% define a key:</span
                    ><br />
                    <span class="textcolor" style="color: #000000"
                      ><a href="pgfkeys#pgf.back/pgfkeys">\pgfkeys</a></span
                    >{<span class="textcolor" style="color: #000000"
                      ><span class="textcolor" style="color: #008000"
                        >/secondary path/option</span
                      >/<span class="textcolor" style="color: #0000b2"
                        ><a href="pgfkeys#pgf./handlers/.code">.code</a></span
                      >=<span class="textcolor" style="color: #008000"
                        >{Invoking /secondary path/option with `#1'}</span
                      ></span
                    >}<br />
                    <br />
                    <span class="example-code-comment"
                      >% set up a search path:</span
                    ><br />
                    <span class="textcolor" style="color: #000000"
                      ><a href="pgfkeys#pgf.back/pgfkeys">\pgfkeys</a></span
                    >{<span class="textcolor" style="color: #000000"
                      ><span class="textcolor" style="color: #008000"
                        >/main path</span
                      >/<span class="textcolor" style="color: #0000b2"
                        ><a href="pgfkeys#pgf./handlers/.search:also"
                          >.search also</a
                        ></span
                      >=<span class="textcolor" style="color: #008000"
                        >{/secondary
                        <a href="tikz-graphs#pgf.path">path</a>}</span
                      ></span
                    >}<br />
                    <br />
                    <span class="example-code-comment"
                      >% try searching for `option=value' in '/main path':</span
                    ><br />
                    <span class="example-code-comment"
                      >% -&gt; this finds `/secondary path/option'!</span
                    ><br />
                    <span class="textcolor" style="color: #000000"
                      ><a href="pgfkeys#pgf.back/pgfkeys">\pgfkeys</a></span
                    >{<span class="textcolor" style="color: #000000"
                      ><span class="textcolor" style="color: #008000"
                        >/main path</span
                      >/<span class="textcolor" style="color: #0000b2"
                        ><a href="pgfkeys#pgf./handlers/.cd">.cd</a></span
                      >,<span class="textcolor" style="color: #008000"
                        >option</span
                      >=<span class="textcolor" style="color: #008000"
                        ><a href="tikz-animations#pgf.value">value</a></span
                      ></span
                    >}<br />
                  </code>
                </div>
              </figure>
              <p>
                The <span class="verb">/.search also</span> handler follows the
                strategy
              </p>
              <ul class="enumerate" style="list-style-type: none">
                <li>
                  <p>
                    <span class="listmarker">1.</span> If a user provides a
                    fully qualified key which could not be found, for example
                    the full string <span class="verb">/main path/option</span>,
                    it assumes that the user knew what she is doing &ndash; and
                    does <em>not</em> continue searching for
                    <span class="verb">option</span> in {<span class="angle"
                      >&langle;</span
                    ><i>path list</i><span class="angle">&rangle;</span>}.
                  </p>
                </li>
                <li>
                  <p>
                    <span class="listmarker">2.</span> If a user provides only
                    the key&rsquo;s name, for example
                    <span class="verb">option</span> and
                    <span class="verb">option</span> cannot be found in the
                    current default path (which is
                    <span class="verb">/main path</span> in our example above),
                    the current default path is set to the next element in
                    {<span class="angle">&langle;</span><i>path list</i
                    ><span class="angle">&rangle;</span>} (which is
                    <span class="verb">/secondary path</span> here) and
                    <span class="verb">\pgfkeys</span> will be restarted.
                  </p>
                  <p>
                    This will be iterated until either a match has been found or
                    all elements in {<span class="angle">&langle;</span
                    ><i>path list</i><span class="angle">&rangle;</span>} have
                    been tested.
                  </p>
                </li>
                <li>
                  <p>
                    <span class="listmarker">3.</span> If all elements in {<span
                      class="angle"
                      >&langle;</span
                    ><i>path list</i><span class="angle">&rangle;</span>} have
                    been checked and the key is still unknown, the fall-back
                    handler <span class="verb">/handlers/.unknown</span> will be
                    invoked.
                  </p>
                </li>
              </ul>

              <figure class="example">
                <div class="example-image">
                  <p>
                    Invoking /secondary path/option with
                    &lsquo;value&rsquo;Found unknown option /main
                    path/option=value!
                  </p>
                </div>

                <div class="example-code">
                  <button class="clipboardButton" type="button">copy</button>
                  <code>
                    <br />
                    <span class="example-code-comment">% define a key:</span
                    ><br />
                    <span class="textcolor" style="color: #000000"
                      ><a href="pgfkeys#pgf.back/pgfkeys">\pgfkeys</a></span
                    >{<span class="textcolor" style="color: #000000"
                      ><span class="textcolor" style="color: #008000"
                        >/secondary path/option</span
                      >/<span class="textcolor" style="color: #0000b2"
                        ><a href="pgfkeys#pgf./handlers/.code">.code</a></span
                      >=<span class="textcolor" style="color: #008000"
                        >{Invoking /secondary path/option with `#1'}</span
                      ></span
                    >}<br />
                    <br />
                    <span class="example-code-comment"
                      >% set up a search path:</span
                    ><br />
                    <span class="textcolor" style="color: #000000"
                      ><a href="pgfkeys#pgf.back/pgfkeys">\pgfkeys</a></span
                    >{<span class="textcolor" style="color: #000000"
                      ><span class="textcolor" style="color: #008000"
                        >/main path</span
                      >/<span class="textcolor" style="color: #0000b2"
                        ><a href="pgfkeys#pgf./handlers/.search:also"
                          >.search also</a
                        ></span
                      >=<span class="textcolor" style="color: #008000"
                        >{/secondary
                        <a href="tikz-graphs#pgf.path">path</a>}</span
                      ></span
                    >}<br />
                    <br />
                    <span class="example-code-comment"
                      >% try searching for `option=value' in '/main path':</span
                    ><br />
                    <span class="example-code-comment"
                      >% -&gt; this finds `/secondary path/option'!</span
                    ><br />
                    <span class="textcolor" style="color: #000000"
                      ><a href="pgfkeys#pgf.back/pgfkeys">\pgfkeys</a></span
                    >{<span class="textcolor" style="color: #000000"
                      ><span class="textcolor" style="color: #008000"
                        >/main path</span
                      >/<span class="textcolor" style="color: #0000b2"
                        ><a href="pgfkeys#pgf./handlers/.cd">.cd</a></span
                      >,<span class="textcolor" style="color: #008000"
                        >option</span
                      >=<span class="textcolor" style="color: #008000"
                        ><a href="tikz-animations#pgf.value">value</a></span
                      ></span
                    >}<br />
                    <br />
                    <span class="example-code-comment">% negative example:</span
                    ><br />
                    <span class="example-code-comment"
                      >% try searching for fully qualified key /main
                      path/option.</span
                    ><br />
                    <span class="example-code-comment"
                      >% This won't be handled by .search also.</span
                    ><br />
                    <span class="textcolor" style="color: #000000"
                      ><a href="pgfkeys#pgf.back/pgfkeys">\pgfkeys</a></span
                    >{<span class="textcolor" style="color: #000000"
                      ><span class="textcolor" style="color: #008000"
                        >/handlers</span
                      >/<span class="textcolor" style="color: #0000b2"
                        >.unknown/.code</span
                      >=<span class="textcolor" style="color: #008000"
                        >{Found unknown option
                        <span class="textcolor" style="color: #0000b2"
                          >\pgfkeyscurrentkeyRAW</span
                        >={#1}!}</span
                      ></span
                    >}<span class="example-code-comment">%</span><br />
                    <span class="textcolor" style="color: #000000"
                      ><a href="pgfkeys#pgf.back/pgfkeys">\pgfkeys</a></span
                    >{<span class="textcolor" style="color: #000000"
                      ><span class="textcolor" style="color: #008000"
                        >/main path</span
                      >/<span class="textcolor" style="color: #0000b2"
                        ><a href="pgfkeys#pgf./handlers/.cd">.cd</a></span
                      >,<span class="textcolor" style="color: #008000"
                        >/main path/option</span
                      >=<span class="textcolor" style="color: #008000"
                        ><a href="tikz-animations#pgf.value">value</a></span
                      ></span
                    >}<br />
                  </code>
                </div>
              </figure>
              <p>
                Please note that the strategy of
                <span class="verb">/.search also</span> is different from the
                first example provided in section&nbsp;<a
                  href="pgfkeys#sec:pgf:unknown:keys"
                  >87.3.6</a
                >
                &ldquo;Unknown Keys&rdquo; because
                <span class="verb">/.search also</span> only applies to keys
                that are not fully qualified.
              </p>
              <p>
                For those who are familiar with
                <span class="verb">\pgfkeys</span>, the actual implementation of
                <span class="verb">/.search also</span> might be interesting:
              </p>
              <ul class="enumerate" style="list-style-type: none">
                <li>
                  <p>
                    <span class="listmarker">1.</span>
                    <span class="verb"
                      >\pgfkeys{/path/.search also={/tikz}}</span
                    >
                    is equivalent to
                  </p>

                  <figure class="example">
                    <div class="example-code">
                      <button class="clipboardButton" type="button">
                        copy
                      </button>
                      <code>
                        <br />
                        <span class="textcolor" style="color: #000000"
                          ><a href="pgfkeys#pgf.back/pgfkeys">\pgfkeys</a></span
                        >{<span class="textcolor" style="color: #000000"
                          ><span class="textcolor" style="color: #008000"
                            >/path</span
                          >/<span class="textcolor" style="color: #0000b2"
                            >.unknown/.code</span
                          >=<span class="textcolor" style="color: #008000"
                            >{<span class="example-code-comment">%</span><br />
                            <span class="spaces">        </span><span
                              class="textcolor"
                              style="color: #0000b2"
                              >\def</span
                            ><span class="textcolor" style="color: #0000b2"
                              ><a href="pgfkeys#pgf.back/pgfkeys"
                                >\pgfkeys</a
                              ></span
                            >@searchalso@temp@value{#1}<span
                              class="example-code-comment"
                              >%</span
                            ><br />
                            <span class="spaces">        </span><span
                              class="textcolor"
                              style="color: #0000b2"
                              >\ifpgfkeysaddeddefaultpath</span
                            ><br />
                            <span class="spaces">            </span><span
                              class="textcolor"
                              style="color: #0000b2"
                              >\expandafter</span
                            ><span class="textcolor" style="color: #0000b2"
                              ><a href="pgfkeys#pgf.back/pgfkeys"
                                >\pgfkeys</a
                              ></span
                            >@firstoftwo<br />
                            <span class="spaces">        </span><span
                              class="textcolor"
                              style="color: #0000b2"
                              >\else</span
                            ><br />
                            <span class="spaces">            </span><span
                              class="textcolor"
                              style="color: #0000b2"
                              >\expandafter</span
                            ><span class="textcolor" style="color: #0000b2"
                              ><a href="pgfkeys#pgf.back/pgfkeys"
                                >\pgfkeys</a
                              ></span
                            >@secondoftwo<br />
                            <span class="spaces">        </span><span
                              class="textcolor"
                              style="color: #0000b2"
                              >\fi</span
                            >{<span class="example-code-comment">%</span><br />
                            <span class="spaces">            </span><span
                              class="example-code-comment"
                              >% only process keys for which no full path has
                              been</span
                            ><br />
                            <span class="spaces">            </span><span
                              class="example-code-comment"
                              >% provided:</span
                            ><br />
                            <span class="spaces">            </span><span
                              class="textcolor"
                              style="color: #0000b2"
                              >\pgfkeyssuccessfalse</span
                            ><br />
                            <span class="spaces">            </span><span
                              class="textcolor"
                              style="color: #0000b2"
                              >\let</span
                            ><span class="textcolor" style="color: #0000b2"
                              ><a href="pgfkeys#pgf.back/pgfkeys"
                                >\pgfkeys</a
                              ></span
                            >@searchalso@name=<span
                              class="textcolor"
                              style="color: #0000b2"
                              >\pgfkeyscurrentkeyRAW</span
                            ><br />
                            <span class="spaces">            </span><span
                              class="textcolor"
                              style="color: #0000b2"
                              >\ifpgfkeyssuccess</span
                            ><br />
                            <span class="spaces">            </span><span
                              class="textcolor"
                              style="color: #0000b2"
                              >\else</span
                            ><br />
                            <span class="spaces">                </span><span
                              class="example-code-comment"
                              >% search with /tikz as default path:</span
                            ><br />
                            <span class="spaces">                </span><span
                              class="textcolor"
                              style="color: #0000b2"
                              ><a href="pgfkeys#pgf.back/pgfqkeys"
                                >\pgfqkeys</a
                              ></span
                            >{/tikz}{<span
                              class="textcolor"
                              style="color: #0000b2"
                              ><a href="pgfkeys#pgf.back/pgfkeys"
                                >\pgfkeys</a
                              ></span
                            >@searchalso@name/.expand once=<span
                              class="example-code-comment"
                              >%</span
                            ><br />
                            <span class="spaces">                  </span><span
                              class="textcolor"
                              style="color: #0000b2"
                              ><a href="pgfkeys#pgf.back/pgfkeys"
                                >\pgfkeys</a
                              ></span
                            >@searchalso@temp@value}<span
                              class="example-code-comment"
                              >%</span
                            ><br />
                            <span class="spaces">            </span><span
                              class="textcolor"
                              style="color: #0000b2"
                              >\fi</span
                            ><br />
                            <span class="spaces">        </span>}{<span
                              class="example-code-comment"
                              >%</span
                            ><br />
                            <span class="spaces">            </span><span
                              class="textcolor"
                              style="color: #0000b2"
                              ><a href="pgfkeys#pgf.back/pgfkeysgetvalue"
                                >\pgfkeysgetvalue</a
                              ></span
                            >{/handlers/.unknown/.@cmd}{<span
                              class="textcolor"
                              style="color: #0000b2"
                              ><a href="pgfkeys#pgf.back/pgfkeys"
                                >\pgfkeys</a
                              ></span
                            >@code}<span class="example-code-comment">%</span
                            ><br />
                            <span class="spaces">            </span><span
                              class="textcolor"
                              style="color: #0000b2"
                              >\expandafter</span
                            ><span class="textcolor" style="color: #0000b2"
                              ><a href="pgfkeys#pgf.back/pgfkeys"
                                >\pgfkeys</a
                              ></span
                            >@code<span class="textcolor" style="color: #0000b2"
                              ><a href="pgfkeys#pgf.back/pgfkeys"
                                >\pgfkeys</a
                              ></span
                            >@searchalso@temp@value<span
                              class="textcolor"
                              style="color: #0000b2"
                              >\pgfeov</span
                            ><br />
                            <span class="spaces">        </span>}<span
                              class="example-code-comment"
                              >%</span
                            ><br />
                            <span class="spaces">    </span>}<br /> </span></span
                        >}<br />
                      </code>
                    </div>
                  </figure>
                </li>
                <li>
                  <p>
                    <span class="listmarker">2.</span>
                    <span class="verb"
                      >\pgfkeys{/path/.search also={/tikz,/pgf}}</span
                    >
                    is equivalent to
                  </p>

                  <figure class="example">
                    <div class="example-code">
                      <button class="clipboardButton" type="button">
                        copy
                      </button>
                      <code>
                        <br />
                        <span class="textcolor" style="color: #000000"
                          ><a href="pgfkeys#pgf.back/pgfkeys">\pgfkeys</a></span
                        >{<span class="textcolor" style="color: #000000"
                          ><span class="textcolor" style="color: #008000"
                            >/path</span
                          >/<span class="textcolor" style="color: #0000b2"
                            >.unknown/.code</span
                          >=<span class="textcolor" style="color: #008000"
                            >{<span class="example-code-comment">%</span><br />
                            <span class="spaces">        </span><span
                              class="textcolor"
                              style="color: #0000b2"
                              >\def</span
                            ><span class="textcolor" style="color: #0000b2"
                              ><a href="pgfkeys#pgf.back/pgfkeys"
                                >\pgfkeys</a
                              ></span
                            >@searchalso@temp@value{#1}<span
                              class="example-code-comment"
                              >%</span
                            ><br />
                            <span class="spaces">        </span><span
                              class="textcolor"
                              style="color: #0000b2"
                              >\ifpgfkeysaddeddefaultpath</span
                            ><br />
                            <span class="spaces">            </span><span
                              class="textcolor"
                              style="color: #0000b2"
                              >\expandafter</span
                            ><span class="textcolor" style="color: #0000b2"
                              ><a href="pgfkeys#pgf.back/pgfkeys"
                                >\pgfkeys</a
                              ></span
                            >@firstoftwo<br />
                            <span class="spaces">        </span><span
                              class="textcolor"
                              style="color: #0000b2"
                              >\else</span
                            ><br />
                            <span class="spaces">            </span><span
                              class="textcolor"
                              style="color: #0000b2"
                              >\expandafter</span
                            ><span class="textcolor" style="color: #0000b2"
                              ><a href="pgfkeys#pgf.back/pgfkeys"
                                >\pgfkeys</a
                              ></span
                            >@secondoftwo<br />
                            <span class="spaces">        </span><span
                              class="textcolor"
                              style="color: #0000b2"
                              >\fi</span
                            >{<span class="example-code-comment">%</span><br />
                            <span class="spaces">            </span><span
                              class="textcolor"
                              style="color: #0000b2"
                              >\pgfkeyssuccessfalse</span
                            ><br />
                            <span class="spaces">            </span><span
                              class="textcolor"
                              style="color: #0000b2"
                              >\let</span
                            ><span class="textcolor" style="color: #0000b2"
                              ><a href="pgfkeys#pgf.back/pgfkeys"
                                >\pgfkeys</a
                              ></span
                            >@searchalso@name=<span
                              class="textcolor"
                              style="color: #0000b2"
                              >\pgfkeyscurrentkeyRAW</span
                            ><br />
                            <span class="spaces">            </span><span
                              class="textcolor"
                              style="color: #0000b2"
                              >\ifpgfkeyssuccess</span
                            ><br />
                            <span class="spaces">            </span><span
                              class="textcolor"
                              style="color: #0000b2"
                              >\else</span
                            ><br />
                            <span class="spaces">                </span><span
                              class="example-code-comment"
                              >% step 1: search in /tikz with .try:</span
                            ><br />
                            <span class="spaces">                </span><span
                              class="textcolor"
                              style="color: #0000b2"
                              ><a href="pgfkeys#pgf.back/pgfqkeys"
                                >\pgfqkeys</a
                              ></span
                            >{/tikz}{<span
                              class="textcolor"
                              style="color: #0000b2"
                              ><a href="pgfkeys#pgf.back/pgfkeys"
                                >\pgfkeys</a
                              ></span
                            >@searchalso@name/.try/.expand once=<span
                              class="example-code-comment"
                              >%</span
                            ><br />
                            <span class="spaces">                  </span><span
                              class="textcolor"
                              style="color: #0000b2"
                              ><a href="pgfkeys#pgf.back/pgfkeys"
                                >\pgfkeys</a
                              ></span
                            >@searchalso@temp@value}<span
                              class="example-code-comment"
                              >%</span
                            ><br />
                            <span class="spaces">            </span><span
                              class="textcolor"
                              style="color: #0000b2"
                              >\fi</span
                            ><br />
                            <span class="spaces">            </span><span
                              class="textcolor"
                              style="color: #0000b2"
                              >\ifpgfkeyssuccess</span
                            ><br />
                            <span class="spaces">            </span><span
                              class="textcolor"
                              style="color: #0000b2"
                              >\else</span
                            ><br />
                            <span class="spaces">                </span><span
                              class="example-code-comment"
                              >% step 2: search in /pgf (without .try!):</span
                            ><br />
                            <span class="spaces">                </span><span
                              class="textcolor"
                              style="color: #0000b2"
                              ><a href="pgfkeys#pgf.back/pgfqkeys"
                                >\pgfqkeys</a
                              ></span
                            >{/pgf}{<span
                              class="textcolor"
                              style="color: #0000b2"
                              ><a href="pgfkeys#pgf.back/pgfkeys"
                                >\pgfkeys</a
                              ></span
                            >@searchalso@name/.expand once=<span
                              class="textcolor"
                              style="color: #0000b2"
                              ><a href="pgfkeys#pgf.back/pgfkeys"
                                >\pgfkeys</a
                              ></span
                            >@searchalso@}<span class="example-code-comment"
                              >%</span
                            ><br />
                            <span class="spaces">            </span><span
                              class="textcolor"
                              style="color: #0000b2"
                              >\fi</span
                            ><br />
                            <span class="spaces">        </span>}{<span
                              class="example-code-comment"
                              >%</span
                            ><br />
                            <span class="spaces">            </span><span
                              class="textcolor"
                              style="color: #0000b2"
                              ><a href="pgfkeys#pgf.back/pgfkeysgetvalue"
                                >\pgfkeysgetvalue</a
                              ></span
                            >{/handlers/.unknown/.@cmd}{<span
                              class="textcolor"
                              style="color: #0000b2"
                              ><a href="pgfkeys#pgf.back/pgfkeys"
                                >\pgfkeys</a
                              ></span
                            >@code}<span class="example-code-comment">%</span
                            ><br />
                            <span class="spaces">            </span><span
                              class="textcolor"
                              style="color: #0000b2"
                              >\expandafter</span
                            ><span class="textcolor" style="color: #0000b2"
                              ><a href="pgfkeys#pgf.back/pgfkeys"
                                >\pgfkeys</a
                              ></span
                            >@code<span class="textcolor" style="color: #0000b2"
                              ><a href="pgfkeys#pgf.back/pgfkeys"
                                >\pgfkeys</a
                              ></span
                            >@searchalso@temp@value<span
                              class="textcolor"
                              style="color: #0000b2"
                              >\pgfeov</span
                            ><br />
                            <span class="spaces">        </span>}<span
                              class="example-code-comment"
                              >%</span
                            ><br />
                            <span class="spaces">    </span>}<br /> </span></span
                        >}<br />
                      </code>
                    </div>
                  </figure>
                  <p></p>
                </li>
              </ul>
              <p>
                To also enable searching for styles (or other handled keys),
                consider changing the configuration for handled keys to
                <span class="verb">/handler config=full or existing</span> when
                you use <span class="verb">/.search also</span>, that is, use
              </p>

              <figure class="example">
                <div class="example-code">
                  <button class="clipboardButton" type="button">copy</button>
                  <code>
                    <br />
                    <span class="textcolor" style="color: #000000"
                      ><a href="pgfkeys#pgf.back/pgfkeys">\pgfkeys</a></span
                    >{<span class="textcolor" style="color: #000000"
                      ><br />
                      <span class="spaces">   </span><span
                        class="textcolor"
                        style="color: #008000"
                        >/main path</span
                      >/<span class="textcolor" style="color: #0000b2"
                        ><a href="pgfkeys#pgf./handlers/.search:also"
                          >.search also</a
                        ></span
                      >=<span class="textcolor" style="color: #008000"
                        >{/secondary
                        <a href="tikz-graphs#pgf.path">path</a>}</span
                      >,<br />
                      <span class="spaces">   </span><span
                        class="textcolor"
                        style="color: #008000"
                        >/handler config</span
                      >=<span class="textcolor" style="color: #008000"
                        >full <a href="pgfkeys#pgf.or">or</a> existing</span
                      ></span
                    >}<br />
                  </code>
                </div>
              </figure>
            </ul>
          </div>
          <h6 id="autosec-7558">
            <span
              ><span class="sectionnumber" id="sec-87.4.8">87.4.8</span>
              Handlers for Testing Keys</span
            ><a
              class="anchor-link"
              data-html-link="sec-87.4.8"
              data-pdf-destination="subsubsection.87.4.8"
              data-pdf-page="993"
              href="#sec-87.4.8"
              >&para;</a
            >
          </h6>
          <a id="pgfmanual-autopage-7558"></a>

          <div class="manualentry">
            <ul class="list" style="list-style-type: none">
              <div class="entryheadline">
                <li>
                  <p>
                    <a id="pgf./handlers/.try"></a>
                    <span class="hl-def"
                      ><b>Key handler</b> <span class="angle">&langle;</span
                      ><i>key</i><span class="angle">&rangle;</span
                      ><kbd>/<span class="declare">.try</span></kbd
                      ><span class="verb">=</span
                      ><span class="angle">&langle;</span><i>value</i
                      ><span class="angle">&rangle;</span></span
                    >
                    <a
                      class="anchor-link"
                      data-html-link="pgf./handlers/.try"
                      href="#handlers/.try"
                      id="handlers/.try"
                      >&para;</a
                    >
                  </p>
                </li>
              </div>
              <p>
                This handler causes the same things to be done as if
                <span class="angle">&langle;</span><i>key</i
                ><span class="angle">&rangle;</span><span class="verb">=</span
                ><span class="angle">&langle;</span><i>value</i
                ><span class="angle">&rangle;</span> had been written instead.
                However, if neither <span class="angle">&langle;</span><i>key</i
                ><span class="angle">&rangle;</span
                ><span class="verb">/.@cmd</span> nor the key itself is defined,
                no handlers will be called. Instead, the execution of the key
                just stops. Thus, this handler will &ldquo;try&rdquo; to use the
                key, but no further action is taken when the key is not defined.
              </p>
              <p>
                The
                <span class="latexlogofont"
                  ><span class="latexlogo"
                    >T<span class="latexlogosub">e</span>X</span
                  ></span
                >-if <span class="verb">\ifpgfkeyssuccess</span> will be set
                according to whether the <span class="angle">&langle;</span
                ><i>key</i><span class="angle">&rangle;</span> was successfully
                executed or not.
              </p>

              <figure class="example">
                <div class="example-image">
                  <p>(a:hallo)(b:welt)</p>
                </div>

                <div class="example-code">
                  <button class="clipboardButton" type="button">copy</button>
                  <code>
                    <br />
                    <span class="textcolor" style="color: #000000"
                      ><a href="pgfkeys#pgf.back/pgfkeys">\pgfkeys</a></span
                    >{<span class="textcolor" style="color: #000000"
                      ><span class="textcolor" style="color: #008000">/a</span
                      >/<span class="textcolor" style="color: #0000b2"
                        ><a href="pgfkeys#pgf./handlers/.code">.code</a></span
                      >=<span class="textcolor" style="color: #008000"
                        ><span class="textcolor" style="color: #800080"
                          >(a:#1)</span
                        ></span
                      ></span
                    >}<br />
                    <span class="textcolor" style="color: #000000"
                      ><a href="pgfkeys#pgf.back/pgfkeys">\pgfkeys</a></span
                    >{<span class="textcolor" style="color: #000000"
                      ><span class="textcolor" style="color: #008000">/b</span
                      >/<span class="textcolor" style="color: #0000b2"
                        ><a href="pgfkeys#pgf./handlers/.code">.code</a></span
                      >=<span class="textcolor" style="color: #008000"
                        ><span class="textcolor" style="color: #800080"
                          >(b:#1)</span
                        ></span
                      ></span
                    >}<br />
                    <span class="textcolor" style="color: #000000"
                      ><a href="pgfkeys#pgf.back/pgfkeys">\pgfkeys</a></span
                    >{<span class="textcolor" style="color: #000000"
                      ><span class="textcolor" style="color: #008000">/x</span
                      >/<span class="textcolor" style="color: #0000b2"
                        ><a href="pgfkeys#pgf./handlers/.try">.try</a></span
                      >=<span class="textcolor" style="color: #008000">hmm</span
                      >,<span class="textcolor" style="color: #008000">/a</span
                      >/<span class="textcolor" style="color: #0000b2"
                        ><a href="pgfkeys#pgf./handlers/.try">.try</a></span
                      >=<span class="textcolor" style="color: #008000"
                        >hallo</span
                      >,<span class="textcolor" style="color: #008000">/b</span
                      >/<span class="textcolor" style="color: #0000b2"
                        ><a href="pgfkeys#pgf./handlers/.try">.try</a></span
                      >=<span class="textcolor" style="color: #008000"
                        >welt</span
                      ></span
                    >}<br />
                  </code>
                </div>
              </figure>
              <p></p>
            </ul>
          </div>

          <div class="manualentry">
            <ul class="list" style="list-style-type: none">
              <div class="entryheadline">
                <li>
                  <p>
                    <a id="pgf./handlers/.retry"></a>
                    <span class="hl-def"
                      ><b>Key handler</b> <span class="angle">&langle;</span
                      ><i>key</i><span class="angle">&rangle;</span
                      ><kbd>/<span class="declare">.retry</span></kbd
                      ><span class="verb">=</span
                      ><span class="angle">&langle;</span><i>value</i
                      ><span class="angle">&rangle;</span></span
                    >
                    <a
                      class="anchor-link"
                      data-html-link="pgf./handlers/.retry"
                      href="#handlers/.retry"
                      id="handlers/.retry"
                      >&para;</a
                    >
                  </p>
                </li>
              </div>
              <p>
                This handler works just like <span class="verb">/.try</span>,
                only it will not do anything if
                <span class="verb">\ifpgfkeyssuccess</span> is false. Thus, this
                handler will only retry to set a key if &ldquo;the last attempt
                failed&rdquo;.
              </p>

              <figure class="example">
                <div class="example-image">
                  <p>(a:hallo)</p>
                </div>

                <div class="example-code">
                  <button class="clipboardButton" type="button">copy</button>
                  <code>
                    <br />
                    <span class="textcolor" style="color: #000000"
                      ><a href="pgfkeys#pgf.back/pgfkeys">\pgfkeys</a></span
                    >{<span class="textcolor" style="color: #000000"
                      ><span class="textcolor" style="color: #008000">/a</span
                      >/<span class="textcolor" style="color: #0000b2"
                        ><a href="pgfkeys#pgf./handlers/.code">.code</a></span
                      >=<span class="textcolor" style="color: #008000"
                        ><span class="textcolor" style="color: #800080"
                          >(a:#1)</span
                        ></span
                      ></span
                    >}<br />
                    <span class="textcolor" style="color: #000000"
                      ><a href="pgfkeys#pgf.back/pgfkeys">\pgfkeys</a></span
                    >{<span class="textcolor" style="color: #000000"
                      ><span class="textcolor" style="color: #008000">/b</span
                      >/<span class="textcolor" style="color: #0000b2"
                        ><a href="pgfkeys#pgf./handlers/.code">.code</a></span
                      >=<span class="textcolor" style="color: #008000"
                        ><span class="textcolor" style="color: #800080"
                          >(b:#1)</span
                        ></span
                      ></span
                    >}<br />
                    <span class="textcolor" style="color: #000000"
                      ><a href="pgfkeys#pgf.back/pgfkeys">\pgfkeys</a></span
                    >{<span class="textcolor" style="color: #000000"
                      ><span class="textcolor" style="color: #008000">/x</span
                      >/<span class="textcolor" style="color: #0000b2"
                        ><a href="pgfkeys#pgf./handlers/.try">.try</a></span
                      >=<span class="textcolor" style="color: #008000">hmm</span
                      >,<span class="textcolor" style="color: #008000">/a</span
                      >/<span class="textcolor" style="color: #0000b2"
                        ><a href="pgfkeys#pgf./handlers/.retry">.retry</a></span
                      >=<span class="textcolor" style="color: #008000"
                        >hallo</span
                      >,<span class="textcolor" style="color: #008000">/b</span
                      >/<span class="textcolor" style="color: #0000b2"
                        ><a href="pgfkeys#pgf./handlers/.retry">.retry</a></span
                      >=<span class="textcolor" style="color: #008000"
                        >welt</span
                      ></span
                    >}<br />
                  </code>
                </div>
              </figure>
              <p></p>
            </ul>
          </div>

          <div class="manualentry">
            <ul class="list" style="list-style-type: none">
              <div class="entryheadline">
                <li>
                  <p>
                    <a id="pgf./handlers/.lastretry"></a>
                    <span class="hl-def"
                      ><b>Key handler</b> <span class="angle">&langle;</span
                      ><i>key</i><span class="angle">&rangle;</span
                      ><kbd>/<span class="declare">.lastretry</span></kbd
                      ><span class="verb">=</span
                      ><span class="angle">&langle;</span><i>value</i
                      ><span class="angle">&rangle;</span></span
                    >
                    <a
                      class="anchor-link"
                      data-html-link="pgf./handlers/.lastretry"
                      href="#handlers/.lastretry"
                      id="handlers/.lastretry"
                      >&para;</a
                    >
                  </p>
                </li>
              </div>
              <p>
                This handler works like <span class="verb">/.retry</span>, only
                it will invoke the usual handlers for unknowns keys if
                <span class="verb">\ifpgfkeyssuccess</span> is false. Thus, this
                handler will only try to set a key if &ldquo;the last attempt
                failed&rdquo;. Furthermore, this here is the last such attempt.
              </p>
            </ul>
          </div>
          <h6 id="autosec-7559">
            <span
              ><span class="sectionnumber" id="sec-87.4.9">87.4.9</span>
              Handlers for Key Inspection</span
            ><a
              class="anchor-link"
              data-html-link="sec-87.4.9"
              data-pdf-destination="subsubsection.87.4.9"
              data-pdf-page="994"
              href="#sec-87.4.9"
              >&para;</a
            >
          </h6>
          <a id="pgfmanual-autopage-7559"></a>

          <div class="manualentry">
            <ul class="list" style="list-style-type: none">
              <div class="entryheadline">
                <li>
                  <p>
                    <a id="pgf./handlers/.show:value"></a>
                    <span class="hl-def"
                      ><b>Key handler</b> <span class="angle">&langle;</span
                      ><i>key</i><span class="angle">&rangle;</span
                      ><kbd
                        >/<span class="declare">.show value</span></kbd
                      ></span
                    >
                    <a
                      class="anchor-link"
                      data-html-link="pgf./handlers/.show:value"
                      href="#handlers/.show:value"
                      id="handlers/.show:value"
                      >&para;</a
                    >
                  </p>
                </li>
              </div>
              <p>
                This handler executes a <span class="verb">\show</span> command
                on the value stored in <span class="angle">&langle;</span
                ><i>key</i><span class="angle">&rangle;</span>. This is useful
                mostly for debugging.
              </p>
              <p>
                <i>Example: </i
                ><span class="verb">\pgfkeys{/my/obscure key/.show value}</span>
              </p>
            </ul>
          </div>

          <div class="manualentry">
            <ul class="list" style="list-style-type: none">
              <div class="entryheadline">
                <li>
                  <p>
                    <a id="pgf./handlers/.show:code"></a>
                    <span class="hl-def"
                      ><b>Key handler</b> <span class="angle">&langle;</span
                      ><i>key</i><span class="angle">&rangle;</span
                      ><kbd>/<span class="declare">.show code</span></kbd></span
                    >
                    <a
                      class="anchor-link"
                      data-html-link="pgf./handlers/.show:code"
                      href="#handlers/.show:code"
                      id="handlers/.show:code"
                      >&para;</a
                    >
                  </p>
                </li>
              </div>
              <p>
                This handler executes a <span class="verb">\show</span> command
                on the code stored in <span class="angle">&langle;</span
                ><i>key</i><span class="angle">&rangle;</span
                ><span class="verb">/.@cmd</span>. This is useful mostly for
                debugging.
              </p>
              <p>
                <i>Example: </i
                ><span class="verb">\pgfkeys{/my/obscure key/.show code}</span>
              </p>
            </ul>
          </div>

          <p>
            The following key is not a handler, but it also commonly used for
            inspecting things:
          </p>

          <div class="manualentry">
            <ul class="list" style="list-style-type: none">
              <div class="entryheadline">
                <li>
                  <p>
                    <a id="pgf./utils/exec"></a><a id="pgf.exec"></a>
                    <span class="hl-def"
                      ><kbd
                        ><span class="keyname"
                          ><span class="declare">/utils/exec</span></span
                        >=</kbd
                      ><span class="angle">&langle;</span><i>code</i
                      ><span class="angle">&rangle;</span></span
                    ><span class="hl-default">(no default)</span>
                    <a
                      class="anchor-link"
                      data-html-link="pgf./utils/exec"
                      href="#utils/exec"
                      id="utils/exec"
                      >&para;</a
                    >
                  </p>
                </li>
              </div>
              <p>
                This key will simply execute the given
                <span class="angle">&langle;</span><i>code</i
                ><span class="angle">&rangle;</span>.
              </p>
              <p>
                <i>Example: </i
                ><span class="verb"
                  >\pgfkeys{some key=some value,/utils/exec=\show\hallo,obscure
                  key=obscure}</span
                >
              </p>
            </ul>
          </div>
          <h5 id="autosec-7560">
            <span
              ><span class="sectionnumber" id="sec-87.5">87.5</span> Error
              Keys</span
            ><a
              class="anchor-link"
              data-html-link="sec-87.5"
              data-pdf-destination="subsection.87.5"
              data-pdf-page="994"
              href="#sec-87.5"
              >&para;</a
            >
          </h5>
          <a id="pgfmanual-autopage-7560"></a>

          <p>
            In certain situations errors can occur, like using an undefined key.
            In these situations error keys are executed. They should store a
            macro that gets two arguments: The first is the offending key
            (possibly only after macro expansion), the second is the value that
            was passed as a parameter (also possibly only after macro
            expansion).
          </p>

          <p>
            Currently, error keys are simply executed. In the future it might be
            a good idea to have different subkeys that are executed depending on
            the language currently set so that users get a localized error
            message.
          </p>

          <div class="manualentry">
            <ul class="list" style="list-style-type: none">
              <div class="entryheadline">
                <li>
                  <p>
                    <a id="pgf./errors/value:required"></a
                    ><a id="pgf.value:required"></a>
                    <span class="hl-def"
                      ><kbd
                        ><span class="keyname"
                          ><span class="declare"
                            >/errors/value required</span
                          ></span
                        >=</kbd
                      >{<span class="angle">&langle;</span><i>offending key</i
                      ><span class="angle">&rangle;</span>}{<span class="angle"
                        >&langle;</span
                      ><i>value</i><span class="angle">&rangle;</span>}</span
                    ><span class="hl-default">(no default)</span>
                    <a
                      class="anchor-link"
                      data-html-link="pgf./errors/value:required"
                      href="#errors/value:required"
                      id="errors/value:required"
                      >&para;</a
                    >
                  </p>
                </li>
              </div>
              <p>
                This key is executed whenever an
                <span class="angle">&langle;</span><i>offending key</i
                ><span class="angle">&rangle;</span> is used without a value
                when a value is actually required.
              </p>
            </ul>
          </div>

          <div class="manualentry">
            <ul class="list" style="list-style-type: none">
              <div class="entryheadline">
                <li>
                  <p>
                    <a id="pgf./errors/value:forbidden"></a
                    ><a id="pgf.value:forbidden"></a>
                    <span class="hl-def"
                      ><kbd
                        ><span class="keyname"
                          ><span class="declare"
                            >/errors/value forbidden</span
                          ></span
                        >=</kbd
                      >{<span class="angle">&langle;</span><i>offending key</i
                      ><span class="angle">&rangle;</span>}{<span class="angle"
                        >&langle;</span
                      ><i>value</i><span class="angle">&rangle;</span>}</span
                    ><span class="hl-default">(no default)</span>
                    <a
                      class="anchor-link"
                      data-html-link="pgf./errors/value:forbidden"
                      href="#errors/value:forbidden"
                      id="errors/value:forbidden"
                      >&para;</a
                    >
                  </p>
                </li>
              </div>
              <p>
                This key is executed whenever a key is used with a value when a
                value is actually forbidden.
              </p>
            </ul>
          </div>

          <div class="manualentry">
            <ul class="list" style="list-style-type: none">
              <div class="entryheadline">
                <li>
                  <p>
                    <a id="pgf./errors/boolean:expected"></a
                    ><a id="pgf.boolean:expected"></a>
                    <span class="hl-def"
                      ><kbd
                        ><span class="keyname"
                          ><span class="declare"
                            >/errors/boolean expected</span
                          ></span
                        >=</kbd
                      >{<span class="angle">&langle;</span><i>offending key</i
                      ><span class="angle">&rangle;</span>}{<span class="angle"
                        >&langle;</span
                      ><i>value</i><span class="angle">&rangle;</span>}</span
                    ><span class="hl-default">(no default)</span>
                    <a
                      class="anchor-link"
                      data-html-link="pgf./errors/boolean:expected"
                      href="#errors/boolean:expected"
                      id="errors/boolean:expected"
                      >&para;</a
                    >
                  </p>
                </li>
              </div>
              <p>
                This key is executed whenever a key set up using
                <span class="verb">/.is if</span> gets called with a
                <span class="angle">&langle;</span><i>value</i
                ><span class="angle">&rangle;</span> other than
                <span class="verb">true</span> or
                <span class="verb">false</span>.
              </p>
            </ul>
          </div>

          <div class="manualentry">
            <ul class="list" style="list-style-type: none">
              <div class="entryheadline">
                <li>
                  <p>
                    <a id="pgf./errors/unknown:choice:value"></a
                    ><a id="pgf.unknown:choice:value"></a>
                    <span class="hl-def"
                      ><kbd
                        ><span class="keyname"
                          ><span class="declare"
                            >/errors/unknown choice value</span
                          ></span
                        >=</kbd
                      >{<span class="angle">&langle;</span><i>offending key</i
                      ><span class="angle">&rangle;</span>}{<span class="angle"
                        >&langle;</span
                      ><i>value</i><span class="angle">&rangle;</span>}</span
                    ><span class="hl-default">(no default)</span>
                    <a
                      class="anchor-link"
                      data-html-link="pgf./errors/unknown:choice:value"
                      href="#errors/unknown:choice:value"
                      id="errors/unknown:choice:value"
                      >&para;</a
                    >
                  </p>
                </li>
              </div>
              <p>
                This key is executed whenever a choice is used as a
                <span class="angle">&langle;</span><i>value</i
                ><span class="angle">&rangle;</span> for a key set up using the
                <span class="verb">/.is choice</span> handler that is not
                defined.
              </p>
            </ul>
          </div>

          <div class="manualentry">
            <ul class="list" style="list-style-type: none">
              <div class="entryheadline">
                <li>
                  <p>
                    <a id="pgf./errors/unknown:key"></a
                    ><a id="pgf.unknown:key"></a>
                    <span class="hl-def"
                      ><kbd
                        ><span class="keyname"
                          ><span class="declare"
                            >/errors/unknown key</span
                          ></span
                        >=</kbd
                      >{<span class="angle">&langle;</span><i>offending key</i
                      ><span class="angle">&rangle;</span>}{<span class="angle"
                        >&langle;</span
                      ><i>value</i><span class="angle">&rangle;</span>}</span
                    ><span class="hl-default">(no default)</span>
                    <a
                      class="anchor-link"
                      data-html-link="pgf./errors/unknown:key"
                      href="#errors/unknown:key"
                      id="errors/unknown:key"
                      >&para;</a
                    >
                  </p>
                </li>
              </div>
              <p>
                This key is executed whenever a key is unknown and no specific
                <span class="verb">/.unknown</span> handler is found.
              </p>
            </ul>
          </div>
          <h5 id="autosec-7561">
            <span
              ><span class="sectionnumber" id="sec-87.6">87.6</span> Key
              Filtering</span
            ><a
              class="anchor-link"
              data-html-link="sec-87.6"
              data-pdf-destination="subsection.87.6"
              data-pdf-page="995"
              href="#sec-87.6"
              >&para;</a
            >
          </h5>
          <a id="pgfmanual-autopage-7561"></a>

          <p>
            <em>An extension by Christian Feuers&auml;nger</em>
          </p>

          <p>
            Normally, a call to <span class="verb">\pgfkeys</span> sets all keys
            provided in its argument list. This is usually what users expect it
            to do. However, implementations of different packages or
            <span class="textsc">pgf</span>-libraries may need more control over
            the key setting procedure: library&nbsp;A may want to set its
            options directly and communicate all remaining ones to
            library&nbsp;B.
          </p>

          <div class="manualentry">
            <ul class="list" style="list-style-type: none">
              <div class="entryheadline">
                <li>
                  <p>
                    <a id="pgf.filtered"></a>
                    <b>pgfkeys Library</b>
                    <kbd><span class="declare">filtered</span></kbd>
                    <a
                      class="anchor-link"
                      data-html-link="pgf.filtered"
                      href="#pgf.filtered"
                      id="pgf.filtered"
                      >&para;</a
                    >
                  </p>
                </li>
              </div>
              <p>
                <kbd
                  >\usepgfkeyslibrary{<span class="declare">filtered</span>} %
                  <span class="latexlogofont"
                    ><span class="latexlogo"
                      >L<span class="latexlogosup">a</span>T<span
                        class="latexlogosub"
                        >e</span
                      >X</span
                    ></span
                  >
                  and plain
                  <span class="latexlogofont"
                    ><span class="latexlogo"
                      >T<span class="latexlogosub">e</span>X</span
                    ></span
                  ></kbd
                ><br />
                <kbd
                  >\usepgfkeyslibrary[<span class="declare">filtered</span>] %
                  Con<span class="latexlogofont"
                    ><span class="latexlogo"
                      >T<span class="latexlogosub">e</span>X</span
                    ></span
                  >t</kbd
                ><br />
                <br />
                The <span class="verb">filtered</span> library provides
                functionality to filter keys and only process selected ones,
                while forwarding the others to another namespace.
              </p>
              <p>
                This library is loaded by default by
                <span class="verb">pgfkeys</span>.
              </p>
            </ul>
          </div>

          <p>
            This section describes key filtering methods of
            <span class="textsc">pgf</span>, including options for family
            groupings. If you merely want to use
            <span class="textsc">pgf</span> (or its libraries), you can skip
            this section. It is addressed to package (or library) authors.
          </p>
          <h6 id="autosec-7562">
            <a id="section-key-filter-example"></a
            ><span
              ><span class="sectionnumber" id="sec-87.6.1">87.6.1</span>
              Starting With An Example</span
            ><a
              class="anchor-link"
              data-html-link="sec-87.6.1"
              data-pdf-destination="subsubsection.87.6.1"
              data-pdf-page="995"
              href="#sec-87.6.1"
              >&para;</a
            >
          </h6>
          <a id="pgfmanual-autopage-7562"></a>

          <p>
            Users of <span class="verb">xkeyval</span> are familiar with the
            concept of key families: keys belong to groups and those keys can be
            &lsquo;filtered&rsquo; out of other options.
            <span class="textsc">pgf</span> supports family groupings and more
            abstract key selection mechanism with
            <span class="verb">\pgfkeysfiltered</span>, a variant of
            <span class="verb">\pgfkeys</span>. Suppose we have the example key
            grouping
          </p>

          <div class="hidden"></div>

          <figure class="example">
            <div class="example-code">
              <button class="clipboardButton" type="button">copy</button>

              <code>
                <br />
                <span class="textcolor" style="color: #000000"
                  ><a href="pgfkeys#pgf.back/pgfkeys">\pgfkeys</a></span
                >{<span class="textcolor" style="color: #000000"
                  ><br />
                  <span class="spaces">    </span><span
                    class="textcolor"
                    style="color: #008000"
                    >/my group/A1</span
                  >/<span class="textcolor" style="color: #0000b2"
                    ><a href="pgfkeys#pgf./handlers/.code">.code</a></span
                  >=<span class="textcolor" style="color: #008000"
                    ><span class="textcolor" style="color: #800080"
                      >(A1:#1)</span
                    ></span
                  >,<br />
                  <span class="spaces">    </span><span
                    class="textcolor"
                    style="color: #008000"
                    >/my group/A2</span
                  >/<span class="textcolor" style="color: #0000b2"
                    ><a href="pgfkeys#pgf./handlers/.code">.code</a></span
                  >=<span class="textcolor" style="color: #008000"
                    ><span class="textcolor" style="color: #800080"
                      >(A2:#1)</span
                    ></span
                  >,<br />
                  <span class="spaces">    </span><span
                    class="textcolor"
                    style="color: #008000"
                    >/my group/A3</span
                  >/<span class="textcolor" style="color: #0000b2"
                    ><a href="pgfkeys#pgf./handlers/.code">.code</a></span
                  >=<span class="textcolor" style="color: #008000"
                    ><span class="textcolor" style="color: #800080"
                      >(A3:#1)</span
                    ></span
                  >,<br />
                  <span class="spaces">    </span><span
                    class="textcolor"
                    style="color: #008000"
                    >/my group/B</span
                  >/<span class="textcolor" style="color: #0000b2"
                    ><a href="pgfkeys#pgf./handlers/.code">.code</a></span
                  >=<span class="textcolor" style="color: #008000"
                    ><span class="textcolor" style="color: #800080"
                      >(B:#1)</span
                    ></span
                  >,<br />
                  <span class="spaces">    </span><span
                    class="textcolor"
                    style="color: #008000"
                    >/my group/C</span
                  >/<span class="textcolor" style="color: #0000b2"
                    ><a href="pgfkeys#pgf./handlers/.code">.code</a></span
                  >=<span class="textcolor" style="color: #008000"
                    ><span class="textcolor" style="color: #800080"
                      >(B:#1)</span
                    ></span
                  >,<br /> </span
                >}<br />
              </code>
            </div>
          </figure>

          <p>
            and we want to set options <span class="verb">A1</span>,
            <span class="verb">A2</span> and <span class="verb">A3</span> only.
            A call to <span class="verb">\pgfkeys</span> yields
          </p>

          <figure class="example">
            <div class="example-image">
              <p>(A1:a1)(A2:a2)(B:b)(B:c)</p>
            </div>

            <div class="example-code">
              <button class="clipboardButton" type="button">copy</button>

              <code>
                <br />
                <span class="textcolor" style="color: #000000"
                  ><a href="pgfkeys#pgf.back/pgfkeys">\pgfkeys</a></span
                >{<span class="textcolor" style="color: #000000"
                  ><span class="textcolor" style="color: #008000"
                    >/my group/A1</span
                  >=<span class="textcolor" style="color: #008000">a1</span
                  >, <span class="textcolor" style="color: #008000"
                    >/my group/A2</span
                  >=<span class="textcolor" style="color: #008000">a2</span
                  >, <span class="textcolor" style="color: #008000"
                    >/my group/B</span
                  >=<span class="textcolor" style="color: #008000">b</span
                  >,<span class="spaces">  </span><span class="textcolor" style="color: #008000"
                    >/my group/C</span
                  >=<span class="textcolor" style="color: #008000"
                    >c</span
                  ></span
                >}<br />
              </code>
            </div>
          </figure>

          <p>because all those command option are processed consecutively.</p>

          <p>
            Now, let&rsquo;s define a family named
            <span class="verb">A</span> which contains
            <span class="verb">A1</span>, <span class="verb">A2</span> and
            <span class="verb">A3</span> and set only family members of
            <span class="verb">A</span>. We prepare our key settings with
          </p>

          <figure class="example">
            <div class="example-code">
              <button class="clipboardButton" type="button">copy</button>

              <code>
                <br />
                <span class="textcolor" style="color: #000000"
                  ><a href="pgfkeys#pgf.back/pgfkeys">\pgfkeys</a></span
                >{<span class="textcolor" style="color: #000000"
                  ><br />
                  <span class="spaces">    </span><span
                    class="textcolor"
                    style="color: #008000"
                    >/my group/A</span
                  >/<span class="textcolor" style="color: #0000b2"
                    ><a href="pgfkeys#pgf./handlers/.is:family"
                      >.is family</a
                    ></span
                  >,<br />
                  <span class="spaces">    </span><span
                    class="textcolor"
                    style="color: #008000"
                    >/my group/A1</span
                  >/<span class="textcolor" style="color: #0000b2"
                    ><a href="pgfkeys#pgf./handlers/.belongs:to:family"
                      >.belongs to family</a
                    ></span
                  >=<span class="textcolor" style="color: #008000"
                    >/my group/A</span
                  >,<br />
                  <span class="spaces">    </span><span
                    class="textcolor"
                    style="color: #008000"
                    >/my group/A2</span
                  >/<span class="textcolor" style="color: #0000b2"
                    ><a href="pgfkeys#pgf./handlers/.belongs:to:family"
                      >.belongs to family</a
                    ></span
                  >=<span class="textcolor" style="color: #008000"
                    >/my group/A</span
                  >,<br />
                  <span class="spaces">    </span><span
                    class="textcolor"
                    style="color: #008000"
                    >/my group/A3</span
                  >/<span class="textcolor" style="color: #0000b2"
                    ><a href="pgfkeys#pgf./handlers/.belongs:to:family"
                      >.belongs to family</a
                    ></span
                  >=<span class="textcolor" style="color: #008000"
                    >/my group/A</span
                  >,<br /> </span
                >}<br />
              </code>
            </div>
          </figure>

          <p>and</p>

          <figure class="example">
            <div class="example-code">
              <button class="clipboardButton" type="button">copy</button>

              <code>
                <span class="codepreamble">\usepgfkeyslibrary {filtered} </span
                ><br />
                <span class="textcolor" style="color: #000000"
                  ><a href="pgfkeys#pgf.back/pgfkeys">\pgfkeys</a></span
                >{<span class="textcolor" style="color: #000000"
                  ><span class="textcolor" style="color: #008000"
                    ><a href="pgfkeys#pgf./pgf/key:filters/active:families"
                      >/pgf/key filters/active families</a
                    ></span
                  >/<span class="textcolor" style="color: #0000b2"
                    ><a href="pgfkeys#pgf./handlers/.install:key:filter"
                      >.install key filter</a
                    ></span
                  ></span
                >}<br />
              </code>
            </div>
          </figure>

          <p>
            After this preparation, we can use
            <span class="verb">\pgfkeysfiltered</span> with
          </p>

          <figure class="example">
            <div class="example-image">
              <p>(A1:a1)(A2:a2)</p>
            </div>

            <div class="example-code">
              <button class="clipboardButton" type="button">copy</button>

              <code>
                <span class="codepreamble">\usepgfkeyslibrary {filtered} </span
                ><br />
                <span class="textcolor" style="color: #000000"
                  ><a href="pgfkeys#pgf.back/pgfkeys">\pgfkeys</a></span
                >{<span class="textcolor" style="color: #000000"
                  ><span class="textcolor" style="color: #008000"
                    >/my group/A</span
                  >/<span class="textcolor" style="color: #0000b2"
                    ><a href="pgfkeys#pgf./handlers/.activate:family"
                      >.activate family</a
                    ></span
                  ></span
                >}<br />
                <span class="textcolor" style="color: #0000b2"
                  ><a href="pgfkeys#pgf.back/pgfkeysfiltered"
                    >\pgfkeysfiltered</a
                  ></span
                >{<span class="textcolor" style="color: #000000">/my</span>
                <span class="textcolor" style="color: #000000">group/A1=a1</span
                >, <span class="textcolor" style="color: #000000"
                  >/my</span
                >
                <span class="textcolor" style="color: #000000">group/A2=a2</span
                >,<br />
                <span class="spaces"> </span><span class="textcolor" style="color: #000000">/my</span>
                <span class="textcolor" style="color: #000000">group/B=b</span
                >,<span class="spaces">  </span><span class="textcolor" style="color: #000000"
                  >/my</span
                >
                <span class="textcolor" style="color: #000000">group/C=c</span
                >}<br />
              </code>
            </div>
          </figure>

          <p>or</p>

          <figure class="example">
            <div class="example-image">
              <p>(A1:a1)(A2:a2)(A3:a3)</p>
            </div>

            <div class="example-code">
              <button class="clipboardButton" type="button">copy</button>

              <code>
                <span class="codepreamble">\usepgfkeyslibrary {filtered} </span
                ><br />
                <span class="textcolor" style="color: #000000"
                  ><a href="pgfkeys#pgf.back/pgfkeys">\pgfkeys</a></span
                >{<span class="textcolor" style="color: #000000"
                  ><span class="textcolor" style="color: #008000"
                    >/my group/A</span
                  >/<span class="textcolor" style="color: #0000b2"
                    ><a href="pgfkeys#pgf./handlers/.activate:family"
                      >.activate family</a
                    ></span
                  ></span
                >}<br />
                <span class="textcolor" style="color: #0000b2"
                  ><a href="pgfkeys#pgf.back/pgfkeysfiltered"
                    >\pgfkeysfiltered</a
                  ></span
                >{<span class="textcolor" style="color: #000000">/my</span>
                <span class="textcolor" style="color: #000000">group/A1=a1</span
                >, <span class="textcolor" style="color: #000000"
                  >/my</span
                >
                <span class="textcolor" style="color: #000000">group/A2=a2</span
                >,<br />
                <span class="spaces"> </span><span class="textcolor" style="color: #000000">/my</span>
                <span class="textcolor" style="color: #000000">group/B=b</span
                >,<span class="spaces">  </span><span class="textcolor" style="color: #000000"
                  >/my</span
                >
                <span class="textcolor" style="color: #000000">group/C=c</span
                >, <span class="textcolor" style="color: #000000"
                  >/tikz/color=blue</span
                >, <span class="textcolor" style="color: #000000"
                  >/my</span
                >
                <span class="textcolor" style="color: #000000">group/A3=a3</span
                >}<br />
              </code>
            </div>
          </figure>

          <p>
            to set only keys which belong to an &lsquo;active&rsquo; family
            &ndash; in our case, only family&nbsp;<span class="verb">A</span>
            was active, so the remaining options have not been processed. The
            family processing is quite fast and allows an arbitrary number of
            active key families.
          </p>

          <p>
            Unprocessed options can be collected into a macro (similar to
            <span class="verb">xkeyval</span>&rsquo;s
            <span class="verb">\xkv@rm</span>), discarded or handled manually.
            The details of key selection and family declaration are described in
            the following sections.
          </p>
          <h6 id="autosec-7563">
            <span
              ><span class="sectionnumber" id="sec-87.6.2">87.6.2</span> Setting
              Filters</span
            ><a
              class="anchor-link"
              data-html-link="sec-87.6.2"
              data-pdf-destination="subsubsection.87.6.2"
              data-pdf-page="996"
              href="#sec-87.6.2"
              >&para;</a
            >
          </h6>
          <a id="pgfmanual-autopage-7563"></a>

          <p>
            The command <span class="verb">\pgfkeysfiltered</span> is the main
            tool to process only selected options. It works as follows.
          </p>

          <div class="manualentry">
            <ul class="list" style="list-style-type: none">
              <div class="entryheadline">
                <li>
                  <p>
                    <a id="pgf.back/pgfkeysfiltered"></a>
                    <span class="hl-def"
                      ><span class="declare"><kbd>\pgfkeysfiltered</kbd></span
                      >{<span class="angle">&langle;</span
                      ><i>key&ndash;value-list</i
                      ><span class="angle">&rangle;</span>}</span
                    >
                    <a
                      class="anchor-link"
                      data-html-link="pgf.back/pgfkeysfiltered"
                      href="#\pgfkeysfiltered"
                      id="\pgfkeysfiltered"
                      >&para;</a
                    >
                  </p>
                </li>
              </div>
              <p>
                Processes all options in exactly the same way as
                <span class="verb">\pgfkeys</span>{<span class="angle"
                  >&langle;</span
                ><i>key&ndash;value-list</i
                ><span class="angle">&rangle;</span>}, but a key filter is
                considered as soon as key identification is complete.
              </p>
              <p>
                The key filter tells
                <span class="verb">\pgfkeysfiltered</span> whether it should
                continue to apply the current option (return value is
                &lsquo;true&rsquo;) or whether something different shall be done
                (filter returns &lsquo;false&rsquo;).
              </p>
              <p>
                There is exactly one key filter in effect, and it is installed
                by the <span class="verb">.install key filter</span> handler or
                by <span class="verb">\pgfkeysinstallkeyfilter</span>.
              </p>
              <p>
                If the key filter returns &lsquo;false&rsquo;, a unique key
                filter handler gets control. This handler is installed by the
                <span class="verb">.install key filter handler</span> method and
                has access to the key&rsquo;s full name, value and (possibly)
                path.
              </p>
              <p>
                Key filtering applies to any (possibly nested) call to
                <span class="verb">\pgfkeys</span>,
                <span class="verb">\pgfkeysalso</span>,
                <span class="verb">\pgfqkeys</span> and
                <span class="verb">\pgfqkeysalso</span> during the evaluation of
                {<span class="angle">&langle;</span><i>key&ndash;value-list</i
                ><span class="angle">&rangle;</span>}. It does
                <em>not</em> apply to routines like
                <span class="verb">\pgfkeyssetvalue</span> or
                <span class="verb">\pgfkeysgetvalue</span>. Furthermore, keys
                belonging to <span class="verb">/errors</span> are always
                processed. Key filtering routines can&rsquo;t be nested: you
                can&rsquo;t combine different key filters automatically.
              </p>
            </ul>
          </div>

          <div class="manualentry">
            <ul class="list" style="list-style-type: none">
              <div class="entryheadline">
                <li>
                  <p>
                    <a id="pgf.back/pgfqkeysfiltered"></a>
                    <span class="hl-def"
                      ><span class="declare"><kbd>\pgfqkeysfiltered</kbd></span
                      >{<span class="angle">&langle;</span><i>default-path</i
                      ><span class="angle">&rangle;</span>}{<span class="angle"
                        >&langle;</span
                      ><i>key&ndash;value-list</i
                      ><span class="angle">&rangle;</span>}</span
                    >
                    <a
                      class="anchor-link"
                      data-html-link="pgf.back/pgfqkeysfiltered"
                      href="#\pgfqkeysfiltered"
                      id="\pgfqkeysfiltered"
                      >&para;</a
                    >
                  </p>
                </li>
              </div>
              <p>
                A variant of <span class="verb">\pgfkeysfiltered</span> which
                uses the &lsquo;quick&rsquo; search path setting. It is the
                <span class="verb">\pgfqkeys</span> variant of
                <span class="verb">\pgfkeysfiltered</span>, see the
                documentation for <span class="verb">\pgfqkeys</span> for more
                details.
              </p>
            </ul>
          </div>

          <div class="manualentry">
            <ul class="list" style="list-style-type: none">
              <div class="entryheadline">
                <li>
                  <p>
                    <a id="pgf.back/pgfkeysalsofrom"></a>
                    <span class="hl-def"
                      ><span class="declare"><kbd>\pgfkeysalsofrom</kbd></span
                      >{<span class="angle">&langle;</span><i>macro</i
                      ><span class="angle">&rangle;</span>}</span
                    >
                    <a
                      class="anchor-link"
                      data-html-link="pgf.back/pgfkeysalsofrom"
                      href="#\pgfkeysalsofrom"
                      id="\pgfkeysalsofrom"
                      >&para;</a
                    >
                  </p>
                </li>
              </div>
              <p>
                A variant of <span class="verb">\pgfkeysalso</span> which loads
                its key list from {<span class="angle">&langle;</span
                ><i>macro</i><span class="angle">&rangle;</span>}.
              </p>
              <p>
                It is useful in conjunction with the
                <span class="verb"
                  >/pgf/key filter handlers/append filtered to=</span
                ><span class="angle">&langle;</span><i>macro</i
                ><span class="angle">&rangle;</span> handler.
              </p>
              <p>
                The following example uses the same settings as in the intro
                section&nbsp;<a href="pgfkeys#section-key-filter-example"
                  >87.6.1</a
                >.
              </p>

              <figure class="example">
                <div class="example-image">
                  <p>
                    (A1:a1)(A2:a2)(A3:a3)Remaining: &lsquo;/my group/B=b,/my
                    group/C=c,/tikz/color=blue&rsquo;.(B:b)(B:c)
                  </p>
                </div>

                <div class="example-code">
                  <button class="clipboardButton" type="button">copy</button>
                  <code>
                    <span class="codepreamble"
                      >\usepgfkeyslibrary {filtered} </span
                    ><br />
                    <span class="textcolor" style="color: #000000"
                      ><a href="pgfkeys#pgf.back/pgfkeys">\pgfkeys</a></span
                    >{<span class="textcolor" style="color: #000000"
                      ><span class="textcolor" style="color: #008000"
                        ><a
                          href="pgfkeys#pgf./pgf/key:filter:handlers/append:filtered:to"
                          >/pgf/key filter handlers/append filtered to</a
                        ></span
                      >/<span class="textcolor" style="color: #0000b2"
                        ><a
                          href="pgfkeys#pgf./handlers/.install:key:filter:handler"
                          >.install key filter handler</a
                        ></span
                      >=<span class="textcolor" style="color: #008000"
                        ><span class="textcolor" style="color: #0000b2"
                          >\remainingoptions</span
                        ></span
                      ></span
                    >}<br />
                    <span class="textcolor" style="color: #0000b2">\def</span
                    ><span class="textcolor" style="color: #0000b2"
                      >\remainingoptions</span
                    >{}<br />
                    <span class="textcolor" style="color: #0000b2"
                      ><a href="pgfkeys#pgf.back/pgfkeysfiltered"
                        >\pgfkeysfiltered</a
                      ></span
                    >{<span class="textcolor" style="color: #000000">/my</span>
                    <span class="textcolor" style="color: #000000"
                      >group/A1=a1</span
                    >, <span class="textcolor" style="color: #000000"
                      >/my</span
                    >
                    <span class="textcolor" style="color: #000000"
                      >group/A2=a2</span
                    >,<br />
                    <span class="spaces"> </span><span class="textcolor" style="color: #000000"
                      >/my</span
                    >
                    <span class="textcolor" style="color: #000000"
                      >group/B=b</span
                    >,<span class="spaces">  </span><span
                      class="textcolor"
                      style="color: #000000"
                      >/my</span
                    >
                    <span class="textcolor" style="color: #000000"
                      >group/C=c</span
                    >, <span class="textcolor" style="color: #000000"
                      >/tikz/color=blue</span
                    >, <span class="textcolor" style="color: #000000"
                      >/my</span
                    >
                    <span class="textcolor" style="color: #000000"
                      >group/A3=a3</span
                    >}<br />
                    <br />
                    <span class="textcolor" style="color: #000000"
                      >Remaining:</span
                    >
                    <span class="textcolor" style="color: #000000">`</span
                    ><span class="textcolor" style="color: #0000b2"
                      >\remainingoptions</span
                    ><span class="textcolor" style="color: #000000"
                      ><a href="tikz-shapes#pgf.'">'</a></span
                    >.<br />
                    <span class="textcolor" style="color: #0000b2"
                      ><a href="pgfkeys#pgf.back/pgfkeysalsofrom"
                        >\pgfkeysalsofrom</a
                      ></span
                    >{<span class="textcolor" style="color: #0000b2"
                      >\remainingoptions</span
                    >}<br />
                  </code>
                </div>
              </figure>
              <p></p>
            </ul>
          </div>

          <div class="manualentry">
            <ul class="list" style="list-style-type: none">
              <div class="entryheadline">
                <li>
                  <p>
                    <a id="pgf.back/pgfkeysalsofiltered"></a>
                    <span class="hl-def"
                      ><span class="declare"
                        ><kbd>\pgfkeysalsofiltered</kbd></span
                      >{<span class="angle">&langle;</span
                      ><i>key&ndash;value-list</i
                      ><span class="angle">&rangle;</span>}</span
                    >
                    <a
                      class="anchor-link"
                      data-html-link="pgf.back/pgfkeysalsofiltered"
                      href="#\pgfkeysalsofiltered"
                      id="\pgfkeysalsofiltered"
                      >&para;</a
                    >
                  </p>
                </li>
              </div>
              <p>
                This command works as
                <span class="verb">\pgfkeysfiltered</span>, but it does not
                change the current default path. See the documentation of
                <span class="verb">\pgfkeysalso</span> for more details.
              </p>
            </ul>
          </div>

          <div class="manualentry">
            <ul class="list" style="list-style-type: none">
              <div class="entryheadline">
                <li>
                  <p>
                    <a id="pgf.back/pgfkeysalsofilteredfrom"></a>
                    <span class="hl-def"
                      ><span class="declare"
                        ><kbd>\pgfkeysalsofilteredfrom</kbd></span
                      >{<span class="angle">&langle;</span><i>macro</i
                      ><span class="angle">&rangle;</span>}</span
                    >
                    <a
                      class="anchor-link"
                      data-html-link="pgf.back/pgfkeysalsofilteredfrom"
                      href="#\pgfkeysalsofilteredfrom"
                      id="\pgfkeysalsofilteredfrom"
                      >&para;</a
                    >
                  </p>
                </li>
              </div>
              <p>
                A variant of
                <span class="verb">\pgfkeysalsofiltered</span> which loads its
                key list from {<span class="angle">&langle;</span><i>macro</i
                ><span class="angle">&rangle;</span>}.
              </p>
            </ul>
          </div>

          <div class="manualentry">
            <ul class="list" style="list-style-type: none">
              <div class="entryheadline">
                <li>
                  <p>
                    <a id="pgf./handlers/.install:key:filter"></a>
                    <span class="hl-def"
                      ><b>Key handler</b> <span class="angle">&langle;</span
                      ><i>key</i><span class="angle">&rangle;</span
                      ><kbd
                        >/<span class="declare">.install key filter</span></kbd
                      ><span class="verb">=</span
                      ><span class="angle">&langle;</span
                      ><i>optional arguments</i
                      ><span class="angle">&rangle;</span></span
                    >
                    <a
                      class="anchor-link"
                      data-html-link="pgf./handlers/.install:key:filter"
                      href="#handlers/.install:key:filter"
                      id="handlers/.install:key:filter"
                      >&para;</a
                    >
                  </p>
                </li>
              </div>
              <p>
                This handler installs a key filter. A key filter is a command
                key which sets the
                <span class="latexlogofont"
                  ><span class="latexlogo"
                    >T<span class="latexlogosub">e</span>X</span
                  ></span
                >-boolean <span class="verb">\ifpgfkeysfiltercontinue</span>,
                that means a key with existing &lsquo;<span class="verb"
                  >/.@cmd</span
                >&rsquo; suffix. A simple example is a key filter which returns
                always true:
              </p>

              <figure class="example">
                <div class="example-code">
                  <button class="clipboardButton" type="button">copy</button>
                  <code>
                    <span class="codepreamble"
                      >\usepgfkeyslibrary {filtered} </span
                    ><br />
                    <span class="textcolor" style="color: #000000"
                      ><a href="pgfkeys#pgf.back/pgfkeys">\pgfkeys</a></span
                    >{<span class="textcolor" style="color: #000000"
                      ><span class="textcolor" style="color: #008000"
                        >/foo/bar/true key filter</span
                      >/<span class="textcolor" style="color: #0000b2"
                        ><a href="pgfkeys#pgf./handlers/.code">.code</a></span
                      >=<span class="textcolor" style="color: #008000"
                        >{<span class="textcolor" style="color: #0000b2"
                          >\pgfkeysfiltercontinuetrue</span
                        >}</span
                      ></span
                    >}<br />
                    <span class="textcolor" style="color: #000000"
                      ><a href="pgfkeys#pgf.back/pgfkeys">\pgfkeys</a></span
                    >{<span class="textcolor" style="color: #000000"
                      ><span class="textcolor" style="color: #008000"
                        >/foo/bar/true key filter</span
                      >/<span class="textcolor" style="color: #0000b2"
                        ><a href="pgfkeys#pgf./handlers/.install:key:filter"
                          >.install key filter</a
                        ></span
                      ></span
                    >}<br />
                  </code>
                </div>
              </figure>
              <p>
                If key filters require arguments, they are installed by
                <span class="verb">.install key filter</span> as well. An
                example is the
                <span class="verb">/pgf/key filters/equals</span> handler:
              </p>

              <figure class="example">
                <div class="example-image">
                  <p>(A1:a1)</p>
                </div>

                <div class="example-code">
                  <button class="clipboardButton" type="button">copy</button>
                  <code>
                    <span class="codepreamble"
                      >\usepgfkeyslibrary {filtered} </span
                    ><br />
                    <span class="textcolor" style="color: #000000"
                      ><a href="pgfkeys#pgf.back/pgfkeys">\pgfkeys</a></span
                    >{<span class="textcolor" style="color: #000000"
                      ><span class="textcolor" style="color: #008000"
                        ><a href="pgfkeys#pgf./pgf/key:filters/equals"
                          >/pgf/key filters/equals</a
                        ></span
                      >/<span class="textcolor" style="color: #0000b2"
                        ><a href="pgfkeys#pgf./handlers/.install:key:filter"
                          >.install key filter</a
                        ></span
                      >=<span class="textcolor" style="color: #008000"
                        >{/my group/A1}</span
                      ></span
                    >}<br />
                    <span class="textcolor" style="color: #0000b2"
                      ><a href="pgfkeys#pgf.back/pgfkeysfiltered"
                        >\pgfkeysfiltered</a
                      ></span
                    >{<span class="textcolor" style="color: #000000">/my</span>
                    <span class="textcolor" style="color: #000000"
                      >group/A1=a1</span
                    >, <span class="textcolor" style="color: #000000"
                      >/my</span
                    >
                    <span class="textcolor" style="color: #000000"
                      >group/A2=a2</span
                    >,<br />
                    <span class="textcolor" style="color: #000000">/my</span>
                    <span class="textcolor" style="color: #000000"
                      >group/B=b</span
                    >,<span class="spaces">  </span><span
                      class="textcolor"
                      style="color: #000000"
                      >/my</span
                    >
                    <span class="textcolor" style="color: #000000"
                      >group/C=c</span
                    >, <span class="textcolor" style="color: #000000"
                      >/tikz/color=blue</span
                    >, <span class="textcolor" style="color: #000000"
                      >/my</span
                    >
                    <span class="textcolor" style="color: #000000"
                      >group/A3=a3</span
                    >}<br />
                  </code>
                </div>
              </figure>
              <p>
                If a key filter requires more than one argument, you need to
                provide the complete argument list in braces like
                <span class="verb">{{first}{second}}</span>.
              </p>
              <p>
                You can also use
                <span class="verb">\pgfkeysinstallkeyfilter</span
                ><span class="angle">&langle;</span><i>full key</i
                ><span class="angle">&rangle;</span
                ><span class="angle">&langle;</span><i>optional arguments</i
                ><span class="angle">&rangle;</span>, it has the same effect.
              </p>
              <p>
                See section&nbsp;<a href="pgfkeys#section-key-writing-filters"
                  >87.6.7</a
                >
                for how to write key filters.
              </p>
            </ul>
          </div>

          <div class="manualentry">
            <ul class="list" style="list-style-type: none">
              <div class="entryheadline">
                <li>
                  <p>
                    <a id="pgf./handlers/.install:key:filter:handler"></a>
                    <span class="hl-def"
                      ><b>Key handler</b> <span class="angle">&langle;</span
                      ><i>key</i><span class="angle">&rangle;</span
                      ><kbd
                        >/<span class="declare"
                          >.install key filter handler</span
                        ></kbd
                      ><span class="verb">=</span
                      ><span class="angle">&langle;</span
                      ><i>optional arguments</i
                      ><span class="angle">&rangle;</span></span
                    >
                    <a
                      class="anchor-link"
                      data-html-link="pgf./handlers/.install:key:filter:handler"
                      href="#handlers/.install:key:filter:handler"
                      id="handlers/.install:key:filter:handler"
                      >&para;</a
                    >
                  </p>
                </li>
              </div>
              <p>
                This handler installs the routine which will be invoked for
                every <em>unprocessed</em> option, that means any option for
                which the key filter returned &lsquo;false&rsquo;.
              </p>
              <p>
                The <span class="verb">.install key filter handler</span> is
                used in the same way as
                <span class="verb">.install key filter</span>. There exists a
                macro version,
                <span class="verb">\pgfkeysinstallkeyfilterhandler</span
                ><span class="angle">&langle;</span><i>full key</i
                ><span class="angle">&rangle;</span
                ><span class="angle">&langle;</span><i>optional arguments</i
                ><span class="angle">&rangle;</span>, which has the same effect.
              </p>
              <p>
                See section&nbsp;<a href="pgfkeys#section-key-writing-filters"
                  >87.6.7</a
                >
                for how to write key filter handlers.
              </p>
            </ul>
          </div>
          <h6 id="autosec-7564">
            <span
              ><span class="sectionnumber" id="sec-87.6.3">87.6.3</span>
              Handlers For Unprocessed Keys</span
            ><a
              class="anchor-link"
              data-html-link="sec-87.6.3"
              data-pdf-destination="subsubsection.87.6.3"
              data-pdf-page="997"
              href="#sec-87.6.3"
              >&para;</a
            >
          </h6>
          <a id="pgfmanual-autopage-7564"></a>

          <p>
            Each option for which key filters decided to skip them is handed
            over to a &lsquo;key filter handler&rsquo;. There are several
            predefined key filter handlers.
          </p>

          <div class="manualentry">
            <ul class="list" style="list-style-type: none">
              <div class="entryheadline">
                <li>
                  <p>
                    <a id="pgf./pgf/key:filter:handlers/append:filtered:to"></a
                    ><a id="pgf.append:filtered:to"></a>
                    <span class="hl-def"
                      ><kbd
                        ><span class="keyname"
                          ><span class="declare"
                            >/pgf/key filter handlers/append filtered to</span
                          ></span
                        >=</kbd
                      >{<span class="angle">&langle;</span><i>macro</i
                      ><span class="angle">&rangle;</span>}</span
                    ><span class="hl-default">(no default)</span>
                    <a
                      class="anchor-link"
                      data-html-link="pgf./pgf/key:filter:handlers/append:filtered:to"
                      href="#pgf/key:filter:handlers/append:filtered:to"
                      id="pgf/key:filter:handlers/append:filtered:to"
                      >&para;</a
                    >
                  </p>
                </li>
              </div>
              <p>
                Install this filter handler to append any unprocessed options to
                macro {<span class="angle">&langle;</span><i>macro</i
                ><span class="angle">&rangle;</span>}.
              </p>

              <figure class="example">
                <div class="example-image">
                  <p>
                    (A1:a1)(A2:a2)Remaining options: &lsquo;/my group/B=b,/my
                    group/C=c,/tikz/color=blue&rsquo;.
                  </p>
                </div>

                <div class="example-code">
                  <button class="clipboardButton" type="button">copy</button>
                  <code>
                    <span class="codepreamble"
                      >\usepgfkeyslibrary {filtered} </span
                    ><br />
                    <span class="textcolor" style="color: #000000"
                      ><a href="pgfkeys#pgf.back/pgfkeys">\pgfkeys</a></span
                    >{<span class="textcolor" style="color: #000000"
                      ><span class="textcolor" style="color: #008000"
                        ><a
                          href="pgfkeys#pgf./pgf/key:filter:handlers/append:filtered:to"
                          >/pgf/key filter handlers/append filtered to</a
                        ></span
                      >/<span class="textcolor" style="color: #0000b2"
                        ><a
                          href="pgfkeys#pgf./handlers/.install:key:filter:handler"
                          >.install key filter handler</a
                        ></span
                      >=<span class="textcolor" style="color: #008000"
                        ><span class="textcolor" style="color: #0000b2"
                          >\remainingoptions</span
                        ></span
                      ></span
                    >}<br />
                    <span class="textcolor" style="color: #0000b2">\def</span
                    ><span class="textcolor" style="color: #0000b2"
                      >\remainingoptions</span
                    >{}<br />
                    <span class="textcolor" style="color: #0000b2"
                      ><a href="pgfkeys#pgf.back/pgfkeysfiltered"
                        >\pgfkeysfiltered</a
                      ></span
                    >{<span class="textcolor" style="color: #000000">/my</span>
                    <span class="textcolor" style="color: #000000"
                      >group/A1=a1</span
                    >, <span class="textcolor" style="color: #000000"
                      >/my</span
                    >
                    <span class="textcolor" style="color: #000000"
                      >group/A2=a2</span
                    >,<br />
                    <span class="spaces"> </span><span class="textcolor" style="color: #000000"
                      >/my</span
                    >
                    <span class="textcolor" style="color: #000000"
                      >group/B=b</span
                    >,<span class="spaces">  </span><span
                      class="textcolor"
                      style="color: #000000"
                      >/my</span
                    >
                    <span class="textcolor" style="color: #000000"
                      >group/C=c</span
                    >, <span class="textcolor" style="color: #000000"
                      >/tikz/color=blue</span
                    >}<br />
                    <br />
                    <span class="textcolor" style="color: #000000"
                      >Remaining</span
                    >
                    <span class="textcolor" style="color: #000000"
                      >options:</span
                    >
                    <span class="textcolor" style="color: #000000">`</span
                    ><span class="textcolor" style="color: #0000b2"
                      >\remainingoptions</span
                    ><span class="textcolor" style="color: #000000"
                      ><a href="tikz-shapes#pgf.'">'</a></span
                    >.<br />
                  </code>
                </div>
              </figure>
              <p>
                This example uses the same keys as defined in the intro
                section&nbsp;<a href="pgfkeys#section-key-filter-example"
                  >87.6.1</a
                >.
              </p>
            </ul>
          </div>

          <div class="manualentry">
            <ul class="list" style="list-style-type: none">
              <div class="entryheadline">
                <li>
                  <p>
                    <a id="pgf./pgf/key:filter:handlers/ignore"></a
                    ><a id="pgf.ignore"></a>
                    <span class="hl-def"
                      ><kbd
                        ><span class="keyname"
                          ><span class="declare"
                            >/pgf/key filter handlers/ignore</span
                          ></span
                        ></kbd
                      ></span
                    ><span class="hl-default">(no value)</span>
                    <a
                      class="anchor-link"
                      data-html-link="pgf./pgf/key:filter:handlers/ignore"
                      href="#pgf/key:filter:handlers/ignore"
                      id="pgf/key:filter:handlers/ignore"
                      >&para;</a
                    >
                  </p>
                </li>
              </div>
              <p>
                Install this filter handler if you simply want to ignore any
                unprocessed option. This is the default.
              </p>
            </ul>
          </div>

          <div class="manualentry">
            <ul class="list" style="list-style-type: none">
              <div class="entryheadline">
                <li>
                  <p>
                    <a id="pgf./pgf/key:filter:handlers/log"></a
                    ><a id="pgf.log"></a>
                    <span class="hl-def"
                      ><kbd
                        ><span class="keyname"
                          ><span class="declare"
                            >/pgf/key filter handlers/log</span
                          ></span
                        ></kbd
                      ></span
                    ><span class="hl-default">(no value)</span>
                    <a
                      class="anchor-link"
                      data-html-link="pgf./pgf/key:filter:handlers/log"
                      href="#pgf/key:filter:handlers/log"
                      id="pgf/key:filter:handlers/log"
                      >&para;</a
                    >
                  </p>
                </li>
              </div>
              <p>
                This key filter handler writes messages for any unprocessed
                option to your logfile (and terminal).
              </p>
            </ul>
          </div>
          <h6 id="autosec-7565">
            <span
              ><span class="sectionnumber" id="sec-87.6.4">87.6.4</span> Family
              Support</span
            ><a
              class="anchor-link"
              data-html-link="sec-87.6.4"
              data-pdf-destination="subsubsection.87.6.4"
              data-pdf-page="997"
              href="#sec-87.6.4"
              >&para;</a
            >
          </h6>
          <a id="pgfmanual-autopage-7565"></a>

          <p>
            <span class="textsc">pgf</span> supports a family concept: every
            option can be associated with (at most) one family. Families form
            loose key groups which are independent of the key hierarchy. For
            example, <span class="verb">/my tree/key1</span> can belong to
            family <span class="verb">/tikz</span>.
          </p>

          <p>
            It is possible to &lsquo;activate&rsquo; or &lsquo;deactivate&rsquo;
            single families. Furthermore, it is possible to set only keys which
            belong to active families using appropriate key filter handlers.
          </p>

          <p>
            The family support is fast: if there are \(N\) options in a
            key&ndash;value-list and there are \(K\) active families, the
            runtime for <span class="verb">\pgfkeysfiltered</span> is \(O(N+K)\)
            (activate every family \(O(K)\), check every option \(O(N)\),
            deactivate every family \(O(K)\)).
          </p>

          <div class="manualentry">
            <ul class="list" style="list-style-type: none">
              <div class="entryheadline">
                <li>
                  <p>
                    <span class="hl-def"
                      ><b>Key handler</b> <span class="angle">&langle;</span
                      ><i>key</i><span class="angle">&rangle;</span
                      ><kbd>/<span class="declare">.is family</span></kbd></span
                    >
                  </p>
                </li>
              </div>
              <p>
                Defines a new family. This option has already been described in
                section&nbsp;<a href="pgfkeys#section-is family-handler"
                  >87.4.1</a
                >.
              </p>
            </ul>
          </div>

          <div class="manualentry">
            <ul class="list" style="list-style-type: none">
              <div class="entryheadline">
                <li>
                  <p>
                    <a id="pgf./handlers/.activate:family"></a>
                    <span class="hl-def"
                      ><b>Key handler</b> <span class="angle">&langle;</span
                      ><i>key</i><span class="angle">&rangle;</span
                      ><kbd
                        >/<span class="declare">.activate family</span></kbd
                      ></span
                    >
                    <a
                      class="anchor-link"
                      data-html-link="pgf./handlers/.activate:family"
                      href="#handlers/.activate:family"
                      id="handlers/.activate:family"
                      >&para;</a
                    >
                  </p>
                </li>
              </div>
              <p>
                Activates a family. The family needs to be defined, otherwise
                <span class="verb">/errors/family unknown</span> will be raised.
              </p>
              <p>
                Activation means a
                <span class="latexlogofont"
                  ><span class="latexlogo"
                    >T<span class="latexlogosub">e</span>X</span
                  ></span
                >-boolean will be set to <span class="verb">true</span>,
                indicating that a family should be processed.
              </p>
              <p>
                You can also use <span class="verb">\pgfkeysactivatefamily</span
                ><span class="angle">&langle;</span><i>full path</i
                ><span class="angle">&rangle;</span> to get the same effect.
                Furthermore, you can use
                <span class="verb">\pgfkeysactivatefamilies</span
                ><span class="angle">&langle;</span><i>list of families</i
                ><span class="angle">&rangle;</span
                ><span class="angle">&langle;</span
                ><i>macro name for de-activation</i
                ><span class="angle">&rangle;</span> to activate a list of
                families (see section&nbsp;<a
                  href="pgfkeys#section-key-filter-api"
                  >87.6.6</a
                >).
              </p>
            </ul>
          </div>

          <div class="manualentry">
            <ul class="list" style="list-style-type: none">
              <div class="entryheadline">
                <li>
                  <p>
                    <a id="pgf./handlers/.deactivate:family"></a>
                    <span class="hl-def"
                      ><b>Key handler</b> <span class="angle">&langle;</span
                      ><i>key</i><span class="angle">&rangle;</span
                      ><kbd
                        >/<span class="declare">.deactivate family</span></kbd
                      ></span
                    >
                    <a
                      class="anchor-link"
                      data-html-link="pgf./handlers/.deactivate:family"
                      href="#handlers/.deactivate:family"
                      id="handlers/.deactivate:family"
                      >&para;</a
                    >
                  </p>
                </li>
              </div>
              <p>
                Deactivates a family. The family needs to be defined, otherwise
                <span class="verb">/errors/family unknown</span> will be raised.
              </p>
              <p>
                You can also use
                <span class="verb">\pgfkeysdeactivatefamily</span
                ><span class="angle">&langle;</span><i>full path</i
                ><span class="angle">&rangle;</span> to get the same effect.
              </p>
            </ul>
          </div>

          <div class="manualentry">
            <ul class="list" style="list-style-type: none">
              <div class="entryheadline">
                <li>
                  <p>
                    <a id="pgf./handlers/.belongs:to:family"></a>
                    <span class="hl-def"
                      ><b>Key handler</b> <span class="angle">&langle;</span
                      ><i>key</i><span class="angle">&rangle;</span
                      ><kbd
                        >/<span class="declare">.belongs to family</span></kbd
                      ><span class="verb">=</span>{<span class="angle"
                        >&langle;</span
                      ><i>family name</i
                      ><span class="angle">&rangle;</span>}</span
                    >
                    <a
                      class="anchor-link"
                      data-html-link="pgf./handlers/.belongs:to:family"
                      href="#handlers/.belongs:to:family"
                      id="handlers/.belongs:to:family"
                      >&para;</a
                    >
                  </p>
                </li>
              </div>
              <p>
                Associates the current option with {<span class="angle"
                  >&langle;</span
                ><i>family name</i><span class="angle">&rangle;</span>}, which
                is expected to be a full path of a family.
              </p>

              <figure class="example">
                <div class="example-code">
                  <button class="clipboardButton" type="button">copy</button>
                  <code>
                    <span class="codepreamble"
                      >\usepgfkeyslibrary {filtered} </span
                    ><br />
                    <span class="textcolor" style="color: #000000"
                      ><a href="pgfkeys#pgf.back/pgfkeys">\pgfkeys</a></span
                    >{<span class="textcolor" style="color: #000000"
                      ><span class="textcolor" style="color: #008000"
                        >/foo/bar</span
                      >/<span class="textcolor" style="color: #0000b2"
                        ><a href="pgfkeys#pgf./handlers/.is:family"
                          >.is family</a
                        ></span
                      ></span
                    >}<br />
                    <span class="textcolor" style="color: #000000"
                      ><a href="pgfkeys#pgf.back/pgfkeys">\pgfkeys</a></span
                    >{<span class="textcolor" style="color: #000000"
                      ><br />
                      <span class="spaces">    </span><span
                        class="textcolor"
                        style="color: #008000"
                        >/foo/a</span
                      >/<span class="textcolor" style="color: #0000b2"
                        ><a href="pgfkeys#pgf./handlers/.belongs:to:family"
                          >.belongs to family</a
                        ></span
                      >=<span class="textcolor" style="color: #008000"
                        >/foo/bar</span
                      >,<br />
                      <span class="spaces">    </span><span
                        class="textcolor"
                        style="color: #008000"
                        >/foo/b</span
                      >/<span class="textcolor" style="color: #0000b2"
                        ><a href="pgfkeys#pgf./handlers/.belongs:to:family"
                          >.belongs to family</a
                        ></span
                      >=<span class="textcolor" style="color: #008000"
                        >/foo/bar<br /> </span></span
                    >}<br />
                  </code>
                </div>
              </figure>
              <p>
                Each option can have up to one family,
                <span class="verb">.belongs to family</span> overwrites any old
                setting.
              </p>
            </ul>
          </div>

          <div class="manualentry">
            <ul class="list" style="list-style-type: none">
              <div class="entryheadline">
                <li>
                  <p>
                    <a id="pgf./pgf/key:filters/active:families"></a
                    ><a id="pgf.active:families"></a>
                    <span class="hl-def"
                      ><kbd
                        ><span class="keyname"
                          ><span class="declare"
                            >/pgf/key filters/active families</span
                          ></span
                        ></kbd
                      ></span
                    ><span class="hl-default">(no value)</span>
                    <a
                      class="anchor-link"
                      data-html-link="pgf./pgf/key:filters/active:families"
                      href="#pgf/key:filters/active:families"
                      id="pgf/key:filters/active:families"
                      >&para;</a
                    >
                  </p>
                </li>
              </div>
              <p>
                Install this key filter if
                <span class="verb">\pgfkeysfiltered</span> should only process
                activated families. If a key does not belong to any family, it
                is not processed. If a key is completely unknown within the
                default path, the normal &lsquo;unknown&rsquo; handlers of
                <span class="verb">\pgfkeys</span> are invoked.
              </p>
            </ul>
          </div>

          <div class="manualentry">
            <ul class="list" style="list-style-type: none">
              <div class="entryheadline">
                <li>
                  <p>
                    <a
                      id="pgf./pgf/key:filters/active:families:or:no:family"
                    ></a
                    ><a id="pgf.active:families:or:no:family"></a>
                    <span class="hl-def"
                      ><kbd
                        ><span class="keyname"
                          ><span class="declare"
                            >/pgf/key filters/active families or no family</span
                          ></span
                        >=</kbd
                      >{<span class="angle">&langle;</span><i>key filter 1</i
                      ><span class="angle">&rangle;</span>}{<span class="angle"
                        >&langle;</span
                      ><i>key filter 2</i
                      ><span class="angle">&rangle;</span>}</span
                    ><span class="hl-default">(no default)</span>
                    <a
                      class="anchor-link"
                      data-html-link="pgf./pgf/key:filters/active:families:or:no:family"
                      href="#pgf/key:filters/active:families:or:no:family"
                      id="pgf/key:filters/active:families:or:no:family"
                      >&para;</a
                    >
                  </p>
                </li>
              </div>
              <p>
                This key filter configures
                <span class="verb">\pgfkeysfiltered</span> to work as follows.
              </p>
              <ul class="enumerate" style="list-style-type: none">
                <li>
                  <p>
                    <span class="listmarker">1.</span> If the current key
                    belongs to a family, set
                    <span class="verb">\ifpgfkeysfiltercontinue</span> to true
                    if and only if its family is active.
                  </p>
                </li>
                <li>
                  <p>
                    <span class="listmarker">2.</span> If the current key does
                    <em>not</em> belong to a family, assign
                    <span class="verb">\ifpgfkeysfiltercontinue</span> as result
                    of {<span class="angle">&langle;</span><i>key filter 1</i
                    ><span class="angle">&rangle;</span>}.
                  </p>
                </li>
                <li>
                  <p>
                    <span class="listmarker">3.</span> If the current key is
                    unknown within the default path, assign
                    <span class="verb">\ifpgfkeysfiltercontinue</span> as result
                    of {<span class="angle">&langle;</span><i>key filter 2</i
                    ><span class="angle">&rangle;</span>}.
                  </p>
                </li>
              </ul>
              <p>
                The arguments {<span class="angle">&langle;</span
                ><i>key filter 1</i><span class="angle">&rangle;</span>} and
                {<span class="angle">&langle;</span><i>key filter 2</i
                ><span class="angle">&rangle;</span>} are other key filters
                (possibly with options) and allow fine-grained control over the
                filtering process.
              </p>

              <figure class="example">
                <div class="example-code">
                  <button class="clipboardButton" type="button">copy</button>
                  <code>
                    <span class="codepreamble"
                      >\usepgfkeyslibrary {filtered} </span
                    ><br />
                    <span class="textcolor" style="color: #0000b2"
                      ><a href="pgfkeys#pgf.back/pgfkeysinstallkeyfilter"
                        >\pgfkeysinstallkeyfilter</a
                      ></span
                    ><br />
                    <span class="spaces">    </span>{<span
                      class="textcolor"
                      style="color: #000000"
                      >/pgf/key</span
                    >
                    <span class="textcolor" style="color: #000000"
                      >filters/active</span
                    >
                    <span class="textcolor" style="color: #000000"
                      >families</span
                    >
                    <span class="textcolor" style="color: #000000"
                      ><a href="pgfkeys#pgf.or">or</a></span
                    >
                    <span class="textcolor" style="color: #000000">no</span>
                    <span class="textcolor" style="color: #000000">family</span
                    >}<br />
                    <span class="spaces">    </span>{{<span
                      class="textcolor"
                      style="color: #000000"
                      >/pgf/key</span
                    >
                    <span class="textcolor" style="color: #000000"
                      >filters/is</span
                    >
                    <span class="textcolor" style="color: #000000"
                      >descendant</span
                    >
                    <span class="textcolor" style="color: #000000"
                      >of=/tikz</span
                    >}<span class="example-code-comment"
                      >% for keys without family</span
                    ><br />
                    <span class="spaces">     </span>{<span
                      class="textcolor"
                      style="color: #000000"
                      >/pgf/key</span
                    >
                    <span class="textcolor" style="color: #000000"
                      >filters/false</span
                    >}<span class="example-code-comment"
                      >% for unknown keys</span
                    ><br />
                    <span class="spaces">    </span>}<span
                      class="example-code-comment"
                      >%</span
                    ><br />
                  </code>
                </div>
              </figure>
              <p>
                This key filter will return true for any option with active
                family. If an option has no family, the return value is true if
                and only if it belongs to <span class="verb">/tikz</span>. If
                the option is unknown, the return value is
                <span class="verb">false</span> and unknown handlers won&rsquo;t
                be called.
              </p>
            </ul>
          </div>

          <div class="manualentry">
            <ul class="list" style="list-style-type: none">
              <div class="entryheadline">
                <li>
                  <p>
                    <a
                      id="pgf./pgf/key:filters/active:families:or:no:family:DEBUG"
                    ></a
                    ><a id="pgf.active:families:or:no:family:DEBUG"></a>
                    <span class="hl-def"
                      ><kbd
                        ><span class="keyname"
                          ><span class="declare"
                            >/pgf/key filters/active families or no family
                            DEBUG</span
                          ></span
                        >=</kbd
                      >{<span class="angle">&langle;</span><i>key filter 1</i
                      ><span class="angle">&rangle;</span>}{<span class="angle"
                        >&langle;</span
                      ><i>key filter 2</i
                      ><span class="angle">&rangle;</span>}</span
                    ><span class="hl-default">(no default)</span>
                    <a
                      class="anchor-link"
                      data-html-link="pgf./pgf/key:filters/active:families:or:no:family:DEBUG"
                      href="#pgf/key:filters/active:families:or:no:family:DEBUG"
                      id="pgf/key:filters/active:families:or:no:family:DEBUG"
                      >&para;</a
                    >
                  </p>
                </li>
              </div>
              <p>
                A variant of
                <span class="verb">active families or no family</span> which
                protocols each action on your terminal (log-file).
              </p>
            </ul>
          </div>

          <div class="manualentry">
            <ul class="list" style="list-style-type: none">
              <div class="entryheadline">
                <li>
                  <p>
                    <a id="pgf./pgf/key:filters/active:families:and:known"></a
                    ><a id="pgf.active:families:and:known"></a>
                    <span class="hl-def"
                      ><kbd
                        ><span class="keyname"
                          ><span class="declare"
                            >/pgf/key filters/active families and known</span
                          ></span
                        ></kbd
                      ></span
                    ><span class="hl-default">(no value)</span>
                    <a
                      class="anchor-link"
                      data-html-link="pgf./pgf/key:filters/active:families:and:known"
                      href="#pgf/key:filters/active:families:and:known"
                      id="pgf/key:filters/active:families:and:known"
                      >&para;</a
                    >
                  </p>
                </li>
              </div>
              <p>A fast alias for</p>
              <p>
                <span class="verb"
                  >/pgf/key filters/active families or no family=</span
                >
              </p>
              <p>
                <span class="verb">{/pgf/keys filters/false}</span>
              </p>
              <p><span class="verb">{/pgf/keys filters/false}</span>.</p>
            </ul>
          </div>

          <div class="manualentry">
            <ul class="list" style="list-style-type: none">
              <div class="entryheadline">
                <li>
                  <p>
                    <a
                      id="pgf./pgf/key:filters/active:families:or:descendants:of"
                    ></a
                    ><a id="pgf.active:families:or:descendants:of"></a>
                    <span class="hl-def"
                      ><kbd
                        ><span class="keyname"
                          ><span class="declare"
                            >/pgf/key filters/active families or descendants
                            of</span
                          ></span
                        >=</kbd
                      >{<span class="angle">&langle;</span><i>path prefix</i
                      ><span class="angle">&rangle;</span>}</span
                    ><span class="hl-default">(no default)</span>
                    <a
                      class="anchor-link"
                      data-html-link="pgf./pgf/key:filters/active:families:or:descendants:of"
                      href="#pgf/key:filters/active:families:or:descendants:of"
                      id="pgf/key:filters/active:families:or:descendants:of"
                      >&para;</a
                    >
                  </p>
                </li>
              </div>
              <p>A fast alias for</p>
              <p>
                <span class="verb"
                  >/pgf/key filters/active families or no family=</span
                >
              </p>
              <p>
                <span class="verb">{/pgf/keys filters/is descendant of=</span
                >{<span class="angle">&langle;</span><i>path prefix</i
                ><span class="angle">&rangle;</span>}<span class="verb">}</span>
              </p>
              <p><span class="verb">{/pgf/keys filters/false}</span>.</p>
            </ul>
          </div>

          <div class="manualentry">
            <ul class="list" style="list-style-type: none">
              <div class="entryheadline">
                <li>
                  <p>
                    <a
                      id="pgf.back/pgfkeysactivatefamiliesandfilteroptions"
                    ></a>
                    <span class="hl-def"
                      ><span class="declare"
                        ><kbd
                          >\pgfkeysactivatefamiliesandfilteroptions</kbd
                        ></span
                      >{<span class="angle">&langle;</span><i>family list</i
                      ><span class="angle">&rangle;</span>}{<span class="angle"
                        >&langle;</span
                      ><i>key&ndash;value-list</i
                      ><span class="angle">&rangle;</span>}</span
                    >
                    <a
                      class="anchor-link"
                      data-html-link="pgf.back/pgfkeysactivatefamiliesandfilteroptions"
                      href="#\pgfkeysactivatefamiliesandfilteroptions"
                      id="\pgfkeysactivatefamiliesandfilteroptions"
                      >&para;</a
                    >
                  </p>
                </li>
              </div>
              <p>
                A simple shortcut macro which activates any family in the comma
                separated {<span class="angle">&langle;</span><i>family list</i
                ><span class="angle">&rangle;</span>}, invokes
                <span class="verb">\pgfkeysfiltered</span
                ><span class="angle">&langle;</span><i>key&ndash;value-list</i
                ><span class="angle">&rangle;</span> and deactivates the
                families afterwards.
              </p>
              <p>
                Please note that you will need to install a family key filter,
                otherwise family activation has no effect.
              </p>
            </ul>
          </div>

          <div class="manualentry">
            <ul class="list" style="list-style-type: none">
              <div class="entryheadline">
                <li>
                  <p>
                    <a
                      id="pgf.back/pgfqkeysactivatefamiliesandfilteroptions"
                    ></a>
                    <span class="hl-def"
                      ><span class="declare"
                        ><kbd
                          >\pgfqkeysactivatefamiliesandfilteroptions</kbd
                        ></span
                      >{<span class="angle">&langle;</span><i>family list</i
                      ><span class="angle">&rangle;</span>}{<span class="angle"
                        >&langle;</span
                      ><i>default path</i
                      ><span class="angle">&rangle;</span>}{<span class="angle"
                        >&langle;</span
                      ><i>key&ndash;value-list</i
                      ><span class="angle">&rangle;</span>}</span
                    >
                    <a
                      class="anchor-link"
                      data-html-link="pgf.back/pgfqkeysactivatefamiliesandfilteroptions"
                      href="#\pgfqkeysactivatefamiliesandfilteroptions"
                      id="\pgfqkeysactivatefamiliesandfilteroptions"
                      >&para;</a
                    >
                  </p>
                </li>
              </div>
              <p>
                The &lsquo;quick&rsquo; default path variant of
                <span class="verb"
                  >\pgfkeysactivatefamiliesandfilteroptions</span
                >.
              </p>
            </ul>
          </div>

          <div class="manualentry">
            <ul class="list" style="list-style-type: none">
              <div class="entryheadline">
                <li>
                  <p>
                    <a
                      id="pgf.back/pgfkeysactivatesinglefamilyandfilteroptions"
                    ></a>
                    <span class="hl-def"
                      ><span class="declare"
                        ><kbd
                          >\pgfkeysactivatesinglefamilyandfilteroptions</kbd
                        ></span
                      >{<span class="angle">&langle;</span><i>family name</i
                      ><span class="angle">&rangle;</span>}{<span class="angle"
                        >&langle;</span
                      ><i>key&ndash;value-list</i
                      ><span class="angle">&rangle;</span>}</span
                    >
                    <a
                      class="anchor-link"
                      data-html-link="pgf.back/pgfkeysactivatesinglefamilyandfilteroptions"
                      href="#\pgfkeysactivatesinglefamilyandfilteroptions"
                      id="\pgfkeysactivatesinglefamilyandfilteroptions"
                      >&para;</a
                    >
                  </p>
                </li>
              </div>
              <p>
                A shortcut macro which activates a single family and invokes
                <span class="verb">\pgfkeysfiltered</span>.
              </p>
              <p>
                Please note that you will need to install a family key filter,
                otherwise family activation has no effect.
              </p>
            </ul>
          </div>

          <div class="manualentry">
            <ul class="list" style="list-style-type: none">
              <div class="entryheadline">
                <li>
                  <p>
                    <a
                      id="pgf.back/pgfqkeysactivatesinglefamilyandfilteroptions"
                    ></a>
                    <span class="hl-def"
                      ><span class="declare"
                        ><kbd
                          >\pgfqkeysactivatesinglefamilyandfilteroptions</kbd
                        ></span
                      >{<span class="angle">&langle;</span><i>family name</i
                      ><span class="angle">&rangle;</span>}{<span class="angle"
                        >&langle;</span
                      ><i>default path</i
                      ><span class="angle">&rangle;</span>}{<span class="angle"
                        >&langle;</span
                      ><i>key&ndash;value-list</i
                      ><span class="angle">&rangle;</span>}</span
                    >
                    <a
                      class="anchor-link"
                      data-html-link="pgf.back/pgfqkeysactivatesinglefamilyandfilteroptions"
                      href="#\pgfqkeysactivatesinglefamilyandfilteroptions"
                      id="\pgfqkeysactivatesinglefamilyandfilteroptions"
                      >&para;</a
                    >
                  </p>
                </li>
              </div>
              <p>
                The &lsquo;quick&rsquo; default path variant of
                <span class="verb"
                  >\pgfkeysactivatesinglefamilyandfilteroptions</span
                >.
              </p>
            </ul>
          </div>
          <h6 id="autosec-7566">
            <span
              ><span class="sectionnumber" id="sec-87.6.5">87.6.5</span> Other
              Key Filters</span
            ><a
              class="anchor-link"
              data-html-link="sec-87.6.5"
              data-pdf-destination="subsubsection.87.6.5"
              data-pdf-page="999"
              href="#sec-87.6.5"
              >&para;</a
            >
          </h6>
          <a id="pgfmanual-autopage-7566"></a>

          <p>
            There are some more key filters which have nothing to do with family
            handling.
          </p>

          <div class="manualentry">
            <ul class="list" style="list-style-type: none">
              <div class="entryheadline">
                <li>
                  <p>
                    <a id="pgf./pgf/key:filters/is:descendant:of"></a
                    ><a id="pgf.is:descendant:of"></a>
                    <span class="hl-def"
                      ><kbd
                        ><span class="keyname"
                          ><span class="declare"
                            >/pgf/key filters/is descendant of</span
                          ></span
                        >=</kbd
                      >{<span class="angle">&langle;</span><i>path</i
                      ><span class="angle">&rangle;</span>}</span
                    ><span class="hl-default">(no default)</span>
                    <a
                      class="anchor-link"
                      data-html-link="pgf./pgf/key:filters/is:descendant:of"
                      href="#pgf/key:filters/is:descendant:of"
                      id="pgf/key:filters/is:descendant:of"
                      >&para;</a
                    >
                  </p>
                </li>
              </div>
              <p>
                Install this key filter to process only options belonging to the
                key tree <span class="angle">&langle;</span><i>path</i
                ><span class="angle">&rangle;</span>. It returns true for every
                key whose key path is equal to
                <span class="angle">&langle;</span><i>path</i
                ><span class="angle">&rangle;</span>. It also returns true for
                any unknown key, that means unknown keys are processed using the
                standard unknown handlers of <span class="textsc">pgf</span>.
              </p>

              <figure class="example">
                <div class="example-image">
                  <p>(A:a)(B:b)</p>
                </div>

                <div class="example-code">
                  <button class="clipboardButton" type="button">copy</button>
                  <code>
                    <span class="codepreamble"
                      >\usepgfkeyslibrary {filtered} </span
                    ><br />
                    <span class="textcolor" style="color: #000000"
                      ><a href="pgfkeys#pgf.back/pgfkeys">\pgfkeys</a></span
                    >{<span class="textcolor" style="color: #000000"
                      ><br />
                      <span class="textcolor" style="color: #008000"
                        >/group 1/A</span
                      >/<span class="textcolor" style="color: #0000b2"
                        ><a href="pgfkeys#pgf./handlers/.code">.code</a></span
                      >=<span class="textcolor" style="color: #008000"
                        >{<span class="textcolor" style="color: #800080"
                          >(A:#1)</span
                        >}</span
                      >,<br />
                      <span class="textcolor" style="color: #008000"
                        >/group 1/foo/bar/B</span
                      >/<span class="textcolor" style="color: #0000b2"
                        ><a href="pgfkeys#pgf./handlers/.code">.code</a></span
                      >=<span class="textcolor" style="color: #008000"
                        >{<span class="textcolor" style="color: #800080"
                          >(B:#1)</span
                        >}</span
                      >,<br />
                      <span class="textcolor" style="color: #008000"
                        >/group 2/C</span
                      >/<span class="textcolor" style="color: #0000b2"
                        ><a href="pgfkeys#pgf./handlers/.code">.code</a></span
                      >=<span class="textcolor" style="color: #008000"
                        >{<span class="textcolor" style="color: #800080"
                          >(C:#1)</span
                        >}</span
                      >,<br />
                      <span class="textcolor" style="color: #008000"
                        ><a href="pgfkeys#pgf./pgf/key:filters/is:descendant:of"
                          >/pgf/key filters/is descendant of</a
                        ></span
                      >/<span class="textcolor" style="color: #0000b2"
                        ><a href="pgfkeys#pgf./handlers/.install:key:filter"
                          >.install key filter</a
                        ></span
                      >=<span class="textcolor" style="color: #008000"
                        >/group 1</span
                      ></span
                    >}<br />
                    <span class="textcolor" style="color: #0000b2"
                      ><a href="pgfkeys#pgf.back/pgfkeysfiltered"
                        >\pgfkeysfiltered</a
                      ></span
                    >{<span class="textcolor" style="color: #000000"
                      >/group</span
                    >
                    <span class="textcolor" style="color: #000000">1/A=a</span
                    >,<span class="textcolor" style="color: #000000"
                      >/group</span
                    >
                    <span class="textcolor" style="color: #000000"
                      >1/foo/bar/B=b</span
                    >,<span class="textcolor" style="color: #000000"
                      >/group</span
                    >
                    <span class="textcolor" style="color: #000000">2/C=c</span
                    >}<br />
                  </code>
                </div>
              </figure>
              <p></p>
            </ul>
          </div>

          <div class="manualentry">
            <ul class="list" style="list-style-type: none">
              <div class="entryheadline">
                <li>
                  <p>
                    <a id="pgf./pgf/key:filters/equals"></a
                    ><a id="pgf.equals"></a>
                    <span class="hl-def"
                      ><kbd
                        ><span class="keyname"
                          ><span class="declare"
                            >/pgf/key filters/equals</span
                          ></span
                        >=</kbd
                      >{<span class="angle">&langle;</span><i>full key</i
                      ><span class="angle">&rangle;</span>}</span
                    ><span class="hl-default">(no default)</span>
                    <a
                      class="anchor-link"
                      data-html-link="pgf./pgf/key:filters/equals"
                      href="#pgf/key:filters/equals"
                      id="pgf/key:filters/equals"
                      >&para;</a
                    >
                  </p>
                </li>
              </div>
              <p>
                Install this key filter to process only the fully qualified
                option {<span class="angle">&langle;</span><i>full key</i
                ><span class="angle">&rangle;</span>}. The filter returns true
                for any unknown key or if the key equals {<span class="angle"
                  >&langle;</span
                ><i>full key</i><span class="angle">&rangle;</span>}.
              </p>

              <figure class="example">
                <div class="example-image">
                  <p>(A:a)</p>
                </div>

                <div class="example-code">
                  <button class="clipboardButton" type="button">copy</button>
                  <code>
                    <span class="codepreamble"
                      >\usepgfkeyslibrary {filtered} </span
                    ><br />
                    <span class="textcolor" style="color: #000000"
                      ><a href="pgfkeys#pgf.back/pgfkeys">\pgfkeys</a></span
                    >{<span class="textcolor" style="color: #000000"
                      ><br />
                      <span class="textcolor" style="color: #008000"
                        >/group 1/A</span
                      >/<span class="textcolor" style="color: #0000b2"
                        ><a href="pgfkeys#pgf./handlers/.code">.code</a></span
                      >=<span class="textcolor" style="color: #008000"
                        >{<span class="textcolor" style="color: #800080"
                          >(A:#1)</span
                        >}</span
                      >,<br />
                      <span class="textcolor" style="color: #008000"
                        >/group 1/B</span
                      >/<span class="textcolor" style="color: #0000b2"
                        ><a href="pgfkeys#pgf./handlers/.code">.code</a></span
                      >=<span class="textcolor" style="color: #008000"
                        >{<span class="textcolor" style="color: #800080"
                          >(B:#1)</span
                        >}</span
                      >,<br />
                      <span class="textcolor" style="color: #008000"
                        ><a href="pgfkeys#pgf./pgf/key:filters/equals"
                          >/pgf/key filters/equals</a
                        ></span
                      >/<span class="textcolor" style="color: #0000b2"
                        ><a href="pgfkeys#pgf./handlers/.install:key:filter"
                          >.install key filter</a
                        ></span
                      >=<span class="textcolor" style="color: #008000"
                        >/group 1/A</span
                      ></span
                    >}<br />
                    <span class="textcolor" style="color: #0000b2"
                      ><a href="pgfkeys#pgf.back/pgfqkeysfiltered"
                        >\pgfqkeysfiltered</a
                      ></span
                    >{<span class="textcolor" style="color: #000000"
                      >/group</span
                    >
                    <span class="textcolor" style="color: #000000">1</span
                    >}{<span class="textcolor" style="color: #000000">A=a</span
                    >,<span class="textcolor" style="color: #000000">B=b</span
                    >}<br />
                  </code>
                </div>
              </figure>
              <p></p>
            </ul>
          </div>

          <div class="manualentry">
            <ul class="list" style="list-style-type: none">
              <div class="entryheadline">
                <li>
                  <p>
                    <a id="pgf./pgf/key:filters/not"></a><a id="pgf.not"></a>
                    <span class="hl-def"
                      ><kbd
                        ><span class="keyname"
                          ><span class="declare"
                            >/pgf/key filters/not</span
                          ></span
                        >=</kbd
                      >{<span class="angle">&langle;</span><i>key filter</i
                      ><span class="angle">&rangle;</span>}</span
                    ><span class="hl-default">(no default)</span>
                    <a
                      class="anchor-link"
                      data-html-link="pgf./pgf/key:filters/not"
                      href="#pgf/key:filters/not"
                      id="pgf/key:filters/not"
                      >&para;</a
                    >
                  </p>
                </li>
              </div>
              <p>
                This key filter logically inverts the result of {<span
                  class="angle"
                  >&langle;</span
                ><i>key filter</i><span class="angle">&rangle;</span>}.
              </p>

              <figure class="example">
                <div class="example-image">
                  <p>(C:c)</p>
                </div>

                <div class="example-code">
                  <button class="clipboardButton" type="button">copy</button>
                  <code>
                    <span class="codepreamble"
                      >\usepgfkeyslibrary {filtered} </span
                    ><br />
                    <span class="textcolor" style="color: #000000"
                      ><a href="pgfkeys#pgf.back/pgfkeys">\pgfkeys</a></span
                    >{<span class="textcolor" style="color: #000000"
                      ><br />
                      <span class="textcolor" style="color: #008000"
                        >/group 1/A</span
                      >/<span class="textcolor" style="color: #0000b2"
                        ><a href="pgfkeys#pgf./handlers/.code">.code</a></span
                      >=<span class="textcolor" style="color: #008000"
                        >{<span class="textcolor" style="color: #800080"
                          >(A:#1)</span
                        >}</span
                      >,<br />
                      <span class="textcolor" style="color: #008000"
                        >/group 1/foo/bar/B</span
                      >/<span class="textcolor" style="color: #0000b2"
                        ><a href="pgfkeys#pgf./handlers/.code">.code</a></span
                      >=<span class="textcolor" style="color: #008000"
                        >{<span class="textcolor" style="color: #800080"
                          >(B:#1)</span
                        >}</span
                      >,<br />
                      <span class="textcolor" style="color: #008000"
                        >/group 2/C</span
                      >/<span class="textcolor" style="color: #0000b2"
                        ><a href="pgfkeys#pgf./handlers/.code">.code</a></span
                      >=<span class="textcolor" style="color: #008000"
                        >{<span class="textcolor" style="color: #800080"
                          >(C:#1)</span
                        >}</span
                      >,<br />
                      <span class="textcolor" style="color: #008000"
                        ><a href="pgfkeys#pgf./pgf/key:filters/not"
                          >/pgf/key filters/not</a
                        ></span
                      >/<span class="textcolor" style="color: #0000b2"
                        ><a href="pgfkeys#pgf./handlers/.install:key:filter"
                          >.install key filter</a
                        ></span
                      >=<br />
                      <span class="textcolor" style="color: #008000"
                        >{/pgf/key filters/is descendant of=/group 1}</span
                      ></span
                    >}<br />
                    <span class="textcolor" style="color: #0000b2"
                      ><a href="pgfkeys#pgf.back/pgfkeysfiltered"
                        >\pgfkeysfiltered</a
                      ></span
                    >{<span class="textcolor" style="color: #000000"
                      >/group</span
                    >
                    <span class="textcolor" style="color: #000000">1/A=a</span
                    >,<span class="textcolor" style="color: #000000"
                      >/group</span
                    >
                    <span class="textcolor" style="color: #000000"
                      >1/foo/bar/B=b</span
                    >,<span class="textcolor" style="color: #000000"
                      >/group</span
                    >
                    <span class="textcolor" style="color: #000000">2/C=c</span
                    >}<br />
                  </code>
                </div>
              </figure>
              <p>
                Please note that unknown keys will be handed to the usual
                unknown handlers.
              </p>
            </ul>
          </div>

          <div class="manualentry">
            <ul class="list" style="list-style-type: none">
              <div class="entryheadline">
                <li>
                  <p>
                    <a id="pgf./pgf/key:filters/and"></a><a id="pgf.and"></a>
                    <span class="hl-def"
                      ><kbd
                        ><span class="keyname"
                          ><span class="declare"
                            >/pgf/key filters/and</span
                          ></span
                        >=</kbd
                      >{<span class="angle">&langle;</span><i>key filter 1</i
                      ><span class="angle">&rangle;</span>}{<span class="angle"
                        >&langle;</span
                      ><i>key filter 2</i
                      ><span class="angle">&rangle;</span>}</span
                    ><span class="hl-default">(no default)</span>
                    <a
                      class="anchor-link"
                      data-html-link="pgf./pgf/key:filters/and"
                      href="#pgf/key:filters/and"
                      id="pgf/key:filters/and"
                      >&para;</a
                    >
                  </p>
                </li>
              </div>
              <p>
                This key filter returns true if and only if both, {<span
                  class="angle"
                  >&langle;</span
                ><i>key filter 1</i><span class="angle">&rangle;</span>} and
                {<span class="angle">&langle;</span><i>key filter 2</i
                ><span class="angle">&rangle;</span>} return true.
              </p>
            </ul>
          </div>

          <div class="manualentry">
            <ul class="list" style="list-style-type: none">
              <div class="entryheadline">
                <li>
                  <p>
                    <a id="pgf./pgf/key:filters/or"></a><a id="pgf.or"></a>
                    <span class="hl-def"
                      ><kbd
                        ><span class="keyname"
                          ><span class="declare"
                            >/pgf/key filters/or</span
                          ></span
                        >=</kbd
                      >{<span class="angle">&langle;</span><i>key filter 1</i
                      ><span class="angle">&rangle;</span>}{<span class="angle"
                        >&langle;</span
                      ><i>key filter 2</i
                      ><span class="angle">&rangle;</span>}</span
                    ><span class="hl-default">(no default)</span>
                    <a
                      class="anchor-link"
                      data-html-link="pgf./pgf/key:filters/or"
                      href="#pgf/key:filters/or"
                      id="pgf/key:filters/or"
                      >&para;</a
                    >
                  </p>
                </li>
              </div>
              <p>
                This key filter returns true if one of {<span class="angle"
                  >&langle;</span
                ><i>key filter 1</i><span class="angle">&rangle;</span>} and
                {<span class="angle">&langle;</span><i>key filter 2</i
                ><span class="angle">&rangle;</span>} returns true.
              </p>
            </ul>
          </div>

          <div class="manualentry">
            <ul class="list" style="list-style-type: none">
              <div class="entryheadline">
                <li>
                  <p>
                    <a id="pgf./pgf/key:filters/true"></a><a id="pgf.true"></a>
                    <span class="hl-def"
                      ><kbd
                        ><span class="keyname"
                          ><span class="declare"
                            >/pgf/key filters/true</span
                          ></span
                        ></kbd
                      ></span
                    ><span class="hl-default">(no value)</span>
                    <a
                      class="anchor-link"
                      data-html-link="pgf./pgf/key:filters/true"
                      href="#pgf/key:filters/true"
                      id="pgf/key:filters/true"
                      >&para;</a
                    >
                  </p>
                </li>
              </div>
              <p>This key filter returns always true.</p>
            </ul>
          </div>

          <div class="manualentry">
            <ul class="list" style="list-style-type: none">
              <div class="entryheadline">
                <li>
                  <p>
                    <a id="pgf./pgf/key:filters/false"></a
                    ><a id="pgf.false"></a>
                    <span class="hl-def"
                      ><kbd
                        ><span class="keyname"
                          ><span class="declare"
                            >/pgf/key filters/false</span
                          ></span
                        ></kbd
                      ></span
                    ><span class="hl-default">(no value)</span>
                    <a
                      class="anchor-link"
                      data-html-link="pgf./pgf/key:filters/false"
                      href="#pgf/key:filters/false"
                      id="pgf/key:filters/false"
                      >&para;</a
                    >
                  </p>
                </li>
              </div>
              <p>
                This key filter returns always false (including unknown keys).
              </p>
            </ul>
          </div>

          <div class="manualentry">
            <ul class="list" style="list-style-type: none">
              <div class="entryheadline">
                <li>
                  <p>
                    <a id="pgf./pgf/key:filters/defined"></a
                    ><a id="pgf.defined"></a>
                    <span class="hl-def"
                      ><kbd
                        ><span class="keyname"
                          ><span class="declare"
                            >/pgf/key filters/defined</span
                          ></span
                        ></kbd
                      ></span
                    ><span class="hl-default">(no value)</span>
                    <a
                      class="anchor-link"
                      data-html-link="pgf./pgf/key:filters/defined"
                      href="#pgf/key:filters/defined"
                      id="pgf/key:filters/defined"
                      >&para;</a
                    >
                  </p>
                </li>
              </div>
              <p>
                This key filter returns false if the current key is unknown,
                which avoids calling the unknown handlers.
              </p>
            </ul>
          </div>
          <h6 id="autosec-7567">
            <a id="section-key-filter-api"></a
            ><span
              ><span class="sectionnumber" id="sec-87.6.6">87.6.6</span>
              Programmer Interface</span
            ><a
              class="anchor-link"
              data-html-link="sec-87.6.6"
              data-pdf-destination="subsubsection.87.6.6"
              data-pdf-page="1000"
              href="#sec-87.6.6"
              >&para;</a
            >
          </h6>
          <a id="pgfmanual-autopage-7567"></a>

          <div class="manualentry">
            <ul class="list" style="list-style-type: none">
              <div class="entryheadline">
                <li>
                  <p>
                    <span class="hl-def"
                      ><kbd
                        ><span class="declare"
                          >\pgfkeysinterruptkeyfilter</span
                        ></kbd
                      ></span
                    >
                  </p>
                </li>
              </div>

              <div class="entryheadline">
                <li>
                  <p>
                    <span class="hl-def"
                      ><kbd> </kbd><span class="angle">&langle;</span
                      ><i>environment contents</i
                      ><span class="angle">&rangle;</span></span
                    >
                  </p>
                </li>
              </div>

              <div class="entryheadline">
                <li>
                  <p>
                    <span class="hl-def"
                      ><kbd
                        ><span class="declare"
                          >\endpgfkeysinterruptkeyfilter</span
                        ></kbd
                      ></span
                    >
                  </p>
                </li>
              </div>
              <p>
                Temporarily disables key filtering inside the environment. If
                key filtering is not active, this has no effect at all.
              </p>
              <p>
                Please note that no
                <span class="latexlogofont"
                  ><span class="latexlogo"
                    >T<span class="latexlogosub">e</span>X</span
                  ></span
                >-group is introduced.
              </p>
            </ul>
          </div>

          <div class="manualentry">
            <ul class="list" style="list-style-type: none">
              <div class="entryheadline">
                <li>
                  <p>
                    <a id="pgf.back/pgfkeyssavekeyfilterstateto"></a>
                    <span class="hl-def"
                      ><span class="declare"
                        ><kbd>\pgfkeyssavekeyfilterstateto</kbd></span
                      >{<span class="angle">&langle;</span><i>macro</i
                      ><span class="angle">&rangle;</span>}</span
                    >
                    <a
                      class="anchor-link"
                      data-html-link="pgf.back/pgfkeyssavekeyfilterstateto"
                      href="#\pgfkeyssavekeyfilterstateto"
                      id="\pgfkeyssavekeyfilterstateto"
                      >&para;</a
                    >
                  </p>
                </li>
              </div>
              <p>
                Creates {<span class="angle">&langle;</span><i>macro</i
                ><span class="angle">&rangle;</span>} which contains commands to
                re-activate the current key filter and key filter handler. It
                can be used to temporarily switch the key filter.
              </p>
            </ul>
          </div>

          <div class="manualentry">
            <ul class="list" style="list-style-type: none">
              <div class="entryheadline">
                <li>
                  <p>
                    <a id="pgf.back/pgfkeysinstallkeyfilter"></a>
                    <span class="hl-def"
                      ><span class="declare"
                        ><kbd>\pgfkeysinstallkeyfilter</kbd></span
                      >{<span class="angle">&langle;</span><i>full key</i
                      ><span class="angle">&rangle;</span>}{<span class="angle"
                        >&langle;</span
                      ><i>optional arguments</i
                      ><span class="angle">&rangle;</span>}</span
                    >
                    <a
                      class="anchor-link"
                      data-html-link="pgf.back/pgfkeysinstallkeyfilter"
                      href="#\pgfkeysinstallkeyfilter"
                      id="\pgfkeysinstallkeyfilter"
                      >&para;</a
                    >
                  </p>
                </li>
              </div>
              <p>
                The command <span class="verb">\pgfkeysinstallkeyfilter{</span
                ><span class="angle">&langle;</span><i>full key</i
                ><span class="angle">&rangle;</span><span class="verb">}{</span
                ><span class="angle">&langle;</span><i>optional arguments</i
                ><span class="angle">&rangle;</span
                ><span class="verb">}</span> has the same effect as
                <span class="verb">\pgfkeys{</span
                ><span class="angle">&langle;</span><i>full key</i
                ><span class="angle">&rangle;</span
                ><span class="verb">/.install key filter={</span
                ><span class="angle">&langle;</span><i>optional arguments</i
                ><span class="angle">&rangle;</span
                ><span class="verb">}}</span>.
              </p>
            </ul>
          </div>

          <div class="manualentry">
            <ul class="list" style="list-style-type: none">
              <div class="entryheadline">
                <li>
                  <p>
                    <a id="pgf.back/pgfkeysinstallkeyfilterhandler"></a>
                    <span class="hl-def"
                      ><span class="declare"
                        ><kbd>\pgfkeysinstallkeyfilterhandler</kbd></span
                      >{<span class="angle">&langle;</span><i>full key</i
                      ><span class="angle">&rangle;</span>}{<span class="angle"
                        >&langle;</span
                      ><i>optional arguments</i
                      ><span class="angle">&rangle;</span>}</span
                    >
                    <a
                      class="anchor-link"
                      data-html-link="pgf.back/pgfkeysinstallkeyfilterhandler"
                      href="#\pgfkeysinstallkeyfilterhandler"
                      id="\pgfkeysinstallkeyfilterhandler"
                      >&para;</a
                    >
                  </p>
                </li>
              </div>
              <p>
                The command
                <span class="verb">\pgfkeysinstallkeyfilterhandler{</span
                ><span class="angle">&langle;</span><i>full key</i
                ><span class="angle">&rangle;</span><span class="verb">}{</span
                ><span class="angle">&langle;</span><i>optional arguments</i
                ><span class="angle">&rangle;</span
                ><span class="verb">}</span> has the same effect as
                <span class="verb">\pgfkeys{</span
                ><span class="angle">&langle;</span><i>full key</i
                ><span class="angle">&rangle;</span
                ><span class="verb">/.install key filter handler={</span
                ><span class="angle">&langle;</span><i>optional arguments</i
                ><span class="angle">&rangle;</span
                ><span class="verb">}}</span>.
              </p>
            </ul>
          </div>

          <div class="manualentry">
            <ul class="list" style="list-style-type: none">
              <div class="entryheadline">
                <li>
                  <p>
                    <a id="pgf.back/pgfkeysactivatefamily"></a>
                    <span class="hl-def"
                      ><span class="declare"
                        ><kbd>\pgfkeysactivatefamily</kbd></span
                      >{<span class="angle">&langle;</span><i>family name</i
                      ><span class="angle">&rangle;</span>}</span
                    >
                    <a
                      class="anchor-link"
                      data-html-link="pgf.back/pgfkeysactivatefamily"
                      href="#\pgfkeysactivatefamily"
                      id="\pgfkeysactivatefamily"
                      >&para;</a
                    >
                  </p>
                </li>
              </div>
              <p>
                Equivalent to <span class="verb">\pgfkeys{</span
                ><span class="angle">&langle;</span><i>family name</i
                ><span class="angle">&rangle;</span
                ><span class="verb">/.activate family}</span>.
              </p>
            </ul>
          </div>

          <div class="manualentry">
            <ul class="list" style="list-style-type: none">
              <div class="entryheadline">
                <li>
                  <p>
                    <a id="pgf.back/pgfkeysdeactivatefamily"></a>
                    <span class="hl-def"
                      ><span class="declare"
                        ><kbd>\pgfkeysdeactivatefamily</kbd></span
                      >{<span class="angle">&langle;</span><i>family name</i
                      ><span class="angle">&rangle;</span>}</span
                    >
                    <a
                      class="anchor-link"
                      data-html-link="pgf.back/pgfkeysdeactivatefamily"
                      href="#\pgfkeysdeactivatefamily"
                      id="\pgfkeysdeactivatefamily"
                      >&para;</a
                    >
                  </p>
                </li>
              </div>
              <p>
                Equivalent to <span class="verb">\pgfkeys{</span
                ><span class="angle">&langle;</span><i>family name</i
                ><span class="angle">&rangle;</span
                ><span class="verb">/.deactivate family}</span>.
              </p>
            </ul>
          </div>

          <div class="manualentry">
            <ul class="list" style="list-style-type: none">
              <div class="entryheadline">
                <li>
                  <p>
                    <a id="pgf.back/pgfkeysactivatefamilies"></a>
                    <span class="hl-def"
                      ><span class="declare"
                        ><kbd>\pgfkeysactivatefamilies</kbd></span
                      >{<span class="angle">&langle;</span><i>family list</i
                      ><span class="angle">&rangle;</span>}{<span class="angle"
                        >&langle;</span
                      ><i>deactivate macro name</i
                      ><span class="angle">&rangle;</span>}</span
                    >
                    <a
                      class="anchor-link"
                      data-html-link="pgf.back/pgfkeysactivatefamilies"
                      href="#\pgfkeysactivatefamilies"
                      id="\pgfkeysactivatefamilies"
                      >&para;</a
                    >
                  </p>
                </li>
              </div>
              <p>
                Activates each family in <span class="angle">&langle;</span
                ><i>family list</i><span class="angle">&rangle;</span> and
                creates a macro <span class="angle">&langle;</span
                ><i>deactivate macro name</i
                ><span class="angle">&rangle;</span> which deactivates each
                family in <span class="angle">&langle;</span><i>family list</i
                ><span class="angle">&rangle;</span>.
              </p>

              <figure class="example">
                <div class="example-code">
                  <button class="clipboardButton" type="button">copy</button>
                  <code>
                    <span class="codepreamble"
                      >\usepgfkeyslibrary {filtered} </span
                    ><br />
                    <span class="textcolor" style="color: #0000b2"
                      ><a href="pgfkeys#pgf.back/pgfkeysactivatefamilies"
                        >\pgfkeysactivatefamilies</a
                      ></span
                    >{<span class="textcolor" style="color: #000000"
                      >/family</span
                    >
                    <span class="textcolor" style="color: #000000">1</span
                    >,<span class="textcolor" style="color: #000000"
                      >/family</span
                    >
                    <span class="textcolor" style="color: #000000">2</span
                    >,<span class="textcolor" style="color: #000000"
                      >/family</span
                    >
                    <span class="textcolor" style="color: #000000">3</span
                    >}{<span class="textcolor" style="color: #0000b2"
                      >\deactivatename</span
                    >}<br />
                    <span class="textcolor" style="color: #0000b2"
                      ><a href="pgfkeys#pgf.back/pgfkeysfiltered"
                        >\pgfkeysfiltered</a
                      ></span
                    >{<span class="textcolor" style="color: #000000">foo</span
                    >,<span class="textcolor" style="color: #000000">bar</span
                    >}<br />
                    <span class="textcolor" style="color: #0000b2"
                      >\deactivatename</span
                    ><br />
                  </code>
                </div>
              </figure>
              <p></p>
            </ul>
          </div>

          <div class="manualentry">
            <ul class="list" style="list-style-type: none">
              <div class="entryheadline">
                <li>
                  <p>
                    <a id="pgf.back/pgfkeysiffamilydefined"></a>
                    <span class="hl-def"
                      ><span class="declare"
                        ><kbd>\pgfkeysiffamilydefined</kbd></span
                      >{<span class="angle">&langle;</span><i>family</i
                      ><span class="angle">&rangle;</span>}{<span class="angle"
                        >&langle;</span
                      ><i>true case</i
                      ><span class="angle">&rangle;</span>}{<span class="angle"
                        >&langle;</span
                      ><i>false case</i
                      ><span class="angle">&rangle;</span>}</span
                    >
                    <a
                      class="anchor-link"
                      data-html-link="pgf.back/pgfkeysiffamilydefined"
                      href="#\pgfkeysiffamilydefined"
                      id="\pgfkeysiffamilydefined"
                      >&para;</a
                    >
                  </p>
                </li>
              </div>
              <p>
                Checks whether the full key <span class="angle">&langle;</span
                ><i>family</i><span class="angle">&rangle;</span> is a family
                and executes either <span class="angle">&langle;</span
                ><i>true case</i><span class="angle">&rangle;</span> or
                <span class="angle">&langle;</span><i>false case</i
                ><span class="angle">&rangle;</span>.
              </p>
            </ul>
          </div>

          <div class="manualentry">
            <ul class="list" style="list-style-type: none">
              <div class="entryheadline">
                <li>
                  <p>
                    <a id="pgf.back/pgfkeysisfamilyactive"></a>
                    <span class="hl-def"
                      ><span class="declare"
                        ><kbd>\pgfkeysisfamilyactive</kbd></span
                      >{<span class="angle">&langle;</span><i>family</i
                      ><span class="angle">&rangle;</span>}</span
                    >
                    <a
                      class="anchor-link"
                      data-html-link="pgf.back/pgfkeysisfamilyactive"
                      href="#\pgfkeysisfamilyactive"
                      id="\pgfkeysisfamilyactive"
                      >&para;</a
                    >
                  </p>
                </li>
              </div>
              <p>
                Sets the
                <span class="latexlogofont"
                  ><span class="latexlogo"
                    >T<span class="latexlogosub">e</span>X</span
                  ></span
                >-boolean <span class="verb">\ifpgfkeysfiltercontinue</span> to
                whether <span class="angle">&langle;</span><i>family</i
                ><span class="angle">&rangle;</span> is active or not.
              </p>
            </ul>
          </div>

          <div class="manualentry">
            <ul class="list" style="list-style-type: none">
              <div class="entryheadline">
                <li>
                  <p>
                    <a id="pgf.back/pgfkeysgetfamily"></a>
                    <span class="hl-def"
                      ><span class="declare"><kbd>\pgfkeysgetfamily</kbd></span
                      >{<span class="angle">&langle;</span><i>full key</i
                      ><span class="angle">&rangle;</span>}{<span class="angle"
                        >&langle;</span
                      ><i>resultmacro</i
                      ><span class="angle">&rangle;</span>}</span
                    >
                    <a
                      class="anchor-link"
                      data-html-link="pgf.back/pgfkeysgetfamily"
                      href="#\pgfkeysgetfamily"
                      id="\pgfkeysgetfamily"
                      >&para;</a
                    >
                  </p>
                </li>
              </div>
              <p>
                Returns the family associated to a
                <span class="angle">&langle;</span><i>full key</i
                ><span class="angle">&rangle;</span> into macro
                <span class="angle">&langle;</span><i>resultmacro</i
                ><span class="angle">&rangle;</span>.
              </p>
            </ul>
          </div>

          <div class="manualentry">
            <ul class="list" style="list-style-type: none">
              <div class="entryheadline">
                <li>
                  <p>
                    <a id="pgf.back/pgfkeyssetfamily"></a>
                    <span class="hl-def"
                      ><span class="declare"><kbd>\pgfkeyssetfamily</kbd></span
                      >{<span class="angle">&langle;</span><i>full key</i
                      ><span class="angle">&rangle;</span>}{<span class="angle"
                        >&langle;</span
                      ><i>family</i><span class="angle">&rangle;</span>}</span
                    >
                    <a
                      class="anchor-link"
                      data-html-link="pgf.back/pgfkeyssetfamily"
                      href="#\pgfkeyssetfamily"
                      id="\pgfkeyssetfamily"
                      >&para;</a
                    >
                  </p>
                </li>
              </div>
              <p>
                The command <span class="verb">\pgfkeyssetfamily</span>{<span
                  class="angle"
                  >&langle;</span
                ><i>full key</i><span class="angle">&rangle;</span>}{<span
                  class="angle"
                  >&langle;</span
                ><i>family</i><span class="angle">&rangle;</span>} has the same
                effect as <span class="verb">\pgfkeys{</span
                ><span class="angle">&langle;</span><i>full key</i
                ><span class="angle">&rangle;</span
                ><span class="verb">/.belongs to family=</span>{<span
                  class="angle"
                  >&langle;</span
                ><i>family</i><span class="angle">&rangle;</span>}<span
                  class="verb"
                  >}</span
                >.
              </p>
            </ul>
          </div>
          <h6 id="autosec-7568">
            <a id="section-key-writing-filters"></a
            ><span
              ><span class="sectionnumber" id="sec-87.6.7">87.6.7</span>
              Defining Own Filters Or Filter Handlers</span
            ><a
              class="anchor-link"
              data-html-link="sec-87.6.7"
              data-pdf-destination="subsubsection.87.6.7"
              data-pdf-page="1001"
              href="#sec-87.6.7"
              >&para;</a
            >
          </h6>
          <a id="pgfmanual-autopage-7568"></a>

          <p>
            During <span class="verb">\pgfkeysfiltered</span>, the key filter
            code will be invoked. At this time, the full key path including key
            name is available as <span class="verb">\pgfkeyscurrentkey</span>,
            the key name before default paths have been considered as
            <span class="verb">\pgfkeyscurrentkeyRAW</span> and the values as
            <span class="verb">\pgfkeyscurrentvalue</span>.
          </p>

          <p>
            Furthermore, the macro
            <span class="verb">\pgfkeyscasenumber</span> contains the current
            key&rsquo;s type as an integer:
          </p>
          <ul class="itemize" style="list-style-type: none">
            <li>
              <p>
                <span class="listmarker"
                  ><span class="angle">&langle;</span><i>1</i
                  ><span class="angle">&rangle;</span></span
                >
                The key is a command key (i.e.
                <span class="verb">.../.@cmd</span> exists).
              </p>
            </li>
            <li>
              <p>
                <span class="listmarker"
                  ><span class="angle">&langle;</span><i>2</i
                  ><span class="angle">&rangle;</span></span
                >
                The key contains its value directly.
              </p>
            </li>
            <li>
              <p>
                <span class="listmarker"
                  ><span class="angle">&langle;</span><i>3</i
                  ><span class="angle">&rangle;</span></span
                >
                The key is handled (for example it is
                <span class="verb">.code</span> or
                <span class="verb">.cd</span>).
              </p>
              <p>
                In this case, the macros
                <span class="verb">\pgfkeyscurrentname</span> and
                <span class="verb">\pgfkeyscurrentpath</span> are set to the
                handlers name and path, respectively. Invoke
                <span class="verb">\pgfkeyssplitpath{}</span> to extract these
                values for non-handled keys.
              </p>
            </li>
            <li>
              <p>
                <span class="listmarker"
                  ><span class="angle">&langle;</span><i>0</i
                  ><span class="angle">&rangle;</span></span
                >
                The key is unknown.
              </p>
            </li>
          </ul>

          <p>
            Any key filter or key filter handler can access these variables. Key
            filters are expected to set the
            <span class="latexlogofont"
              ><span class="latexlogo"
                >T<span class="latexlogosub">e</span>X</span
              ></span
            >-boolean <span class="verb">\ifpgfkeysfiltercontinue</span> to
            whether the current key shall be processed or not.
          </p>

          <div class="manualentry">
            <ul class="list" style="list-style-type: none">
              <div class="entryheadline">
                <li>
                  <p>
                    <a id="pgf.back/pgfkeysevalkeyfilterwith"></a>
                    <span class="hl-def"
                      ><span class="declare"
                        ><kbd>\pgfkeysevalkeyfilterwith</kbd></span
                      >{<span class="angle">&langle;</span><i>full key</i
                      ><span class="angle">&rangle;</span>}={<span class="angle"
                        >&langle;</span
                      ><i>filter arguments</i
                      ><span class="angle">&rangle;</span>}</span
                    >
                    <a
                      class="anchor-link"
                      data-html-link="pgf.back/pgfkeysevalkeyfilterwith"
                      href="#\pgfkeysevalkeyfilterwith"
                      id="\pgfkeysevalkeyfilterwith"
                      >&para;</a
                    >
                  </p>
                </li>
              </div>
              <p>
                Evaluates a fully qualified key filter
                <span class="angle">&langle;</span><i>full key</i
                ><span class="angle">&rangle;</span> with argument(s)
                <span class="angle">&langle;</span><i>filter arguments</i
                ><span class="angle">&rangle;</span>.
              </p>

              <figure class="example">
                <div class="example-code">
                  <button class="clipboardButton" type="button">copy</button>
                  <code>
                    <span class="codepreamble"
                      >\usepgfkeyslibrary {filtered} </span
                    ><br />
                    <span class="textcolor" style="color: #0000b2"
                      ><a href="pgfkeys#pgf.back/pgfkeysevalkeyfilterwith"
                        >\pgfkeysevalkeyfilterwith</a
                      ></span
                    >{<span class="textcolor" style="color: #000000"
                      >/pgf/key</span
                    >
                    <span class="textcolor" style="color: #000000"
                      >filters/equals=/tikz</span
                    >}<br />
                  </code>
                </div>
              </figure>
              <p></p>
            </ul>
          </div>
        </section>
      </main>

      <footer>
        <div class="footer-left">
          <a href="/license">License</a> &middot;
          <a href="https://ctan.org/pkg/pgf">CTAN</a> &middot;
          <a href="https://pgf-tikz.github.io/pgf/pgfmanual.pdf"
            >Official PDF version</a
          >
          &middot;
          <a href="https://github.com/DominikPeters/tikz.dev-issues/issues"
            >Feedback and issues</a
          >
          &middot;
          <a href="https://github.com/DominikPeters/pgf-tikz-html-manual"
            >About this HTML version</a
          >
        </div>
        <div class="footer-right">
          <em>HTML version last updated: 2024-03-21</em>
        </div>
      </footer>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/@docsearch/js@3"></script>
    <script>
      docsearch({
        apiKey: "196e8c10ec187c9ae525dd5226fb9378",
        indexName: "tikz",
        appId: "JS6V5VZSDB",
        container: "#search",
        searchParameters: {
          filters: "tags:tikz",
        },
      });
    </script>
  </body>
</html>
