<!doctype html>
<html lang="en-US">
  <!--TikZ/PGF documentation:
Copyright 2019 by Till Tantau

This file may be distributed and/or modified

1. under the LaTeX Project Public License and/or
2. under the GNU Free Documentation License.

See https://tikz.dev/license for more details.

Translated to HTML using the lwarp package:
Copyright 2016-2024 Brian Dunn - BD Tech Concepts LLC

tikz.dev:
Copyright 2021-2024 Dominik Peters
This file may be distributed and/or modified under the LaTeX Project Public License.--><head>
    <meta charset="utf-8" />
    <meta content="LaTeX Lwarp package" name="generator" />
    <meta content="width=device-width, initial-scale=1.0" name="viewport" />
    <title>
      Coordinate, Canvas, and Nonlinear Transformations - PGF/TikZ Manual
    </title>
    <link href="style.css?v=20240321" rel="stylesheet" type="text/css" />

    <script
      async
      id="MathJax-script"
      src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"
    ></script>

    <script src="pgfmanual.js?v=20240321"></script>

    <script type="application/ld+json">
      {
        "@context": "https://schema.org",
        "@type": "BreadcrumbList",
        "itemListElement": [
          {
            "@type": "ListItem",
            "position": 1,
            "name": "The Basic Layer",
            "item": "https://tikz.dev/base"
          },
          {
            "@type": "ListItem",
            "position": 2,
            "name": "Coordinate, Canvas, and Nonlinear Transformations",
            "item": "https://tikz.dev/base-transformations"
          }
        ]
      }
    </script>
    <script async src="lwarp-mathjax-emulation.js"></script>
    <link
      href="https://cdn.jsdelivr.net/npm/@docsearch/css@3"
      rel="stylesheet"
    />
    <link href="/favicon-16x16.png" rel="icon" sizes="16x16" type="image/png" />
    <link href="/favicon-32x32.png" rel="icon" sizes="32x32" type="image/png" />
    <link
      href="/apple-touch-icon.png"
      rel="apple-touch-icon"
      sizes="180x180"
      type="image/png"
    />
    <link href="/site.webmanifest" rel="manifest" />
    <link href="https://tikz.dev/base-transformations" rel="canonical" />
    <meta content="https://tikz.dev/base-transformations" property="og:url" />
    <meta content="article" property="og:type" />
    <meta
      content="Coordinate, Canvas, and Nonlinear Transformations - PGF/TikZ Manual"
      property="og:title"
    />
    <meta content="summary" name="twitter:card" />
  </head>
  <body>
    <a id="pgfmanual-autopage-8222"></a>

    <div class="bodyandsidetoc grid-container">
      <header>
        <div id="hamburger-button">â˜°</div>
        <strong
          ><a href="/">PGF/<span class="tikzname">TikZ</span> Manual</a></strong
        >
        <div id="search"></div>
      </header>
      <div class="sidetoccontainer" id="local-toc-container">
        <nav class="sidetoc">
          <div class="sidetoctitle"><p>On this page</p></div>
          <div class="sidetoccontents">
            <p><a class="tocsubsection" href="#sec-108.1">Overview</a></p>
            <p>
              <a class="tocsubsection" href="#sec-108.2"
                >Coordinate Transformations</a
              >
            </p>
            <p>
              <a class="tocsubsubsection" href="#sec-108.2.1"
                >How PGF Keeps Track of the Coordinate Transformation Matrix</a
              >
            </p>
            <p>
              <a class="tocsubsubsection" href="#sec-108.2.2"
                >Commands for Relative Coordinate Transformations</a
              >
            </p>
            <p>
              <a class="tocsubsubsection" href="#sec-108.2.3"
                >Commands for Absolute Coordinate Transformations</a
              >
            </p>
            <p>
              <a class="tocsubsubsection" href="#sec-108.2.4"
                >Saving and Restoring the Coordinate Transformation Matrix</a
              >
            </p>
            <p>
              <a class="tocsubsubsection" href="#sec-108.2.5"
                >Applying Coordinate Transformation to Points</a
              >
            </p>
            <p>
              <a class="tocsubsubsection" href="#sec-108.2.6"
                >Computing Adjustments for Coordinate Transformations</a
              >
            </p>
            <p>
              <a class="tocsubsection" href="#sec-108.3"
                >Canvas Transformations</a
              >
            </p>
            <p>
              <a class="tocsubsubsection" href="#sec-108.3.1"
                >Applying General Canvas Transformations</a
              >
            </p>
            <p>
              <a class="tocsubsubsection" href="#sec-108.3.2"
                >Establishing View Boxes</a
              >
            </p>
            <p>
              <a class="tocsubsection" href="#sec-108.4"
                >Nonlinear Transformations</a
              >
            </p>
            <p>
              <a class="tocsubsubsection" href="#sec-108.4.1">Introduction</a>
            </p>
            <p>
              <a class="tocsubsubsection" href="#sec-108.4.2"
                >Installing Nonlinear Transformation</a
              >
            </p>
            <p>
              <a class="tocsubsubsection" href="#sec-108.4.3"
                >Applying Nonlinear Transformations to Points</a
              >
            </p>
            <p>
              <a class="tocsubsubsection" href="#sec-108.4.4"
                >Applying Nonlinear Transformations to Paths</a
              >
            </p>
            <p>
              <a class="tocsubsubsection" href="#sec-108.4.5"
                >Applying Nonlinear Transformations to Text</a
              >
            </p>
            <p>
              <a class="tocsubsubsection" href="#sec-108.4.6"
                >Approximating Nonlinear Transformations Using Linear
                Transformations</a
              >
            </p>
            <p>
              <a class="tocsubsubsection" href="#sec-108.4.7"
                >Nonlinear Transformation Libraries</a
              >
            </p>
          </div>
        </nav>
      </div>
      <div class="sidetoccontainer" id="chapter-toc-container">
        <nav class="sidetoc">
          <div class="sidetoctitle">
            <p>
              <span class="sidetocthetitle"
                >The <span class="tikzname">TikZ</span> and PGF Packages<br />
                Manual for version 3.1.10</span
              >
            </p>

            <p>Contents</p>
          </div>

          <div class="sidetoccontents">
            <p></p>

            <p>
              <a class="linkintro" href="/">Introduction</a>
            </p>

            <p>
              <a class="tocpart" href="tutorials-guidelines"
                >Tutorials and Guidelines</a
              >
            </p>

            <p>
              <a class="tocpart" href="install"
                >Installation and Configuration</a
              >
            </p>

            <p>
              <a class="tocpart" href="tikz">Ti<em>k</em>Z</a>
            </p>

            <p>
              <a class="tocpart" href="gd">Graph Drawing</a>
            </p>

            <p>
              <a class="tocpart" href="libraries">Libraries</a>
            </p>

            <p>
              <a class="tocpart" href="dv">Data Visualization</a>
            </p>

            <p>
              <a class="tocpart" href="utilities">Utilities</a>
            </p>

            <p>
              <a class="tocpart" href="math"
                >Mathematical and Object-Oriented Engines</a
              >
            </p>

            <p class="current-part">
              <a class="tocpart" href="base">The Basic Layer</a>
            </p>

            <p class="current-part">
              <a class="tocsection" href="base-design">Design Principles</a>
            </p>

            <p class="current-part">
              <a class="tocsection" href="base-scopes"
                >Hierarchical Structures: Package, Environments, Scopes, and
                Text</a
              >
            </p>

            <p class="current-part">
              <a class="tocsection" href="base-points"
                >Specifying Coordinates</a
              >
            </p>

            <p class="current-part">
              <a class="tocsection" href="base-paths">Constructing Paths</a>
            </p>

            <p class="current-part">
              <a class="tocsection" href="base-decorations">Decorations</a>
            </p>

            <p class="current-part">
              <a class="tocsection" href="base-actions">Using Paths</a>
            </p>

            <p class="current-part">
              <a class="tocsection" href="base-arrows"
                >Defining New Arrow Tip Kinds</a
              >
            </p>

            <p class="current-part">
              <a class="tocsection" href="base-nodes">Nodes and Shapes</a>
            </p>

            <p class="current-part">
              <a class="tocsection" href="base-matrices">Matrices</a>
            </p>

            <p class="current current-part">
              <a class="tocsection" href="base-transformations"
                >Coordinate, Canvas, and Nonlinear Transformations</a
              >
            </p>

            <p class="current-part">
              <a class="tocsection" href="base-patterns">Patterns</a>
            </p>

            <p class="current-part">
              <a class="tocsection" href="base-images"
                >Declaring and Using Images</a
              >
            </p>

            <p class="current-part">
              <a class="tocsection" href="base-external"
                >Externalizing Graphics</a
              >
            </p>

            <p class="current-part">
              <a class="tocsection" href="base-plots">Creating Plots</a>
            </p>

            <p class="current-part">
              <a class="tocsection" href="base-layers">Layered Graphics</a>
            </p>

            <p class="current-part">
              <a class="tocsection" href="base-shadings">Shadings</a>
            </p>

            <p class="current-part">
              <a class="tocsection" href="base-transparency">Transparency</a>
            </p>

            <p class="current-part">
              <a class="tocsection" href="base-animations">Animations</a>
            </p>

            <p class="current-part">
              <a class="tocsection" href="base-internalregisters"
                >Adding libraries to <span class="textsc">pgf</span>: temporary
                registers</a
              >
            </p>

            <p class="current-part">
              <a class="tocsection" href="base-quick">Quick Commands</a>
            </p>

            <p>
              <a class="tocpart" href="pgfsys">The System Layer</a>
            </p>
          </div>
        </nav>
      </div>

      <main class="bodycontainer">
        <section class="textbody">
          <h1>
            The <span class="tikzname">TikZ</span> and PGF Packages<br />
            Manual for version 3.1.10
          </h1>
          <h2 class="inserted">The Basic Layer</h2>

          <!--MathJax customizations:-->

          <p></p>
          <h4 id="autosec-8223">
            <span
              ><span class="sectionnumber" id="sec-108">108</span> Coordinate,
              Canvas, and Nonlinear Transformations</span
            ><a
              class="anchor-link"
              data-pdf-destination="section.108"
              data-pdf-page="1156"
              href="#sec-108"
              >&para;</a
            >
          </h4>
          <a id="pgfmanual-autopage-8223"></a>
          <a id="pgfmanual-autofile-117"></a>
          <h5 id="autosec-8224">
            <span
              ><span class="sectionnumber" id="sec-108.1">108.1</span>
              Overview</span
            ><a
              class="anchor-link"
              data-html-link="sec-108.1"
              data-pdf-destination="subsection.108.1"
              data-pdf-page="1156"
              href="#sec-108.1"
              >&para;</a
            >
          </h5>
          <a id="pgfmanual-autopage-8224"></a>

          <p>
            <span class="textsc">pgf</span> offers different ways of scaling,
            shifting, and rotating (these operations are generally known as
            <em>transformations</em>) graphics: You can apply
            <em>coordinate transformations</em> to all coordinates, you can
            apply <em>canvas transformations</em> to the canvas on which you
            draw, and you can apply
            <em>additional nonlinear transformations</em>. (The names
            &ldquo;coordinate&rdquo; and &ldquo;canvas&rdquo; transformations
            are not standard, I introduce them only for the purposes of this
            manual.)
          </p>

          <p>The differences are the following:</p>
          <ul class="itemize" style="list-style-type: none">
            <li>
              <p>
                <span class="listmarker">&bull;</span> As the name
                &ldquo;coordinate transformation&rdquo; suggests, coordinate
                transformations apply only to coordinates. For example, when you
                specify a coordinate like
                <span class="verb">\pgfpoint{1cm}{2cm}</span> and you wish to
                &ldquo;use&rdquo; this coordinate &ndash; for example as an
                argument to a <span class="verb">\pgfpathmoveto</span> command
                &ndash; then the coordinate transformation matrix is applied to
                the coordinate, resulting in a new coordinate. Continuing the
                example, if the current coordinate transformation is
                &ldquo;scale by a factor of two&rdquo;, the coordinate
                <span class="verb">\pgfpoint{1cm}{2cm}</span> actually
                designates the point \((2\mathrm {cm},4\mathrm {cm})\).
              </p>
              <p>
                Note that coordinate transformations apply <em>only</em> to
                coordinates. They do not apply to, say, line width or shadings
                or text.
              </p>
            </li>
            <li>
              <p>
                <span class="listmarker">&bull;</span> The effect of a
                &ldquo;canvas transformation&rdquo; like &ldquo;scale by a
                factor of two&rdquo; can be imagined as follows: You first draw
                your picture on a &ldquo;rubber canvas&rdquo; normally. Then,
                once you are done, the whole canvas is transformed, in this case
                stretched by a factor of two. In the resulting image
                <em>everything</em> will be larger: Text, lines, coordinates,
                and shadings.
              </p>
            </li>
            <li>
              <p>
                <span class="listmarker">&bull;</span> Nonlinear transformations
                are a special form of coordinate transformations that are, as
                the name suggests, not linear. The support for nonlinear
                transformations is quite different from the support for linear
                coordinate transformations, the main reason being speed: While
                linear coordinate transformations can be applied very quickly
                (<span class="textsc">pgf</span> does so almost constantly),
                nonlinear transformations are much harder to apply and also to
                use. For this reason, nonlinear transformations are implemented
                in a special module
                <span class="verb">nonlineartransformations</span> that has to
                be loaded explicitly. By default, they are not available.
              </p>
            </li>
          </ul>

          <p>
            In many cases, it is preferable that you use coordinate
            transformations and not canvas transformations. When canvas
            transformations are used, <span class="textsc">pgf</span> looses
            track of the coordinates of nodes and shapes. Also, canvas
            transformations often cause undesirable effects like changing text
            size. For these reasons, <span class="textsc">pgf</span> makes it
            easy to setup the coordinate transformation, but a bit harder to
            change the canvas transformation. Because of the speed penalties
            caused by nonlinear transformations, they are even harder to set up.
          </p>
          <h5 id="autosec-8225">
            <a id="section-linear-coordinate-transformations"></a
            ><span
              ><span class="sectionnumber" id="sec-108.2">108.2</span>
              Coordinate Transformations</span
            ><a
              class="anchor-link"
              data-html-link="sec-108.2"
              data-pdf-destination="subsection.108.2"
              data-pdf-page="1156"
              href="#sec-108.2"
              >&para;</a
            >
          </h5>
          <a id="pgfmanual-autopage-8225"></a>

          <h6 id="autosec-8226">
            <a id="section-transform-cm"></a
            ><span
              ><span class="sectionnumber" id="sec-108.2.1">108.2.1</span> How
              PGF Keeps Track of the Coordinate Transformation Matrix</span
            ><a
              class="anchor-link"
              data-html-link="sec-108.2.1"
              data-pdf-destination="subsubsection.108.2.1"
              data-pdf-page="1156"
              href="#sec-108.2.1"
              >&para;</a
            >
          </h6>
          <a id="pgfmanual-autopage-8226"></a>

          <p>
            <span class="textsc">pgf</span> has an internal coordinate
            transformation matrix. This matrix is applied to coordinates
            &ldquo;in certain situations&rdquo;. This means that the matrix is
            not always applied to every coordinate &ldquo;no matter what&rdquo;.
            Rather, <span class="textsc">pgf</span> tries to be reasonably smart
            at when and how this matrix should be applied. The most prominent
            examples are the path construction commands, which apply the
            coordinate transformation matrix to their inputs.
          </p>

          <p>
            The coordinate transformation matrix consists of four numbers \(a\),
            \(b\), \(c\), and \(d\), and two dimensions \(s\) and \(t\). When
            the coordinate transformation matrix is applied to a coordinate
            \((x,y)\), the new coordinate \((ax+cy+s,bx+dy+t)\) results. For
            more details on how transformation matrices work in general, please
            see, for example, the <span class="textsc">pdf</span> or PostScript
            reference or a textbook on computer graphics.
          </p>

          <p>
            The coordinate transformation matrix is equal to the identity matrix
            at the beginning. More precisely, \(a=1\), \(b=0\), \(c=0\),
            \(d=1\), \(s=0\mathrm {pt}\), and \(t=0\mathrm {pt}\).
          </p>

          <p>
            The different coordinate transformation commands will modify the
            matrix by concatenating it with another transformation matrix. This
            way the effect of applying several transformation commands will
            <em>accumulate</em>.
          </p>

          <p>
            The coordinate transformation matrix is local to the current
            <span class="latexlogofont"
              ><span class="latexlogo"
                >T<span class="latexlogosub">e</span>X</span
              ></span
            >
            group (unlike the canvas transformation matrix, which is local to
            the current <span class="verb">{pgfscope}</span>). Thus, the effect
            of adding a coordinate transformation to the coordinate
            transformation matrix will last only till the end of the current
            <span class="latexlogofont"
              ><span class="latexlogo"
                >T<span class="latexlogosub">e</span>X</span
              ></span
            >
            group.
          </p>
          <h6 id="autosec-8227">
            <span
              ><span class="sectionnumber" id="sec-108.2.2">108.2.2</span>
              Commands for Relative Coordinate Transformations</span
            ><a
              class="anchor-link"
              data-html-link="sec-108.2.2"
              data-pdf-destination="subsubsection.108.2.2"
              data-pdf-page="1157"
              href="#sec-108.2.2"
              >&para;</a
            >
          </h6>
          <a id="pgfmanual-autopage-8227"></a>

          <p>
            The following commands add a basic coordinate transformation to the
            current coordinate transformation matrix. For all commands, the
            transformation is applied <em>in addition</em> to any previous
            coordinate transformations.
          </p>

          <div class="manualentry">
            <ul class="list" style="list-style-type: none">
              <div class="entryheadline">
                <li>
                  <p>
                    <a id="pgf.back/pgftransformshift"></a>
                    <span class="hl-def"
                      ><span class="declare"><kbd>\pgftransformshift</kbd></span
                      >{<span class="angle">&langle;</span><i>point</i
                      ><span class="angle">&rangle;</span>}</span
                    >
                    <a
                      class="anchor-link"
                      data-html-link="pgf.back/pgftransformshift"
                      href="#\pgftransformshift"
                      id="\pgftransformshift"
                      >&para;</a
                    >
                  </p>
                </li>
              </div>
              <p>
                Shifts coordinates by <span class="angle">&langle;</span
                ><i>point</i><span class="angle">&rangle;</span>.
              </p>

              <figure class="example">
                <div class="example-image">
                  <p>
                    <span
                      class="lateximagesource"
                      id="lateximage-pgfmanual-3303"
                      ><!--
--><img
                        alt="(-tikz-&nbsp;diagram)"
                        class="lateximage"
                        height="79.490"
                        loading="lazy"
                        src="pgfmanual-images/image-3303.png"
                        style
                        width="117.554"
                    /></span>
                  </p>
                </div>

                <div class="example-code">
                  <button class="clipboardButton" type="button">copy</button>
                  <code>
                    <br />
                    <span class="textcolor" style="color: #000000">\begin</span
                    >{<span class="textcolor" style="color: #0000b2"
                      ><a href="tikz-scopes#pgf.tikzpicture"
                        >tikzpicture</a
                      ></span
                    >}<br />
                    <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                      ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                    >[<span class="textcolor" style="color: #008000"
                      ><a href="tikz-paths#pgf.help:lines">help lines</a></span
                    >] <span class="textcolor" style="color: #800080"
                      >(0,0)</span
                    > <span class="textcolor" style="color: #000000"
                      ><a href="tikz-paths#pgf.grid">grid</a></span
                    >
                    <span class="textcolor" style="color: #800080">(3,2)</span
                    >;<br />
                    <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                      ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                    ><span class="spaces">      </span><span
                      class="textcolor"
                      style="color: #800080"
                      >(0,0)</span
                    > <span class="textcolor" style="color: #000000"
                      ><a href="tikz-paths#pgf.--">--</a></span
                    >
                    <span class="textcolor" style="color: #800080">(2,1)</span
                    > <span class="textcolor" style="color: #000000"
                      ><a href="tikz-paths#pgf.--">--</a></span
                    >
                    <span class="textcolor" style="color: #800080">(1,0)</span
                    >;<br />
                    <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                      ><a href="base-transformations#pgf.back/pgftransformshift"
                        >\pgftransformshift</a
                      ></span
                    >{<span class="textcolor" style="color: #0000b2"
                      ><a href="base-points#pgf.back/pgfpoint"
                        >\pgfpoint</a
                      ></span
                    >{<span class="textcolor" style="color: #000000">1cm</span
                    >}{<span class="textcolor" style="color: #000000">1cm</span
                    >}}<br />
                    <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                      ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                    >[<span class="textcolor" style="color: #008000">red</span
                    >] <span class="textcolor" style="color: #800080"
                      >(0,0)</span
                    > <span class="textcolor" style="color: #000000"
                      ><a href="tikz-paths#pgf.--">--</a></span
                    >
                    <span class="textcolor" style="color: #800080">(2,1)</span
                    > <span class="textcolor" style="color: #000000"
                      ><a href="tikz-paths#pgf.--">--</a></span
                    >
                    <span class="textcolor" style="color: #800080">(1,0)</span
                    >;<br />
                    <span class="textcolor" style="color: #000000">\end</span
                    >{<span class="textcolor" style="color: #0000b2"
                      ><a href="tikz-scopes#pgf.tikzpicture"
                        >tikzpicture</a
                      ></span
                    >}<br />
                  </code>
                </div>
              </figure>
            </ul>
          </div>

          <div class="manualentry">
            <ul class="list" style="list-style-type: none">
              <div class="entryheadline">
                <li>
                  <p>
                    <a id="pgf.back/pgftransformxshift"></a>
                    <span class="hl-def"
                      ><span class="declare"
                        ><kbd>\pgftransformxshift</kbd></span
                      >{<span class="angle">&langle;</span><i>dimensions</i
                      ><span class="angle">&rangle;</span>}</span
                    >
                    <a
                      class="anchor-link"
                      data-html-link="pgf.back/pgftransformxshift"
                      href="#\pgftransformxshift"
                      id="\pgftransformxshift"
                      >&para;</a
                    >
                  </p>
                </li>
              </div>
              <p>
                Shifts coordinates by <span class="angle">&langle;</span
                ><i>dimension</i><span class="angle">&rangle;</span> along the
                \(x\)-axis.
              </p>

              <figure class="example">
                <div class="example-image">
                  <p>
                    <span
                      class="lateximagesource"
                      id="lateximage-pgfmanual-3304"
                      ><!--
--><img
                        alt="(-tikz-&nbsp;diagram)"
                        class="lateximage"
                        height="78.650"
                        loading="lazy"
                        src="pgfmanual-images/image-3304.png"
                        style
                        width="116.330"
                    /></span>
                  </p>
                </div>

                <div class="example-code">
                  <button class="clipboardButton" type="button">copy</button>
                  <code>
                    <br />
                    <span class="textcolor" style="color: #000000">\begin</span
                    >{<span class="textcolor" style="color: #0000b2"
                      ><a href="tikz-scopes#pgf.tikzpicture"
                        >tikzpicture</a
                      ></span
                    >}<br />
                    <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                      ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                    >[<span class="textcolor" style="color: #008000"
                      ><a href="tikz-paths#pgf.help:lines">help lines</a></span
                    >] <span class="textcolor" style="color: #800080"
                      >(0,0)</span
                    > <span class="textcolor" style="color: #000000"
                      ><a href="tikz-paths#pgf.grid">grid</a></span
                    >
                    <span class="textcolor" style="color: #800080">(3,2)</span
                    >;<br />
                    <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                      ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                    ><span class="spaces">      </span><span
                      class="textcolor"
                      style="color: #800080"
                      >(0,0)</span
                    > <span class="textcolor" style="color: #000000"
                      ><a href="tikz-paths#pgf.--">--</a></span
                    >
                    <span class="textcolor" style="color: #800080">(2,1)</span
                    > <span class="textcolor" style="color: #000000"
                      ><a href="tikz-paths#pgf.--">--</a></span
                    >
                    <span class="textcolor" style="color: #800080">(1,0)</span
                    >;<br />
                    <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                      ><a
                        href="base-transformations#pgf.back/pgftransformxshift"
                        >\pgftransformxshift</a
                      ></span
                    >{.<span class="textcolor" style="color: #000000">5cm</span
                    >}<br />
                    <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                      ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                    >[<span class="textcolor" style="color: #008000">red</span
                    >] <span class="textcolor" style="color: #800080"
                      >(0,0)</span
                    > <span class="textcolor" style="color: #000000"
                      ><a href="tikz-paths#pgf.--">--</a></span
                    >
                    <span class="textcolor" style="color: #800080">(2,1)</span
                    > <span class="textcolor" style="color: #000000"
                      ><a href="tikz-paths#pgf.--">--</a></span
                    >
                    <span class="textcolor" style="color: #800080">(1,0)</span
                    >;<br />
                    <span class="textcolor" style="color: #000000">\end</span
                    >{<span class="textcolor" style="color: #0000b2"
                      ><a href="tikz-scopes#pgf.tikzpicture"
                        >tikzpicture</a
                      ></span
                    >}<br />
                  </code>
                </div>
              </figure>
            </ul>
          </div>

          <div class="manualentry">
            <ul class="list" style="list-style-type: none">
              <div class="entryheadline">
                <li>
                  <p>
                    <a id="pgf.back/pgftransformyshift"></a>
                    <span class="hl-def"
                      ><span class="declare"
                        ><kbd>\pgftransformyshift</kbd></span
                      >{<span class="angle">&langle;</span><i>dimensions</i
                      ><span class="angle">&rangle;</span>}</span
                    >
                    <a
                      class="anchor-link"
                      data-html-link="pgf.back/pgftransformyshift"
                      href="#\pgftransformyshift"
                      id="\pgftransformyshift"
                      >&para;</a
                    >
                  </p>
                </li>
              </div>
              <p>
                Like <span class="verb">\pgftransformxshift</span>, only for the
                \(y\)-axis.
              </p>
            </ul>
          </div>

          <div class="manualentry">
            <ul class="list" style="list-style-type: none">
              <div class="entryheadline">
                <li>
                  <p>
                    <a id="pgf.back/pgftransformscale"></a>
                    <span class="hl-def"
                      ><span class="declare"><kbd>\pgftransformscale</kbd></span
                      >{<span class="angle">&langle;</span><i>factor</i
                      ><span class="angle">&rangle;</span>}</span
                    >
                    <a
                      class="anchor-link"
                      data-html-link="pgf.back/pgftransformscale"
                      href="#\pgftransformscale"
                      id="\pgftransformscale"
                      >&para;</a
                    >
                  </p>
                </li>
              </div>
              <p>
                Scales coordinates by <span class="angle">&langle;</span
                ><i>factor</i><span class="angle">&rangle;</span>.
              </p>

              <figure class="example">
                <div class="example-image">
                  <p>
                    <span
                      class="lateximagesource"
                      id="lateximage-pgfmanual-3305"
                      ><!--
--><img
                        alt="(-tikz-&nbsp;diagram)"
                        class="lateximage"
                        height="78.650"
                        loading="lazy"
                        src="pgfmanual-images/image-3305.png"
                        style
                        width="116.330"
                    /></span>
                  </p>
                </div>

                <div class="example-code">
                  <button class="clipboardButton" type="button">copy</button>
                  <code>
                    <br />
                    <span class="textcolor" style="color: #000000">\begin</span
                    >{<span class="textcolor" style="color: #0000b2"
                      ><a href="tikz-scopes#pgf.tikzpicture"
                        >tikzpicture</a
                      ></span
                    >}<br />
                    <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                      ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                    >[<span class="textcolor" style="color: #008000"
                      ><a href="tikz-paths#pgf.help:lines">help lines</a></span
                    >] <span class="textcolor" style="color: #800080"
                      >(0,0)</span
                    > <span class="textcolor" style="color: #000000"
                      ><a href="tikz-paths#pgf.grid">grid</a></span
                    >
                    <span class="textcolor" style="color: #800080">(3,2)</span
                    >;<br />
                    <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                      ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                    ><span class="spaces">      </span><span
                      class="textcolor"
                      style="color: #800080"
                      >(0,0)</span
                    > <span class="textcolor" style="color: #000000"
                      ><a href="tikz-paths#pgf.--">--</a></span
                    >
                    <span class="textcolor" style="color: #800080">(2,1)</span
                    > <span class="textcolor" style="color: #000000"
                      ><a href="tikz-paths#pgf.--">--</a></span
                    >
                    <span class="textcolor" style="color: #800080">(1,0)</span
                    >;<br />
                    <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                      ><a href="base-transformations#pgf.back/pgftransformscale"
                        >\pgftransformscale</a
                      ></span
                    >{.<span class="textcolor" style="color: #000000">75</span
                    >}<br />
                    <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                      ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                    >[<span class="textcolor" style="color: #008000">red</span
                    >] <span class="textcolor" style="color: #800080"
                      >(0,0)</span
                    > <span class="textcolor" style="color: #000000"
                      ><a href="tikz-paths#pgf.--">--</a></span
                    >
                    <span class="textcolor" style="color: #800080">(2,1)</span
                    > <span class="textcolor" style="color: #000000"
                      ><a href="tikz-paths#pgf.--">--</a></span
                    >
                    <span class="textcolor" style="color: #800080">(1,0)</span
                    >;<br />
                    <span class="textcolor" style="color: #000000">\end</span
                    >{<span class="textcolor" style="color: #0000b2"
                      ><a href="tikz-scopes#pgf.tikzpicture"
                        >tikzpicture</a
                      ></span
                    >}<br />
                  </code>
                </div>
              </figure>
            </ul>
          </div>

          <div class="manualentry">
            <ul class="list" style="list-style-type: none">
              <div class="entryheadline">
                <li>
                  <p>
                    <a id="pgf.back/pgftransformxscale"></a>
                    <span class="hl-def"
                      ><span class="declare"
                        ><kbd>\pgftransformxscale</kbd></span
                      >{<span class="angle">&langle;</span><i>factor</i
                      ><span class="angle">&rangle;</span>}</span
                    >
                    <a
                      class="anchor-link"
                      data-html-link="pgf.back/pgftransformxscale"
                      href="#\pgftransformxscale"
                      id="\pgftransformxscale"
                      >&para;</a
                    >
                  </p>
                </li>
              </div>
              <p>
                Scales coordinates by <span class="angle">&langle;</span
                ><i>factor</i><span class="angle">&rangle;</span> in the
                \(x\)-direction.
              </p>

              <figure class="example">
                <div class="example-image">
                  <p>
                    <span
                      class="lateximagesource"
                      id="lateximage-pgfmanual-3306"
                      ><!--
--><img
                        alt="(-tikz-&nbsp;diagram)"
                        class="lateximage"
                        height="78.650"
                        loading="lazy"
                        src="pgfmanual-images/image-3306.png"
                        style
                        width="116.354"
                    /></span>
                  </p>
                </div>

                <div class="example-code">
                  <button class="clipboardButton" type="button">copy</button>
                  <code>
                    <br />
                    <span class="textcolor" style="color: #000000">\begin</span
                    >{<span class="textcolor" style="color: #0000b2"
                      ><a href="tikz-scopes#pgf.tikzpicture"
                        >tikzpicture</a
                      ></span
                    >}<br />
                    <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                      ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                    >[<span class="textcolor" style="color: #008000"
                      ><a href="tikz-paths#pgf.help:lines">help lines</a></span
                    >] <span class="textcolor" style="color: #800080"
                      >(0,0)</span
                    > <span class="textcolor" style="color: #000000"
                      ><a href="tikz-paths#pgf.grid">grid</a></span
                    >
                    <span class="textcolor" style="color: #800080">(3,2)</span
                    >;<br />
                    <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                      ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                    ><span class="spaces">      </span><span
                      class="textcolor"
                      style="color: #800080"
                      >(0,0)</span
                    > <span class="textcolor" style="color: #000000"
                      ><a href="tikz-paths#pgf.--">--</a></span
                    >
                    <span class="textcolor" style="color: #800080">(2,1)</span
                    > <span class="textcolor" style="color: #000000"
                      ><a href="tikz-paths#pgf.--">--</a></span
                    >
                    <span class="textcolor" style="color: #800080">(1,0)</span
                    >;<br />
                    <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                      ><a
                        href="base-transformations#pgf.back/pgftransformxscale"
                        >\pgftransformxscale</a
                      ></span
                    >{.<span class="textcolor" style="color: #000000">75</span
                    >}<br />
                    <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                      ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                    >[<span class="textcolor" style="color: #008000">red</span
                    >] <span class="textcolor" style="color: #800080"
                      >(0,0)</span
                    > <span class="textcolor" style="color: #000000"
                      ><a href="tikz-paths#pgf.--">--</a></span
                    >
                    <span class="textcolor" style="color: #800080">(2,1)</span
                    > <span class="textcolor" style="color: #000000"
                      ><a href="tikz-paths#pgf.--">--</a></span
                    >
                    <span class="textcolor" style="color: #800080">(1,0)</span
                    >;<br />
                    <span class="textcolor" style="color: #000000">\end</span
                    >{<span class="textcolor" style="color: #0000b2"
                      ><a href="tikz-scopes#pgf.tikzpicture"
                        >tikzpicture</a
                      ></span
                    >}<br />
                  </code>
                </div>
              </figure>
            </ul>
          </div>

          <div class="manualentry">
            <ul class="list" style="list-style-type: none">
              <div class="entryheadline">
                <li>
                  <p>
                    <a id="pgf.back/pgftransformyscale"></a>
                    <span class="hl-def"
                      ><span class="declare"
                        ><kbd>\pgftransformyscale</kbd></span
                      >{<span class="angle">&langle;</span><i>factor</i
                      ><span class="angle">&rangle;</span>}</span
                    >
                    <a
                      class="anchor-link"
                      data-html-link="pgf.back/pgftransformyscale"
                      href="#\pgftransformyscale"
                      id="\pgftransformyscale"
                      >&para;</a
                    >
                  </p>
                </li>
              </div>
              <p>
                Like <span class="verb">\pgftransformxscale</span>, only for the
                \(y\)-axis.
              </p>
            </ul>
          </div>

          <div class="manualentry">
            <ul class="list" style="list-style-type: none">
              <div class="entryheadline">
                <li>
                  <p>
                    <a id="pgf.back/pgftransformxslant"></a>
                    <span class="hl-def"
                      ><span class="declare"
                        ><kbd>\pgftransformxslant</kbd></span
                      >{<span class="angle">&langle;</span><i>factor</i
                      ><span class="angle">&rangle;</span>}</span
                    >
                    <a
                      class="anchor-link"
                      data-html-link="pgf.back/pgftransformxslant"
                      href="#\pgftransformxslant"
                      id="\pgftransformxslant"
                      >&para;</a
                    >
                  </p>
                </li>
              </div>
              <p>
                Slants coordinates by <span class="angle">&langle;</span
                ><i>factor</i><span class="angle">&rangle;</span> in the
                \(x\)-direction. Here, a factor of
                <span class="verb">1</span> means \(45^\circ \).
              </p>

              <figure class="example">
                <div class="example-image">
                  <p>
                    <span
                      class="lateximagesource"
                      id="lateximage-pgfmanual-3307"
                      ><!--
--><img
                        alt="(-tikz-&nbsp;diagram)"
                        class="lateximage"
                        height="78.650"
                        loading="lazy"
                        src="pgfmanual-images/image-3307.png"
                        style
                        width="116.330"
                    /></span>
                  </p>
                </div>

                <div class="example-code">
                  <button class="clipboardButton" type="button">copy</button>
                  <code>
                    <br />
                    <span class="textcolor" style="color: #000000">\begin</span
                    >{<span class="textcolor" style="color: #0000b2"
                      ><a href="tikz-scopes#pgf.tikzpicture"
                        >tikzpicture</a
                      ></span
                    >}<br />
                    <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                      ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                    >[<span class="textcolor" style="color: #008000"
                      ><a href="tikz-paths#pgf.help:lines">help lines</a></span
                    >] <span class="textcolor" style="color: #800080"
                      >(0,0)</span
                    > <span class="textcolor" style="color: #000000"
                      ><a href="tikz-paths#pgf.grid">grid</a></span
                    >
                    <span class="textcolor" style="color: #800080">(3,2)</span
                    >;<br />
                    <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                      ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                    ><span class="spaces">      </span><span
                      class="textcolor"
                      style="color: #800080"
                      >(0,0)</span
                    > <span class="textcolor" style="color: #000000"
                      ><a href="tikz-paths#pgf.--">--</a></span
                    >
                    <span class="textcolor" style="color: #800080">(2,1)</span
                    > <span class="textcolor" style="color: #000000"
                      ><a href="tikz-paths#pgf.--">--</a></span
                    >
                    <span class="textcolor" style="color: #800080">(1,0)</span
                    >;<br />
                    <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                      ><a
                        href="base-transformations#pgf.back/pgftransformxslant"
                        >\pgftransformxslant</a
                      ></span
                    >{.<span class="textcolor" style="color: #000000">5</span
                    >}<br />
                    <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                      ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                    >[<span class="textcolor" style="color: #008000">red</span
                    >] <span class="textcolor" style="color: #800080"
                      >(0,0)</span
                    > <span class="textcolor" style="color: #000000"
                      ><a href="tikz-paths#pgf.--">--</a></span
                    >
                    <span class="textcolor" style="color: #800080">(2,1)</span
                    > <span class="textcolor" style="color: #000000"
                      ><a href="tikz-paths#pgf.--">--</a></span
                    >
                    <span class="textcolor" style="color: #800080">(1,0)</span
                    >;<br />
                    <span class="textcolor" style="color: #000000">\end</span
                    >{<span class="textcolor" style="color: #0000b2"
                      ><a href="tikz-scopes#pgf.tikzpicture"
                        >tikzpicture</a
                      ></span
                    >}<br />
                  </code>
                </div>
              </figure>
            </ul>
          </div>

          <div class="manualentry">
            <ul class="list" style="list-style-type: none">
              <div class="entryheadline">
                <li>
                  <p>
                    <a id="pgf.back/pgftransformyslant"></a>
                    <span class="hl-def"
                      ><span class="declare"
                        ><kbd>\pgftransformyslant</kbd></span
                      >{<span class="angle">&langle;</span><i>factor</i
                      ><span class="angle">&rangle;</span>}</span
                    >
                    <a
                      class="anchor-link"
                      data-html-link="pgf.back/pgftransformyslant"
                      href="#\pgftransformyslant"
                      id="\pgftransformyslant"
                      >&para;</a
                    >
                  </p>
                </li>
              </div>
              <p>
                Slants coordinates by <span class="angle">&langle;</span
                ><i>factor</i><span class="angle">&rangle;</span> in the
                \(y\)-direction.
              </p>

              <figure class="example">
                <div class="example-image">
                  <p>
                    <span
                      class="lateximagesource"
                      id="lateximage-pgfmanual-3308"
                      ><!--
--><img
                        alt="(-tikz-&nbsp;diagram)"
                        class="lateximage"
                        height="116.474"
                        loading="lazy"
                        src="pgfmanual-images/image-3308.png"
                        style
                        width="116.330"
                    /></span>
                  </p>
                </div>

                <div class="example-code">
                  <button class="clipboardButton" type="button">copy</button>
                  <code>
                    <br />
                    <span class="textcolor" style="color: #000000">\begin</span
                    >{<span class="textcolor" style="color: #0000b2"
                      ><a href="tikz-scopes#pgf.tikzpicture"
                        >tikzpicture</a
                      ></span
                    >}<br />
                    <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                      ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                    >[<span class="textcolor" style="color: #008000"
                      ><a href="tikz-paths#pgf.help:lines">help lines</a></span
                    >] <span class="textcolor" style="color: #800080"
                      >(0,0)</span
                    > <span class="textcolor" style="color: #000000"
                      ><a href="tikz-paths#pgf.grid">grid</a></span
                    >
                    <span class="textcolor" style="color: #800080">(3,2)</span
                    >;<br />
                    <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                      ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                    ><span class="spaces">      </span><span
                      class="textcolor"
                      style="color: #800080"
                      >(0,0)</span
                    > <span class="textcolor" style="color: #000000"
                      ><a href="tikz-paths#pgf.--">--</a></span
                    >
                    <span class="textcolor" style="color: #800080">(2,1)</span
                    > <span class="textcolor" style="color: #000000"
                      ><a href="tikz-paths#pgf.--">--</a></span
                    >
                    <span class="textcolor" style="color: #800080">(1,0)</span
                    >;<br />
                    <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                      ><a
                        href="base-transformations#pgf.back/pgftransformyslant"
                        >\pgftransformyslant</a
                      ></span
                    >{<span class="textcolor" style="color: #000000">-1</span
                    >}<br />
                    <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                      ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                    >[<span class="textcolor" style="color: #008000">red</span
                    >] <span class="textcolor" style="color: #800080"
                      >(0,0)</span
                    > <span class="textcolor" style="color: #000000"
                      ><a href="tikz-paths#pgf.--">--</a></span
                    >
                    <span class="textcolor" style="color: #800080">(2,1)</span
                    > <span class="textcolor" style="color: #000000"
                      ><a href="tikz-paths#pgf.--">--</a></span
                    >
                    <span class="textcolor" style="color: #800080">(1,0)</span
                    >;<br />
                    <span class="textcolor" style="color: #000000">\end</span
                    >{<span class="textcolor" style="color: #0000b2"
                      ><a href="tikz-scopes#pgf.tikzpicture"
                        >tikzpicture</a
                      ></span
                    >}<br />
                  </code>
                </div>
              </figure>
            </ul>
          </div>

          <div class="manualentry">
            <ul class="list" style="list-style-type: none">
              <div class="entryheadline">
                <li>
                  <p>
                    <a id="pgf.back/pgftransformrotate"></a>
                    <span class="hl-def"
                      ><span class="declare"
                        ><kbd>\pgftransformrotate</kbd></span
                      >{<span class="angle">&langle;</span><i>angles</i
                      ><span class="angle">&rangle;</span>}</span
                    >
                    <a
                      class="anchor-link"
                      data-html-link="pgf.back/pgftransformrotate"
                      href="#\pgftransformrotate"
                      id="\pgftransformrotate"
                      >&para;</a
                    >
                  </p>
                </li>
              </div>
              <p>
                Rotates coordinates counterclockwise by
                <span class="angle">&langle;</span><i>angles</i
                ><span class="angle">&rangle;</span> given in degrees.
              </p>

              <figure class="example">
                <div class="example-image">
                  <p>
                    <span
                      class="lateximagesource"
                      id="lateximage-pgfmanual-3309"
                      ><!--
--><img
                        alt="(-tikz-&nbsp;diagram)"
                        class="lateximage"
                        height="78.650"
                        loading="lazy"
                        src="pgfmanual-images/image-3309.png"
                        style
                        width="116.426"
                    /></span>
                  </p>
                </div>

                <div class="example-code">
                  <button class="clipboardButton" type="button">copy</button>
                  <code>
                    <br />
                    <span class="textcolor" style="color: #000000">\begin</span
                    >{<span class="textcolor" style="color: #0000b2"
                      ><a href="tikz-scopes#pgf.tikzpicture"
                        >tikzpicture</a
                      ></span
                    >}<br />
                    <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                      ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                    >[<span class="textcolor" style="color: #008000"
                      ><a href="tikz-paths#pgf.help:lines">help lines</a></span
                    >] <span class="textcolor" style="color: #800080"
                      >(0,0)</span
                    > <span class="textcolor" style="color: #000000"
                      ><a href="tikz-paths#pgf.grid">grid</a></span
                    >
                    <span class="textcolor" style="color: #800080">(3,2)</span
                    >;<br />
                    <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                      ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                    ><span class="spaces">      </span><span
                      class="textcolor"
                      style="color: #800080"
                      >(0,0)</span
                    > <span class="textcolor" style="color: #000000"
                      ><a href="tikz-paths#pgf.--">--</a></span
                    >
                    <span class="textcolor" style="color: #800080">(2,1)</span
                    > <span class="textcolor" style="color: #000000"
                      ><a href="tikz-paths#pgf.--">--</a></span
                    >
                    <span class="textcolor" style="color: #800080">(1,0)</span
                    >;<br />
                    <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                      ><a
                        href="base-transformations#pgf.back/pgftransformrotate"
                        >\pgftransformrotate</a
                      ></span
                    >{<span class="textcolor" style="color: #000000">30</span
                    >}<br />
                    <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                      ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                    >[<span class="textcolor" style="color: #008000">red</span
                    >] <span class="textcolor" style="color: #800080"
                      >(0,0)</span
                    > <span class="textcolor" style="color: #000000"
                      ><a href="tikz-paths#pgf.--">--</a></span
                    >
                    <span class="textcolor" style="color: #800080">(2,1)</span
                    > <span class="textcolor" style="color: #000000"
                      ><a href="tikz-paths#pgf.--">--</a></span
                    >
                    <span class="textcolor" style="color: #800080">(1,0)</span
                    >;<br />
                    <span class="textcolor" style="color: #000000">\end</span
                    >{<span class="textcolor" style="color: #0000b2"
                      ><a href="tikz-scopes#pgf.tikzpicture"
                        >tikzpicture</a
                      ></span
                    >}<br />
                  </code>
                </div>
              </figure>
            </ul>
          </div>

          <div class="manualentry">
            <ul class="list" style="list-style-type: none">
              <div class="entryheadline">
                <li>
                  <p>
                    <a id="pgf.back/pgftransformtriangle"></a>
                    <span class="hl-def"
                      ><span class="declare"
                        ><kbd>\pgftransformtriangle</kbd></span
                      >{<span class="angle">&langle;</span><i>a</i
                      ><span class="angle">&rangle;</span>}{<span class="angle"
                        >&langle;</span
                      ><i>b</i><span class="angle">&rangle;</span>}{<span
                        class="angle"
                        >&langle;</span
                      ><i>c</i><span class="angle">&rangle;</span>}</span
                    >
                    <a
                      class="anchor-link"
                      data-html-link="pgf.back/pgftransformtriangle"
                      href="#\pgftransformtriangle"
                      id="\pgftransformtriangle"
                      >&para;</a
                    >
                  </p>
                </li>
              </div>
              <p>
                This command transforms the coordinate system in such a way that
                the triangle given by the points
                <span class="angle">&langle;</span><i>a</i
                ><span class="angle">&rangle;</span>,
                <span class="angle">&langle;</span><i>b</i
                ><span class="angle">&rangle;</span> and
                <span class="angle">&langle;</span><i>c</i
                ><span class="angle">&rangle;</span> lies at the coordinates
                \((0,0)\), \((1\mathrm {pt},0\mathrm {pt})\) and \((0\mathrm
                {pt},1\mathrm {pt})\).
              </p>

              <figure class="example">
                <div class="example-image">
                  <p>
                    <span
                      class="lateximagesource"
                      id="lateximage-pgfmanual-3310"
                      ><!--
--><img
                        alt="(-tikz-&nbsp;diagram)"
                        class="lateximage"
                        height="79.082"
                        loading="lazy"
                        src="pgfmanual-images/image-3310.png"
                        style
                        width="117.290"
                    /></span>
                  </p>
                </div>

                <div class="example-code">
                  <button class="clipboardButton" type="button">copy</button>
                  <code>
                    <br />
                    <span class="textcolor" style="color: #000000">\begin</span
                    >{<span class="textcolor" style="color: #0000b2"
                      ><a href="tikz-scopes#pgf.tikzpicture"
                        >tikzpicture</a
                      ></span
                    >}<br />
                    <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                      ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                    >[<span class="textcolor" style="color: #008000"
                      ><a href="tikz-paths#pgf.help:lines">help lines</a></span
                    >] <span class="textcolor" style="color: #800080"
                      >(0,0)</span
                    > <span class="textcolor" style="color: #000000"
                      ><a href="tikz-paths#pgf.grid">grid</a></span
                    >
                    <span class="textcolor" style="color: #800080">(3,2)</span
                    >;<br />
                    <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                      ><a
                        href="base-transformations#pgf.back/pgftransformtriangle"
                        >\pgftransformtriangle</a
                      ></span
                    ><br />
                    <span class="spaces">  </span>{<span
                      class="textcolor"
                      style="color: #0000b2"
                      ><a href="base-points#pgf.back/pgfpoint"
                        >\pgfpoint</a
                      ></span
                    >{<span class="textcolor" style="color: #000000">1cm</span
                    >}{<span class="textcolor" style="color: #000000">0cm</span
                    >}}<br />
                    <span class="spaces">  </span>{<span
                      class="textcolor"
                      style="color: #0000b2"
                      ><a href="base-points#pgf.back/pgfpoint"
                        >\pgfpoint</a
                      ></span
                    >{<span class="textcolor" style="color: #000000">0cm</span
                    >}{<span class="textcolor" style="color: #000000">2cm</span
                    >}}<br />
                    <span class="spaces">  </span>{<span
                      class="textcolor"
                      style="color: #0000b2"
                      ><a href="base-points#pgf.back/pgfpoint"
                        >\pgfpoint</a
                      ></span
                    >{<span class="textcolor" style="color: #000000">3cm</span
                    >}{<span class="textcolor" style="color: #000000">1cm</span
                    >}}<br />
                    <br />
                    <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                      ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                    > <span class="textcolor" style="color: #800080"
                      >(0,0)</span
                    > <span class="textcolor" style="color: #000000"
                      ><a href="tikz-paths#pgf.--">--</a></span
                    >
                    <span class="textcolor" style="color: #800080"
                      >(1pt,0pt)</span
                    > <span class="textcolor" style="color: #000000"
                      ><a href="tikz-paths#pgf.--">--</a></span
                    >
                    <span class="textcolor" style="color: #800080"
                      >(0pt,1pt)</span
                    > <span class="textcolor" style="color: #000000"
                      ><a href="tikz-paths#pgf.--">--</a></span
                    >
                    <span class="textcolor" style="color: #000000"
                      ><a href="tikz-graphs#pgf.cycle">cycle</a></span
                    >;<br />
                    <span class="textcolor" style="color: #000000">\end</span
                    >{<span class="textcolor" style="color: #0000b2"
                      ><a href="tikz-scopes#pgf.tikzpicture"
                        >tikzpicture</a
                      ></span
                    >}<br />
                  </code>
                </div>
              </figure>
            </ul>
          </div>

          <div class="manualentry">
            <ul class="list" style="list-style-type: none">
              <div class="entryheadline">
                <li>
                  <p>
                    <a id="pgf.back/pgftransformcm"></a>
                    <span class="hl-def"
                      ><span class="declare"><kbd>\pgftransformcm</kbd></span
                      >{<span class="angle">&langle;</span><i>a</i
                      ><span class="angle">&rangle;</span>}{<span class="angle"
                        >&langle;</span
                      ><i>b</i><span class="angle">&rangle;</span>}{<span
                        class="angle"
                        >&langle;</span
                      ><i>c</i><span class="angle">&rangle;</span>}{<span
                        class="angle"
                        >&langle;</span
                      ><i>d</i><span class="angle">&rangle;</span>}{<span
                        class="angle"
                        >&langle;</span
                      ><i>point</i><span class="angle">&rangle;</span>}</span
                    >
                    <a
                      class="anchor-link"
                      data-html-link="pgf.back/pgftransformcm"
                      href="#\pgftransformcm"
                      id="\pgftransformcm"
                      >&para;</a
                    >
                  </p>
                </li>
              </div>
              <p>
                Applies the transformation matrix given by \(a\), \(b\), \(c\),
                and \(d\) and the shift <span class="angle">&langle;</span
                ><i>point</i><span class="angle">&rangle;</span> to coordinates
                (in addition to any previous transformations already in force).
              </p>

              <figure class="example">
                <div class="example-image">
                  <p>
                    <span
                      class="lateximagesource"
                      id="lateximage-pgfmanual-3311"
                      ><!--
--><img
                        alt="(-tikz-&nbsp;diagram)"
                        class="lateximage"
                        height="125.930"
                        loading="lazy"
                        src="pgfmanual-images/image-3311.png"
                        style
                        width="116.330"
                    /></span>
                  </p>
                </div>

                <div class="example-code">
                  <button class="clipboardButton" type="button">copy</button>
                  <code>
                    <br />
                    <span class="textcolor" style="color: #000000">\begin</span
                    >{<span class="textcolor" style="color: #0000b2"
                      ><a href="tikz-scopes#pgf.tikzpicture"
                        >tikzpicture</a
                      ></span
                    >}<br />
                    <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                      ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                    >[<span class="textcolor" style="color: #008000"
                      ><a href="tikz-paths#pgf.help:lines">help lines</a></span
                    >] <span class="textcolor" style="color: #800080"
                      >(0,0)</span
                    > <span class="textcolor" style="color: #000000"
                      ><a href="tikz-paths#pgf.grid">grid</a></span
                    >
                    <span class="textcolor" style="color: #800080">(3,2)</span
                    >;<br />
                    <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                      ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                    ><span class="spaces">      </span><span
                      class="textcolor"
                      style="color: #800080"
                      >(0,0)</span
                    > <span class="textcolor" style="color: #000000"
                      ><a href="tikz-paths#pgf.--">--</a></span
                    >
                    <span class="textcolor" style="color: #800080">(2,1)</span
                    > <span class="textcolor" style="color: #000000"
                      ><a href="tikz-paths#pgf.--">--</a></span
                    >
                    <span class="textcolor" style="color: #800080">(1,0)</span
                    >;<br />
                    <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                      ><a href="base-transformations#pgf.back/pgftransformcm"
                        >\pgftransformcm</a
                      ></span
                    >{<span class="textcolor" style="color: #000000">1</span
                    >}{<span class="textcolor" style="color: #000000">1</span
                    >}{<span class="textcolor" style="color: #000000">0</span
                    >}{<span class="textcolor" style="color: #000000">1</span
                    >}{<span class="textcolor" style="color: #0000b2"
                      ><a href="base-points#pgf.back/pgfpoint"
                        >\pgfpoint</a
                      ></span
                    >{.<span class="textcolor" style="color: #000000">25cm</span
                    >}{.<span class="textcolor" style="color: #000000"
                      >25cm</span
                    >}}<br />
                    <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                      ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                    >[<span class="textcolor" style="color: #008000">red</span
                    >] <span class="textcolor" style="color: #800080"
                      >(0,0)</span
                    > <span class="textcolor" style="color: #000000"
                      ><a href="tikz-paths#pgf.--">--</a></span
                    >
                    <span class="textcolor" style="color: #800080">(2,1)</span
                    > <span class="textcolor" style="color: #000000"
                      ><a href="tikz-paths#pgf.--">--</a></span
                    >
                    <span class="textcolor" style="color: #800080">(1,0)</span
                    >;<br />
                    <span class="textcolor" style="color: #000000">\end</span
                    >{<span class="textcolor" style="color: #0000b2"
                      ><a href="tikz-scopes#pgf.tikzpicture"
                        >tikzpicture</a
                      ></span
                    >}<br />
                  </code>
                </div>
              </figure>
            </ul>
          </div>

          <div class="manualentry">
            <ul class="list" style="list-style-type: none">
              <div class="entryheadline">
                <li>
                  <p>
                    <a id="pgf.back/pgftransformarrow"></a>
                    <span class="hl-def"
                      ><span class="declare"><kbd>\pgftransformarrow</kbd></span
                      >{<span class="angle">&langle;</span><i>start</i
                      ><span class="angle">&rangle;</span>}{<span class="angle"
                        >&langle;</span
                      ><i>end</i><span class="angle">&rangle;</span>}</span
                    >
                    <a
                      class="anchor-link"
                      data-html-link="pgf.back/pgftransformarrow"
                      href="#\pgftransformarrow"
                      id="\pgftransformarrow"
                      >&para;</a
                    >
                  </p>
                </li>
              </div>
              <p>
                Shifts coordinates to the end of the line going from
                <span class="angle">&langle;</span><i>start</i
                ><span class="angle">&rangle;</span> to
                <span class="angle">&langle;</span><i>end</i
                ><span class="angle">&rangle;</span> with the correct rotation.
              </p>

              <figure class="example">
                <div class="example-image">
                  <p>
                    <span
                      class="lateximagesource"
                      id="lateximage-pgfmanual-3312"
                      ><!--
tip
--><img
                        alt="(-tikz-&nbsp;diagram)"
                        class="lateximage"
                        height="78.650"
                        loading="lazy"
                        src="pgfmanual-images/image-3312.png"
                        style
                        width="125.234"
                    /></span>
                  </p>
                </div>

                <div class="example-code">
                  <button class="clipboardButton" type="button">copy</button>
                  <code>
                    <br />
                    <span class="textcolor" style="color: #000000">\begin</span
                    >{<span class="textcolor" style="color: #0000b2"
                      ><a href="tikz-scopes#pgf.tikzpicture"
                        >tikzpicture</a
                      ></span
                    >}<br />
                    <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                      ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                    >[<span class="textcolor" style="color: #008000"
                      ><a href="tikz-paths#pgf.help:lines">help lines</a></span
                    >] <span class="textcolor" style="color: #800080"
                      >(0,0)</span
                    > <span class="textcolor" style="color: #000000"
                      ><a href="tikz-paths#pgf.grid">grid</a></span
                    >
                    <span class="textcolor" style="color: #800080">(3,2)</span
                    >;<br />
                    <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                      ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                    ><span class="spaces">      </span><span
                      class="textcolor"
                      style="color: #800080"
                      >(0,0)</span
                    > <span class="textcolor" style="color: #000000"
                      ><a href="tikz-paths#pgf.--">--</a></span
                    >
                    <span class="textcolor" style="color: #800080">(3,1)</span
                    >;<br />
                    <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                      ><a href="base-transformations#pgf.back/pgftransformarrow"
                        >\pgftransformarrow</a
                      ></span
                    >{<span class="textcolor" style="color: #0000b2"
                      ><a href="base-points#pgf.back/pgfpointorigin"
                        >\pgfpointorigin</a
                      ></span
                    >}{<span class="textcolor" style="color: #0000b2"
                      ><a href="base-points#pgf.back/pgfpoint"
                        >\pgfpoint</a
                      ></span
                    >{<span class="textcolor" style="color: #000000">3cm</span
                    >}{<span class="textcolor" style="color: #000000">1cm</span
                    >}}<br />
                    <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                      ><a href="base-scopes#pgf.back/pgftext">\pgftext</a></span
                    >{<span class="textcolor" style="color: #000000">tip</span
                    >}<br />
                    <span class="textcolor" style="color: #000000">\end</span
                    >{<span class="textcolor" style="color: #0000b2"
                      ><a href="tikz-scopes#pgf.tikzpicture"
                        >tikzpicture</a
                      ></span
                    >}<br />
                  </code>
                </div>
              </figure>
            </ul>
          </div>

          <div class="manualentry">
            <ul class="list" style="list-style-type: none">
              <div class="entryheadline">
                <li>
                  <p>
                    <a id="pgf.back/pgftransformlineattime"></a>
                    <span class="hl-def"
                      ><span class="declare"
                        ><kbd>\pgftransformlineattime</kbd></span
                      >{<span class="angle">&langle;</span><i>time</i
                      ><span class="angle">&rangle;</span>}{<span class="angle"
                        >&langle;</span
                      ><i>start</i><span class="angle">&rangle;</span>}{<span
                        class="angle"
                        >&langle;</span
                      ><i>end</i><span class="angle">&rangle;</span>}</span
                    >
                    <a
                      class="anchor-link"
                      data-html-link="pgf.back/pgftransformlineattime"
                      href="#\pgftransformlineattime"
                      id="\pgftransformlineattime"
                      >&para;</a
                    >
                  </p>
                </li>
              </div>
              <p>
                Shifts coordinates by a specific point on a line at a specific
                time. The point by which the coordinate is shifted is calculated
                by calling <span class="verb">\pgfpointlineattime</span>, see
                Section&nbsp;<a href="base-points#section-pointsattime"
                  >101.5.2</a
                >.
              </p>
              <p>
                In addition to shifting the coordinate, a rotation
                <em>may</em> also be applied. Whether this is the case depends
                on whether the
                <span class="latexlogofont"
                  ><span class="latexlogo"
                    >T<span class="latexlogosub">e</span>X</span
                  ></span
                >
                if <span class="verb">\ifpgfslopedattime</span> is set to true
                or not.
              </p>

              <figure class="example">
                <div class="example-image">
                  <p>
                    <span
                      class="lateximagesource"
                      id="lateximage-pgfmanual-3313"
                      ><!--
Hi!
--><img
                        alt="(-tikz-&nbsp;diagram)"
                        class="lateximage"
                        height="78.650"
                        loading="lazy"
                        src="pgfmanual-images/image-3313.png"
                        style
                        width="116.330"
                    /></span>
                  </p>
                </div>

                <div class="example-code">
                  <button class="clipboardButton" type="button">copy</button>
                  <code>
                    <br />
                    <span class="textcolor" style="color: #000000">\begin</span
                    >{<span class="textcolor" style="color: #0000b2"
                      ><a href="tikz-scopes#pgf.tikzpicture"
                        >tikzpicture</a
                      ></span
                    >}<br />
                    <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                      ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                    >[<span class="textcolor" style="color: #008000"
                      ><a href="tikz-paths#pgf.help:lines">help lines</a></span
                    >] <span class="textcolor" style="color: #800080"
                      >(0,0)</span
                    > <span class="textcolor" style="color: #000000"
                      ><a href="tikz-paths#pgf.grid">grid</a></span
                    >
                    <span class="textcolor" style="color: #800080">(3,2)</span
                    >;<br />
                    <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                      ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                    ><span class="spaces">      </span><span
                      class="textcolor"
                      style="color: #800080"
                      >(0,0)</span
                    > <span class="textcolor" style="color: #000000"
                      ><a href="tikz-paths#pgf.--">--</a></span
                    >
                    <span class="textcolor" style="color: #800080">(2,1)</span
                    >;<br />
                    <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                      ><a
                        href="base-transformations#pgf.back/pgftransformlineattime"
                        >\pgftransformlineattime</a
                      ></span
                    >{.<span class="textcolor" style="color: #000000">25</span
                    >}{<span class="textcolor" style="color: #0000b2"
                      ><a href="base-points#pgf.back/pgfpointorigin"
                        >\pgfpointorigin</a
                      ></span
                    >}{<span class="textcolor" style="color: #0000b2"
                      ><a href="base-points#pgf.back/pgfpoint"
                        >\pgfpoint</a
                      ></span
                    >{<span class="textcolor" style="color: #000000">2cm</span
                    >}{<span class="textcolor" style="color: #000000">1cm</span
                    >}}<br />
                    <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                      ><a href="base-scopes#pgf.back/pgftext">\pgftext</a></span
                    >{<span class="textcolor" style="color: #000000">Hi!</span
                    >}<br />
                    <span class="textcolor" style="color: #000000">\end</span
                    >{<span class="textcolor" style="color: #0000b2"
                      ><a href="tikz-scopes#pgf.tikzpicture"
                        >tikzpicture</a
                      ></span
                    >}<br />
                  </code>
                </div>
              </figure>

              <figure class="example">
                <div class="example-image">
                  <p>
                    <span
                      class="lateximagesource"
                      id="lateximage-pgfmanual-3314"
                      ><!--
  !
Hi
--><img
                        alt="(-tikz-&nbsp;diagram)"
                        class="lateximage"
                        height="78.650"
                        loading="lazy"
                        src="pgfmanual-images/image-3314.png"
                        style
                        width="116.330"
                    /></span>
                  </p>
                </div>

                <div class="example-code">
                  <button class="clipboardButton" type="button">copy</button>
                  <code>
                    <br />
                    <span class="textcolor" style="color: #000000">\begin</span
                    >{<span class="textcolor" style="color: #0000b2"
                      ><a href="tikz-scopes#pgf.tikzpicture"
                        >tikzpicture</a
                      ></span
                    >}<br />
                    <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                      ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                    >[<span class="textcolor" style="color: #008000"
                      ><a href="tikz-paths#pgf.help:lines">help lines</a></span
                    >] <span class="textcolor" style="color: #800080"
                      >(0,0)</span
                    > <span class="textcolor" style="color: #000000"
                      ><a href="tikz-paths#pgf.grid">grid</a></span
                    >
                    <span class="textcolor" style="color: #800080">(3,2)</span
                    >;<br />
                    <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                      ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                    ><span class="spaces">      </span><span
                      class="textcolor"
                      style="color: #800080"
                      >(0,0)</span
                    > <span class="textcolor" style="color: #000000"
                      ><a href="tikz-paths#pgf.--">--</a></span
                    >
                    <span class="textcolor" style="color: #800080">(2,1)</span
                    >;<br />
                    <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                      >\pgfslopedattimetrue</span
                    ><br />
                    <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                      ><a
                        href="base-transformations#pgf.back/pgftransformlineattime"
                        >\pgftransformlineattime</a
                      ></span
                    >{.<span class="textcolor" style="color: #000000">25</span
                    >}{<span class="textcolor" style="color: #0000b2"
                      ><a href="base-points#pgf.back/pgfpointorigin"
                        >\pgfpointorigin</a
                      ></span
                    >}{<span class="textcolor" style="color: #0000b2"
                      ><a href="base-points#pgf.back/pgfpoint"
                        >\pgfpoint</a
                      ></span
                    >{<span class="textcolor" style="color: #000000">2cm</span
                    >}{<span class="textcolor" style="color: #000000">1cm</span
                    >}}<br />
                    <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                      ><a href="base-scopes#pgf.back/pgftext">\pgftext</a></span
                    >{<span class="textcolor" style="color: #000000">Hi!</span
                    >}<br />
                    <span class="textcolor" style="color: #000000">\end</span
                    >{<span class="textcolor" style="color: #0000b2"
                      ><a href="tikz-scopes#pgf.tikzpicture"
                        >tikzpicture</a
                      ></span
                    >}<br />
                  </code>
                </div>
              </figure>
              <p>
                If <span class="verb">\ifpgfslopedattime</span> is true, another
                <span class="latexlogofont"
                  ><span class="latexlogo"
                    >T<span class="latexlogosub">e</span>X</span
                  ></span
                >
                <span class="verb">\if</span> is important:
                <span class="verb">\ifpgfallowupsidedowattime</span>. If this is
                false, <span class="textsc">pgf</span> will ensure that the
                rotation is done in such a way that text is never &ldquo;upside
                down&rdquo;.
              </p>
              <p>
                There is another
                <span class="latexlogofont"
                  ><span class="latexlogo"
                    >T<span class="latexlogosub">e</span>X</span
                  ></span
                >
                <span class="verb">\if</span> that influences this command. If
                you set
                <span class="verb">\ifpgfresetnontranslationattime</span> to
                true, then, between shifting the coordinate and (possibly)
                rotating/sloping the coordinate, the command
                <span class="verb">\pgftransformresetnontranslations</span> is
                called. See the description of this command for details.
              </p>

              <figure class="example">
                <div class="example-image">
                  <p>
                    <span
                      class="lateximagesource"
                      id="lateximage-pgfmanual-3315"
                      ><!--
  !
Hi
--><img
                        alt="(-tikz-&nbsp;diagram)"
                        class="lateximage"
                        height="78.650"
                        loading="lazy"
                        src="pgfmanual-images/image-3315.png"
                        style
                        width="116.330"
                    /></span>
                  </p>
                </div>

                <div class="example-code">
                  <button class="clipboardButton" type="button">copy</button>
                  <code>
                    <br />
                    <span class="textcolor" style="color: #000000">\begin</span
                    >{<span class="textcolor" style="color: #0000b2"
                      ><a href="tikz-scopes#pgf.tikzpicture"
                        >tikzpicture</a
                      ></span
                    >}<br />
                    <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                      ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                    >[<span class="textcolor" style="color: #008000"
                      ><a href="tikz-paths#pgf.help:lines">help lines</a></span
                    >] <span class="textcolor" style="color: #800080"
                      >(0,0)</span
                    > <span class="textcolor" style="color: #000000"
                      ><a href="tikz-paths#pgf.grid">grid</a></span
                    >
                    <span class="textcolor" style="color: #800080">(3,2)</span
                    >;<br />
                    <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                      ><a href="base-transformations#pgf.back/pgftransformscale"
                        >\pgftransformscale</a
                      ></span
                    >{<span class="textcolor" style="color: #000000">1</span
                    >.<span class="textcolor" style="color: #000000">5</span
                    >}<br />
                    <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                      ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                    ><span class="spaces">      </span><span
                      class="textcolor"
                      style="color: #800080"
                      >(0,0)</span
                    > <span class="textcolor" style="color: #000000"
                      ><a href="tikz-paths#pgf.--">--</a></span
                    >
                    <span class="textcolor" style="color: #800080">(2,1)</span
                    >;<br />
                    <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                      >\pgfslopedattimetrue</span
                    ><br />
                    <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                      >\pgfresetnontranslationattimefalse</span
                    ><br />
                    <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                      ><a
                        href="base-transformations#pgf.back/pgftransformlineattime"
                        >\pgftransformlineattime</a
                      ></span
                    >{.<span class="textcolor" style="color: #000000">25</span
                    >}{<span class="textcolor" style="color: #0000b2"
                      ><a href="base-points#pgf.back/pgfpointorigin"
                        >\pgfpointorigin</a
                      ></span
                    >}{<span class="textcolor" style="color: #0000b2"
                      ><a href="base-points#pgf.back/pgfpoint"
                        >\pgfpoint</a
                      ></span
                    >{<span class="textcolor" style="color: #000000">2cm</span
                    >}{<span class="textcolor" style="color: #000000">1cm</span
                    >}}<br />
                    <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                      ><a href="base-scopes#pgf.back/pgftext">\pgftext</a></span
                    >{<span class="textcolor" style="color: #000000">Hi!</span
                    >}<br />
                    <span class="textcolor" style="color: #000000">\end</span
                    >{<span class="textcolor" style="color: #0000b2"
                      ><a href="tikz-scopes#pgf.tikzpicture"
                        >tikzpicture</a
                      ></span
                    >}<br />
                  </code>
                </div>
              </figure>

              <figure class="example">
                <div class="example-image">
                  <p>
                    <span
                      class="lateximagesource"
                      id="lateximage-pgfmanual-3316"
                      ><!--
  !
Hi
--><img
                        alt="(-tikz-&nbsp;diagram)"
                        class="lateximage"
                        height="78.650"
                        loading="lazy"
                        src="pgfmanual-images/image-3316.png"
                        style
                        width="116.330"
                    /></span>
                  </p>
                </div>

                <div class="example-code">
                  <button class="clipboardButton" type="button">copy</button>
                  <code>
                    <br />
                    <span class="textcolor" style="color: #000000">\begin</span
                    >{<span class="textcolor" style="color: #0000b2"
                      ><a href="tikz-scopes#pgf.tikzpicture"
                        >tikzpicture</a
                      ></span
                    >}<br />
                    <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                      ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                    >[<span class="textcolor" style="color: #008000"
                      ><a href="tikz-paths#pgf.help:lines">help lines</a></span
                    >] <span class="textcolor" style="color: #800080"
                      >(0,0)</span
                    > <span class="textcolor" style="color: #000000"
                      ><a href="tikz-paths#pgf.grid">grid</a></span
                    >
                    <span class="textcolor" style="color: #800080">(3,2)</span
                    >;<br />
                    <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                      ><a href="base-transformations#pgf.back/pgftransformscale"
                        >\pgftransformscale</a
                      ></span
                    >{<span class="textcolor" style="color: #000000">1</span
                    >.<span class="textcolor" style="color: #000000">5</span
                    >}<br />
                    <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                      ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                    ><span class="spaces">      </span><span
                      class="textcolor"
                      style="color: #800080"
                      >(0,0)</span
                    > <span class="textcolor" style="color: #000000"
                      ><a href="tikz-paths#pgf.--">--</a></span
                    >
                    <span class="textcolor" style="color: #800080">(2,1)</span
                    >;<br />
                    <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                      >\pgfslopedattimetrue</span
                    ><br />
                    <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                      >\pgfresetnontranslationattimetrue</span
                    ><br />
                    <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                      ><a
                        href="base-transformations#pgf.back/pgftransformlineattime"
                        >\pgftransformlineattime</a
                      ></span
                    >{.<span class="textcolor" style="color: #000000">25</span
                    >}{<span class="textcolor" style="color: #0000b2"
                      ><a href="base-points#pgf.back/pgfpointorigin"
                        >\pgfpointorigin</a
                      ></span
                    >}{<span class="textcolor" style="color: #0000b2"
                      ><a href="base-points#pgf.back/pgfpoint"
                        >\pgfpoint</a
                      ></span
                    >{<span class="textcolor" style="color: #000000">2cm</span
                    >}{<span class="textcolor" style="color: #000000">1cm</span
                    >}}<br />
                    <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                      ><a href="base-scopes#pgf.back/pgftext">\pgftext</a></span
                    >{<span class="textcolor" style="color: #000000">Hi!</span
                    >}<br />
                    <span class="textcolor" style="color: #000000">\end</span
                    >{<span class="textcolor" style="color: #0000b2"
                      ><a href="tikz-scopes#pgf.tikzpicture"
                        >tikzpicture</a
                      ></span
                    >}<br />
                  </code>
                </div>
              </figure>
            </ul>
          </div>

          <div class="manualentry">
            <ul class="list" style="list-style-type: none">
              <div class="entryheadline">
                <li>
                  <p>
                    <a id="pgf.back/pgftransformcurveattime"></a>
                    <span class="hl-def"
                      ><span class="declare"
                        ><kbd>\pgftransformcurveattime</kbd></span
                      >{<span class="angle">&langle;</span><i>time</i
                      ><span class="angle">&rangle;</span>}{<span class="angle"
                        >&langle;</span
                      ><i>start</i><span class="angle">&rangle;</span>}{<span
                        class="angle"
                        >&langle;</span
                      ><i>first support</i
                      ><span class="angle">&rangle;</span>}{<span class="angle"
                        >&langle;</span
                      ><i>second support</i
                      ><span class="angle">&rangle;</span>}{<span class="angle"
                        >&langle;</span
                      ><i>end</i><span class="angle">&rangle;</span>}</span
                    >
                    <a
                      class="anchor-link"
                      data-html-link="pgf.back/pgftransformcurveattime"
                      href="#\pgftransformcurveattime"
                      id="\pgftransformcurveattime"
                      >&para;</a
                    >
                  </p>
                </li>
              </div>
              <p>
                Shifts coordinates by a specific point on a curve at a specific
                time, see Section&nbsp;<a
                  href="base-points#section-pointsattime"
                  >101.5.2</a
                >
                once more.
              </p>
              <p>
                As for the line-at-time transformation command,
                <span class="verb">\ifpgfslopedattime</span> decides whether an
                additional rotation should be applied. Again, the value of
                <span class="verb">\ifpgfallowupsidedowattime</span> is also
                considered.
              </p>

              <figure class="example">
                <div class="example-image">
                  <p>
                    <span
                      class="lateximagesource"
                      id="lateximage-pgfmanual-3317"
                      ><!--
Hi!
--><img
                        alt="(-tikz-&nbsp;diagram)"
                        class="lateximage"
                        height="78.530"
                        loading="lazy"
                        src="pgfmanual-images/image-3317.png"
                        style
                        width="119.594"
                    /></span>
                  </p>
                </div>

                <div class="example-code">
                  <button class="clipboardButton" type="button">copy</button>
                  <code>
                    <br />
                    <span class="textcolor" style="color: #000000">\begin</span
                    >{<span class="textcolor" style="color: #0000b2"
                      ><a href="tikz-scopes#pgf.tikzpicture"
                        >tikzpicture</a
                      ></span
                    >}<br />
                    <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                      ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                    >[<span class="textcolor" style="color: #008000"
                      ><a href="tikz-paths#pgf.help:lines">help lines</a></span
                    >] <span class="textcolor" style="color: #800080"
                      >(0,0)</span
                    > <span class="textcolor" style="color: #000000"
                      ><a href="tikz-paths#pgf.grid">grid</a></span
                    >
                    <span class="textcolor" style="color: #800080">(3,2)</span
                    >;<br />
                    <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                      ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                    ><span class="spaces">      </span><span
                      class="textcolor"
                      style="color: #800080"
                      >(0,0)</span
                    ><span class="spaces"> </span>..<span class="spaces"> </span><span
                      class="textcolor"
                      style="color: #000000"
                      ><a href="library-edges#pgf.controls">controls</a></span
                    >
                    <span class="textcolor" style="color: #800080">(0,2)</span
                    > <span class="textcolor" style="color: #000000"
                      ><a href="pgfkeys#pgf.and">and</a></span
                    >
                    <span class="textcolor" style="color: #800080">(1,2)</span
                    ><span class="spaces"> </span>..<span class="spaces"> </span><span
                      class="textcolor"
                      style="color: #800080"
                      >(2,1)</span
                    >;<br />
                    <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                      ><a
                        href="base-transformations#pgf.back/pgftransformcurveattime"
                        >\pgftransformcurveattime</a
                      ></span
                    >{.<span class="textcolor" style="color: #000000">25</span
                    >}{<span class="textcolor" style="color: #0000b2"
                      ><a href="base-points#pgf.back/pgfpointorigin"
                        >\pgfpointorigin</a
                      ></span
                    >}<br />
                    <span class="spaces">    </span>{<span
                      class="textcolor"
                      style="color: #0000b2"
                      ><a href="base-points#pgf.back/pgfpoint"
                        >\pgfpoint</a
                      ></span
                    >{<span class="textcolor" style="color: #000000">0cm</span
                    >}{<span class="textcolor" style="color: #000000">2cm</span
                    >}}{<span class="textcolor" style="color: #0000b2"
                      ><a href="base-points#pgf.back/pgfpoint"
                        >\pgfpoint</a
                      ></span
                    >{<span class="textcolor" style="color: #000000">1cm</span
                    >}{<span class="textcolor" style="color: #000000">2cm</span
                    >}}{<span class="textcolor" style="color: #0000b2"
                      ><a href="base-points#pgf.back/pgfpoint"
                        >\pgfpoint</a
                      ></span
                    >{<span class="textcolor" style="color: #000000">2cm</span
                    >}{<span class="textcolor" style="color: #000000">1cm</span
                    >}}<br />
                    <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                      ><a href="base-scopes#pgf.back/pgftext">\pgftext</a></span
                    >{<span class="textcolor" style="color: #000000">Hi!</span
                    >}<br />
                    <span class="textcolor" style="color: #000000">\end</span
                    >{<span class="textcolor" style="color: #0000b2"
                      ><a href="tikz-scopes#pgf.tikzpicture"
                        >tikzpicture</a
                      ></span
                    >}<br />
                  </code>
                </div>
              </figure>

              <figure class="example">
                <div class="example-image">
                  <p>
                    <span
                      class="lateximagesource"
                      id="lateximage-pgfmanual-3318"
                      ><!--
Hi !
--><img
                        alt="(-tikz-&nbsp;diagram)"
                        class="lateximage"
                        height="78.530"
                        loading="lazy"
                        src="pgfmanual-images/image-3318.png"
                        style
                        width="117.554"
                    /></span>
                  </p>
                </div>

                <div class="example-code">
                  <button class="clipboardButton" type="button">copy</button>
                  <code>
                    <br />
                    <span class="textcolor" style="color: #000000">\begin</span
                    >{<span class="textcolor" style="color: #0000b2"
                      ><a href="tikz-scopes#pgf.tikzpicture"
                        >tikzpicture</a
                      ></span
                    >}<br />
                    <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                      ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                    >[<span class="textcolor" style="color: #008000"
                      ><a href="tikz-paths#pgf.help:lines">help lines</a></span
                    >] <span class="textcolor" style="color: #800080"
                      >(0,0)</span
                    > <span class="textcolor" style="color: #000000"
                      ><a href="tikz-paths#pgf.grid">grid</a></span
                    >
                    <span class="textcolor" style="color: #800080">(3,2)</span
                    >;<br />
                    <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                      ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                    ><span class="spaces">      </span><span
                      class="textcolor"
                      style="color: #800080"
                      >(0,0)</span
                    ><span class="spaces"> </span>..<span class="spaces"> </span><span
                      class="textcolor"
                      style="color: #000000"
                      ><a href="library-edges#pgf.controls">controls</a></span
                    >
                    <span class="textcolor" style="color: #800080">(0,2)</span
                    > <span class="textcolor" style="color: #000000"
                      ><a href="pgfkeys#pgf.and">and</a></span
                    >
                    <span class="textcolor" style="color: #800080">(1,2)</span
                    ><span class="spaces"> </span>..<span class="spaces"> </span><span
                      class="textcolor"
                      style="color: #800080"
                      >(2,1)</span
                    >;<br />
                    <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                      >\pgfslopedattimetrue</span
                    ><br />
                    <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                      ><a
                        href="base-transformations#pgf.back/pgftransformcurveattime"
                        >\pgftransformcurveattime</a
                      ></span
                    >{.<span class="textcolor" style="color: #000000">25</span
                    >}{<span class="textcolor" style="color: #0000b2"
                      ><a href="base-points#pgf.back/pgfpointorigin"
                        >\pgfpointorigin</a
                      ></span
                    >}<br />
                    <span class="spaces">    </span>{<span
                      class="textcolor"
                      style="color: #0000b2"
                      ><a href="base-points#pgf.back/pgfpoint"
                        >\pgfpoint</a
                      ></span
                    >{<span class="textcolor" style="color: #000000">0cm</span
                    >}{<span class="textcolor" style="color: #000000">2cm</span
                    >}}{<span class="textcolor" style="color: #0000b2"
                      ><a href="base-points#pgf.back/pgfpoint"
                        >\pgfpoint</a
                      ></span
                    >{<span class="textcolor" style="color: #000000">1cm</span
                    >}{<span class="textcolor" style="color: #000000">2cm</span
                    >}}{<span class="textcolor" style="color: #0000b2"
                      ><a href="base-points#pgf.back/pgfpoint"
                        >\pgfpoint</a
                      ></span
                    >{<span class="textcolor" style="color: #000000">2cm</span
                    >}{<span class="textcolor" style="color: #000000">1cm</span
                    >}}<br />
                    <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                      ><a href="base-scopes#pgf.back/pgftext">\pgftext</a></span
                    >{<span class="textcolor" style="color: #000000">Hi!</span
                    >}<br />
                    <span class="textcolor" style="color: #000000">\end</span
                    >{<span class="textcolor" style="color: #0000b2"
                      ><a href="tikz-scopes#pgf.tikzpicture"
                        >tikzpicture</a
                      ></span
                    >}<br />
                  </code>
                </div>
              </figure>
              <p>
                The value of
                <span class="verb">\ifpgfresetnontranslationsattime</span> is
                also taken into account.
              </p>
            </ul>
          </div>

          <div class="manualentry">
            <ul class="list" style="list-style-type: none">
              <div class="entryheadline">
                <li>
                  <p>
                    <a id="pgf.back/pgftransformarcaxesattime"></a>
                    <span class="hl-def"
                      ><span class="declare"
                        ><kbd>\pgftransformarcaxesattime</kbd></span
                      >{<span class="angle">&langle;</span><i>time \(t\)</i
                      ><span class="angle">&rangle;</span>}{<span class="angle"
                        >&langle;</span
                      ><i>center</i><span class="angle">&rangle;</span>}{<span
                        class="angle"
                        >&langle;</span
                      ><i>0-degree axis</i
                      ><span class="angle">&rangle;</span>}{<span class="angle"
                        >&langle;</span
                      ><i>90-degree axis</i
                      ><span class="angle">&rangle;</span>}{<span class="angle"
                        >&langle;</span
                      ><i>start angle</i
                      ><span class="angle">&rangle;</span>}{<span class="angle"
                        >&langle;</span
                      ><i>end angle</i
                      ><span class="angle">&rangle;</span>}</span
                    >
                    <a
                      class="anchor-link"
                      data-html-link="pgf.back/pgftransformarcaxesattime"
                      href="#\pgftransformarcaxesattime"
                      id="\pgftransformarcaxesattime"
                      >&para;</a
                    >
                  </p>
                </li>
              </div>
              <p>
                Shifts coordinates by a specific point on an arc at a specific
                time, see Section&nbsp;<a
                  href="base-points#section-pointsattime"
                  >101.5.2</a
                >
                once more.
              </p>
              <p>
                As for the previous commands,
                <span class="verb">\ifpgfslopedattime</span> decides whether an
                additional rotation should be applied and
                <span class="verb">\ifpgfallowupsidedowattime</span> is also
                considered.
              </p>

              <figure class="example">
                <div class="example-image">
                  <p>
                    <span
                      class="lateximagesource"
                      id="lateximage-pgfmanual-3319"
                      ><!--
  !
Hi
--><img
                        alt="(-tikz-&nbsp;diagram)"
                        class="lateximage"
                        height="78.530"
                        loading="lazy"
                        src="pgfmanual-images/image-3319.png"
                        style
                        width="116.341"
                    /></span>
                  </p>
                </div>

                <div class="example-code">
                  <button class="clipboardButton" type="button">copy</button>
                  <code>
                    <br />
                    <span class="textcolor" style="color: #000000">\begin</span
                    >{<span class="textcolor" style="color: #0000b2"
                      ><a href="tikz-scopes#pgf.tikzpicture"
                        >tikzpicture</a
                      ></span
                    >}<br />
                    <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                      ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                    >[<span class="textcolor" style="color: #008000"
                      ><a href="tikz-paths#pgf.help:lines">help lines</a></span
                    >] <span class="textcolor" style="color: #800080"
                      >(0,0)</span
                    > <span class="textcolor" style="color: #000000"
                      ><a href="tikz-paths#pgf.grid">grid</a></span
                    >
                    <span class="textcolor" style="color: #800080">(3,2)</span
                    >;<br />
                    <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                      ><a href="base-paths#pgf.back/pgfpathmoveto"
                        >\pgfpathmoveto</a
                      ></span
                    >{<span class="textcolor" style="color: #0000b2"
                      ><a href="base-points#pgf.back/pgfpoint"
                        >\pgfpoint</a
                      ></span
                    >{<span class="textcolor" style="color: #000000">2cm</span
                    >}{<span class="textcolor" style="color: #000000">1cm</span
                    >}}<br />
                    <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                      ><a href="base-paths#pgf.back/pgfpatharcaxes"
                        >\pgfpatharcaxes</a
                      ></span
                    >{<span class="textcolor" style="color: #000000">0</span
                    >}{<span class="textcolor" style="color: #000000">60</span
                    >}{<span class="textcolor" style="color: #0000b2"
                      ><a href="base-points#pgf.back/pgfpoint"
                        >\pgfpoint</a
                      ></span
                    >{<span class="textcolor" style="color: #000000">2cm</span
                    >}{<span class="textcolor" style="color: #000000">0cm</span
                    >}}{<span class="textcolor" style="color: #0000b2"
                      ><a href="base-points#pgf.back/pgfpoint"
                        >\pgfpoint</a
                      ></span
                    >{<span class="textcolor" style="color: #000000">0cm</span
                    >}{<span class="textcolor" style="color: #000000">1cm</span
                    >}}<br />
                    <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                      ><a href="base-actions#pgf.back/pgfusepath"
                        >\pgfusepath</a
                      ></span
                    >{<span class="textcolor" style="color: #000000"
                      >stroke</span
                    >}<br />
                    <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                      >\pgfslopedattimetrue</span
                    ><br />
                    <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                      ><a
                        href="base-transformations#pgf.back/pgftransformarcaxesattime"
                        >\pgftransformarcaxesattime</a
                      ></span
                    >{.<span class="textcolor" style="color: #000000">25</span
                    >}<br />
                    <span class="spaces">    </span>{<span
                      class="textcolor"
                      style="color: #0000b2"
                      ><a href="base-points#pgf.back/pgfpoint"
                        >\pgfpoint</a
                      ></span
                    >{<span class="textcolor" style="color: #000000">0cm</span
                    >}{<span class="textcolor" style="color: #000000">1cm</span
                    >}}<br />
                    <span class="spaces">    </span>{<span
                      class="textcolor"
                      style="color: #0000b2"
                      ><a href="base-points#pgf.back/pgfpoint"
                        >\pgfpoint</a
                      ></span
                    >{<span class="textcolor" style="color: #000000">2cm</span
                    >}{<span class="textcolor" style="color: #000000">0cm</span
                    >}}{<span class="textcolor" style="color: #0000b2"
                      ><a href="base-points#pgf.back/pgfpoint"
                        >\pgfpoint</a
                      ></span
                    >{<span class="textcolor" style="color: #000000">0cm</span
                    >}{<span class="textcolor" style="color: #000000">1cm</span
                    >}}<br />
                    <span class="spaces">    </span>{<span
                      class="textcolor"
                      style="color: #000000"
                      >0</span
                    >}{<span class="textcolor" style="color: #000000">60</span
                    >}<br />
                    <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                      ><a href="base-scopes#pgf.back/pgftext">\pgftext</a></span
                    >{<span class="textcolor" style="color: #000000">Hi!</span
                    >}<br />
                    <span class="textcolor" style="color: #000000">\end</span
                    >{<span class="textcolor" style="color: #0000b2"
                      ><a href="tikz-scopes#pgf.tikzpicture"
                        >tikzpicture</a
                      ></span
                    >}<br />
                  </code>
                </div>
              </figure>
              <p>
                The value of
                <span class="verb">\ifpgfresetnontranslationsattime</span> is
                also taken into account.
              </p>
            </ul>
          </div>

          <div class="manualentry">
            <ul class="list" style="list-style-type: none">
              <div class="entryheadline">
                <li>
                  <p>
                    <a id="pgf.back/ifpgfslopedattime"></a>
                    <span class="hl-def"
                      ><span class="declare"
                        ><kbd>\ifpgfslopedattime</kbd></span
                      ></span
                    >
                    <a
                      class="anchor-link"
                      data-html-link="pgf.back/ifpgfslopedattime"
                      href="#\ifpgfslopedattime"
                      id="\ifpgfslopedattime"
                      >&para;</a
                    >
                  </p>
                </li>
              </div>
              <p>
                Decides whether the &ldquo;at time&rdquo; transformation
                commands also rotate coordinates or not.
              </p>
            </ul>
          </div>

          <div class="manualentry">
            <ul class="list" style="list-style-type: none">
              <div class="entryheadline">
                <li>
                  <p>
                    <a id="pgf.back/ifpgfallowupsidedowattime"></a>
                    <span class="hl-def"
                      ><span class="declare"
                        ><kbd>\ifpgfallowupsidedowattime</kbd></span
                      ></span
                    >
                    <a
                      class="anchor-link"
                      data-html-link="pgf.back/ifpgfallowupsidedowattime"
                      href="#\ifpgfallowupsidedowattime"
                      id="\ifpgfallowupsidedowattime"
                      >&para;</a
                    >
                  </p>
                </li>
              </div>
              <p>
                Decides whether the &ldquo;at time&rdquo; transformation
                commands should allow the rotation be done in such a way that
                &ldquo;upside-down text&rdquo; can result.
              </p>
            </ul>
          </div>

          <div class="manualentry">
            <ul class="list" style="list-style-type: none">
              <div class="entryheadline">
                <li>
                  <p>
                    <a id="pgf.back/ifpgfresetnontranslationsattime"></a>
                    <span class="hl-def"
                      ><span class="declare"
                        ><kbd>\ifpgfresetnontranslationsattime</kbd></span
                      ></span
                    >
                    <a
                      class="anchor-link"
                      data-html-link="pgf.back/ifpgfresetnontranslationsattime"
                      href="#\ifpgfresetnontranslationsattime"
                      id="\ifpgfresetnontranslationsattime"
                      >&para;</a
                    >
                  </p>
                </li>
              </div>
              <p>
                Decides whether the &ldquo;at time&rdquo; transformation
                commands should reset the non-translations between shifting and
                rotating.
              </p>
            </ul>
          </div>
          <h6 id="autosec-8262">
            <span
              ><span class="sectionnumber" id="sec-108.2.3">108.2.3</span>
              Commands for Absolute Coordinate Transformations</span
            ><a
              class="anchor-link"
              data-html-link="sec-108.2.3"
              data-pdf-destination="subsubsection.108.2.3"
              data-pdf-page="1160"
              href="#sec-108.2.3"
              >&para;</a
            >
          </h6>
          <a id="pgfmanual-autopage-8262"></a>

          <p>
            The coordinate transformation commands introduced up to now are
            always applied in addition to any previous transformations. In
            contrast, the commands presented in the following can be used to
            change the transformation matrix &ldquo;in absolute terms&rdquo;.
            Note that this is, in general, dangerous and will often produce
            unexpected effects. You should use these commands only if you really
            know what you are doing.
          </p>

          <div class="manualentry">
            <ul class="list" style="list-style-type: none">
              <div class="entryheadline">
                <li>
                  <p>
                    <a id="pgf.back/pgftransformreset"></a>
                    <span class="hl-def"
                      ><span class="declare"
                        ><kbd>\pgftransformreset</kbd></span
                      ></span
                    >
                    <a
                      class="anchor-link"
                      data-html-link="pgf.back/pgftransformreset"
                      href="#\pgftransformreset"
                      id="\pgftransformreset"
                      >&para;</a
                    >
                  </p>
                </li>
              </div>
              <p>
                Resets the coordinate transformation matrix to the identity
                matrix. Thus, once this command is given no transformations are
                applied till the end of the scope.
              </p>

              <figure class="example">
                <div class="example-image">
                  <p>
                    <span
                      class="lateximagesource"
                      id="lateximage-pgfmanual-3320"
                      ><!--
--><img
                        alt="(-tikz-&nbsp;diagram)"
                        class="lateximage"
                        height="78.650"
                        loading="lazy"
                        src="pgfmanual-images/image-3320.png"
                        style
                        width="116.426"
                    /></span>
                  </p>
                </div>

                <div class="example-code">
                  <button class="clipboardButton" type="button">copy</button>
                  <code>
                    <br />
                    <span class="textcolor" style="color: #000000">\begin</span
                    >{<span class="textcolor" style="color: #0000b2"
                      ><a href="tikz-scopes#pgf.tikzpicture"
                        >tikzpicture</a
                      ></span
                    >}<br />
                    <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                      ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                    >[<span class="textcolor" style="color: #008000"
                      ><a href="tikz-paths#pgf.help:lines">help lines</a></span
                    >] <span class="textcolor" style="color: #800080"
                      >(0,0)</span
                    > <span class="textcolor" style="color: #000000"
                      ><a href="tikz-paths#pgf.grid">grid</a></span
                    >
                    <span class="textcolor" style="color: #800080">(3,2)</span
                    >;<br />
                    <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                      ><a
                        href="base-transformations#pgf.back/pgftransformrotate"
                        >\pgftransformrotate</a
                      ></span
                    >{<span class="textcolor" style="color: #000000">30</span
                    >}<br />
                    <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                      ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                    ><span class="spaces">      </span><span
                      class="textcolor"
                      style="color: #800080"
                      >(0,0)</span
                    > <span class="textcolor" style="color: #000000"
                      ><a href="tikz-paths#pgf.--">--</a></span
                    >
                    <span class="textcolor" style="color: #800080">(2,1)</span
                    > <span class="textcolor" style="color: #000000"
                      ><a href="tikz-paths#pgf.--">--</a></span
                    >
                    <span class="textcolor" style="color: #800080">(1,0)</span
                    >;<br />
                    <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                      ><a href="base-transformations#pgf.back/pgftransformreset"
                        >\pgftransformreset</a
                      ></span
                    ><br />
                    <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                      ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                    >[<span class="textcolor" style="color: #008000">red</span
                    >] <span class="textcolor" style="color: #800080"
                      >(0,0)</span
                    > <span class="textcolor" style="color: #000000"
                      ><a href="tikz-paths#pgf.--">--</a></span
                    >
                    <span class="textcolor" style="color: #800080">(2,1)</span
                    > <span class="textcolor" style="color: #000000"
                      ><a href="tikz-paths#pgf.--">--</a></span
                    >
                    <span class="textcolor" style="color: #800080">(1,0)</span
                    >;<br />
                    <span class="textcolor" style="color: #000000">\end</span
                    >{<span class="textcolor" style="color: #0000b2"
                      ><a href="tikz-scopes#pgf.tikzpicture"
                        >tikzpicture</a
                      ></span
                    >}<br />
                  </code>
                </div>
              </figure>
            </ul>
          </div>

          <div class="manualentry">
            <ul class="list" style="list-style-type: none">
              <div class="entryheadline">
                <li>
                  <p>
                    <a id="pgf.back/pgftransformresetnontranslations"></a>
                    <span class="hl-def"
                      ><span class="declare"
                        ><kbd>\pgftransformresetnontranslations</kbd></span
                      ></span
                    >
                    <a
                      class="anchor-link"
                      data-html-link="pgf.back/pgftransformresetnontranslations"
                      href="#\pgftransformresetnontranslations"
                      id="\pgftransformresetnontranslations"
                      >&para;</a
                    >
                  </p>
                </li>
              </div>
              <p>
                This command sets the \(a\), \(b\), \(c\), and \(d\) part of the
                coordinate transformation matrix to \(a=1\), \(b=0\), \(c=0\),
                and \(d=1\). However, the current shifting of the matrix is not
                modified.
              </p>
              <p>
                The effect of this command is that any rotation/scaling/slanting
                is undone in the current
                <span class="latexlogofont"
                  ><span class="latexlogo"
                    >T<span class="latexlogosub">e</span>X</span
                  ></span
                >
                group, but the origin is not &ldquo;moved back&rdquo;.
              </p>
              <p>
                This command is mostly useful directly before a
                <span class="verb">\pgftext</span> command to ensure that the
                text is not scaled or rotated.
              </p>

              <figure class="example">
                <div class="example-image">
                  <p>
                    <span
                      class="lateximagesource"
                      id="lateximage-pgfmanual-3321"
                      ><!--
       t ed
   t a
shifted only

ro
--><img
                        alt="(-tikz-&nbsp;diagram)"
                        class="lateximage"
                        height="78.530"
                        loading="lazy"
                        src="pgfmanual-images/image-3321.png"
                        style
                        width="116.341"
                    /></span>
                  </p>
                </div>

                <div class="example-code">
                  <button class="clipboardButton" type="button">copy</button>
                  <code>
                    <br />
                    <span class="textcolor" style="color: #000000">\begin</span
                    >{<span class="textcolor" style="color: #0000b2"
                      ><a href="tikz-scopes#pgf.tikzpicture"
                        >tikzpicture</a
                      ></span
                    >}<br />
                    <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                      ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                    >[<span class="textcolor" style="color: #008000"
                      ><a href="tikz-paths#pgf.help:lines">help lines</a></span
                    >] <span class="textcolor" style="color: #800080"
                      >(0,0)</span
                    > <span class="textcolor" style="color: #000000"
                      ><a href="tikz-paths#pgf.grid">grid</a></span
                    >
                    <span class="textcolor" style="color: #800080">(3,2)</span
                    >;<br />
                    <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                      ><a href="base-transformations#pgf.back/pgftransformscale"
                        >\pgftransformscale</a
                      ></span
                    >{<span class="textcolor" style="color: #000000">2</span
                    >}<br />
                    <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                      ><a
                        href="base-transformations#pgf.back/pgftransformrotate"
                        >\pgftransformrotate</a
                      ></span
                    >{<span class="textcolor" style="color: #000000">30</span
                    >}<br />
                    <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                      ><a
                        href="base-transformations#pgf.back/pgftransformxshift"
                        >\pgftransformxshift</a
                      ></span
                    >{<span class="textcolor" style="color: #000000">1cm</span
                    >}<br />
                    <span class="spaces">  </span>{<span
                      class="textcolor"
                      style="color: #0000b2"
                      >\color</span
                    >{<span class="textcolor" style="color: #000000">red</span
                    >}<span class="textcolor" style="color: #0000b2"
                      ><a href="base-scopes#pgf.back/pgftext">\pgftext</a></span
                    >{<span class="textcolor" style="color: #000000"
                      >rotated</span
                    >}}<br />
                    <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                      ><a
                        href="base-transformations#pgf.back/pgftransformresetnontranslations"
                        >\pgftransformresetnontranslations</a
                      ></span
                    ><br />
                    <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                      ><a href="base-scopes#pgf.back/pgftext">\pgftext</a></span
                    >{<span class="textcolor" style="color: #000000"
                      >shifted</span
                    >
                    <span class="textcolor" style="color: #000000">only</span
                    >}<br />
                    <span class="textcolor" style="color: #000000">\end</span
                    >{<span class="textcolor" style="color: #0000b2"
                      ><a href="tikz-scopes#pgf.tikzpicture"
                        >tikzpicture</a
                      ></span
                    >}<br />
                  </code>
                </div>
              </figure>
            </ul>
          </div>

          <div class="manualentry">
            <ul class="list" style="list-style-type: none">
              <div class="entryheadline">
                <li>
                  <p>
                    <a id="pgf.back/pgftransforminvert"></a>
                    <span class="hl-def"
                      ><span class="declare"
                        ><kbd>\pgftransforminvert</kbd></span
                      ></span
                    >
                    <a
                      class="anchor-link"
                      data-html-link="pgf.back/pgftransforminvert"
                      href="#\pgftransforminvert"
                      id="\pgftransforminvert"
                      >&para;</a
                    >
                  </p>
                </li>
              </div>
              <p>
                Replaces the coordinate transformation matrix by a coordinate
                transformation matrix that &ldquo;exactly undoes the original
                transformation&rdquo;. For example, if the original
                transformation was &ldquo;scale by 2 and then shift right by
                1cm&rdquo; the new one is &ldquo;shift left by 1cm and then
                scale by \(1/2\)&rdquo;.
              </p>
              <p>
                This command will produce an error if the determinant of the
                matrix is too small, that is, if the matrix is near-singular.
              </p>

              <figure class="example">
                <div class="example-image">
                  <p>
                    <span
                      class="lateximagesource"
                      id="lateximage-pgfmanual-3322"
                      ><!--
--><img
                        alt="(-tikz-&nbsp;diagram)"
                        class="lateximage"
                        height="97.562"
                        loading="lazy"
                        src="pgfmanual-images/image-3322.png"
                        style
                        width="116.426"
                    /></span>
                  </p>
                </div>

                <div class="example-code">
                  <button class="clipboardButton" type="button">copy</button>
                  <code>
                    <br />
                    <span class="textcolor" style="color: #000000">\begin</span
                    >{<span class="textcolor" style="color: #0000b2"
                      ><a href="tikz-scopes#pgf.tikzpicture"
                        >tikzpicture</a
                      ></span
                    >}<br />
                    <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                      ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                    >[<span class="textcolor" style="color: #008000"
                      ><a href="tikz-paths#pgf.help:lines">help lines</a></span
                    >] <span class="textcolor" style="color: #800080"
                      >(0,0)</span
                    > <span class="textcolor" style="color: #000000"
                      ><a href="tikz-paths#pgf.grid">grid</a></span
                    >
                    <span class="textcolor" style="color: #800080">(3,2)</span
                    >;<br />
                    <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                      ><a
                        href="base-transformations#pgf.back/pgftransformrotate"
                        >\pgftransformrotate</a
                      ></span
                    >{<span class="textcolor" style="color: #000000">30</span
                    >}<br />
                    <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                      ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                    ><span class="spaces">      </span><span
                      class="textcolor"
                      style="color: #800080"
                      >(0,0)</span
                    > <span class="textcolor" style="color: #000000"
                      ><a href="tikz-paths#pgf.--">--</a></span
                    >
                    <span class="textcolor" style="color: #800080">(2,1)</span
                    > <span class="textcolor" style="color: #000000"
                      ><a href="tikz-paths#pgf.--">--</a></span
                    >
                    <span class="textcolor" style="color: #800080">(1,0)</span
                    >;<br />
                    <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                      ><a
                        href="base-transformations#pgf.back/pgftransforminvert"
                        >\pgftransforminvert</a
                      ></span
                    ><br />
                    <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                      ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                    >[<span class="textcolor" style="color: #008000">red</span
                    >] <span class="textcolor" style="color: #800080"
                      >(0,0)</span
                    > <span class="textcolor" style="color: #000000"
                      ><a href="tikz-paths#pgf.--">--</a></span
                    >
                    <span class="textcolor" style="color: #800080">(2,1)</span
                    > <span class="textcolor" style="color: #000000"
                      ><a href="tikz-paths#pgf.--">--</a></span
                    >
                    <span class="textcolor" style="color: #800080">(1,0)</span
                    >;<br />
                    <span class="textcolor" style="color: #000000">\end</span
                    >{<span class="textcolor" style="color: #0000b2"
                      ><a href="tikz-scopes#pgf.tikzpicture"
                        >tikzpicture</a
                      ></span
                    >}<br />
                  </code>
                </div>
              </figure>
            </ul>
          </div>
          <h6 id="autosec-8269">
            <span
              ><span class="sectionnumber" id="sec-108.2.4">108.2.4</span>
              Saving and Restoring the Coordinate Transformation Matrix</span
            ><a
              class="anchor-link"
              data-html-link="sec-108.2.4"
              data-pdf-destination="subsubsection.108.2.4"
              data-pdf-page="1161"
              href="#sec-108.2.4"
              >&para;</a
            >
          </h6>
          <a id="pgfmanual-autopage-8269"></a>

          <p>
            There are two commands for saving and restoring coordinate
            transformation matrices.
          </p>

          <div class="manualentry">
            <ul class="list" style="list-style-type: none">
              <div class="entryheadline">
                <li>
                  <p>
                    <a id="pgf.back/pgfgettransform"></a>
                    <span class="hl-def"
                      ><span class="declare"><kbd>\pgfgettransform</kbd></span
                      >{<span class="angle">&langle;</span><i>macro</i
                      ><span class="angle">&rangle;</span>}</span
                    >
                    <a
                      class="anchor-link"
                      data-html-link="pgf.back/pgfgettransform"
                      href="#\pgfgettransform"
                      id="\pgfgettransform"
                      >&para;</a
                    >
                  </p>
                </li>
              </div>
              <p>
                This command will (locally) define
                <span class="angle">&langle;</span><i>macro</i
                ><span class="angle">&rangle;</span> to a representation of the
                current coordinate transformation matrix. This matrix can later
                on be reinstalled using
                <span class="verb">\pgfsettransform</span>.
              </p>
            </ul>
          </div>

          <div class="manualentry">
            <ul class="list" style="list-style-type: none">
              <div class="entryheadline">
                <li>
                  <p>
                    <a id="pgf.back/pgfsettransform"></a>
                    <span class="hl-def"
                      ><span class="declare"><kbd>\pgfsettransform</kbd></span
                      >{<span class="angle">&langle;</span><i>macro</i
                      ><span class="angle">&rangle;</span>}</span
                    >
                    <a
                      class="anchor-link"
                      data-html-link="pgf.back/pgfsettransform"
                      href="#\pgfsettransform"
                      id="\pgfsettransform"
                      >&para;</a
                    >
                  </p>
                </li>
              </div>
              <p>
                Reinstalls a coordinate transformation matrix that was
                previously saved using
                <span class="verb">\pgfgettransform</span>.
              </p>
            </ul>
          </div>

          <div class="manualentry">
            <ul class="list" style="list-style-type: none">
              <div class="entryheadline">
                <li>
                  <p>
                    <a id="pgf.back/pgfgettransformentries"></a>
                    <span class="hl-def"
                      ><span class="declare"
                        ><kbd>\pgfgettransformentries</kbd></span
                      >{<span class="angle">&langle;</span><i>macro for a</i
                      ><span class="angle">&rangle;</span>}{<span class="angle"
                        >&langle;</span
                      ><i>macro for b</i
                      ><span class="angle">&rangle;</span>}{<span class="angle"
                        >&langle;</span
                      ><i>macro for c</i
                      ><span class="angle">&rangle;</span>}{<span class="angle"
                        >&langle;</span
                      ><i>macro for d</i
                      ><span class="angle">&rangle;</span>}{<span class="angle"
                        >&langle;</span
                      ><i>macro for shift x</i
                      ><span class="angle">&rangle;</span>}{<span class="angle"
                        >&langle;</span
                      ><i>macro for shift y</i
                      ><span class="angle">&rangle;</span>}</span
                    >
                    <a
                      class="anchor-link"
                      data-html-link="pgf.back/pgfgettransformentries"
                      href="#\pgfgettransformentries"
                      id="\pgfgettransformentries"
                      >&para;</a
                    >
                  </p>
                </li>
              </div>
              <p>
                This command is similar to
                <span class="verb">\pgfgettransform</span> except that it stores
                the current coordinate transformation matrix in a set of six
                macros.
              </p>
              <p>
                The matrix can later on be reinstalled using
                <span class="verb">\pgfsettransformentries</span>. Furthermore,
                all these macros (or just a few of them) can be used as
                arguments for <span class="verb">\pgftransformcm</span>.
              </p>
            </ul>
          </div>

          <div class="manualentry">
            <ul class="list" style="list-style-type: none">
              <div class="entryheadline">
                <li>
                  <p>
                    <a id="pgf.back/pgfsettransformentries"></a>
                    <span class="hl-def"
                      ><span class="declare"
                        ><kbd>\pgfsettransformentries</kbd></span
                      >{<span class="angle">&langle;</span><i>a</i
                      ><span class="angle">&rangle;</span>}{<span class="angle"
                        >&langle;</span
                      ><i>b</i><span class="angle">&rangle;</span>}{<span
                        class="angle"
                        >&langle;</span
                      ><i>c</i><span class="angle">&rangle;</span>}{<span
                        class="angle"
                        >&langle;</span
                      ><i>d</i><span class="angle">&rangle;</span>}{<span
                        class="angle"
                        >&langle;</span
                      ><i>shiftx</i><span class="angle">&rangle;</span>}{<span
                        class="angle"
                        >&langle;</span
                      ><i>shifty</i><span class="angle">&rangle;</span>}</span
                    >
                    <a
                      class="anchor-link"
                      data-html-link="pgf.back/pgfsettransformentries"
                      href="#\pgfsettransformentries"
                      id="\pgfsettransformentries"
                      >&para;</a
                    >
                  </p>
                </li>
              </div>
              <p>
                Reinstalls a coordinate transformation matrix that was
                previously saved using the storage command
                <span class="verb">\pgfgettransformentries</span>. This command
                can also be used to replace any previously existing coordinate
                transformation matrix (it is thus equivalent to
                <span class="verb">\pgftransformreset</span> followed by
                <span class="verb">\pgftransformcm</span>).
              </p>
            </ul>
          </div>
          <h6 id="autosec-8270">
            <span
              ><span class="sectionnumber" id="sec-108.2.5">108.2.5</span>
              Applying Coordinate Transformation to Points</span
            ><a
              class="anchor-link"
              data-html-link="sec-108.2.5"
              data-pdf-destination="subsubsection.108.2.5"
              data-pdf-page="1162"
              href="#sec-108.2.5"
              >&para;</a
            >
          </h6>
          <a id="pgfmanual-autopage-8270"></a>

          <div class="manualentry">
            <ul class="list" style="list-style-type: none">
              <div class="entryheadline">
                <li>
                  <p>
                    <a id="pgf.back/pgfpointtransformed"></a>
                    <span class="hl-def"
                      ><span class="declare"
                        ><kbd>\pgfpointtransformed</kbd></span
                      >{<span class="angle">&langle;</span><i>point</i
                      ><span class="angle">&rangle;</span>}</span
                    >
                    <a
                      class="anchor-link"
                      data-html-link="pgf.back/pgfpointtransformed"
                      href="#\pgfpointtransformed"
                      id="\pgfpointtransformed"
                      >&para;</a
                    >
                  </p>
                </li>
              </div>
              <p>
                Applies current transformation matrix to {<span class="angle"
                  >&langle;</span
                ><i>point</i><span class="angle">&rangle;</span>} \((x,y)\) and
                returns a transformed point \((ax+cy+s,bx+dy+t)\). Normally,
                this is done automatically by commands like
                <span class="verb">\pgfpathlineto</span> or
                <span class="verb">\pgfpathmoveto</span>, but sometimes you may
                wish to access a transformed point yourself.
              </p>
            </ul>
          </div>
          <h6 id="autosec-8271">
            <a id="section-adjustment-transformations"></a
            ><span
              ><span class="sectionnumber" id="sec-108.2.6">108.2.6</span>
              Computing Adjustments for Coordinate Transformations</span
            ><a
              class="anchor-link"
              data-html-link="sec-108.2.6"
              data-pdf-destination="subsubsection.108.2.6"
              data-pdf-page="1162"
              href="#sec-108.2.6"
              >&para;</a
            >
          </h6>
          <a id="pgfmanual-autopage-8271"></a>

          <div class="manualentry">
            <ul class="list" style="list-style-type: none">
              <div class="entryheadline">
                <li>
                  <p>
                    <a id="pgf.back/pgftransformationadjustments"></a>
                    <span class="hl-def"
                      ><span class="declare"
                        ><kbd>\pgftransformationadjustments</kbd></span
                      ></span
                    >
                    <a
                      class="anchor-link"
                      data-html-link="pgf.back/pgftransformationadjustments"
                      href="#\pgftransformationadjustments"
                      id="\pgftransformationadjustments"
                      >&para;</a
                    >
                  </p>
                </li>
              </div>
              <p>
                This command computes &ldquo;adjustments&rdquo; for the current
                transformation matrix so that even when you install a
                transformation matrix that scales everything by a certain
                factor, you can still draw something of &ldquo;an absolute
                size&rdquo;. Suppose for instance that you install a
                transformation matrix that scales everything by a factor of 4
                and you now wish to draw a horizontal line of length 1cm. Then,
                if you do not reset the transformation matrix, you can draw a
                line of logical length 2.5mm, which will then get scaled to a
                line of 1cm. Things get more difficult in case you scale things
                only, say, vertically. In this case, the adjustment necessary
                for horizontal lines is different from the one needed for
                vertical lines.
              </p>
              <p>
                This function computes two scaling factors, one for horizontal
                lines and one for vertical lines, and stores them in the
                following macros:
              </p>

              <div class="manualentry">
                <ul class="list" style="list-style-type: none">
                  <div class="entryheadline">
                    <li>
                      <p>
                        <a
                          id="pgf.back/pgfhorizontaltransformationadjustment"
                        ></a>
                        <span class="hl-def"
                          ><span class="declare"
                            ><kbd
                              >\pgfhorizontaltransformationadjustment</kbd
                            ></span
                          ></span
                        >
                        <a
                          class="anchor-link"
                          data-html-link="pgf.back/pgfhorizontaltransformationadjustment"
                          href="#\pgfhorizontaltransformationadjustment"
                          id="\pgfhorizontaltransformationadjustment"
                          >&para;</a
                        >
                      </p>
                    </li>
                  </div>
                  <p>
                    When you scale the length of a horizontal line by this
                    factor in the current transformation, you compensate for the
                    scaling. Formally, it is \(1/\|\mathit
                    {transform}(1,0)\|_2\), where \(\mathit {transform}\)
                    applies the current transformations matrix to the given
                    number.
                  </p>

                  <figure class="example">
                    <div class="example-image">
                      <p>
                        <span
                          class="lateximagesource"
                          id="lateximage-pgfmanual-3323"
                          ><!--
--><img
                            alt="(-tikz-&nbsp;diagram)"
                            class="lateximage"
                            height="78.938"
                            loading="lazy"
                            src="pgfmanual-images/image-3323.png"
                            style
                            width="154.006"
                        /></span>
                      </p>
                    </div>

                    <div class="example-code">
                      <button class="clipboardButton" type="button">
                        copy
                      </button>
                      <code>
                        <br />
                        <span class="textcolor" style="color: #000000"
                          >\begin</span
                        >{<span class="textcolor" style="color: #0000b2"
                          ><a href="tikz-scopes#pgf.tikzpicture"
                            >tikzpicture</a
                          ></span
                        >}<br />
                        <span class="spaces">  </span><span
                          class="textcolor"
                          style="color: #0000b2"
                          ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                        > [<span class="textcolor" style="color: #008000"
                          ><a href="tikz-paths#pgf.help:lines"
                            >help lines</a
                          ></span
                        >] <span class="textcolor" style="color: #800080"
                          >(0,0)</span
                        > <span class="textcolor" style="color: #000000"
                          ><a href="tikz-paths#pgf.grid">grid</a></span
                        >
                        <span class="textcolor" style="color: #800080"
                          >(2,2)</span
                        >;<br />
                        <span class="spaces">  </span><span
                          class="textcolor"
                          style="color: #000000"
                          >\begin</span
                        >{<span class="textcolor" style="color: #0000b2"
                          ><a href="tikz-scopes#pgf.scope">scope</a></span
                        >}[<span class="textcolor" style="color: #008000"
                          ><a href="tikz-transformations#pgf.xscale"
                            >xscale</a
                          ></span
                        >=<span class="textcolor" style="color: #008000">2</span
                        >,<span class="textcolor" style="color: #008000"
                          ><a href="tikz-actions#pgf.thick">thick</a></span
                        >]<br />
                        <span class="spaces">    </span><span
                          class="textcolor"
                          style="color: #0000b2"
                          ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                        > [<span class="textcolor" style="color: #008000"
                          >red</span
                        >] <span class="textcolor" style="color: #800080"
                          >(1,1)</span
                        > <span class="textcolor" style="color: #000000"
                          ><a href="tikz-paths#pgf.--">--</a></span
                        >
                        <span class="textcolor" style="color: #000000">++</span
                        ><span class="textcolor" style="color: #800080"
                          >(1,0)</span
                        >;<br />
                        <br />
                        <span class="spaces">    </span><span
                          class="textcolor"
                          style="color: #0000b2"
                          ><a
                            href="base-transformations#pgf.back/pgftransformationadjustments"
                            >\pgftransformationadjustments</a
                          ></span
                        ><br />
                        <span class="spaces">    </span><span
                          class="textcolor"
                          style="color: #0000b2"
                          ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                        > [<span class="textcolor" style="color: #008000"
                          >blue</span
                        >] <span class="textcolor" style="color: #800080"
                          >(1,0)</span
                        > <span class="textcolor" style="color: #000000"
                          ><a href="tikz-paths#pgf.--">--</a></span
                        >
                        <span class="textcolor" style="color: #000000">++</span
                        ><span class="textcolor" style="color: #800080"
                          >(\pgfhorizontaltransformationadjustment,0)</span
                        >;<br />
                        <span class="spaces">  </span><span
                          class="textcolor"
                          style="color: #000000"
                          >\end</span
                        >{<span class="textcolor" style="color: #0000b2"
                          ><a href="tikz-scopes#pgf.scope">scope</a></span
                        >}<br />
                        <span class="textcolor" style="color: #000000"
                          >\end</span
                        >{<span class="textcolor" style="color: #0000b2"
                          ><a href="tikz-scopes#pgf.tikzpicture"
                            >tikzpicture</a
                          ></span
                        >}<br />
                      </code>
                    </div>
                  </figure>

                  <figure class="example">
                    <div class="example-image">
                      <p>
                        <span
                          class="lateximagesource"
                          id="lateximage-pgfmanual-3324"
                          ><!--
--><img
                            alt="(-tikz-&nbsp;diagram)"
                            class="lateximage"
                            height="78.530"
                            loading="lazy"
                            src="pgfmanual-images/image-3324.png"
                            style
                            width="154.538"
                        /></span>
                      </p>
                    </div>

                    <div class="example-code">
                      <button class="clipboardButton" type="button">
                        copy
                      </button>
                      <code>
                        <br />
                        <span class="textcolor" style="color: #000000"
                          >\begin</span
                        >{<span class="textcolor" style="color: #0000b2"
                          ><a href="tikz-scopes#pgf.tikzpicture"
                            >tikzpicture</a
                          ></span
                        >}<br />
                        <span class="spaces">  </span><span
                          class="textcolor"
                          style="color: #0000b2"
                          ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                        > [<span class="textcolor" style="color: #008000"
                          ><a href="tikz-paths#pgf.help:lines"
                            >help lines</a
                          ></span
                        >] <span class="textcolor" style="color: #800080"
                          >(0,0)</span
                        > <span class="textcolor" style="color: #000000"
                          ><a href="tikz-paths#pgf.grid">grid</a></span
                        >
                        <span class="textcolor" style="color: #800080"
                          >(2,2)</span
                        >;<br />
                        <span class="spaces">  </span><span
                          class="textcolor"
                          style="color: #000000"
                          >\begin</span
                        >{<span class="textcolor" style="color: #0000b2"
                          ><a href="tikz-scopes#pgf.scope">scope</a></span
                        >}[<span class="textcolor" style="color: #008000"
                          ><a href="tikz-transformations#pgf.xscale"
                            >xscale</a
                          ></span
                        >=<span class="textcolor" style="color: #008000">2</span
                        >,<span class="textcolor" style="color: #008000"
                          ><a href="tikz-actions#pgf.thick">thick</a></span
                        >,<span class="textcolor" style="color: #008000"
                          ><a href="tikz-transformations#pgf.rotate"
                            >rotate</a
                          ></span
                        >=<span class="textcolor" style="color: #008000"
                          >90</span
                        >]<br />
                        <span class="spaces">    </span><span
                          class="textcolor"
                          style="color: #0000b2"
                          ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                        > [<span class="textcolor" style="color: #008000"
                          >red</span
                        >] <span class="textcolor" style="color: #800080"
                          >(1,1)</span
                        > <span class="textcolor" style="color: #000000"
                          ><a href="tikz-paths#pgf.--">--</a></span
                        >
                        <span class="textcolor" style="color: #000000">++</span
                        ><span class="textcolor" style="color: #800080"
                          >(1,0)</span
                        >;<br />
                        <br />
                        <span class="spaces">    </span><span
                          class="textcolor"
                          style="color: #0000b2"
                          ><a
                            href="base-transformations#pgf.back/pgftransformationadjustments"
                            >\pgftransformationadjustments</a
                          ></span
                        ><br />
                        <span class="spaces">    </span><span
                          class="textcolor"
                          style="color: #0000b2"
                          ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                        > [<span class="textcolor" style="color: #008000"
                          >blue</span
                        >] <span class="textcolor" style="color: #800080"
                          >(1,0)</span
                        > <span class="textcolor" style="color: #000000"
                          ><a href="tikz-paths#pgf.--">--</a></span
                        >
                        <span class="textcolor" style="color: #000000">++</span
                        ><span class="textcolor" style="color: #800080"
                          >(\pgfhorizontaltransformationadjustment,0)</span
                        >;<br />
                        <span class="spaces">  </span><span
                          class="textcolor"
                          style="color: #000000"
                          >\end</span
                        >{<span class="textcolor" style="color: #0000b2"
                          ><a href="tikz-scopes#pgf.scope">scope</a></span
                        >}<br />
                        <span class="textcolor" style="color: #000000"
                          >\end</span
                        >{<span class="textcolor" style="color: #0000b2"
                          ><a href="tikz-scopes#pgf.tikzpicture"
                            >tikzpicture</a
                          ></span
                        >}<br />
                      </code>
                    </div>
                  </figure>
                </ul>
              </div>

              <div class="manualentry">
                <ul class="list" style="list-style-type: none">
                  <div class="entryheadline">
                    <li>
                      <p>
                        <a
                          id="pgf.back/pgfverticaltransformationadjustment"
                        ></a>
                        <span class="hl-def"
                          ><span class="declare"
                            ><kbd
                              >\pgfverticaltransformationadjustment</kbd
                            ></span
                          ></span
                        >
                        <a
                          class="anchor-link"
                          data-html-link="pgf.back/pgfverticaltransformationadjustment"
                          href="#\pgfverticaltransformationadjustment"
                          id="\pgfverticaltransformationadjustment"
                          >&para;</a
                        >
                      </p>
                    </li>
                  </div>
                  <p>\(1/\|\mathit {transform}(0,1)\|_2\).</p>
                </ul>
              </div>
              <p>
                Note that the &ldquo;right&rdquo; way to draw a line of absolute
                length 1cm in a transformed coordinate system is to first
                compute the start point and to then reset the transformation
                matrix. The transformation adjustments computed here are
                important only in situations where you cannot do this, for
                instance when an <span class="verb">outer xsep</span> must be
                set.
              </p>
            </ul>
          </div>
          <h5 id="autosec-8276">
            <span
              ><span class="sectionnumber" id="sec-108.3">108.3</span> Canvas
              Transformations</span
            ><a
              class="anchor-link"
              data-html-link="sec-108.3"
              data-pdf-destination="subsection.108.3"
              data-pdf-page="1163"
              href="#sec-108.3"
              >&para;</a
            >
          </h5>
          <a id="pgfmanual-autopage-8276"></a>

          <p>
            The canvas transformation matrix is not managed by
            <span class="textsc">pgf</span>, but by the output format like
            <span class="textsc">pdf</span> or PostScript. All that
            <span class="textsc">pgf</span> does is to call appropriate
            low-level <span class="verb">\pgfsys@</span> commands to change the
            canvas transformation matrix.
          </p>

          <p>
            Unlike coordinate transformations, canvas transformations apply to
            &ldquo;everything&rdquo;, including images, text, shadings, line
            thickness, and so on. The idea is that a canvas transformation
            really stretches and deforms the canvas after the graphic is
            finished.
          </p>

          <p>
            Unlike coordinate transformations, canvas transformations are local
            to the current <span class="verb">{pgfscope}</span>, not to the
            current
            <span class="latexlogofont"
              ><span class="latexlogo"
                >T<span class="latexlogosub">e</span>X</span
              ></span
            >
            group. This is due to the fact that they are managed by the backend
            driver, not by
            <span class="latexlogofont"
              ><span class="latexlogo"
                >T<span class="latexlogosub">e</span>X</span
              ></span
            >
            or <span class="textsc">pgf</span>.
          </p>

          <p>
            Unlike the coordinate transformation matrix, it is not possible to
            &ldquo;reset&rdquo; the canvas transformation matrix. The only way
            to change it is to concatenate it with another canvas transformation
            matrix or to end the current <span class="verb">{pgfscope}</span>.
          </p>

          <p>
            Unlike coordinate transformations,
            <span class="textsc">pgf</span> does not &ldquo;keep track&rdquo; of
            canvas transformations. In particular, it will not be able to
            correctly save the coordinates of shapes or nodes when a canvas
            transformation is used.
          </p>
          <h6 id="autosec-8277">
            <span
              ><span class="sectionnumber" id="sec-108.3.1">108.3.1</span>
              Applying General Canvas Transformations</span
            ><a
              class="anchor-link"
              data-html-link="sec-108.3.1"
              data-pdf-destination="subsubsection.108.3.1"
              data-pdf-page="1163"
              href="#sec-108.3.1"
              >&para;</a
            >
          </h6>
          <a id="pgfmanual-autopage-8277"></a>

          <p>
            <span class="textsc">pgf</span> does not offer many commands for
            modifying the canvas transformation matrix. Instead, different
            commands allow you to concatenate the canvas transformation matrix
            with a coordinate transformation matrix (and there are numerous
            commands for specifying a coordinate transformation, see the
            previous section).
          </p>

          <div class="manualentry">
            <ul class="list" style="list-style-type: none">
              <div class="entryheadline">
                <li>
                  <p>
                    <a id="pgf.back/pgflowlevelsynccm"></a>
                    <span class="hl-def"
                      ><span class="declare"
                        ><kbd>\pgflowlevelsynccm</kbd></span
                      ></span
                    >
                    <a
                      class="anchor-link"
                      data-html-link="pgf.back/pgflowlevelsynccm"
                      href="#\pgflowlevelsynccm"
                      id="\pgflowlevelsynccm"
                      >&para;</a
                    >
                  </p>
                </li>
              </div>
              <p>
                This command concatenates the canvas transformation matrix with
                the current coordinate transformation matrix. Afterward, the
                coordinate transformation matrix is reset.
              </p>
              <p>
                The effect of this command is to &ldquo;synchronize&rdquo; the
                coordinate transformation matrix and the canvas transformation
                matrix. All transformations that were previously applied by the
                coordinate transformations matrix are now applied by the canvas
                transformation matrix.
              </p>

              <figure class="example">
                <div class="example-image">
                  <p>
                    <span
                      class="lateximagesource"
                      id="lateximage-pgfmanual-3325"
                      ><!--
--><img
                        alt="(-tikz-&nbsp;diagram)"
                        class="lateximage"
                        height="81.362"
                        loading="lazy"
                        src="pgfmanual-images/image-3325.png"
                        style
                        width="117.842"
                    /></span>
                  </p>
                </div>

                <div class="example-code">
                  <button class="clipboardButton" type="button">copy</button>
                  <code>
                    <br />
                    <span class="textcolor" style="color: #000000">\begin</span
                    >{<span class="textcolor" style="color: #0000b2"
                      ><a href="tikz-scopes#pgf.tikzpicture"
                        >tikzpicture</a
                      ></span
                    >}<br />
                    <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                      ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                    >[<span class="textcolor" style="color: #008000"
                      ><a href="tikz-paths#pgf.help:lines">help lines</a></span
                    >] <span class="textcolor" style="color: #800080"
                      >(0,0)</span
                    > <span class="textcolor" style="color: #000000"
                      ><a href="tikz-paths#pgf.grid">grid</a></span
                    >
                    <span class="textcolor" style="color: #800080">(3,2)</span
                    >;<br />
                    <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                      ><a href="base-actions#pgf.back/pgfsetlinewidth"
                        >\pgfsetlinewidth</a
                      ></span
                    >{<span class="textcolor" style="color: #000000">1pt</span
                    >}<br />
                    <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                      ><a href="base-transformations#pgf.back/pgftransformscale"
                        >\pgftransformscale</a
                      ></span
                    >{<span class="textcolor" style="color: #000000">5</span
                    >}<br />
                    <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                      ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                    ><span class="spaces">      </span><span
                      class="textcolor"
                      style="color: #800080"
                      >(0,0)</span
                    > <span class="textcolor" style="color: #000000"
                      ><a href="tikz-paths#pgf.--">--</a></span
                    >
                    <span class="textcolor" style="color: #800080"
                      >(0.4,.2)</span
                    >;<br />
                    <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                      ><a
                        href="base-transformations#pgf.back/pgftransformxshift"
                        >\pgftransformxshift</a
                      ></span
                    >{<span class="textcolor" style="color: #000000">0</span
                    >.<span class="textcolor" style="color: #000000">2cm</span
                    >}<br />
                    <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                      ><a href="base-transformations#pgf.back/pgflowlevelsynccm"
                        >\pgflowlevelsynccm</a
                      ></span
                    ><br />
                    <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                      ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                    >[<span class="textcolor" style="color: #008000">red</span
                    >] <span class="textcolor" style="color: #800080"
                      >(0,0)</span
                    > <span class="textcolor" style="color: #000000"
                      ><a href="tikz-paths#pgf.--">--</a></span
                    >
                    <span class="textcolor" style="color: #800080"
                      >(0.4,.2)</span
                    >;<br />
                    <span class="textcolor" style="color: #000000">\end</span
                    >{<span class="textcolor" style="color: #0000b2"
                      ><a href="tikz-scopes#pgf.tikzpicture"
                        >tikzpicture</a
                      ></span
                    >}<br />
                  </code>
                </div>
              </figure>
            </ul>
          </div>

          <div class="manualentry">
            <ul class="list" style="list-style-type: none">
              <div class="entryheadline">
                <li>
                  <p>
                    <a id="pgf.back/pgflowlevel"></a>
                    <span class="hl-def"
                      ><span class="declare"><kbd>\pgflowlevel</kbd></span
                      >{<span class="angle">&langle;</span
                      ><i>transformation code</i
                      ><span class="angle">&rangle;</span>}</span
                    >
                    <a
                      class="anchor-link"
                      data-html-link="pgf.back/pgflowlevel"
                      href="#\pgflowlevel"
                      id="\pgflowlevel"
                      >&para;</a
                    >
                  </p>
                </li>
              </div>
              <p>
                This command concatenates the canvas transformation matrix with
                the coordinate transformation specified by
                <span class="angle">&langle;</span><i>transformation code</i
                ><span class="angle">&rangle;</span>.
              </p>

              <figure class="example">
                <div class="example-image">
                  <p>
                    <span
                      class="lateximagesource"
                      id="lateximage-pgfmanual-3326"
                      ><!--
--><img
                        alt="(-tikz-&nbsp;diagram)"
                        class="lateximage"
                        height="81.362"
                        loading="lazy"
                        src="pgfmanual-images/image-3326.png"
                        style
                        width="117.698"
                    /></span>
                  </p>
                </div>

                <div class="example-code">
                  <button class="clipboardButton" type="button">copy</button>
                  <code>
                    <br />
                    <span class="textcolor" style="color: #000000">\begin</span
                    >{<span class="textcolor" style="color: #0000b2"
                      ><a href="tikz-scopes#pgf.tikzpicture"
                        >tikzpicture</a
                      ></span
                    >}<br />
                    <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                      ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                    >[<span class="textcolor" style="color: #008000"
                      ><a href="tikz-paths#pgf.help:lines">help lines</a></span
                    >] <span class="textcolor" style="color: #800080"
                      >(0,0)</span
                    > <span class="textcolor" style="color: #000000"
                      ><a href="tikz-paths#pgf.grid">grid</a></span
                    >
                    <span class="textcolor" style="color: #800080">(3,2)</span
                    >;<br />
                    <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                      ><a href="base-actions#pgf.back/pgfsetlinewidth"
                        >\pgfsetlinewidth</a
                      ></span
                    >{<span class="textcolor" style="color: #000000">1pt</span
                    >}<br />
                    <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                      ><a href="base-transformations#pgf.back/pgflowlevel"
                        >\pgflowlevel</a
                      ></span
                    >{<span class="textcolor" style="color: #0000b2"
                      ><a href="base-transformations#pgf.back/pgftransformscale"
                        >\pgftransformscale</a
                      ></span
                    >{<span class="textcolor" style="color: #000000">5</span
                    >}}<br />
                    <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                      ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                    ><span class="spaces">      </span><span
                      class="textcolor"
                      style="color: #800080"
                      >(0,0)</span
                    > <span class="textcolor" style="color: #000000"
                      ><a href="tikz-paths#pgf.--">--</a></span
                    >
                    <span class="textcolor" style="color: #800080"
                      >(0.4,.2)</span
                    >;<br />
                    <span class="textcolor" style="color: #000000">\end</span
                    >{<span class="textcolor" style="color: #0000b2"
                      ><a href="tikz-scopes#pgf.tikzpicture"
                        >tikzpicture</a
                      ></span
                    >}<br />
                  </code>
                </div>
              </figure>
            </ul>
          </div>

          <div class="manualentry">
            <ul class="list" style="list-style-type: none">
              <div class="entryheadline">
                <li>
                  <p>
                    <a id="pgf.back/pgflowlevelobj"></a>
                    <span class="hl-def"
                      ><span class="declare"><kbd>\pgflowlevelobj</kbd></span
                      >{<span class="angle">&langle;</span
                      ><i>transformation code</i
                      ><span class="angle">&rangle;</span>}{<span class="angle"
                        >&langle;</span
                      ><i>code</i><span class="angle">&rangle;</span>}</span
                    >
                    <a
                      class="anchor-link"
                      data-html-link="pgf.back/pgflowlevelobj"
                      href="#\pgflowlevelobj"
                      id="\pgflowlevelobj"
                      >&para;</a
                    >
                  </p>
                </li>
              </div>
              <p>
                This command creates a local
                <span class="verb">{pgfscope}</span>. Inside this scope,
                <span class="verb">\pgflowlevel</span> is first called with the
                argument <span class="angle">&langle;</span
                ><i>transformation code</i><span class="angle">&rangle;</span>,
                then the <span class="angle">&langle;</span><i>code</i
                ><span class="angle">&rangle;</span> is inserted.
              </p>

              <figure class="example">
                <div class="example-image">
                  <p>
                    <span
                      class="lateximagesource"
                      id="lateximage-pgfmanual-3327"
                      ><!--
--><img
                        alt="(-tikz-&nbsp;diagram)"
                        class="lateximage"
                        height="81.362"
                        loading="lazy"
                        src="pgfmanual-images/image-3327.png"
                        style
                        width="154.298"
                    /></span>
                  </p>
                </div>

                <div class="example-code">
                  <button class="clipboardButton" type="button">copy</button>
                  <code>
                    <br />
                    <span class="textcolor" style="color: #000000">\begin</span
                    >{<span class="textcolor" style="color: #0000b2"
                      ><a href="tikz-scopes#pgf.tikzpicture"
                        >tikzpicture</a
                      ></span
                    >}<br />
                    <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                      ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                    >[<span class="textcolor" style="color: #008000"
                      ><a href="tikz-paths#pgf.help:lines">help lines</a></span
                    >] <span class="textcolor" style="color: #800080"
                      >(0,0)</span
                    > <span class="textcolor" style="color: #000000"
                      ><a href="tikz-paths#pgf.grid">grid</a></span
                    >
                    <span class="textcolor" style="color: #800080">(3,2)</span
                    >;<br />
                    <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                      ><a href="base-actions#pgf.back/pgfsetlinewidth"
                        >\pgfsetlinewidth</a
                      ></span
                    >{<span class="textcolor" style="color: #000000">1pt</span
                    >}<br />
                    <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                      ><a href="base-transformations#pgf.back/pgflowlevelobj"
                        >\pgflowlevelobj</a
                      ></span
                    >{<span class="textcolor" style="color: #0000b2"
                      ><a href="base-transformations#pgf.back/pgftransformscale"
                        >\pgftransformscale</a
                      ></span
                    >{<span class="textcolor" style="color: #000000">5</span
                    >}}<span class="spaces">    </span>{<span
                      class="textcolor"
                      style="color: #0000b2"
                      ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                    > <span class="textcolor" style="color: #800080"
                      >(0,0)</span
                    > <span class="textcolor" style="color: #000000"
                      ><a href="tikz-paths#pgf.--">--</a></span
                    >
                    <span class="textcolor" style="color: #800080"
                      >(0.4,.2)</span
                    >;}<br />
                    <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                      ><a href="base-transformations#pgf.back/pgflowlevelobj"
                        >\pgflowlevelobj</a
                      ></span
                    >{<span class="textcolor" style="color: #0000b2"
                      ><a
                        href="base-transformations#pgf.back/pgftransformxshift"
                        >\pgftransformxshift</a
                      ></span
                    >{<span class="textcolor" style="color: #000000">-1cm</span
                    >}}{<span class="textcolor" style="color: #0000b2"
                      ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                    > <span class="textcolor" style="color: #800080"
                      >(0,0)</span
                    > <span class="textcolor" style="color: #000000"
                      ><a href="tikz-paths#pgf.--">--</a></span
                    >
                    <span class="textcolor" style="color: #800080"
                      >(0.4,.2)</span
                    >;}<br />
                    <span class="textcolor" style="color: #000000">\end</span
                    >{<span class="textcolor" style="color: #0000b2"
                      ><a href="tikz-scopes#pgf.tikzpicture"
                        >tikzpicture</a
                      ></span
                    >}<br />
                  </code>
                </div>
              </figure>
            </ul>
          </div>

          <div class="manualentry">
            <ul class="list" style="list-style-type: none">
              <div class="entryheadline">
                <li>
                  <p>
                    <a id="pgf.pgflowlevelscope"></a>
                    <span class="hl-def"
                      ><kbd
                        >\begin{<span class="declare">pgflowlevelscope</span
                        >}</kbd
                      >{<span class="angle">&langle;</span
                      ><i>transformation code</i
                      ><span class="angle">&rangle;</span>}</span
                    >
                    <a
                      class="anchor-link"
                      data-html-link="pgf.pgflowlevelscope"
                      href="#pgf.pgflowlevelscope"
                      id="pgf.pgflowlevelscope"
                      >&para;</a
                    >
                  </p>
                </li>
              </div>

              <div class="entryheadline">
                <li>
                  <p>
                    <span class="hl-def"
                      ><kbd> </kbd><span class="angle">&langle;</span
                      ><i>environment contents</i
                      ><span class="angle">&rangle;</span></span
                    >
                  </p>
                </li>
              </div>

              <div class="entryheadline">
                <li>
                  <p>
                    <span class="hl-def"
                      ><kbd
                        >\end{<span class="declare">pgflowlevelscope</span
                        >}</kbd
                      ></span
                    >
                  </p>
                </li>
              </div>
              <p>
                This environment first surrounds the
                <span class="angle">&langle;</span><i>environment contents</i
                ><span class="angle">&rangle;</span> by a
                <span class="verb">{pgfscope}</span>. Then it calls
                <span class="verb">\pgflowlevel</span> with the argument
                <span class="angle">&langle;</span><i>transformation code</i
                ><span class="angle">&rangle;</span>.
              </p>

              <figure class="example">
                <div class="example-image">
                  <p>
                    <span
                      class="lateximagesource"
                      id="lateximage-pgfmanual-3328"
                      ><!--
--><img
                        alt="(-tikz-&nbsp;diagram)"
                        class="lateximage"
                        height="81.362"
                        loading="lazy"
                        src="pgfmanual-images/image-3328.png"
                        style
                        width="154.298"
                    /></span>
                  </p>
                </div>

                <div class="example-code">
                  <button class="clipboardButton" type="button">copy</button>
                  <code>
                    <br />
                    <span class="textcolor" style="color: #000000">\begin</span
                    >{<span class="textcolor" style="color: #0000b2"
                      ><a href="tikz-scopes#pgf.tikzpicture"
                        >tikzpicture</a
                      ></span
                    >}<br />
                    <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                      ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                    >[<span class="textcolor" style="color: #008000"
                      ><a href="tikz-paths#pgf.help:lines">help lines</a></span
                    >] <span class="textcolor" style="color: #800080"
                      >(0,0)</span
                    > <span class="textcolor" style="color: #000000"
                      ><a href="tikz-paths#pgf.grid">grid</a></span
                    >
                    <span class="textcolor" style="color: #800080">(3,2)</span
                    >;<br />
                    <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                      ><a href="base-actions#pgf.back/pgfsetlinewidth"
                        >\pgfsetlinewidth</a
                      ></span
                    >{<span class="textcolor" style="color: #000000">1pt</span
                    >}<br />
                    <span class="spaces">  </span><span class="textcolor" style="color: #000000"
                      >\begin</span
                    >{<span class="textcolor" style="color: #0000b2"
                      ><a href="base-transformations#pgf.pgflowlevelscope"
                        >pgflowlevelscope</a
                      ></span
                    >}{<span class="textcolor" style="color: #0000b2"
                      ><a href="base-transformations#pgf.back/pgftransformscale"
                        >\pgftransformscale</a
                      ></span
                    >{<span class="textcolor" style="color: #000000">5</span
                    >}}<br />
                    <span class="spaces">    </span><span
                      class="textcolor"
                      style="color: #0000b2"
                      ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                    > <span class="textcolor" style="color: #800080"
                      >(0,0)</span
                    > <span class="textcolor" style="color: #000000"
                      ><a href="tikz-paths#pgf.--">--</a></span
                    >
                    <span class="textcolor" style="color: #800080"
                      >(0.4,.2)</span
                    >;<br />
                    <span class="spaces">  </span><span class="textcolor" style="color: #000000"
                      >\end</span
                    >{<span class="textcolor" style="color: #0000b2"
                      ><a href="base-transformations#pgf.pgflowlevelscope"
                        >pgflowlevelscope</a
                      ></span
                    >}<br />
                    <span class="spaces">  </span><span class="textcolor" style="color: #000000"
                      >\begin</span
                    >{<span class="textcolor" style="color: #0000b2"
                      ><a href="base-transformations#pgf.pgflowlevelscope"
                        >pgflowlevelscope</a
                      ></span
                    >}{<span class="textcolor" style="color: #0000b2"
                      ><a
                        href="base-transformations#pgf.back/pgftransformxshift"
                        >\pgftransformxshift</a
                      ></span
                    >{<span class="textcolor" style="color: #000000">-1cm</span
                    >}}<br />
                    <span class="spaces">    </span><span
                      class="textcolor"
                      style="color: #0000b2"
                      ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                    > <span class="textcolor" style="color: #800080"
                      >(0,0)</span
                    > <span class="textcolor" style="color: #000000"
                      ><a href="tikz-paths#pgf.--">--</a></span
                    >
                    <span class="textcolor" style="color: #800080"
                      >(0.4,.2)</span
                    >;<br />
                    <span class="spaces">  </span><span class="textcolor" style="color: #000000"
                      >\end</span
                    >{<span class="textcolor" style="color: #0000b2"
                      ><a href="base-transformations#pgf.pgflowlevelscope"
                        >pgflowlevelscope</a
                      ></span
                    >}<br />
                    <span class="textcolor" style="color: #000000">\end</span
                    >{<span class="textcolor" style="color: #0000b2"
                      ><a href="tikz-scopes#pgf.tikzpicture"
                        >tikzpicture</a
                      ></span
                    >}<br />
                  </code>
                </div>
              </figure>
            </ul>
          </div>

          <div class="manualentry">
            <ul class="list" style="list-style-type: none">
              <div class="entryheadline">
                <li>
                  <p>
                    <span class="hl-def"
                      ><kbd><span class="declare">\pgflowlevelscope</span></kbd
                      >{<span class="angle">&langle;</span
                      ><i>transformation code</i
                      ><span class="angle">&rangle;</span>}</span
                    >
                  </p>
                </li>
              </div>

              <div class="entryheadline">
                <li>
                  <p>
                    <span class="hl-def"
                      ><kbd> </kbd><span class="angle">&langle;</span
                      ><i>environment contents</i
                      ><span class="angle">&rangle;</span></span
                    >
                  </p>
                </li>
              </div>

              <div class="entryheadline">
                <li>
                  <p>
                    <span class="hl-def"
                      ><kbd
                        ><span class="declare">\endpgflowlevelscope</span></kbd
                      ></span
                    >
                  </p>
                </li>
              </div>
              <p>
                Plain
                <span class="latexlogofont"
                  ><span class="latexlogo"
                    >T<span class="latexlogosub">e</span>X</span
                  ></span
                >
                version of the environment.
              </p>
            </ul>
          </div>

          <div class="manualentry">
            <ul class="list" style="list-style-type: none">
              <div class="entryheadline">
                <li>
                  <p>
                    <span class="hl-def"
                      ><kbd
                        ><span class="declare"
                          >\startpgflowlevelscope</span
                        ></kbd
                      >{<span class="angle">&langle;</span
                      ><i>transformation code</i
                      ><span class="angle">&rangle;</span>}</span
                    >
                  </p>
                </li>
              </div>

              <div class="entryheadline">
                <li>
                  <p>
                    <span class="hl-def"
                      ><kbd> </kbd><span class="angle">&langle;</span
                      ><i>environment contents</i
                      ><span class="angle">&rangle;</span></span
                    >
                  </p>
                </li>
              </div>

              <div class="entryheadline">
                <li>
                  <p>
                    <span class="hl-def"
                      ><kbd
                        ><span class="declare">\stoppgflowlevelscope</span></kbd
                      ></span
                    >
                  </p>
                </li>
              </div>
              <p>
                Con<span class="latexlogofont"
                  ><span class="latexlogo"
                    >T<span class="latexlogosub">e</span>X</span
                  ></span
                >t version of the environment.
              </p>
            </ul>
          </div>
          <h6 id="autosec-8286">
            <a id="section-base-view"></a
            ><span
              ><span class="sectionnumber" id="sec-108.3.2">108.3.2</span>
              Establishing View Boxes</span
            ><a
              class="anchor-link"
              data-html-link="sec-108.3.2"
              data-pdf-destination="subsubsection.108.3.2"
              data-pdf-page="1164"
              href="#sec-108.3.2"
              >&para;</a
            >
          </h6>
          <a id="pgfmanual-autopage-8286"></a>

          <p>
            A <em>view box</em> is like a &ldquo;window&rdquo; through which you
            see a graphic. To establish a view box, you specify a rectangle
            &ndash; which is the window &ndash; and another rectangle
            surrounding the to-be-viewed graphic. The graphic will then be
            rescaled and shifted in such a way that the to-be-viewed rectangle
            matches the view box&rsquo;s rectangle as well as possible. Note
            that establishing a view box does, indeed, cause a canvas
            transformation to be installed.
          </p>

          <p>
            View boxes are only seldom needed in normal graphics. Their main
            application is with animations since you can <em>animate</em> the
            to-be-viewed rectangle. This makes it easy to create animations in
            which you zoom in, zoom out, and pan a graphic.
          </p>

          <div class="manualentry">
            <ul class="list" style="list-style-type: none">
              <div class="entryheadline">
                <li>
                  <p>
                    <a id="pgf.pgfviewboxscope"></a>
                    <span class="hl-def"
                      ><kbd
                        >\begin{<span class="declare">pgfviewboxscope</span
                        >}</kbd
                      >{<span class="angle">&langle;</span><i>\(ll_1\)</i
                      ><span class="angle">&rangle;</span>}{<span class="angle"
                        >&langle;</span
                      ><i>\(ur_1\)</i><span class="angle">&rangle;</span>}{<span
                        class="angle"
                        >&langle;</span
                      ><i>\(ll_2\)</i><span class="angle">&rangle;</span>}{<span
                        class="angle"
                        >&langle;</span
                      ><i>\(ur_2\)</i><span class="angle">&rangle;</span>}{<span
                        class="angle"
                        >&langle;</span
                      ><i>meet or slice</i
                      ><span class="angle">&rangle;</span>}</span
                    >
                    <a
                      class="anchor-link"
                      data-html-link="pgf.pgfviewboxscope"
                      href="#pgf.pgfviewboxscope"
                      id="pgf.pgfviewboxscope"
                      >&para;</a
                    >
                  </p>
                </li>
              </div>

              <div class="entryheadline">
                <li>
                  <p>
                    <span class="hl-def"
                      ><kbd> </kbd><span class="angle">&langle;</span
                      ><i>environment contents</i
                      ><span class="angle">&rangle;</span></span
                    >
                  </p>
                </li>
              </div>

              <div class="entryheadline">
                <li>
                  <p>
                    <span class="hl-def"
                      ><kbd
                        >\end{<span class="declare">pgfviewboxscope</span>}</kbd
                      ></span
                    >
                  </p>
                </li>
              </div>
              <p>
                Inside the viewbox scope, the source rectangle (with the two
                <span class="textsc">pgf</span> points \(ll_1\) and \(ur_1\) as
                corners) will be translated and scaled so that it becomes
                centered on the target rectangle (with the corners \(ll_2\) and
                \(ur_2\)) and will, for <span class="verb">meet</span> as last
                parameter, be as large as possible so that it fits inside the
                target and, for <span class="verb">slice</span>, be as small as
                possible so that it encompasses the target.
              </p>

              <figure class="example">
                <div class="example-image">
                  <p>
                    <span
                      class="lateximagesource"
                      id="lateximage-pgfmanual-3329"
                      ><!--
Hi
--><img
                        alt="(-tikz-&nbsp;diagram)"
                        class="lateximage"
                        height="79.852"
                        loading="lazy"
                        src="pgfmanual-images/image-3329.png"
                        style
                        width="90.940"
                    /></span>
                  </p>
                </div>

                <div class="example-code">
                  <button class="clipboardButton" type="button">copy</button>
                  <code>
                    <br />
                    <span class="textcolor" style="color: #0000b2"
                      ><a href="tikz-scopes#pgf.back/tikz">\tikz</a></span
                    > {<br />
                    <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                      ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                    > [<span class="textcolor" style="color: #008000"
                      >red</span
                    >, <span class="textcolor" style="color: #008000"
                      ><a href="tikz-actions#pgf.very:thick"
                        >very thick</a
                      ></span
                    >] <span class="textcolor" style="color: #800080"
                      >(0,0)</span
                    > <span class="textcolor" style="color: #000000"
                      ><a href="tikz-paths#pgf.rectangle">rectangle</a></span
                    >
                    <span class="textcolor" style="color: #800080"
                      >(20mm,20mm)</span
                    >;<br />
                    <span class="spaces">  </span><span class="textcolor" style="color: #000000"
                      >\begin</span
                    >{<span class="textcolor" style="color: #0000b2"
                      ><a href="base-transformations#pgf.pgfviewboxscope"
                        >pgfviewboxscope</a
                      ></span
                    >}<br />
                    <span class="spaces">    </span>{<span
                      class="textcolor"
                      style="color: #0000b2"
                      ><a href="base-points#pgf.back/pgfpoint"
                        >\pgfpoint</a
                      ></span
                    >{<span class="textcolor" style="color: #000000">5mm</span
                    >}{<span class="textcolor" style="color: #000000">5mm</span
                    >}}{<span class="textcolor" style="color: #0000b2"
                      ><a href="base-points#pgf.back/pgfpoint"
                        >\pgfpoint</a
                      ></span
                    >{<span class="textcolor" style="color: #000000">25mm</span
                    >}{<span class="textcolor" style="color: #000000">15mm</span
                    >}} <span class="example-code-comment">% Source</span
                    ><br />
                    <span class="spaces">    </span>{<span
                      class="textcolor"
                      style="color: #0000b2"
                      ><a href="base-points#pgf.back/pgfpoint"
                        >\pgfpoint</a
                      ></span
                    >{<span class="textcolor" style="color: #000000">0mm</span
                    >}{<span class="textcolor" style="color: #000000">0mm</span
                    >}}{<span class="textcolor" style="color: #0000b2"
                      ><a href="base-points#pgf.back/pgfpoint"
                        >\pgfpoint</a
                      ></span
                    >{<span class="textcolor" style="color: #000000">20mm</span
                    >}{<span class="textcolor" style="color: #000000">20mm</span
                    >}} <span class="example-code-comment">% Target</span
                    ><br />
                    <span class="spaces">    </span>{<span
                      class="textcolor"
                      style="color: #000000"
                      ><a href="library-views#pgf.meet">meet</a></span
                    >}<br />
                    <span class="spaces">    </span><span
                      class="textcolor"
                      style="color: #0000b2"
                      ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                    > [<span class="textcolor" style="color: #008000"
                      >blue</span
                    >, <span class="textcolor" style="color: #008000"
                      ><a href="tikz-actions#pgf.very:thick"
                        >very thick</a
                      ></span
                    >] <span class="textcolor" style="color: #800080"
                      >(5mm,5mm)</span
                    > <span class="textcolor" style="color: #000000"
                      ><a href="tikz-paths#pgf.rectangle">rectangle</a></span
                    >
                    <span class="textcolor" style="color: #800080"
                      >(25mm,15mm)</span
                    >;<br />
                    <span class="spaces">    </span><span
                      class="textcolor"
                      style="color: #0000b2"
                      ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                    > [<span class="textcolor" style="color: #008000"
                      ><a href="tikz-actions#pgf.thick">thick</a></span
                    >] <span class="textcolor" style="color: #800080"
                      >(1,1)</span
                    > <span class="textcolor" style="color: #000000"
                      ><a href="tikz-paths#pgf.circle">circle</a></span
                    >
                    [<span class="textcolor" style="color: #008000"
                      ><a href="tikz-coordinates#pgf.radius">radius</a></span
                    >=<span class="textcolor" style="color: #008000">8mm</span
                    >] <span class="textcolor" style="color: #000000"
                      ><a href="tikz-coordinates#pgf.node">node</a></span
                    >
                    {<span class="textcolor" style="color: #000000">Hi</span
                    >};<br />
                    <span class="spaces">  </span><span class="textcolor" style="color: #000000"
                      >\end</span
                    >{<span class="textcolor" style="color: #0000b2"
                      ><a href="base-transformations#pgf.pgfviewboxscope"
                        >pgfviewboxscope</a
                      ></span
                    >}<span class="spaces"> </span>}<br />
                  </code>
                </div>
              </figure>

              <figure class="example">
                <div class="example-image">
                  <p>
                    <span
                      class="lateximagesource"
                      id="lateximage-pgfmanual-3330"
                      ><!--
Hi
--><img
                        alt="(-tikz-&nbsp;diagram)"
                        class="lateximage"
                        height="125.738"
                        loading="lazy"
                        src="pgfmanual-images/image-3330.png"
                        style
                        width="179.193"
                    /></span>
                  </p>
                </div>

                <div class="example-code">
                  <button class="clipboardButton" type="button">copy</button>
                  <code>
                    <br />
                    <span class="textcolor" style="color: #0000b2"
                      ><a href="tikz-scopes#pgf.back/tikz">\tikz</a></span
                    > {<br />
                    <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                      ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                    > [<span class="textcolor" style="color: #008000"
                      >red</span
                    >, <span class="textcolor" style="color: #008000"
                      ><a href="tikz-actions#pgf.very:thick"
                        >very thick</a
                      ></span
                    >] <span class="textcolor" style="color: #800080"
                      >(0,0)</span
                    > <span class="textcolor" style="color: #000000"
                      ><a href="tikz-paths#pgf.rectangle">rectangle</a></span
                    >
                    <span class="textcolor" style="color: #800080"
                      >(20mm,20mm)</span
                    >;<br />
                    <span class="spaces">  </span><span class="textcolor" style="color: #000000"
                      >\begin</span
                    >{<span class="textcolor" style="color: #0000b2"
                      ><a href="base-transformations#pgf.pgfviewboxscope"
                        >pgfviewboxscope</a
                      ></span
                    >}<br />
                    <span class="spaces">    </span>{<span
                      class="textcolor"
                      style="color: #0000b2"
                      ><a href="base-points#pgf.back/pgfpoint"
                        >\pgfpoint</a
                      ></span
                    >{<span class="textcolor" style="color: #000000">5mm</span
                    >}{<span class="textcolor" style="color: #000000">5mm</span
                    >}}{<span class="textcolor" style="color: #0000b2"
                      ><a href="base-points#pgf.back/pgfpoint"
                        >\pgfpoint</a
                      ></span
                    >{<span class="textcolor" style="color: #000000">25mm</span
                    >}{<span class="textcolor" style="color: #000000">15mm</span
                    >}} <span class="example-code-comment">% Source</span
                    ><br />
                    <span class="spaces">    </span>{<span
                      class="textcolor"
                      style="color: #0000b2"
                      ><a href="base-points#pgf.back/pgfpoint"
                        >\pgfpoint</a
                      ></span
                    >{<span class="textcolor" style="color: #000000">0mm</span
                    >}{<span class="textcolor" style="color: #000000">0mm</span
                    >}}{<span class="textcolor" style="color: #0000b2"
                      ><a href="base-points#pgf.back/pgfpoint"
                        >\pgfpoint</a
                      ></span
                    >{<span class="textcolor" style="color: #000000">20mm</span
                    >}{<span class="textcolor" style="color: #000000">20mm</span
                    >}} <span class="example-code-comment">% Target</span
                    ><br />
                    <span class="spaces">    </span>{<span
                      class="textcolor"
                      style="color: #000000"
                      ><a href="library-views#pgf.slice">slice</a></span
                    >}<br />
                    <span class="spaces">    </span><span
                      class="textcolor"
                      style="color: #0000b2"
                      ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                    > [<span class="textcolor" style="color: #008000"
                      >blue</span
                    >, <span class="textcolor" style="color: #008000"
                      ><a href="tikz-actions#pgf.very:thick"
                        >very thick</a
                      ></span
                    >] <span class="textcolor" style="color: #800080"
                      >(5mm,5mm)</span
                    > <span class="textcolor" style="color: #000000"
                      ><a href="tikz-paths#pgf.rectangle">rectangle</a></span
                    >
                    <span class="textcolor" style="color: #800080"
                      >(25mm,15mm)</span
                    >;<br />
                    <span class="spaces">    </span><span
                      class="textcolor"
                      style="color: #0000b2"
                      ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                    > [<span class="textcolor" style="color: #008000"
                      ><a href="tikz-actions#pgf.thick">thick</a></span
                    >] <span class="textcolor" style="color: #800080"
                      >(1,1)</span
                    > <span class="textcolor" style="color: #000000"
                      ><a href="tikz-paths#pgf.circle">circle</a></span
                    >
                    [<span class="textcolor" style="color: #008000"
                      ><a href="tikz-coordinates#pgf.radius">radius</a></span
                    >=<span class="textcolor" style="color: #008000">8mm</span
                    >] <span class="textcolor" style="color: #000000"
                      ><a href="tikz-coordinates#pgf.node">node</a></span
                    >
                    {<span class="textcolor" style="color: #000000">Hi</span
                    >};<br />
                    <span class="spaces">  </span><span class="textcolor" style="color: #000000"
                      >\end</span
                    >{<span class="textcolor" style="color: #0000b2"
                      ><a href="base-transformations#pgf.pgfviewboxscope"
                        >pgfviewboxscope</a
                      ></span
                    >}<span class="spaces"> </span>}<br />
                  </code>
                </div>
              </figure>
            </ul>
          </div>

          <div class="manualentry">
            <ul class="list" style="list-style-type: none">
              <div class="entryheadline">
                <li>
                  <p>
                    <span class="hl-def"
                      ><kbd><span class="declare">\pgfviewboxscope</span></kbd
                      >{<span class="angle">&langle;</span><i>\(ll_1\)</i
                      ><span class="angle">&rangle;</span>}{<span class="angle"
                        >&langle;</span
                      ><i>\(ur_1\)</i><span class="angle">&rangle;</span>}{<span
                        class="angle"
                        >&langle;</span
                      ><i>\(ll_2\)</i><span class="angle">&rangle;</span>}{<span
                        class="angle"
                        >&langle;</span
                      ><i>\(ur_2\)</i><span class="angle">&rangle;</span>}{<span
                        class="angle"
                        >&langle;</span
                      ><i>meet or slice</i
                      ><span class="angle">&rangle;</span>}</span
                    >
                  </p>
                </li>
              </div>

              <div class="entryheadline">
                <li>
                  <p>
                    <span class="hl-def"
                      ><kbd> </kbd><span class="angle">&langle;</span
                      ><i>environment contents</i
                      ><span class="angle">&rangle;</span></span
                    >
                  </p>
                </li>
              </div>

              <div class="entryheadline">
                <li>
                  <p>
                    <span class="hl-def"
                      ><kbd
                        ><span class="declare">\endpgfviewboxscope</span></kbd
                      ></span
                    >
                  </p>
                </li>
              </div>
              <p>
                Plain
                <span class="latexlogofont"
                  ><span class="latexlogo"
                    >T<span class="latexlogosub">e</span>X</span
                  ></span
                >
                version of the environment.
              </p>
            </ul>
          </div>

          <div class="manualentry">
            <ul class="list" style="list-style-type: none">
              <div class="entryheadline">
                <li>
                  <p>
                    <span class="hl-def"
                      ><kbd
                        ><span class="declare">\startpgfviewboxscope</span></kbd
                      >{<span class="angle">&langle;</span><i>\(ll_1\)</i
                      ><span class="angle">&rangle;</span>}{<span class="angle"
                        >&langle;</span
                      ><i>\(ur_1\)</i><span class="angle">&rangle;</span>}{<span
                        class="angle"
                        >&langle;</span
                      ><i>\(ll_2\)</i><span class="angle">&rangle;</span>}{<span
                        class="angle"
                        >&langle;</span
                      ><i>\(ur_2\)</i><span class="angle">&rangle;</span>}{<span
                        class="angle"
                        >&langle;</span
                      ><i>meet or slice</i
                      ><span class="angle">&rangle;</span>}</span
                    >
                  </p>
                </li>
              </div>

              <div class="entryheadline">
                <li>
                  <p>
                    <span class="hl-def"
                      ><kbd> </kbd><span class="angle">&langle;</span
                      ><i>environment contents</i
                      ><span class="angle">&rangle;</span></span
                    >
                  </p>
                </li>
              </div>

              <div class="entryheadline">
                <li>
                  <p>
                    <span class="hl-def"
                      ><kbd
                        ><span class="declare">\stoppgfviewboxscope</span></kbd
                      ></span
                    >
                  </p>
                </li>
              </div>
              <p>
                Con<span class="latexlogofont"
                  ><span class="latexlogo"
                    >T<span class="latexlogosub">e</span>X</span
                  ></span
                >t version of the environment.
              </p>
            </ul>
          </div>
          <h5 id="autosec-8291">
            <a id="section-nonlinear-transformations"></a
            ><span
              ><span class="sectionnumber" id="sec-108.4">108.4</span> Nonlinear
              Transformations</span
            ><a
              class="anchor-link"
              data-html-link="sec-108.4"
              data-pdf-destination="subsection.108.4"
              data-pdf-page="1165"
              href="#sec-108.4"
              >&para;</a
            >
          </h5>
          <a id="pgfmanual-autopage-8291"></a>

          <p>
            In order to use nonlinear transformations, you first have to load
            the following <span class="textsc">pgf</span> module:
          </p>

          <div class="manualentry">
            <ul class="list" style="list-style-type: none">
              <div class="entryheadline">
                <li>
                  <p>
                    <a id="pgf.nonlineartransformations"></a>
                    <span class="hl-def"
                      ><kbd
                        >\usepgfmodule{<span class="declare"
                          >nonlineartransformations</span
                        >} %
                        <span class="latexlogofont"
                          ><span class="latexlogo"
                            >L<span class="latexlogosup">a</span>T<span
                              class="latexlogosub"
                              >e</span
                            >X</span
                          ></span
                        >
                        and plain
                        <span class="latexlogofont"
                          ><span class="latexlogo"
                            >T<span class="latexlogosub">e</span>X</span
                          ></span
                        >
                        and pure pgf</kbd
                      ></span
                    >
                    <a
                      class="anchor-link"
                      data-html-link="pgf.nonlineartransformations"
                      href="#pgf.nonlineartransformations"
                      id="pgf.nonlineartransformations"
                      >&para;</a
                    >
                  </p>
                </li>
              </div>

              <div class="entryheadline">
                <li>
                  <p>
                    <span class="hl-def"
                      ><kbd
                        >\usepgfmodule[<span class="declare"
                          >nonlineartransformations</span
                        >] % Con<span class="latexlogofont"
                          ><span class="latexlogo"
                            >T<span class="latexlogosub">e</span>X</span
                          ></span
                        >t and pure pgf</kbd
                      ></span
                    >
                  </p>
                </li>
              </div>
              <p>
                Loads the necessary functionality for nonlinear transformations.
              </p>
            </ul>
          </div>
          <h6 id="autosec-8292">
            <span
              ><span class="sectionnumber" id="sec-108.4.1">108.4.1</span>
              Introduction</span
            ><a
              class="anchor-link"
              data-html-link="sec-108.4.1"
              data-pdf-destination="subsubsection.108.4.1"
              data-pdf-page="1165"
              href="#sec-108.4.1"
              >&para;</a
            >
          </h6>
          <a id="pgfmanual-autopage-8292"></a>

          <p>
            The difference between the coordinate transformations introduced in
            Section&nbsp;<a
              href="base-transformations#section-linear-coordinate-transformations"
              >108.2</a
            >
            above to nonlinear transformations is, of course, that the
            transformations can be nonlinear. An example of a nonlinear
            transformation is the transformation underlying polar coordinates: A
            polar coordinate \((r,d)\) gets transformed to the canvas position
            \((d\cos r,d\sin r)\), which is clearly not a linear transformation.
          </p>

          <p>
            Nonlinear transformations work somewhat like the normal linear
            coordinate transformations in the sense that they apply to
            coordinate and thereby to the construction of paths, but not to
            things like text or line width or shadings. (Indeed, it is not
            possible to apply nonlinear transformations to, say, text.)
          </p>

          <p>
            This means that there is a fundamental difference between, on the
            one hand, calling a function like
            <span class="verb">\pgfpointpolar</span> or specifying a coordinate
            as <span class="verb">(45:2)</span> in
            <span class="tikzname">TikZ</span> and, on the other hand,
            installing the nonlinear transformation &ldquo;polar
            coordinates&rdquo; using the command
            <span class="verb">\pgftransformnonlinear</span>: In a coordinate
            like <span class="verb">(45:2)</span>
            the user explicitly says &ldquo;please evaluate this one coordinate
            in polar coordinate and then continue in the normal coordinate
            system with the result&rdquo;. Otherwise nothing changes and a line
            between two points specified in this way is still a straight line.
          </p>

          <p>
            Things are quite different when we install a polar
            <em>transformation</em> using
            <span class="verb">\pgftransformnonlinear</span>. Now, even a
            seemingly low-level Cartesian coordinate
            <span class="verb">\pgfqpoint{1pt}{1pt}</span> will get transformed.
            Even more drastically, what is specified as a straight line like
          </p>

          <figure class="example">
            <div class="example-code">
              <button class="clipboardButton" type="button">copy</button>

              <code>
                <br />
                <span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                > <span class="textcolor" style="color: #800080"
                  >(0,1)</span
                > <span class="textcolor" style="color: #000000"
                  ><a href="tikz-paths#pgf.--">--</a></span
                >
                <span class="textcolor" style="color: #800080">(1,1)</span
                >;<br />
              </code>
            </div>
          </figure>

          <p>can become curved since <em>everything</em> gets transformed.</p>
          <h6 id="autosec-8293">
            <span
              ><span class="sectionnumber" id="sec-108.4.2">108.4.2</span>
              Installing Nonlinear Transformation</span
            ><a
              class="anchor-link"
              data-html-link="sec-108.4.2"
              data-pdf-destination="subsubsection.108.4.2"
              data-pdf-page="1165"
              href="#sec-108.4.2"
              >&para;</a
            >
          </h6>
          <a id="pgfmanual-autopage-8293"></a>

          <div class="hidden"></div>

          <div class="manualentry">
            <ul class="list" style="list-style-type: none">
              <div class="entryheadline">
                <li>
                  <p>
                    <a id="pgf.back/pgftransformnonlinear"></a>
                    <span class="hl-def"
                      ><span class="declare"
                        ><kbd>\pgftransformnonlinear</kbd></span
                      >{<span class="angle">&langle;</span
                      ><i>transformation code</i
                      ><span class="angle">&rangle;</span>}</span
                    >
                    <a
                      class="anchor-link"
                      data-html-link="pgf.back/pgftransformnonlinear"
                      href="#\pgftransformnonlinear"
                      id="\pgftransformnonlinear"
                      >&para;</a
                    >
                  </p>
                </li>
              </div>
              <p>
                This command adds the <span class="angle">&langle;</span
                ><i>transformation code</i
                ><span class="angle">&rangle;</span> to the list of non-linear
                transformations currently in force. Thus, similar to linear
                coordinate transformations, each additional call to this
                function adds another transformation to the current
                <span class="latexlogofont"
                  ><span class="latexlogo"
                    >T<span class="latexlogosub">e</span>X</span
                  ></span
                >
                scope and the effect ends at the end of the current scope. In
                practice, however, you typically will not have more than one
                active nonlinear transformation.
              </p>
              <p>
                The job of the <span class="angle">&langle;</span
                ><i>transformation code</i
                ><span class="angle">&rangle;</span> is to map a
                point&nbsp;\(p\) given in the registers
                <span class="verb">\pgf@x</span> and
                <span class="verb">\pgf@y</span> to a new
                coordinate&nbsp;\(f(p)\), which should be returned in
                <span class="verb">\pgf@x</span> and
                <span class="verb">\pgf@y</span> as well. As an example, suppose
                we wish to install polar coordinates as the nonlinear
                transformation. For this, we need a bit of code:
              </p>

              <figure class="example">
                <div class="example-code">
                  <button class="clipboardButton" type="button">copy</button>
                  <code>
                    <br />
                    <span class="textcolor" style="color: #0000b2">\def</span
                    ><span class="textcolor" style="color: #0000b2"
                      >\polartransformation</span
                    >{<span class="example-code-comment">%</span><br />
                    <span class="spaces">  </span><span class="example-code-comment"
                      >% \pgf@x will contain the radius</span
                    ><br />
                    <span class="spaces">  </span><span class="example-code-comment"
                      >% \pgf@y will contain the distance</span
                    ><br />
                    <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                      >\pgfmathsincos</span
                    ><span class="textcolor" style="color: #000000">@</span
                    >{<span class="textcolor" style="color: #0000b2">\pgf</span
                    ><span class="textcolor" style="color: #000000"
                      >@sys@tonumber</span
                    ><span class="textcolor" style="color: #0000b2">\pgf</span
                    ><span class="textcolor" style="color: #000000">@x</span
                    >}<span class="example-code-comment">%</span><br />
                    <span class="spaces">  </span><span class="example-code-comment"
                      >% pgfmathresultx is now the cosine of radius and</span
                    ><br />
                    <span class="spaces">  </span><span class="example-code-comment"
                      >% pgfmathresulty is the sine of radius</span
                    ><br />
                    <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                      >\pgf</span
                    ><span class="textcolor" style="color: #000000">@x=</span
                    ><span class="textcolor" style="color: #0000b2"
                      >\pgfmathresultx</span
                    ><span class="textcolor" style="color: #0000b2">\pgf</span
                    ><span class="textcolor" style="color: #000000">@y</span
                    ><span class="example-code-comment">%</span><br />
                    <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                      >\pgf</span
                    ><span class="textcolor" style="color: #000000">@y=</span
                    ><span class="textcolor" style="color: #0000b2"
                      >\pgfmathresulty</span
                    ><span class="textcolor" style="color: #0000b2">\pgf</span
                    ><span class="textcolor" style="color: #000000">@y</span
                    ><span class="example-code-comment">%</span><br />
                    }<br />
                  </code>
                </div>
              </figure>
              <p>
                (In case you wonder why you cannot just call
                <span class="verb">\pgfpointpolar</span> at this point: You can,
                but this function internally uses
                <span class="verb">\pgf@x</span> and
                <span class="verb">\pgf@y</span> in complicated ways, so you
                would first have to safe them so some other registers. Also, the
                above is faster.)
              </p>
              <p>
                If we were to call this function again, we would get something
                funny like &ldquo;polar-polar coordinates&rdquo;, so let&rsquo;s
                not do this. Let us instead have a look at the effect this call
                has: Once a nonlinear transformation is installed, all
                subsequent path constructions are affected by this
                transformation. In particular, a normal grid now becomes the
                typical &ldquo;polar grid&rdquo;.
              </p>

              <figure class="example">
                <div class="example-image">
                  <p>
                    <span
                      class="lateximagesource"
                      id="lateximage-pgfmanual-3331"
                      ><!--
--><img
                        alt="(-tikz-&nbsp;diagram)"
                        class="lateximage"
                        height="78.818"
                        loading="lazy"
                        src="pgfmanual-images/image-3331.png"
                        style
                        width="116.474"
                    /></span>
                  </p>
                </div>

                <div class="example-code">
                  <button class="clipboardButton" type="button">copy</button>
                  <code>
                    <span class="codepreamble"
                      >\usepgfmodule {nonlineartransformations} </span
                    ><br />
                    <span class="textcolor" style="color: #000000">\begin</span
                    >{<span class="textcolor" style="color: #0000b2"
                      ><a href="tikz-scopes#pgf.tikzpicture"
                        >tikzpicture</a
                      ></span
                    >}<br />
                    <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                      ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                    > [<span class="textcolor" style="color: #008000"
                      ><a href="tikz-paths#pgf.help:lines">help lines</a></span
                    >] <span class="textcolor" style="color: #800080"
                      >(0,0)</span
                    > <span class="textcolor" style="color: #000000"
                      ><a href="tikz-paths#pgf.grid">grid</a></span
                    >
                    <span class="textcolor" style="color: #800080">(3,2)</span
                    >;<br />
                    <span class="spaces">  </span><span class="example-code-comment"
                      >% Start nonlinear transformation</span
                    ><br />
                    <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                      ><a
                        href="base-transformations#pgf.back/pgftransformnonlinear"
                        >\pgftransformnonlinear</a
                      ></span
                    >{<span class="textcolor" style="color: #0000b2"
                      >\polartransformation</span
                    >}<span class="example-code-comment">% see above</span
                    ><br />
                    <br />
                    <span class="spaces">  </span><span class="example-code-comment"
                      >% Draw something with this transformation in force</span
                    ><br />
                    <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                      ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                    > <span class="textcolor" style="color: #800080"
                      >(0pt,0mm)</span
                    > <span class="textcolor" style="color: #000000"
                      ><a href="tikz-paths#pgf.grid">grid</a></span
                    >
                    [<span class="textcolor" style="color: #008000"
                      ><a href="tikz-paths#pgf.xstep">xstep</a></span
                    >=<span class="textcolor" style="color: #008000">10pt</span
                    >, <span class="textcolor" style="color: #008000"
                      ><a href="tikz-paths#pgf.ystep">ystep</a></span
                    >=<span class="textcolor" style="color: #008000">5mm</span
                    >] <span class="textcolor" style="color: #800080"
                      >(90pt, 20mm)</span
                    >;<br />
                    <span class="textcolor" style="color: #000000">\end</span
                    >{<span class="textcolor" style="color: #0000b2"
                      ><a href="tikz-scopes#pgf.tikzpicture"
                        >tikzpicture</a
                      ></span
                    >}<br />
                  </code>
                </div>
              </figure>
            </ul>
          </div>
          <h6 id="autosec-8296">
            <span
              ><span class="sectionnumber" id="sec-108.4.3">108.4.3</span>
              Applying Nonlinear Transformations to Points</span
            ><a
              class="anchor-link"
              data-html-link="sec-108.4.3"
              data-pdf-destination="subsubsection.108.4.3"
              data-pdf-page="1166"
              href="#sec-108.4.3"
              >&para;</a
            >
          </h6>
          <a id="pgfmanual-autopage-8296"></a>

          <div class="manualentry">
            <ul class="list" style="list-style-type: none">
              <div class="entryheadline">
                <li>
                  <p>
                    <a id="pgf.back/pgfpointtransformednonlinear"></a>
                    <span class="hl-def"
                      ><span class="declare"
                        ><kbd>\pgfpointtransformednonlinear</kbd></span
                      >{<span class="angle">&langle;</span><i>point</i
                      ><span class="angle">&rangle;</span>}</span
                    >
                    <a
                      class="anchor-link"
                      data-html-link="pgf.back/pgfpointtransformednonlinear"
                      href="#\pgfpointtransformednonlinear"
                      id="\pgfpointtransformednonlinear"
                      >&para;</a
                    >
                  </p>
                </li>
              </div>
              <p>
                Works like <span class="verb">\pgfpointtransformed</span>, but
                also applies the current nonlinear transformation; that is, it
                first applies the current linear transformation and then the
                current nonlinear transformations. Note that, just like
                <span class="verb">\pgfpointtransformed</span>, you normally do
                not call this function directly since it is called internally by
                the path drawing commands.
              </p>
            </ul>
          </div>
          <h6 id="autosec-8297">
            <span
              ><span class="sectionnumber" id="sec-108.4.4">108.4.4</span>
              Applying Nonlinear Transformations to Paths</span
            ><a
              class="anchor-link"
              data-html-link="sec-108.4.4"
              data-pdf-destination="subsubsection.108.4.4"
              data-pdf-page="1166"
              href="#sec-108.4.4"
              >&para;</a
            >
          </h6>
          <a id="pgfmanual-autopage-8297"></a>

          <p>
            When a nonlinear transformation is installed, the normal path
            construction commands like
            <span class="verb">\pgfpathmoveto</span> get adjusted so that the
            &ldquo;honour&rdquo; the nonlinear transformations currently in
            force. For <span class="verb">\pgfpathmoveto</span> this is pretty
            simple: Instead of just applying the linear transformation matrix to
            the point to which the path should &ldquo;jump&rdquo; next, we also
            apply the nonlinear transformation. However, for a command like
            <span class="verb">\pgfpathlineto</span>, things are much more
            difficult: A straight line will no longer be a straight line!
          </p>

          <p>
            In order to make straight lines &ldquo;bend&rdquo;, the following
            changes are in force while a nonlinear transformation is installed:
          </p>
          <ul class="enumerate" style="list-style-type: none">
            <li>
              <p>
                <span class="listmarker">1.</span> Whenever a straight line
                between two points \(p\) and \(q\) should be added to the path,
                either through <span class="verb">\pgfpathlineto</span> or
                through <span class="verb">\pgfpathclose</span>, we replace this
                straight line by a &ldquo;degenerated curve&rdquo; from \(p\) to
                \(q\) whose control points are at one third and two third of the
                distance between \(p\) and \(q\) on the line between \(p\) and
                \(q\). In this way, while nonlinear transformations are in
                force, we only need to transform curves.
              </p>
            </li>
            <li>
              <p>
                <span class="listmarker">2.</span> Next, suppose we wish to
                transform a curve from \(p\) to \(q\) with supports \(s\) and
                \(t\). For this, we simply apply the nonlinear transformation
                \(f\) to all four points and draw a line with the results. Note
                that this mapping is actually not quite satisfactory for long
                lines that are strongly curved:
              </p>

              <figure class="example">
                <div class="example-image">
                  <p>
                    <span
                      class="lateximagesource"
                      id="lateximage-pgfmanual-3332"
                      ><!--
--><img
                        alt="(-tikz-&nbsp;diagram)"
                        class="lateximage"
                        height="78.698"
                        loading="lazy"
                        src="pgfmanual-images/image-3332.png"
                        style
                        width="116.330"
                    /></span>
                  </p>
                </div>

                <div class="example-code">
                  <button class="clipboardButton" type="button">copy</button>
                  <code>
                    <span class="codepreamble"
                      >\usepgfmodule {nonlineartransformations} </span
                    ><br />
                    <span class="textcolor" style="color: #000000">\begin</span
                    >{<span class="textcolor" style="color: #0000b2"
                      ><a href="tikz-scopes#pgf.tikzpicture"
                        >tikzpicture</a
                      ></span
                    >}<br />
                    <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                      ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                    > [<span class="textcolor" style="color: #008000"
                      ><a href="tikz-paths#pgf.help:lines">help lines</a></span
                    >] <span class="textcolor" style="color: #800080"
                      >(0,0)</span
                    > <span class="textcolor" style="color: #000000"
                      ><a href="tikz-paths#pgf.grid">grid</a></span
                    >
                    <span class="textcolor" style="color: #800080">(3,2)</span
                    >;<br />
                    <span class="spaces">  </span>{<br />
                    <span class="spaces">    </span><span
                      class="textcolor"
                      style="color: #0000b2"
                      ><a
                        href="base-transformations#pgf.back/pgftransformnonlinear"
                        >\pgftransformnonlinear</a
                      ></span
                    >{<span class="textcolor" style="color: #0000b2"
                      >\polartransformation</span
                    >}<br />
                    <span class="spaces">    </span><span
                      class="example-code-comment"
                      >% The curve with the controls computed by pgf: a nice
                      quarter arc</span
                    ><br />
                    <span class="spaces">    </span><span
                      class="textcolor"
                      style="color: #0000b2"
                      ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                    > [<span class="textcolor" style="color: #008000"
                      >red</span
                    >] <span class="textcolor" style="color: #800080"
                      >(0,20mm)</span
                    > <span class="textcolor" style="color: #000000"
                      ><a href="tikz-paths#pgf.--">--</a></span
                    >
                    <span class="textcolor" style="color: #800080"
                      >(90pt,20mm)</span
                    >;<br />
                    <span class="spaces">  </span>}<br />
                    <span class="spaces">  </span><span class="example-code-comment"
                      >% Here is the curve with controls just transformed:</span
                    ><br />
                    <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                      ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                    > <span class="textcolor" style="color: #800080"
                      >(0:20mm)</span
                    ><span class="spaces"> </span>..<span class="spaces"> </span><span
                      class="textcolor"
                      style="color: #000000"
                      ><a href="library-edges#pgf.controls">controls</a></span
                    >
                    <span class="textcolor" style="color: #800080"
                      >(30pt:20mm)</span
                    > <span class="textcolor" style="color: #000000"
                      ><a href="pgfkeys#pgf.and">and</a></span
                    >
                    <span class="textcolor" style="color: #800080"
                      >(60pt:20mm)</span
                    ><span class="spaces"> </span>..<span class="spaces"> </span><span
                      class="textcolor"
                      style="color: #800080"
                      >(90pt:20mm)</span
                    >;<br />
                    <span class="textcolor" style="color: #000000">\end</span
                    >{<span class="textcolor" style="color: #0000b2"
                      ><a href="tikz-scopes#pgf.tikzpicture"
                        >tikzpicture</a
                      ></span
                    >}<br />
                  </code>
                </div>
              </figure>
              <p>
                As the example shows, the control points now lie on the arc; but
                in reality they should point along the tangents at the start and
                the end. This is exactly when
                <span class="textsc">pgf</span> does through the computation
                described above.
              </p>
            </li>
            <li>
              <p>
                <span class="listmarker">3.</span> To overcome the effect of the
                control points being &ldquo;off&rdquo;, it is necessary to split
                up longer curves into smaller parts, which are drawn
                individually to increase the accuracy. When such splitting
                occurs, can be configured using the following command:
              </p>

              <div class="manualentry">
                <ul class="enumerate" style="list-style-type: none">
                  <div class="entryheadline">
                    <li>
                      <p>
                        <a id="pgf.back/pgfsettransformnonlinearflatness"></a>
                        <span class="hl-def"
                          ><span class="declare"
                            ><kbd>\pgfsettransformnonlinearflatness</kbd></span
                          >{<span class="angle">&langle;</span><i>dimension</i
                          ><span class="angle">&rangle;</span>} (initially
                          5pt)</span
                        >
                        <a
                          class="anchor-link"
                          data-html-link="pgf.back/pgfsettransformnonlinearflatness"
                          href="#\pgfsettransformnonlinearflatness"
                          id="\pgfsettransformnonlinearflatness"
                          >&para;</a
                        >
                      </p>
                    </li>
                  </div>
                  <p>
                    Whenever in a to-be-drawn curve the \(L^\infty \)-distance
                    (maximum of the distances in \(x\)- and \(y\)-directions)
                    between the start of a curve and its first control point or
                    between the first and second control points or between the
                    second control point and the end is more than
                    <span class="angle">&langle;</span><i>distance</i
                    ><span class="angle">&rangle;</span>, the curve gets split
                    in the middle (more precisely, at time \(t= 0.5\)) and we
                    draw the two parts individually (for them, splitting may
                    occur again, if the curve is still too long).
                  </p>

                  <figure class="example">
                    <div class="example-image">
                      <p>
                        <span
                          class="lateximagesource"
                          id="lateximage-pgfmanual-3333"
                          ><!--
--><img
                            alt="(-tikz-&nbsp;diagram)"
                            class="lateximage"
                            height="78.698"
                            loading="lazy"
                            src="pgfmanual-images/image-3333.png"
                            style
                            width="116.330"
                        /></span>
                      </p>
                    </div>

                    <div class="example-code">
                      <button class="clipboardButton" type="button">
                        copy
                      </button>
                      <code>
                        <span class="codepreamble"
                          >\usepgfmodule {nonlineartransformations} </span
                        ><br />
                        <span class="textcolor" style="color: #000000"
                          >\begin</span
                        >{<span class="textcolor" style="color: #0000b2"
                          ><a href="tikz-scopes#pgf.tikzpicture"
                            >tikzpicture</a
                          ></span
                        >}<br />
                        <span class="spaces">  </span><span
                          class="textcolor"
                          style="color: #0000b2"
                          ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                        > [<span class="textcolor" style="color: #008000"
                          ><a href="tikz-paths#pgf.help:lines"
                            >help lines</a
                          ></span
                        >] <span class="textcolor" style="color: #800080"
                          >(0,0)</span
                        > <span class="textcolor" style="color: #000000"
                          ><a href="tikz-paths#pgf.grid">grid</a></span
                        >
                        <span class="textcolor" style="color: #800080"
                          >(3,2)</span
                        >;<br />
                        <span class="spaces">  </span><span
                          class="textcolor"
                          style="color: #0000b2"
                          ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                        >[<span class="textcolor" style="color: #008000"
                          >red</span
                        >] <span class="textcolor" style="color: #800080"
                          >(0:20mm)</span
                        > <span class="textcolor" style="color: #000000"
                          ><a href="tikz-paths#pgf.arc">arc</a></span
                        >
                        [<span class="textcolor" style="color: #008000"
                          ><a href="tikz-paths#pgf.start:angle"
                            >start angle</a
                          ></span
                        >=<span class="textcolor" style="color: #008000">0</span
                        >, <span class="textcolor" style="color: #008000"
                          ><a href="tikz-paths#pgf.end:angle"
                            >end angle</a
                          ></span
                        >=<span class="textcolor" style="color: #008000"
                          >90</span
                        >, <span class="textcolor" style="color: #008000"
                          ><a href="tikz-coordinates#pgf.radius"
                            >radius</a
                          ></span
                        >=<span class="textcolor" style="color: #008000"
                          >2cm</span
                        >];<br />
                        <span class="spaces">  </span>{<br />
                        <span class="spaces">    </span><span
                          class="textcolor"
                          style="color: #0000b2"
                          ><a
                            href="base-transformations#pgf.back/pgftransformnonlinear"
                            >\pgftransformnonlinear</a
                          ></span
                        >{<span class="textcolor" style="color: #0000b2"
                          >\polartransformation</span
                        >}<br />
                        <span class="spaces">    </span><span
                          class="textcolor"
                          style="color: #0000b2"
                          ><a
                            href="base-transformations#pgf.back/pgfsettransformnonlinearflatness"
                            >\pgfsettransformnonlinearflatness</a
                          ></span
                        >{<span class="textcolor" style="color: #000000"
                          >2pt</span
                        >} <span class="example-code-comment"
                          >% very precise</span
                        ><br />
                        <span class="spaces">    </span><span
                          class="textcolor"
                          style="color: #0000b2"
                          ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                        > <span class="textcolor" style="color: #800080"
                          >(0,20mm)</span
                        > <span class="textcolor" style="color: #000000"
                          ><a href="tikz-paths#pgf.--">--</a></span
                        >
                        <span class="textcolor" style="color: #800080"
                          >(90pt,20mm)</span
                        >;<br />
                        <span class="spaces">  </span>}<br />
                        <span class="textcolor" style="color: #000000"
                          >\end</span
                        >{<span class="textcolor" style="color: #0000b2"
                          ><a href="tikz-scopes#pgf.tikzpicture"
                            >tikzpicture</a
                          ></span
                        >}<br />
                      </code>
                    </div>
                  </figure>
                </ul>
              </div>
            </li>
          </ul>
          <h6 id="autosec-8302">
            <span
              ><span class="sectionnumber" id="sec-108.4.5">108.4.5</span>
              Applying Nonlinear Transformations to Text</span
            ><a
              class="anchor-link"
              data-html-link="sec-108.4.5"
              data-pdf-destination="subsubsection.108.4.5"
              data-pdf-page="1167"
              href="#sec-108.4.5"
              >&para;</a
            >
          </h6>
          <a id="pgfmanual-autopage-8302"></a>

          <p>
            Earlier, it was pointed that nonlinear transformations do not apply
            to text. Nevertheless, when you use
            <span class="verb">\pgftext</span> or
            <span class="verb">\pgfnode</span>,
            <span class="textsc">pgf</span> will do a sort of &ldquo;best
            effort&rdquo; to render the text in the nonlinear coordinate system:
            The point where the text should be shown can obviously be computed
            easily. When then temporarily reset the nonlinear transformation
            and, instead, setup a linear transformation that matches the
            nonlinear transformation at the point where the text should be.
            Then, the text is shown. This means that if the text is longer, it
            will not &ldquo;follow&rdquo; the nonlinear transformation, but near
            the origin of the text it will look &ldquo;correct&rdquo;. As an
            example, let us add some text at the grid point of the above
            example:
          </p>

          <figure class="example">
            <div class="example-image">
              <p>
                <span class="lateximagesource" id="lateximage-pgfmanual-3334"
                  ><!--
09
â—¦
              06
              â—¦



    09 0â—¦6




                      â—¦ 03
â—¦




             â—¦ 03



                         â—¦
                  â—¦


                        0
              0
--><img
                    alt="(-tikz-&nbsp;diagram)"
                    class="lateximage"
                    height="91.058"
                    loading="lazy"
                    src="pgfmanual-images/image-3334.png"
                    style
                    width="123.877"
                /></span>
              </p>
            </div>

            <div class="example-code">
              <button class="clipboardButton" type="button">copy</button>

              <code>
                <span class="codepreamble"
                  >\usepgfmodule {nonlineartransformations} </span
                ><br />
                <span class="textcolor" style="color: #000000">\begin</span
                >{<span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-scopes#pgf.tikzpicture">tikzpicture</a></span
                >}<br />
                <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                > [<span class="textcolor" style="color: #008000"
                  ><a href="tikz-paths#pgf.help:lines">help lines</a></span
                >] <span class="textcolor" style="color: #800080"
                  >(0,0)</span
                > <span class="textcolor" style="color: #000000"
                  ><a href="tikz-paths#pgf.grid">grid</a></span
                >
                <span class="textcolor" style="color: #800080">(3,2)</span
                >;<br />
                <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                  ><a href="base-transformations#pgf.back/pgftransformnonlinear"
                    >\pgftransformnonlinear</a
                  ></span
                >{<span class="textcolor" style="color: #0000b2"
                  >\polartransformation</span
                >}<span class="example-code-comment">% see above</span><br />
                <br />
                <span class="spaces">  </span><span class="example-code-comment"
                  >% Draw something with this transformation in force</span
                ><br />
                <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                > <span class="textcolor" style="color: #800080"
                  >(0pt,0mm)</span
                > <span class="textcolor" style="color: #000000"
                  ><a href="tikz-paths#pgf.grid">grid</a></span
                >
                [<span class="textcolor" style="color: #008000"
                  ><a href="tikz-paths#pgf.xstep">xstep</a></span
                >=<span class="textcolor" style="color: #008000">10pt</span
                >, <span class="textcolor" style="color: #008000"
                  ><a href="tikz-paths#pgf.ystep">ystep</a></span
                >=<span class="textcolor" style="color: #008000">5mm</span
                >] <span class="textcolor" style="color: #800080"
                  >(90pt, 20mm)</span
                >;<br />
                <br />
                <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                  ><a href="pgffor#pgf.back/foreach">\foreach</a></span
                > <span class="textcolor" style="color: #0000b2"
                  >\angle</span
                > <span class="textcolor" style="color: #000000"
                  ><a href="library-edges#pgf.in">in</a></span
                >
                {<span class="textcolor" style="color: #000000">0</span>,<span
                  class="textcolor"
                  style="color: #000000"
                  >30</span
                >,<span class="textcolor" style="color: #000000">60</span>,<span
                  class="textcolor"
                  style="color: #000000"
                  >90</span
                >}<br />
                <span class="spaces">    </span><span
                  class="textcolor"
                  style="color: #0000b2"
                  ><a href="pgffor#pgf.back/foreach">\foreach</a></span
                > <span class="textcolor" style="color: #0000b2"
                  >\dist</span
                > <span class="textcolor" style="color: #000000"
                  ><a href="library-edges#pgf.in">in</a></span
                >
                {<span class="textcolor" style="color: #000000">1</span>,<span
                  class="textcolor"
                  style="color: #000000"
                  >2</span
                >}<br />
                <span class="spaces">      </span>{<br />
                <span class="spaces">        </span><span
                  class="textcolor"
                  style="color: #0000b2"
                  ><a href="base-transformations#pgf.back/pgftransformshift"
                    >\pgftransformshift</a
                  ></span
                >{<span class="textcolor" style="color: #0000b2"
                  ><a href="base-points#pgf.back/pgfpoint">\pgfpoint</a></span
                >{<span class="textcolor" style="color: #0000b2">\angle</span
                > <span class="textcolor" style="color: #000000">pt</span
                >}{<span class="textcolor" style="color: #0000b2">\dist</span
                > <span class="textcolor" style="color: #000000"
                  ><a href="tikz-transformations#pgf.cm">cm</a></span
                >}}<br />
                <span class="spaces">        </span><span
                  class="textcolor"
                  style="color: #0000b2"
                  ><a href="base-scopes#pgf.back/pgftext">\pgftext</a></span
                >{<span class="textcolor" style="color: #0000b2">\angle</span
                ><span class="textcolor" style="color: #000000">$^</span
                ><span class="textcolor" style="color: #0000b2">\circ</span
                ><span class="textcolor" style="color: #000000">$</span>}<br />
                <span class="spaces">      </span>}<br />
                <span class="textcolor" style="color: #000000">\end</span>{<span
                  class="textcolor"
                  style="color: #0000b2"
                  ><a href="tikz-scopes#pgf.tikzpicture">tikzpicture</a></span
                >}<br />
              </code>
            </div>
          </figure>
          <h6 id="autosec-8305">
            <span
              ><span class="sectionnumber" id="sec-108.4.6">108.4.6</span>
              Approximating Nonlinear Transformations Using Linear
              Transformations</span
            ><a
              class="anchor-link"
              data-html-link="sec-108.4.6"
              data-pdf-destination="subsubsection.108.4.6"
              data-pdf-page="1168"
              href="#sec-108.4.6"
              >&para;</a
            >
          </h6>
          <a id="pgfmanual-autopage-8305"></a>

          <p>
            At any given point, the current nonlinear transformation can be
            approximated using a linear transformation. The following two
            functions allow you to install such a local approximation:
          </p>

          <div class="manualentry">
            <ul class="list" style="list-style-type: none">
              <div class="entryheadline">
                <li>
                  <p>
                    <a id="pgf.back/pgfapproximatenonlineartransformation"></a>
                    <span class="hl-def"
                      ><span class="declare"
                        ><kbd>\pgfapproximatenonlineartransformation</kbd></span
                      ></span
                    >
                    <a
                      class="anchor-link"
                      data-html-link="pgf.back/pgfapproximatenonlineartransformation"
                      href="#\pgfapproximatenonlineartransformation"
                      id="\pgfapproximatenonlineartransformation"
                      >&para;</a
                    >
                  </p>
                </li>
              </div>
              <p>This command will do two things:</p>
              <ul class="enumerate" style="list-style-type: none">
                <li>
                  <p>
                    <span class="listmarker">1.</span> It clears the nonlinear
                    transformations for the rest of the current
                    <span class="latexlogofont"
                      ><span class="latexlogo"
                        >T<span class="latexlogosub">e</span>X</span
                      ></span
                    >
                    scope, so only linear transformations apply.
                  </p>
                </li>
                <li>
                  <p>
                    <span class="listmarker">2.</span> However, before removing
                    the nonlinear transformations, the linear transformation
                    matrix is modified so that it mimics the effect the
                    nonlinear transformation had at the origin. That is, after
                    you call this command, drawing something near the origin
                    will look almost the same as if you had not called it.
                  </p>
                </li>
              </ul>

              <figure class="example">
                <div class="example-image">
                  <p>
                    <span
                      class="lateximagesource"
                      id="lateximage-pgfmanual-3335"
                      ><!--
oo
     f
--><img
                        alt="(-tikz-&nbsp;diagram)"
                        class="lateximage"
                        height="78.818"
                        loading="lazy"
                        src="pgfmanual-images/image-3335.png"
                        style
                        width="116.474"
                    /></span>
                  </p>
                </div>

                <div class="example-code">
                  <button class="clipboardButton" type="button">copy</button>
                  <code>
                    <span class="codepreamble"
                      >\usepgfmodule {nonlineartransformations} </span
                    ><br />
                    <span class="textcolor" style="color: #000000">\begin</span
                    >{<span class="textcolor" style="color: #0000b2"
                      ><a href="tikz-scopes#pgf.tikzpicture"
                        >tikzpicture</a
                      ></span
                    >}<br />
                    <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                      ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                    > [<span class="textcolor" style="color: #008000"
                      ><a href="tikz-paths#pgf.help:lines">help lines</a></span
                    >] <span class="textcolor" style="color: #800080"
                      >(0,0)</span
                    > <span class="textcolor" style="color: #000000"
                      ><a href="tikz-paths#pgf.grid">grid</a></span
                    >
                    <span class="textcolor" style="color: #800080">(3,2)</span
                    >;<br />
                    <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                      ><a
                        href="base-transformations#pgf.back/pgftransformnonlinear"
                        >\pgftransformnonlinear</a
                      ></span
                    >{<span class="textcolor" style="color: #0000b2"
                      >\polartransformation</span
                    >}<span class="example-code-comment">% see above</span
                    ><br />
                    <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                      ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                    > <span class="textcolor" style="color: #800080"
                      >(0pt,0mm)</span
                    > <span class="textcolor" style="color: #000000"
                      ><a href="tikz-paths#pgf.grid">grid</a></span
                    >
                    [<span class="textcolor" style="color: #008000"
                      ><a href="tikz-paths#pgf.xstep">xstep</a></span
                    >=<span class="textcolor" style="color: #008000">10pt</span
                    >, <span class="textcolor" style="color: #008000"
                      ><a href="tikz-paths#pgf.ystep">ystep</a></span
                    >=<span class="textcolor" style="color: #008000">5mm</span
                    >] <span class="textcolor" style="color: #800080"
                      >(90pt, 20mm)</span
                    >;<br />
                    <br />
                    <span class="spaces">  </span><span class="textcolor" style="color: #000000"
                      >\begin</span
                    >{<span class="textcolor" style="color: #0000b2"
                      ><a href="tikz-scopes#pgf.scope">scope</a></span
                    >}[<span class="textcolor" style="color: #008000"
                      ><a href="tikz-transformations#pgf.shift">shift</a></span
                    >=<span class="textcolor" style="color: #008000"
                      >{<span class="textcolor" style="color: #800080"
                        >(45pt,20mm)</span
                      >}</span
                    >]<br />
                    <span class="spaces">    </span><span
                      class="example-code-comment"
                      >% Draw something near "origin":</span
                    ><br />
                    <span class="spaces">    </span><span
                      class="textcolor"
                      style="color: #0000b2"
                      ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                    > [<span class="textcolor" style="color: #008000"
                      >red</span
                    >] <span class="textcolor" style="color: #800080"
                      >(-10pt,-10pt)</span
                    > <span class="textcolor" style="color: #000000"
                      ><a href="tikz-paths#pgf.--">--</a></span
                    >
                    <span class="textcolor" style="color: #800080"
                      >(10pt,10pt)</span
                    >;<br />
                    <span class="spaces">    </span><span
                      class="textcolor"
                      style="color: #0000b2"
                      ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                    > [<span class="textcolor" style="color: #008000"
                      >red</span
                    >] <span class="textcolor" style="color: #800080"
                      >(10pt,-10pt)</span
                    > <span class="textcolor" style="color: #000000"
                      ><a href="tikz-paths#pgf.--">--</a></span
                    >
                    <span class="textcolor" style="color: #800080"
                      >(-10pt,10pt)</span
                    >;<br />
                    <br />
                    <span class="spaces">    </span><span
                      class="example-code-comment"
                      >% Now draw the same, but in the "approximate" coordinate
                      system:</span
                    ><br />
                    <span class="spaces">    </span><span
                      class="textcolor"
                      style="color: #0000b2"
                      ><a
                        href="base-transformations#pgf.back/pgfapproximatenonlineartransformation"
                        >\pgfapproximatenonlineartransformation</a
                      ></span
                    ><br />
                    <span class="spaces">    </span><span
                      class="textcolor"
                      style="color: #0000b2"
                      ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                    > [] <span
                      class="textcolor"
                      style="color: #800080"
                      >(-10pt,-10pt)</span
                    > <span class="textcolor" style="color: #000000"
                      ><a href="tikz-paths#pgf.--">--</a></span
                    >
                    <span class="textcolor" style="color: #800080"
                      >(10pt,10pt)</span
                    >;<br />
                    <span class="spaces">    </span><span
                      class="textcolor"
                      style="color: #0000b2"
                      ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                    > [] <span
                      class="textcolor"
                      style="color: #800080"
                      >(10pt,-10pt)</span
                    > <span class="textcolor" style="color: #000000"
                      ><a href="tikz-paths#pgf.--">--</a></span
                    >
                    <span class="textcolor" style="color: #800080"
                      >(-10pt,10pt)</span
                    >;<br />
                    <span class="spaces">    </span><span
                      class="textcolor"
                      style="color: #0000b2"
                      ><a href="base-scopes#pgf.back/pgftext">\pgftext</a></span
                    >{<span class="textcolor" style="color: #000000">foo</span
                    >}<br />
                    <span class="spaces">  </span><span class="textcolor" style="color: #000000"
                      >\end</span
                    >{<span class="textcolor" style="color: #0000b2"
                      ><a href="tikz-scopes#pgf.scope">scope</a></span
                    >}<br />
                    <span class="textcolor" style="color: #000000">\end</span
                    >{<span class="textcolor" style="color: #0000b2"
                      ><a href="tikz-scopes#pgf.tikzpicture"
                        >tikzpicture</a
                      ></span
                    >}<br />
                  </code>
                </div>
              </figure>
              <p>
                This command is used by <span class="verb">\pgftext</span> and
                <span class="verb">\pgfnode</span> to transform text when a
                nonlinear transformation is in force.
              </p>
            </ul>
          </div>

          <div class="manualentry">
            <ul class="list" style="list-style-type: none">
              <div class="entryheadline">
                <li>
                  <p>
                    <a id="pgf.back/pgfapproximatenonlineartranslation"></a>
                    <span class="hl-def"
                      ><span class="declare"
                        ><kbd>\pgfapproximatenonlineartranslation</kbd></span
                      ></span
                    >
                    <a
                      class="anchor-link"
                      data-html-link="pgf.back/pgfapproximatenonlineartranslation"
                      href="#\pgfapproximatenonlineartranslation"
                      id="\pgfapproximatenonlineartranslation"
                      >&para;</a
                    >
                  </p>
                </li>
              </div>
              <p>
                This command works like the normal approximation command, but it
                will only approximate how the origin gets translated, it will
                not approximate the rotation, skewing, or scaling that is
                involved. This is useful for drawing text at the right position,
                but without &ldquo;mutilating&rdquo; the text.
              </p>

              <figure class="example">
                <div class="example-image">
                  <p>
                    <span
                      class="lateximagesource"
                      id="lateximage-pgfmanual-3336"
                      ><!--
foo
--><img
                        alt="(-tikz-&nbsp;diagram)"
                        class="lateximage"
                        height="78.818"
                        loading="lazy"
                        src="pgfmanual-images/image-3336.png"
                        style
                        width="116.474"
                    /></span>
                  </p>
                </div>

                <div class="example-code">
                  <button class="clipboardButton" type="button">copy</button>
                  <code>
                    <span class="codepreamble"
                      >\usepgfmodule {nonlineartransformations} </span
                    ><br />
                    <span class="textcolor" style="color: #000000">\begin</span
                    >{<span class="textcolor" style="color: #0000b2"
                      ><a href="tikz-scopes#pgf.tikzpicture"
                        >tikzpicture</a
                      ></span
                    >}<br />
                    <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                      ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                    > [<span class="textcolor" style="color: #008000"
                      ><a href="tikz-paths#pgf.help:lines">help lines</a></span
                    >] <span class="textcolor" style="color: #800080"
                      >(0,0)</span
                    > <span class="textcolor" style="color: #000000"
                      ><a href="tikz-paths#pgf.grid">grid</a></span
                    >
                    <span class="textcolor" style="color: #800080">(3,2)</span
                    >;<br />
                    <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                      ><a
                        href="base-transformations#pgf.back/pgftransformnonlinear"
                        >\pgftransformnonlinear</a
                      ></span
                    >{<span class="textcolor" style="color: #0000b2"
                      >\polartransformation</span
                    >}<span class="example-code-comment">% see above</span
                    ><br />
                    <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                      ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                    > <span class="textcolor" style="color: #800080"
                      >(0pt,0mm)</span
                    > <span class="textcolor" style="color: #000000"
                      ><a href="tikz-paths#pgf.grid">grid</a></span
                    >
                    [<span class="textcolor" style="color: #008000"
                      ><a href="tikz-paths#pgf.xstep">xstep</a></span
                    >=<span class="textcolor" style="color: #008000">10pt</span
                    >, <span class="textcolor" style="color: #008000"
                      ><a href="tikz-paths#pgf.ystep">ystep</a></span
                    >=<span class="textcolor" style="color: #008000">5mm</span
                    >] <span class="textcolor" style="color: #800080"
                      >(90pt, 20mm)</span
                    >;<br />
                    <br />
                    <span class="spaces">  </span><span class="textcolor" style="color: #000000"
                      >\begin</span
                    >{<span class="textcolor" style="color: #0000b2"
                      ><a href="tikz-scopes#pgf.scope">scope</a></span
                    >}[<span class="textcolor" style="color: #008000"
                      ><a href="tikz-transformations#pgf.shift">shift</a></span
                    >=<span class="textcolor" style="color: #008000"
                      >{<span class="textcolor" style="color: #800080"
                        >(45pt,20mm)</span
                      >}</span
                    >]<br />
                    <span class="spaces">    </span><span
                      class="example-code-comment"
                      >% Draw something near "origin":</span
                    ><br />
                    <span class="spaces">    </span><span
                      class="textcolor"
                      style="color: #0000b2"
                      ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                    > [<span class="textcolor" style="color: #008000"
                      >red</span
                    >] <span class="textcolor" style="color: #800080"
                      >(-10pt,-10pt)</span
                    > <span class="textcolor" style="color: #000000"
                      ><a href="tikz-paths#pgf.--">--</a></span
                    >
                    <span class="textcolor" style="color: #800080"
                      >(10pt,10pt)</span
                    >;<br />
                    <span class="spaces">    </span><span
                      class="textcolor"
                      style="color: #0000b2"
                      ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                    > [<span class="textcolor" style="color: #008000"
                      >red</span
                    >] <span class="textcolor" style="color: #800080"
                      >(10pt,-10pt)</span
                    > <span class="textcolor" style="color: #000000"
                      ><a href="tikz-paths#pgf.--">--</a></span
                    >
                    <span class="textcolor" style="color: #800080"
                      >(-10pt,10pt)</span
                    >;<br />
                    <br />
                    <span class="spaces">    </span><span
                      class="example-code-comment"
                      >% Now draw the same, but in the "approximate" coordinate
                      system:</span
                    ><br />
                    <span class="spaces">    </span><span
                      class="textcolor"
                      style="color: #0000b2"
                      ><a
                        href="base-transformations#pgf.back/pgfapproximatenonlineartranslation"
                        >\pgfapproximatenonlineartranslation</a
                      ></span
                    ><br />
                    <span class="spaces">    </span><span
                      class="textcolor"
                      style="color: #0000b2"
                      ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                    > [] <span
                      class="textcolor"
                      style="color: #800080"
                      >(-10pt,-10pt)</span
                    > <span class="textcolor" style="color: #000000"
                      ><a href="tikz-paths#pgf.--">--</a></span
                    >
                    <span class="textcolor" style="color: #800080"
                      >(10pt,10pt)</span
                    >;<br />
                    <span class="spaces">    </span><span
                      class="textcolor"
                      style="color: #0000b2"
                      ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                    > [] <span
                      class="textcolor"
                      style="color: #800080"
                      >(10pt,-10pt)</span
                    > <span class="textcolor" style="color: #000000"
                      ><a href="tikz-paths#pgf.--">--</a></span
                    >
                    <span class="textcolor" style="color: #800080"
                      >(-10pt,10pt)</span
                    >;<br />
                    <span class="spaces">    </span><span
                      class="textcolor"
                      style="color: #0000b2"
                      ><a href="base-scopes#pgf.back/pgftext">\pgftext</a></span
                    >{<span class="textcolor" style="color: #000000">foo</span
                    >}<br />
                    <span class="spaces">  </span><span class="textcolor" style="color: #000000"
                      >\end</span
                    >{<span class="textcolor" style="color: #0000b2"
                      ><a href="tikz-scopes#pgf.scope">scope</a></span
                    >}<br />
                    <span class="textcolor" style="color: #000000">\end</span
                    >{<span class="textcolor" style="color: #0000b2"
                      ><a href="tikz-scopes#pgf.tikzpicture"
                        >tikzpicture</a
                      ></span
                    >}<br />
                  </code>
                </div>
              </figure>
            </ul>
          </div>
          <h6 id="autosec-8310">
            <a id="section-library-curvilinear"></a
            ><span
              ><span class="sectionnumber" id="sec-108.4.7">108.4.7</span>
              Nonlinear Transformation Libraries</span
            ><a
              class="anchor-link"
              data-html-link="sec-108.4.7"
              data-pdf-destination="subsubsection.108.4.7"
              data-pdf-page="1168"
              href="#sec-108.4.7"
              >&para;</a
            >
          </h6>
          <a id="pgfmanual-autopage-8310"></a>

          <div class="manualentry">
            <ul class="list" style="list-style-type: none">
              <div class="entryheadline">
                <li>
                  <p>
                    <a id="pgf.curvilinear"></a>
                    <span class="hl-def"
                      ><b><span class="tikzname">TikZ</span> Library</b>
                      <kbd><span class="declare">curvilinear</span></kbd></span
                    >
                    <a
                      class="anchor-link"
                      data-html-link="pgf.curvilinear"
                      href="#pgf.curvilinear"
                      id="pgf.curvilinear"
                      >&para;</a
                    >
                  </p>
                </li>
              </div>
              <p>
                <kbd
                  >\usepgflibrary{<span class="declare">curvilinear</span>} %
                  <span class="latexlogofont"
                    ><span class="latexlogo"
                      >L<span class="latexlogosup">a</span>T<span
                        class="latexlogosub"
                        >e</span
                      >X</span
                    ></span
                  >
                  and plain
                  <span class="latexlogofont"
                    ><span class="latexlogo"
                      >T<span class="latexlogosub">e</span>X</span
                    ></span
                  >
                  and pure pgf</kbd
                ><br />
                <kbd
                  >\usepgflibrary[<span class="declare">curvilinear</span>] %
                  Con<span class="latexlogofont"
                    ><span class="latexlogo"
                      >T<span class="latexlogosub">e</span>X</span
                    ></span
                  >t and pure pgf</kbd
                ><br />
                <kbd
                  >\usetikzlibrary{<span class="declare">curvilinear</span>} %
                  <span class="latexlogofont"
                    ><span class="latexlogo"
                      >L<span class="latexlogosup">a</span>T<span
                        class="latexlogosub"
                        >e</span
                      >X</span
                    ></span
                  >
                  and plain
                  <span class="latexlogofont"
                    ><span class="latexlogo"
                      >T<span class="latexlogosub">e</span>X</span
                    ></span
                  >
                  when using <span class="tikzname">TikZ</span></kbd
                ><br />
                <kbd
                  >\usetikzlibrary[<span class="declare">curvilinear</span>] %
                  Con<span class="latexlogofont"
                    ><span class="latexlogo"
                      >T<span class="latexlogosub">e</span>X</span
                    ></span
                  >t when using <span class="tikzname">TikZ</span></kbd
                ><br />
                <br />
                This library defines commands for computing nonlinear
                transformations &ldquo;along B&eacute;zier curves&rdquo;.
              </p>
            </ul>
          </div>

          <p>
            Up to now, our running example for a nonlinear transformation was
            polar transformation. However, is
            <span class="textsc">pgf</span> nonlinear transformations are
            <em>actually</em> mainly used for transforming arrow tips; and these
            need to be transformed &ldquo;along curves&rdquo;. The
            <span class="verb">curvilinear</span> library defines a number of
            commands that offer the necessary computations for such
            transformations.
          </p>

          <div class="manualentry">
            <ul class="list" style="list-style-type: none">
              <div class="entryheadline">
                <li>
                  <p>
                    <a id="pgf.back/pgfsetcurvilinearbeziercurve"></a>
                    <span class="hl-def"
                      ><span class="declare"
                        ><kbd>\pgfsetcurvilinearbeziercurve</kbd></span
                      >{<span class="angle">&langle;</span><i>start</i
                      ><span class="angle">&rangle;</span>}{<span class="angle"
                        >&langle;</span
                      ><i>first support</i
                      ><span class="angle">&rangle;</span>}{<span class="angle"
                        >&langle;</span
                      ><i>second support</i
                      ><span class="angle">&rangle;</span>}{<span class="angle"
                        >&langle;</span
                      ><i>end</i><span class="angle">&rangle;</span>}</span
                    >
                    <a
                      class="anchor-link"
                      data-html-link="pgf.back/pgfsetcurvilinearbeziercurve"
                      href="#\pgfsetcurvilinearbeziercurve"
                      id="\pgfsetcurvilinearbeziercurve"
                      >&para;</a
                    >
                  </p>
                </li>
              </div>
              <p>
                Prior to using any other command from this library, you first
                call this function to &ldquo;install&rdquo; a B&eacute;zier
                curve to which the commands will refer. This curve will be local
                to the current
                <span class="latexlogofont"
                  ><span class="latexlogo"
                    >T<span class="latexlogosub">e</span>X</span
                  ></span
                >
                scope and you can install only one curve at a time.
              </p>
              <p>
                The main job of this command is to store the passed points
                internally and to build a lookup table for distance-to-time
                conversions, see the next command.
              </p>

              <figure class="example">
                <div class="example-code">
                  <button class="clipboardButton" type="button">copy</button>
                  <code>
                    <br />
                    <span class="textcolor" style="color: #0000b2"
                      ><a
                        href="base-transformations#pgf.back/pgfsetcurvilinearbeziercurve"
                        >\pgfsetcurvilinearbeziercurve</a
                      ></span
                    ><br />
                    <span class="spaces">  </span>{<span
                      class="textcolor"
                      style="color: #0000b2"
                      ><a href="base-points#pgf.back/pgfpointorigin"
                        >\pgfpointorigin</a
                      ></span
                    >}<br />
                    <span class="spaces">  </span>{<span
                      class="textcolor"
                      style="color: #0000b2"
                      ><a href="base-points#pgf.back/pgfpoint"
                        >\pgfpoint</a
                      ></span
                    >{<span class="textcolor" style="color: #000000">1cm</span
                    >}{<span class="textcolor" style="color: #000000">1cm</span
                    >}}<br />
                    <span class="spaces">  </span>{<span
                      class="textcolor"
                      style="color: #0000b2"
                      ><a href="base-points#pgf.back/pgfpoint"
                        >\pgfpoint</a
                      ></span
                    >{<span class="textcolor" style="color: #000000">2cm</span
                    >}{<span class="textcolor" style="color: #000000">1cm</span
                    >}}<br />
                    <span class="spaces">  </span>{<span
                      class="textcolor"
                      style="color: #0000b2"
                      ><a href="base-points#pgf.back/pgfpoint"
                        >\pgfpoint</a
                      ></span
                    >{<span class="textcolor" style="color: #000000">3cm</span
                    >}{<span class="textcolor" style="color: #000000">0cm</span
                    >}}<br />
                  </code>
                </div>
              </figure>
              <p></p>
            </ul>
          </div>

          <div class="manualentry">
            <ul class="list" style="list-style-type: none">
              <div class="entryheadline">
                <li>
                  <p>
                    <a id="pgf.back/pgfcurvilineardistancetotime"></a>
                    <span class="hl-def"
                      ><span class="declare"
                        ><kbd>\pgfcurvilineardistancetotime</kbd></span
                      >{<span class="angle">&langle;</span><i>distance</i
                      ><span class="angle">&rangle;</span>}</span
                    >
                    <a
                      class="anchor-link"
                      data-html-link="pgf.back/pgfcurvilineardistancetotime"
                      href="#\pgfcurvilineardistancetotime"
                      id="\pgfcurvilineardistancetotime"
                      >&para;</a
                    >
                  </p>
                </li>
              </div>
              <p>
                This command does a &ldquo;distance-to-time-conversion&rdquo;:
                It tries to compute a time \(t\), returned in
                <span class="verb">\pgf@x</span>, that corresponds to travelling
                <span class="angle">&langle;</span><i>distance</i
                ><span class="angle">&rangle;</span> along the curve that has
                last been installed using the command
                <span class="verb">\pgfsetcurvilinearbeziercurve</span>. The
                distance-to-time-conversion uses the precomputations done by
                that command. Note that several compromises had to be made
                between speed and accuracy:
              </p>
              <ul class="itemize" style="list-style-type: none">
                <li>
                  <p>
                    <span class="listmarker">&bull;</span> The conversion will
                    be best near the start of the curve.
                  </p>
                </li>
                <li>
                  <p>
                    <span class="listmarker">&bull;</span> The more
                    &ldquo;degenerate&rdquo; the curve, the worse the results.
                  </p>
                </li>
              </ul>
            </ul>
          </div>

          <div class="manualentry">
            <ul class="list" style="list-style-type: none">
              <div class="entryheadline">
                <li>
                  <p>
                    <a id="pgf.back/pgfpointcurvilinearbezierorthogonal"></a>
                    <span class="hl-def"
                      ><span class="declare"
                        ><kbd>\pgfpointcurvilinearbezierorthogonal</kbd></span
                      >{<span class="angle">&langle;</span><i>distance</i
                      ><span class="angle">&rangle;</span>}{<span class="angle"
                        >&langle;</span
                      ><i>offset</i><span class="angle">&rangle;</span>}</span
                    >
                    <a
                      class="anchor-link"
                      data-html-link="pgf.back/pgfpointcurvilinearbezierorthogonal"
                      href="#\pgfpointcurvilinearbezierorthogonal"
                      id="\pgfpointcurvilinearbezierorthogonal"
                      >&para;</a
                    >
                  </p>
                </li>
              </div>
              <p>
                This command computes the following point: Consider the curve
                last installed using the command
                <span class="verb">\pgfsetcurvilinearbeziercurve</span>. We
                travel along this curve by <span class="angle">&langle;</span
                ><i>distance</i><span class="angle">&rangle;</span>, arriving at
                a point \(p\). Then, we turn by \(90^\circ \) and travel by
                <span class="angle">&langle;</span><i>offset</i
                ><span class="angle">&rangle;</span> units &ldquo;always from
                the curve&rdquo;, arriving at a point \(q\). This point \(q\)
                will now be returned in <span class="verb">\pgf@x</span> and
                <span class="verb">\pgf@y</span>; furthermore, the transformed
                local coordinate system at point \(q\) will also be returned
                <span class="verb">\pgf@xa</span> and the other registers, see
                <span class="verb">\pgftransformnonlinear</span> for details.
              </p>

              <figure class="example">
                <div class="example-image">
                  <p>
                    <span
                      class="lateximagesource"
                      id="lateximage-pgfmanual-3337"
                      ><!--
--><img
                        alt="(-tikz-&nbsp;diagram)"
                        class="lateximage"
                        height="118.514"
                        loading="lazy"
                        src="pgfmanual-images/image-3337.png"
                        style
                        width="116.462"
                    /></span>
                  </p>
                </div>

                <div class="example-code">
                  <button class="clipboardButton" type="button">copy</button>
                  <code>
                    <span class="codepreamble"
                      >\usepgfmodule {nonlineartransformations} \usetikzlibrary
                      {curvilinear} </span
                    ><br />
                    <span class="textcolor" style="color: #000000">\begin</span
                    >{<span class="textcolor" style="color: #0000b2"
                      ><a href="tikz-scopes#pgf.tikzpicture"
                        >tikzpicture</a
                      ></span
                    >}<br />
                    <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                      ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                    > [<span class="textcolor" style="color: #008000"
                      ><a href="tikz-paths#pgf.help:lines">help lines</a></span
                    >] <span class="textcolor" style="color: #800080"
                      >(0,0)</span
                    > <span class="textcolor" style="color: #000000"
                      ><a href="tikz-paths#pgf.grid">grid</a></span
                    >
                    <span class="textcolor" style="color: #800080">(3,2)</span
                    >;<br />
                    <span class="spaces">  </span>{<br />
                    <span class="spaces">    </span><span
                      class="textcolor"
                      style="color: #0000b2"
                      ><a
                        href="base-transformations#pgf.back/pgfsetcurvilinearbeziercurve"
                        >\pgfsetcurvilinearbeziercurve</a
                      ></span
                    ><br />
                    <span class="spaces">      </span>{<span
                      class="textcolor"
                      style="color: #0000b2"
                      ><a href="base-points#pgf.back/pgfpoint"
                        >\pgfpoint</a
                      ></span
                    >{<span class="textcolor" style="color: #000000">0mm</span
                    >}{<span class="textcolor" style="color: #000000">20mm</span
                    >}}<br />
                    <span class="spaces">      </span>{<span
                      class="textcolor"
                      style="color: #0000b2"
                      ><a href="base-points#pgf.back/pgfpoint"
                        >\pgfpoint</a
                      ></span
                    >{<span class="textcolor" style="color: #000000">11mm</span
                    >}{<span class="textcolor" style="color: #000000">20mm</span
                    >}}<br />
                    <span class="spaces">      </span>{<span
                      class="textcolor"
                      style="color: #0000b2"
                      ><a href="base-points#pgf.back/pgfpoint"
                        >\pgfpoint</a
                      ></span
                    >{<span class="textcolor" style="color: #000000">20mm</span
                    >}{<span class="textcolor" style="color: #000000">11mm</span
                    >}}<br />
                    <span class="spaces">      </span>{<span
                      class="textcolor"
                      style="color: #0000b2"
                      ><a href="base-points#pgf.back/pgfpoint"
                        >\pgfpoint</a
                      ></span
                    >{<span class="textcolor" style="color: #000000">20mm</span
                    >}{<span class="textcolor" style="color: #000000">0mm</span
                    >}}<br />
                    <span class="spaces">    </span><span
                      class="textcolor"
                      style="color: #0000b2"
                      ><a
                        href="base-transformations#pgf.back/pgftransformnonlinear"
                        >\pgftransformnonlinear</a
                      ></span
                    >{<span class="textcolor" style="color: #0000b2"
                      ><a
                        href="base-transformations#pgf.back/pgfpointcurvilinearbezierorthogonal"
                        >\pgfpointcurvilinearbezierorthogonal</a
                      ></span
                    ><span class="textcolor" style="color: #0000b2"
                      ><a href="base-internalregisters#pgf.back/pgf@x"
                        >\pgf@x</a
                      ></span
                    ><span class="textcolor" style="color: #0000b2"
                      ><a href="base-internalregisters#pgf.back/pgf@y"
                        >\pgf@y</a
                      ></span
                    >}<span class="example-code-comment">%</span><br />
                    <span class="spaces">    </span><span
                      class="textcolor"
                      style="color: #0000b2"
                      ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                    > <span class="textcolor" style="color: #800080"
                      >(0,-30pt)</span
                    > <span class="textcolor" style="color: #000000"
                      ><a href="tikz-paths#pgf.grid">grid</a></span
                    >
                    [<span class="textcolor" style="color: #008000"
                      ><a href="tikz-paths#pgf.step">step</a></span
                    >=<span class="textcolor" style="color: #008000">10pt</span
                    >] <span class="textcolor" style="color: #800080"
                      >(80pt,30pt)</span
                    >;<br />
                    <span class="spaces">  </span>}<br />
                    <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                      ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                    >[<span class="textcolor" style="color: #008000">red</span
                    >, <span class="textcolor" style="color: #008000"
                      ><a href="tikz-actions#pgf.very:thick"
                        >very thick</a
                      ></span
                    >]<br />
                    <span class="spaces">    </span><span
                      class="textcolor"
                      style="color: #800080"
                      >(0mm,20mm)</span
                    ><span class="spaces"> </span>..<span class="spaces"> </span><span
                      class="textcolor"
                      style="color: #000000"
                      ><a href="library-edges#pgf.controls">controls</a></span
                    >
                    <span class="textcolor" style="color: #800080"
                      >(11mm,20mm)</span
                    > <span class="textcolor" style="color: #000000"
                      ><a href="pgfkeys#pgf.and">and</a></span
                    >
                    <span class="textcolor" style="color: #800080"
                      >(20mm,11mm)</span
                    ><span class="spaces"> </span>..<span class="spaces"> </span><span
                      class="textcolor"
                      style="color: #800080"
                      >(20mm,0mm)</span
                    >;<br />
                    <span class="textcolor" style="color: #000000">\end</span
                    >{<span class="textcolor" style="color: #0000b2"
                      ><a href="tikz-scopes#pgf.tikzpicture"
                        >tikzpicture</a
                      ></span
                    >}<br />
                  </code>
                </div>
              </figure>

              <figure class="example">
                <div class="example-image">
                  <p>
                    <span
                      class="lateximagesource"
                      id="lateximage-pgfmanual-3338"
                      ><!--
--><img
                        alt="(-tikz-&nbsp;diagram)"
                        class="lateximage"
                        height="120.626"
                        loading="lazy"
                        src="pgfmanual-images/image-3338.png"
                        style
                        width="116.462"
                    /></span>
                  </p>
                </div>

                <div class="example-code">
                  <button class="clipboardButton" type="button">copy</button>
                  <code>
                    <span class="codepreamble"
                      >\usepgfmodule {nonlineartransformations} \usetikzlibrary
                      {curvilinear} </span
                    ><br />
                    <span class="textcolor" style="color: #000000">\begin</span
                    >{<span class="textcolor" style="color: #0000b2"
                      ><a href="tikz-scopes#pgf.tikzpicture"
                        >tikzpicture</a
                      ></span
                    >}<br />
                    <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                      ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                    > [<span class="textcolor" style="color: #008000"
                      ><a href="tikz-paths#pgf.help:lines">help lines</a></span
                    >] <span class="textcolor" style="color: #800080"
                      >(0,0)</span
                    > <span class="textcolor" style="color: #000000"
                      ><a href="tikz-paths#pgf.grid">grid</a></span
                    >
                    <span class="textcolor" style="color: #800080">(3,2)</span
                    >;<br />
                    <span class="spaces">  </span>{<br />
                    <span class="spaces">    </span><span
                      class="textcolor"
                      style="color: #0000b2"
                      ><a
                        href="base-transformations#pgf.back/pgfsetcurvilinearbeziercurve"
                        >\pgfsetcurvilinearbeziercurve</a
                      ></span
                    ><br />
                    <span class="spaces">      </span>{<span
                      class="textcolor"
                      style="color: #0000b2"
                      ><a href="base-points#pgf.back/pgfpoint"
                        >\pgfpoint</a
                      ></span
                    >{<span class="textcolor" style="color: #000000">0mm</span
                    >}{<span class="textcolor" style="color: #000000">20mm</span
                    >}}<br />
                    <span class="spaces">      </span>{<span
                      class="textcolor"
                      style="color: #0000b2"
                      ><a href="base-points#pgf.back/pgfpoint"
                        >\pgfpoint</a
                      ></span
                    >{<span class="textcolor" style="color: #000000">10mm</span
                    >}{<span class="textcolor" style="color: #000000">20mm</span
                    >}}<br />
                    <span class="spaces">      </span>{<span
                      class="textcolor"
                      style="color: #0000b2"
                      ><a href="base-points#pgf.back/pgfpoint"
                        >\pgfpoint</a
                      ></span
                    >{<span class="textcolor" style="color: #000000">10mm</span
                    >}{<span class="textcolor" style="color: #000000">10mm</span
                    >}}<br />
                    <span class="spaces">      </span>{<span
                      class="textcolor"
                      style="color: #0000b2"
                      ><a href="base-points#pgf.back/pgfpoint"
                        >\pgfpoint</a
                      ></span
                    >{<span class="textcolor" style="color: #000000">20mm</span
                    >}{<span class="textcolor" style="color: #000000">10mm</span
                    >}}<br />
                    <span class="spaces">    </span><span
                      class="textcolor"
                      style="color: #0000b2"
                      ><a
                        href="base-transformations#pgf.back/pgftransformnonlinear"
                        >\pgftransformnonlinear</a
                      ></span
                    >{<span class="textcolor" style="color: #0000b2"
                      ><a
                        href="base-transformations#pgf.back/pgfpointcurvilinearbezierorthogonal"
                        >\pgfpointcurvilinearbezierorthogonal</a
                      ></span
                    ><span class="textcolor" style="color: #0000b2"
                      ><a href="base-internalregisters#pgf.back/pgf@x"
                        >\pgf@x</a
                      ></span
                    ><span class="textcolor" style="color: #0000b2"
                      ><a href="base-internalregisters#pgf.back/pgf@y"
                        >\pgf@y</a
                      ></span
                    >}<span class="example-code-comment">%</span><br />
                    <span class="spaces">    </span><span
                      class="textcolor"
                      style="color: #0000b2"
                      ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                    > <span class="textcolor" style="color: #800080"
                      >(0,-30pt)</span
                    > <span class="textcolor" style="color: #000000"
                      ><a href="tikz-paths#pgf.grid">grid</a></span
                    >
                    [<span class="textcolor" style="color: #008000"
                      ><a href="tikz-paths#pgf.step">step</a></span
                    >=<span class="textcolor" style="color: #008000">10pt</span
                    >] <span class="textcolor" style="color: #800080"
                      >(80pt,30pt)</span
                    >;<br />
                    <span class="spaces">  </span>}<br />
                    <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                      ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                    >[<span class="textcolor" style="color: #008000">red</span
                    >, <span class="textcolor" style="color: #008000"
                      ><a href="tikz-actions#pgf.very:thick"
                        >very thick</a
                      ></span
                    >]<br />
                    <span class="spaces">    </span><span
                      class="textcolor"
                      style="color: #800080"
                      >(0mm,20mm)</span
                    ><span class="spaces"> </span>..<span class="spaces"> </span><span
                      class="textcolor"
                      style="color: #000000"
                      ><a href="library-edges#pgf.controls">controls</a></span
                    >
                    <span class="textcolor" style="color: #800080"
                      >(10mm,20mm)</span
                    > <span class="textcolor" style="color: #000000"
                      ><a href="pgfkeys#pgf.and">and</a></span
                    >
                    <span class="textcolor" style="color: #800080"
                      >(10mm,10mm)</span
                    ><span class="spaces"> </span>..<span class="spaces"> </span><span
                      class="textcolor"
                      style="color: #800080"
                      >(20mm,10mm)</span
                    >;<br />
                    <span class="textcolor" style="color: #000000">\end</span
                    >{<span class="textcolor" style="color: #0000b2"
                      ><a href="tikz-scopes#pgf.tikzpicture"
                        >tikzpicture</a
                      ></span
                    >}<br />
                  </code>
                </div>
              </figure>
            </ul>
          </div>

          <div class="manualentry">
            <ul class="list" style="list-style-type: none">
              <div class="entryheadline">
                <li>
                  <p>
                    <a id="pgf.back/pgfpointcurvilinearbezierpolar"></a>
                    <span class="hl-def"
                      ><span class="declare"
                        ><kbd>\pgfpointcurvilinearbezierpolar</kbd></span
                      >{<span class="angle">&langle;</span><i>x</i
                      ><span class="angle">&rangle;</span>}{<span class="angle"
                        >&langle;</span
                      ><i>y</i><span class="angle">&rangle;</span>}</span
                    >
                    <a
                      class="anchor-link"
                      data-html-link="pgf.back/pgfpointcurvilinearbezierpolar"
                      href="#\pgfpointcurvilinearbezierpolar"
                      id="\pgfpointcurvilinearbezierpolar"
                      >&para;</a
                    >
                  </p>
                </li>
              </div>
              <p>
                This command is similar to the previous version, but the
                transformation is different: The idea is that a line form
                \((0,0)\) to \((x,0)\) gets transformed to the curve from the
                start of the curve to a point at distance \(x\) along the curve.
                This is identical to what the &ldquo;orthogonal&rdquo;
                transformation above also does. The difference is that a line
                from \((0,0)\) to \((0,y)\) gets still transformed to an initial
                segment of the curve of a length of \(y\), but now rotated by
                \(90^\circ \). In general, the point \(p = (x,y)\) gets
                transferred to a point that at distance \(|p| = \sqrt
                {x^2+y^2}\) along the curve, but rotated by the angle of \(p\)
                relative to the \(x\)-axis.
              </p>
              <p>
                All of these computations mainly have the following effect: Two
                straight lines from the start of the curve as in a
                <span class="verb">Straight Barb</span> arrow tip get
                transformed to an initial segment of the curve whose length is
                the length of the two lines, but this segment gets rotated by
                the angle of the two lines.
              </p>

              <figure class="example">
                <div class="example-image">
                  <p>
                    <span
                      class="lateximagesource"
                      id="lateximage-pgfmanual-3339"
                      ><!--
--><img
                        alt="(-tikz-&nbsp;diagram)"
                        class="lateximage"
                        height="128.306"
                        loading="lazy"
                        src="pgfmanual-images/image-3339.png"
                        style
                        width="126.218"
                    /></span>
                  </p>
                </div>

                <div class="example-code">
                  <button class="clipboardButton" type="button">copy</button>
                  <code>
                    <span class="codepreamble"
                      >\usepgfmodule {nonlineartransformations} \usetikzlibrary
                      {curvilinear} </span
                    ><br />
                    <span class="textcolor" style="color: #000000">\begin</span
                    >{<span class="textcolor" style="color: #0000b2"
                      ><a href="tikz-scopes#pgf.tikzpicture"
                        >tikzpicture</a
                      ></span
                    >}<br />
                    <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                      ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                    > [<span class="textcolor" style="color: #008000"
                      ><a href="tikz-paths#pgf.help:lines">help lines</a></span
                    >] <span class="textcolor" style="color: #800080"
                      >(0,0)</span
                    > <span class="textcolor" style="color: #000000"
                      ><a href="tikz-paths#pgf.grid">grid</a></span
                    >
                    <span class="textcolor" style="color: #800080">(3,2)</span
                    >;<br />
                    <span class="spaces">  </span>{<br />
                    <span class="spaces">    </span><span
                      class="textcolor"
                      style="color: #0000b2"
                      ><a
                        href="base-transformations#pgf.back/pgfsetcurvilinearbeziercurve"
                        >\pgfsetcurvilinearbeziercurve</a
                      ></span
                    ><br />
                    <span class="spaces">      </span>{<span
                      class="textcolor"
                      style="color: #0000b2"
                      ><a href="base-points#pgf.back/pgfpoint"
                        >\pgfpoint</a
                      ></span
                    >{<span class="textcolor" style="color: #000000">0mm</span
                    >}{<span class="textcolor" style="color: #000000">20mm</span
                    >}}<br />
                    <span class="spaces">      </span>{<span
                      class="textcolor"
                      style="color: #0000b2"
                      ><a href="base-points#pgf.back/pgfpoint"
                        >\pgfpoint</a
                      ></span
                    >{<span class="textcolor" style="color: #000000">11mm</span
                    >}{<span class="textcolor" style="color: #000000">20mm</span
                    >}}<br />
                    <span class="spaces">      </span>{<span
                      class="textcolor"
                      style="color: #0000b2"
                      ><a href="base-points#pgf.back/pgfpoint"
                        >\pgfpoint</a
                      ></span
                    >{<span class="textcolor" style="color: #000000">20mm</span
                    >}{<span class="textcolor" style="color: #000000">11mm</span
                    >}}<br />
                    <span class="spaces">      </span>{<span
                      class="textcolor"
                      style="color: #0000b2"
                      ><a href="base-points#pgf.back/pgfpoint"
                        >\pgfpoint</a
                      ></span
                    >{<span class="textcolor" style="color: #000000">20mm</span
                    >}{<span class="textcolor" style="color: #000000">0mm</span
                    >}}<br />
                    <span class="spaces">    </span><span
                      class="textcolor"
                      style="color: #0000b2"
                      ><a
                        href="base-transformations#pgf.back/pgftransformnonlinear"
                        >\pgftransformnonlinear</a
                      ></span
                    >{<span class="textcolor" style="color: #0000b2"
                      ><a
                        href="base-transformations#pgf.back/pgfpointcurvilinearbezierpolar"
                        >\pgfpointcurvilinearbezierpolar</a
                      ></span
                    ><span class="textcolor" style="color: #0000b2"
                      ><a href="base-internalregisters#pgf.back/pgf@x"
                        >\pgf@x</a
                      ></span
                    ><span class="textcolor" style="color: #0000b2"
                      ><a href="base-internalregisters#pgf.back/pgf@y"
                        >\pgf@y</a
                      ></span
                    >}<span class="example-code-comment">%</span><br />
                    <span class="spaces">    </span><span
                      class="textcolor"
                      style="color: #0000b2"
                      ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                    > <span class="textcolor" style="color: #800080"
                      >(0,-30pt)</span
                    > <span class="textcolor" style="color: #000000"
                      ><a href="tikz-paths#pgf.grid">grid</a></span
                    >
                    [<span class="textcolor" style="color: #008000"
                      ><a href="tikz-paths#pgf.step">step</a></span
                    >=<span class="textcolor" style="color: #008000">10pt</span
                    >] <span class="textcolor" style="color: #800080"
                      >(80pt,30pt)</span
                    >;<br />
                    <span class="spaces">    </span><span
                      class="example-code-comment"
                      >% Add a "barb":</span
                    ><br />
                    <span class="spaces">    </span><span
                      class="textcolor"
                      style="color: #0000b2"
                      ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                    > [<span class="textcolor" style="color: #008000"
                      >blue</span
                    >, <span class="textcolor" style="color: #008000"
                      ><a href="tikz-actions#pgf.very:thick"
                        >very thick</a
                      ></span
                    >] <span class="textcolor" style="color: #800080"
                      >(20pt,10pt)</span
                    > <span class="textcolor" style="color: #000000"
                      ><a href="tikz-paths#pgf.--">--</a></span
                    >
                    <span class="textcolor" style="color: #800080">(0,0)</span
                    > <span class="textcolor" style="color: #000000"
                      ><a href="tikz-paths#pgf.--">--</a></span
                    >
                    <span class="textcolor" style="color: #800080"
                      >(20pt,-10pt)</span
                    >;<br />
                    <span class="spaces">  </span>}<br />
                    <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                      ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                    >[<span class="textcolor" style="color: #008000">red</span
                    >, <span class="textcolor" style="color: #008000"
                      ><a href="tikz-actions#pgf.very:thick"
                        >very thick</a
                      ></span
                    >]<br />
                    <span class="spaces">    </span><span
                      class="textcolor"
                      style="color: #800080"
                      >(0mm,20mm)</span
                    ><span class="spaces"> </span>..<span class="spaces"> </span><span
                      class="textcolor"
                      style="color: #000000"
                      ><a href="library-edges#pgf.controls">controls</a></span
                    >
                    <span class="textcolor" style="color: #800080"
                      >(11mm,20mm)</span
                    > <span class="textcolor" style="color: #000000"
                      ><a href="pgfkeys#pgf.and">and</a></span
                    >
                    <span class="textcolor" style="color: #800080"
                      >(20mm,11mm)</span
                    ><span class="spaces"> </span>..<span class="spaces"> </span><span
                      class="textcolor"
                      style="color: #800080"
                      >(20mm,0mm)</span
                    >;<br />
                    <span class="textcolor" style="color: #000000">\end</span
                    >{<span class="textcolor" style="color: #0000b2"
                      ><a href="tikz-scopes#pgf.tikzpicture"
                        >tikzpicture</a
                      ></span
                    >}<br />
                  </code>
                </div>
              </figure>

              <figure class="example">
                <div class="example-image">
                  <p>
                    <span
                      class="lateximagesource"
                      id="lateximage-pgfmanual-3340"
                      ><!--
--><img
                        alt="(-tikz-&nbsp;diagram)"
                        class="lateximage"
                        height="109.658"
                        loading="lazy"
                        src="pgfmanual-images/image-3340.png"
                        style
                        width="128.772"
                    /></span>
                  </p>
                </div>

                <div class="example-code">
                  <button class="clipboardButton" type="button">copy</button>
                  <code>
                    <span class="codepreamble"
                      >\usepgfmodule {nonlineartransformations} \usetikzlibrary
                      {curvilinear} </span
                    ><br />
                    <span class="textcolor" style="color: #000000">\begin</span
                    >{<span class="textcolor" style="color: #0000b2"
                      ><a href="tikz-scopes#pgf.tikzpicture"
                        >tikzpicture</a
                      ></span
                    >}<br />
                    <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                      ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                    > [<span class="textcolor" style="color: #008000"
                      ><a href="tikz-paths#pgf.help:lines">help lines</a></span
                    >] <span class="textcolor" style="color: #800080"
                      >(0,0)</span
                    > <span class="textcolor" style="color: #000000"
                      ><a href="tikz-paths#pgf.grid">grid</a></span
                    >
                    <span class="textcolor" style="color: #800080">(3,2)</span
                    >;<br />
                    <span class="spaces">  </span>{<br />
                    <span class="spaces">    </span><span
                      class="textcolor"
                      style="color: #0000b2"
                      ><a
                        href="base-transformations#pgf.back/pgfsetcurvilinearbeziercurve"
                        >\pgfsetcurvilinearbeziercurve</a
                      ></span
                    ><br />
                    <span class="spaces">      </span>{<span
                      class="textcolor"
                      style="color: #0000b2"
                      ><a href="base-points#pgf.back/pgfpoint"
                        >\pgfpoint</a
                      ></span
                    >{<span class="textcolor" style="color: #000000">0mm</span
                    >}{<span class="textcolor" style="color: #000000">20mm</span
                    >}}<br />
                    <span class="spaces">      </span>{<span
                      class="textcolor"
                      style="color: #0000b2"
                      ><a href="base-points#pgf.back/pgfpoint"
                        >\pgfpoint</a
                      ></span
                    >{<span class="textcolor" style="color: #000000">10mm</span
                    >}{<span class="textcolor" style="color: #000000">20mm</span
                    >}}<br />
                    <span class="spaces">      </span>{<span
                      class="textcolor"
                      style="color: #0000b2"
                      ><a href="base-points#pgf.back/pgfpoint"
                        >\pgfpoint</a
                      ></span
                    >{<span class="textcolor" style="color: #000000">10mm</span
                    >}{<span class="textcolor" style="color: #000000">10mm</span
                    >}}<br />
                    <span class="spaces">      </span>{<span
                      class="textcolor"
                      style="color: #0000b2"
                      ><a href="base-points#pgf.back/pgfpoint"
                        >\pgfpoint</a
                      ></span
                    >{<span class="textcolor" style="color: #000000">20mm</span
                    >}{<span class="textcolor" style="color: #000000">10mm</span
                    >}}<br />
                    <span class="spaces">    </span><span
                      class="textcolor"
                      style="color: #0000b2"
                      ><a
                        href="base-transformations#pgf.back/pgftransformnonlinear"
                        >\pgftransformnonlinear</a
                      ></span
                    >{<span class="textcolor" style="color: #0000b2"
                      ><a
                        href="base-transformations#pgf.back/pgfpointcurvilinearbezierpolar"
                        >\pgfpointcurvilinearbezierpolar</a
                      ></span
                    ><span class="textcolor" style="color: #0000b2"
                      ><a href="base-internalregisters#pgf.back/pgf@x"
                        >\pgf@x</a
                      ></span
                    ><span class="textcolor" style="color: #0000b2"
                      ><a href="base-internalregisters#pgf.back/pgf@y"
                        >\pgf@y</a
                      ></span
                    >}<span class="example-code-comment">%</span><br />
                    <span class="spaces">    </span><span
                      class="textcolor"
                      style="color: #0000b2"
                      ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                    > <span class="textcolor" style="color: #800080"
                      >(0,-30pt)</span
                    > <span class="textcolor" style="color: #000000"
                      ><a href="tikz-paths#pgf.grid">grid</a></span
                    >
                    [<span class="textcolor" style="color: #008000"
                      ><a href="tikz-paths#pgf.step">step</a></span
                    >=<span class="textcolor" style="color: #008000">10pt</span
                    >] <span class="textcolor" style="color: #800080"
                      >(80pt,30pt)</span
                    >;<br />
                    <span class="spaces">    </span><span
                      class="example-code-comment"
                      >% Add a "barb":</span
                    ><br />
                    <span class="spaces">    </span><span
                      class="textcolor"
                      style="color: #0000b2"
                      ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                    > [<span class="textcolor" style="color: #008000"
                      >blue</span
                    >, <span class="textcolor" style="color: #008000"
                      ><a href="tikz-actions#pgf.very:thick"
                        >very thick</a
                      ></span
                    >] <span class="textcolor" style="color: #800080"
                      >(20pt,10pt)</span
                    > <span class="textcolor" style="color: #000000"
                      ><a href="tikz-paths#pgf.--">--</a></span
                    >
                    <span class="textcolor" style="color: #800080">(0,0)</span
                    > <span class="textcolor" style="color: #000000"
                      ><a href="tikz-paths#pgf.--">--</a></span
                    >
                    <span class="textcolor" style="color: #800080"
                      >(20pt,-10pt)</span
                    >;<br />
                    <span class="spaces">  </span>}<br />
                    <span class="spaces">  </span><span class="textcolor" style="color: #0000b2"
                      ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                    >[<span class="textcolor" style="color: #008000">red</span
                    >, <span class="textcolor" style="color: #008000"
                      ><a href="tikz-actions#pgf.very:thick"
                        >very thick</a
                      ></span
                    >]<br />
                    <span class="spaces">    </span><span
                      class="textcolor"
                      style="color: #800080"
                      >(0mm,20mm)</span
                    ><span class="spaces"> </span>..<span class="spaces"> </span><span
                      class="textcolor"
                      style="color: #000000"
                      ><a href="library-edges#pgf.controls">controls</a></span
                    >
                    <span class="textcolor" style="color: #800080"
                      >(10mm,20mm)</span
                    > <span class="textcolor" style="color: #000000"
                      ><a href="pgfkeys#pgf.and">and</a></span
                    >
                    <span class="textcolor" style="color: #800080"
                      >(10mm,10mm)</span
                    ><span class="spaces"> </span>..<span class="spaces"> </span><span
                      class="textcolor"
                      style="color: #800080"
                      >(20mm,10mm)</span
                    >;<br />
                    <span class="textcolor" style="color: #000000">\end</span
                    >{<span class="textcolor" style="color: #0000b2"
                      ><a href="tikz-scopes#pgf.tikzpicture"
                        >tikzpicture</a
                      ></span
                    >}<br />
                  </code>
                </div>
              </figure>
            </ul>
          </div>
        </section>
      </main>

      <footer>
        <div class="footer-left">
          <a href="/license">License</a> &middot;
          <a href="https://ctan.org/pkg/pgf">CTAN</a> &middot;
          <a href="https://pgf-tikz.github.io/pgf/pgfmanual.pdf"
            >Official PDF version</a
          >
          &middot;
          <a href="https://github.com/DominikPeters/tikz.dev-issues/issues"
            >Feedback and issues</a
          >
          &middot;
          <a href="https://github.com/DominikPeters/pgf-tikz-html-manual"
            >About this HTML version</a
          >
        </div>
        <div class="footer-right">
          <em>HTML version last updated: 2024-03-21</em>
        </div>
      </footer>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/@docsearch/js@3"></script>
    <script>
      docsearch({
        apiKey: "196e8c10ec187c9ae525dd5226fb9378",
        indexName: "tikz",
        appId: "JS6V5VZSDB",
        container: "#search",
        searchParameters: {
          filters: "tags:tikz",
        },
      });
    </script>
  </body>
</html>
